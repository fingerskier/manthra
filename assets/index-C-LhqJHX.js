var Ww=Object.defineProperty;var eS=(r,n,l)=>n in r?Ww(r,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[n]=l;var Gg=(r,n,l)=>eS(r,typeof n!="symbol"?n+"":n,l);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();var tS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ah={exports:{}},Is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function nS(){if(Xg)return Is;Xg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,s,c){var y=null;if(c!==void 0&&(y=""+c),s.key!==void 0&&(y=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:r,type:a,key:y,ref:s!==void 0?s:null,props:c}}return Is.Fragment=n,Is.jsx=l,Is.jsxs=l,Is}var Ig;function rS(){return Ig||(Ig=1,Ah.exports=nS()),Ah.exports}var ht=rS(),Oh={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function iS(){if(Qg)return Je;Qg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),y=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function J(R,W,le){this.props=R,this.context=W,this.refs=j,this.updater=le||O}J.prototype.isReactComponent={},J.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},J.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ce(){}ce.prototype=J.prototype;function ue(R,W,le){this.props=R,this.context=W,this.refs=j,this.updater=le||O}var H=ue.prototype=new ce;H.constructor=ue,k(H,J.prototype),H.isPureReactComponent=!0;var he=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function Oe(R,W,le,fe,xe,Le){return le=Le.ref,{$$typeof:r,type:R,key:W,ref:le!==void 0?le:null,props:Le}}function $e(R,W){return Oe(R.type,W,void 0,void 0,void 0,R.props)}function Ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function lt(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(le){return W[le]})}var ge=/\/+/g;function Ue(R,W){return typeof R=="object"&&R!==null&&R.key!=null?lt(""+R.key):W.toString(36)}function Ye(){}function Xe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ye,Ye):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ze(R,W,le,fe,xe){var Le=typeof R;(Le==="undefined"||Le==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(Le){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case r:case n:ke=!0;break;case m:return ke=R._init,ze(ke(R._payload),W,le,fe,xe)}}if(ke)return xe=xe(R),ke=fe===""?"."+Ue(R,0):fe,he(xe)?(le="",ke!=null&&(le=ke.replace(ge,"$&/")+"/"),ze(xe,W,le,"",function(Ee){return Ee})):xe!=null&&(Ne(xe)&&(xe=$e(xe,le+(xe.key==null||R&&R.key===xe.key?"":(""+xe.key).replace(ge,"$&/")+"/")+ke)),W.push(xe)),1;ke=0;var yt=fe===""?".":fe+":";if(he(R))for(var Ie=0;Ie<R.length;Ie++)fe=R[Ie],Le=yt+Ue(fe,Ie),ke+=ze(fe,W,le,Le,xe);else if(Ie=A(R),typeof Ie=="function")for(R=Ie.call(R),Ie=0;!(fe=R.next()).done;)fe=fe.value,Le=yt+Ue(fe,Ie++),ke+=ze(fe,W,le,Le,xe);else if(Le==="object"){if(typeof R.then=="function")return ze(Xe(R),W,le,fe,xe);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function B(R,W,le){if(R==null)return R;var fe=[],xe=0;return ze(R,fe,"","",function(Le){return W.call(le,Le,xe++)}),fe}function te(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(le){(R._status===0||R._status===-1)&&(R._status=1,R._result=le)},function(le){(R._status===0||R._status===-1)&&(R._status=2,R._result=le)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Te(){}return Je.Children={map:B,forEach:function(R,W,le){B(R,function(){W.apply(this,arguments)},le)},count:function(R){var W=0;return B(R,function(){W++}),W},toArray:function(R){return B(R,function(W){return W})||[]},only:function(R){if(!Ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Je.Component=J,Je.Fragment=l,Je.Profiler=s,Je.PureComponent=ue,Je.StrictMode=a,Je.Suspense=b,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return de.H.useMemoCache(R)}},Je.cache=function(R){return function(){return R.apply(null,arguments)}},Je.cloneElement=function(R,W,le){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var fe=k({},R.props),xe=R.key,Le=void 0;if(W!=null)for(ke in W.ref!==void 0&&(Le=void 0),W.key!==void 0&&(xe=""+W.key),W)!we.call(W,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&W.ref===void 0||(fe[ke]=W[ke]);var ke=arguments.length-2;if(ke===1)fe.children=le;else if(1<ke){for(var yt=Array(ke),Ie=0;Ie<ke;Ie++)yt[Ie]=arguments[Ie+2];fe.children=yt}return Oe(R.type,xe,void 0,void 0,Le,fe)},Je.createContext=function(R){return R={$$typeof:y,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Je.createElement=function(R,W,le){var fe,xe={},Le=null;if(W!=null)for(fe in W.key!==void 0&&(Le=""+W.key),W)we.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=W[fe]);var ke=arguments.length-2;if(ke===1)xe.children=le;else if(1<ke){for(var yt=Array(ke),Ie=0;Ie<ke;Ie++)yt[Ie]=arguments[Ie+2];xe.children=yt}if(R&&R.defaultProps)for(fe in ke=R.defaultProps,ke)xe[fe]===void 0&&(xe[fe]=ke[fe]);return Oe(R,Le,void 0,void 0,null,xe)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(R){return{$$typeof:p,render:R}},Je.isValidElement=Ne,Je.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:te}},Je.memo=function(R,W){return{$$typeof:v,type:R,compare:W===void 0?null:W}},Je.startTransition=function(R){var W=de.T,le={};de.T=le;try{var fe=R(),xe=de.S;xe!==null&&xe(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Te,oe)}catch(Le){oe(Le)}finally{de.T=W}},Je.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Je.use=function(R){return de.H.use(R)},Je.useActionState=function(R,W,le){return de.H.useActionState(R,W,le)},Je.useCallback=function(R,W){return de.H.useCallback(R,W)},Je.useContext=function(R){return de.H.useContext(R)},Je.useDebugValue=function(){},Je.useDeferredValue=function(R,W){return de.H.useDeferredValue(R,W)},Je.useEffect=function(R,W,le){var fe=de.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(R,W)},Je.useId=function(){return de.H.useId()},Je.useImperativeHandle=function(R,W,le){return de.H.useImperativeHandle(R,W,le)},Je.useInsertionEffect=function(R,W){return de.H.useInsertionEffect(R,W)},Je.useLayoutEffect=function(R,W){return de.H.useLayoutEffect(R,W)},Je.useMemo=function(R,W){return de.H.useMemo(R,W)},Je.useOptimistic=function(R,W){return de.H.useOptimistic(R,W)},Je.useReducer=function(R,W,le){return de.H.useReducer(R,W,le)},Je.useRef=function(R){return de.H.useRef(R)},Je.useState=function(R){return de.H.useState(R)},Je.useSyncExternalStore=function(R,W,le){return de.H.useSyncExternalStore(R,W,le)},Je.useTransition=function(){return de.H.useTransition()},Je.version="19.1.0",Je}var Zg;function xy(){return Zg||(Zg=1,Oh.exports=iS()),Oh.exports}var qn=xy(),Th={exports:{}},Qs={},xh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function lS(){return Jg||(Jg=1,function(r){function n(B,te){var oe=B.length;B.push(te);e:for(;0<oe;){var Te=oe-1>>>1,R=B[Te];if(0<s(R,te))B[Te]=te,B[oe]=R,oe=Te;else break e}}function l(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var te=B[0],oe=B.pop();if(oe!==te){B[0]=oe;e:for(var Te=0,R=B.length,W=R>>>1;Te<W;){var le=2*(Te+1)-1,fe=B[le],xe=le+1,Le=B[xe];if(0>s(fe,oe))xe<R&&0>s(Le,fe)?(B[Te]=Le,B[xe]=oe,Te=xe):(B[Te]=fe,B[le]=oe,Te=le);else if(xe<R&&0>s(Le,oe))B[Te]=Le,B[xe]=oe,Te=xe;else break e}}return te}function s(B,te){var oe=B.sortIndex-te.sortIndex;return oe!==0?oe:B.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var y=Date,p=y.now();r.unstable_now=function(){return y.now()-p}}var b=[],v=[],m=1,w=null,A=3,O=!1,k=!1,j=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function he(B){for(var te=l(v);te!==null;){if(te.callback===null)a(v);else if(te.startTime<=B)a(v),te.sortIndex=te.expirationTime,n(b,te);else break;te=l(v)}}function de(B){if(j=!1,he(B),!k)if(l(b)!==null)k=!0,we||(we=!0,Ue());else{var te=l(v);te!==null&&ze(de,te.startTime-B)}}var we=!1,Oe=-1,$e=5,Ne=-1;function lt(){return J?!0:!(r.unstable_now()-Ne<$e)}function ge(){if(J=!1,we){var B=r.unstable_now();Ne=B;var te=!0;try{e:{k=!1,j&&(j=!1,ue(Oe),Oe=-1),O=!0;var oe=A;try{t:{for(he(B),w=l(b);w!==null&&!(w.expirationTime>B&&lt());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,A=w.priorityLevel;var R=Te(w.expirationTime<=B);if(B=r.unstable_now(),typeof R=="function"){w.callback=R,he(B),te=!0;break t}w===l(b)&&a(b),he(B)}else a(b);w=l(b)}if(w!==null)te=!0;else{var W=l(v);W!==null&&ze(de,W.startTime-B),te=!1}}break e}finally{w=null,A=oe,O=!1}te=void 0}}finally{te?Ue():we=!1}}}var Ue;if(typeof H=="function")Ue=function(){H(ge)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Xe=Ye.port2;Ye.port1.onmessage=ge,Ue=function(){Xe.postMessage(null)}}else Ue=function(){ce(ge,0)};function ze(B,te){Oe=ce(function(){B(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(B){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var oe=A;A=te;try{return B()}finally{A=oe}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=A;A=B;try{return te()}finally{A=oe}},r.unstable_scheduleCallback=function(B,te,oe){var Te=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Te+oe:Te):oe=Te,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=oe+R,B={id:m++,callback:te,priorityLevel:B,startTime:oe,expirationTime:R,sortIndex:-1},oe>Te?(B.sortIndex=oe,n(v,B),l(b)===null&&B===l(v)&&(j?(ue(Oe),Oe=-1):j=!0,ze(de,oe-Te))):(B.sortIndex=R,n(b,B),k||O||(k=!0,we||(we=!0,Ue()))),B},r.unstable_shouldYield=lt,r.unstable_wrapCallback=function(B){var te=A;return function(){var oe=A;A=te;try{return B.apply(this,arguments)}finally{A=oe}}}}(kh)),kh}var $g;function aS(){return $g||($g=1,xh.exports=lS()),xh.exports}var Dh={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function uS(){if(Fg)return En;Fg=1;var r=xy();function n(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)v+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(b,v,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:b,containerInfo:v,implementation:m}}var y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(b,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(b,v,null,m)},En.flushSync=function(b){var v=y.T,m=a.p;try{if(y.T=null,a.p=2,b)return b()}finally{y.T=v,a.p=m,a.d.f()}},En.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(b,v))},En.prefetchDNS=function(b){typeof b=="string"&&a.d.D(b)},En.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var m=v.as,w=p(m,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;m==="style"?a.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):m==="script"&&a.d.X(b,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var m=p(v.as,v.crossOrigin);a.d.M(b,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(b)},En.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var m=v.as,w=p(m,v.crossOrigin);a.d.L(b,m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(b,v){if(typeof b=="string")if(v){var m=p(v.as,v.crossOrigin);a.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(b)},En.requestFormReset=function(b){a.d.r(b)},En.unstable_batchedUpdates=function(b,v){return b(v)},En.useFormState=function(b,v,m){return y.H.useFormState(b,v,m)},En.useFormStatus=function(){return y.H.useHostTransitionStatus()},En.version="19.1.0",En}var Pg;function sS(){if(Pg)return Dh.exports;Pg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Dh.exports=uS(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function oS(){if(Wg)return Qs;Wg=1;var r=aS(),n=xy(),l=sS();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function b(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,u=t;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){i=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return p(f),e;if(h===u)return p(f),t;h=h.sibling}throw Error(a(188))}if(i.return!==u.return)i=f,u=h;else{for(var E=!1,x=f.child;x;){if(x===i){E=!0,i=f,u=h;break}if(x===u){E=!0,u=f,i=h;break}x=x.sibling}if(!E){for(x=h.child;x;){if(x===i){E=!0,i=h,u=f;break}if(x===u){E=!0,u=h,i=f;break}x=x.sibling}if(!E)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),H=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case J:return"Profiler";case j:return"StrictMode";case de:return"Suspense";case we:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case H:return(e.displayName||"Context")+".Provider";case ue:return(e._context.displayName||"Context")+".Consumer";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oe:return t=e.displayName||null,t!==null?t:Xe(e.type)||"Memo";case $e:t=e._payload,e=e._init;try{return Xe(e(t))}catch{}}return null}var ze=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Te=[],R=-1;function W(e){return{current:e}}function le(e){0>R||(e.current=Te[R],Te[R]=null,R--)}function fe(e,t){R++,Te[R]=e.current,e.current=t}var xe=W(null),Le=W(null),ke=W(null),yt=W(null);function Ie(e,t){switch(fe(ke,t),fe(Le,e),fe(xe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mg(t),e=bg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(xe),fe(xe,e)}function Ee(){le(xe),le(Le),le(ke)}function gt(e){e.memoizedState!==null&&fe(yt,e);var t=xe.current,i=bg(t,e.type);t!==i&&(fe(Le,e),fe(xe,i))}function Ct(e){Le.current===e&&(le(xe),le(Le)),yt.current===e&&(le(yt),Ks._currentValue=oe)}var Be=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,at=r.unstable_cancelCallback,pt=r.unstable_shouldYield,xn=r.unstable_requestPaint,ln=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,kn=r.unstable_NormalPriority,xo=r.unstable_LowPriority,Bi=r.unstable_IdlePriority,ko=r.log,Ml=r.unstable_setDisableYieldValue,Yn=null,Ht=null;function ur(e){if(typeof ko=="function"&&Ml(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,e)}catch{}}var Jt=Math.clz32?Math.clz32:Pr,Nu=Math.log,_a=Math.LN2;function Pr(e){return e>>>=0,e===0?32:31-(Nu(e)/_a|0)|0}var Wr=256,Li=4194304;function bn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Re(e,t,i){var u=e.pendingLanes;if(u===0)return 0;var f=0,h=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var x=u&134217727;return x!==0?(u=x&~h,u!==0?f=bn(u):(E&=x,E!==0?f=bn(E):i||(i=x&~e,i!==0&&(f=bn(i))))):(x=u&~h,x!==0?f=bn(x):E!==0?f=bn(E):i||(i=u&~e,i!==0&&(f=bn(i)))),f===0?0:t!==0&&t!==f&&(t&h)===0&&(h=f&-f,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:f}function Ar(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ei(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function Ae(){var e=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),e}function Nl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function qi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zu(e,t,i,u,f,h){var E=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var x=e.entanglements,M=e.expirationTimes,$=e.hiddenUpdates;for(i=E&~i;0<i;){var ie=31-Jt(i),se=1<<ie;x[ie]=0,M[ie]=-1;var F=$[ie];if(F!==null)for($[ie]=null,ie=0;ie<F.length;ie++){var P=F[ie];P!==null&&(P.lane&=-536870913)}i&=~se}u!==0&&Bu(e,u,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(E&~t))}function Bu(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-Jt(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|i&4194090}function wa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var u=31-Jt(i),f=1<<u;f&t|e[u]&t&&(e[u]|=t),i&=~f}}function Lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ti(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Lg(e.type))}function Hi(e,t){var i=te.p;try{return te.p=e,t()}finally{te.p=i}}var sr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+sr,We="__reactProps$"+sr,Rt="__reactContainer$"+sr,Hu="__reactEvents$"+sr,Sa="__reactListeners$"+sr,Ea="__reactHandles$"+sr,zl="__reactResources$"+sr,Bl="__reactMarker$"+sr;function or(e){delete e[Kt],delete e[We],delete e[Hu],delete e[Sa],delete e[Ea]}function Vn(e){var t=e[Kt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Rt]||i[Kt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Eg(e);e!==null;){if(i=e[Kt])return i;e=Eg(e)}return t}e=i,i=e.parentNode}return null}function Dn(e){if(e=e[Kt]||e[Rt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ur(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ki(e){var t=e[zl];return t||(t=e[zl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[Bl]=!0}var Ku=new Set,Mr={};function jr(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Mr[e]=t,e=0;e<t.length;e++)Ku.add(t[e])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},cr={};function Do(e){return Be.call(cr,e)?!0:Be.call(zr,e)?!1:jt.test(e)?cr[e]=!0:(zr[e]=!0,!1)}function Or(e,t,i){if(Do(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ni(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Gn(e,t,i,u){if(u===null)e.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+u)}}var Ll,Br;function ri(e){if(Ll===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||"",Br=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ll+e+Br}var Yi=!1;function Aa(e,t){if(!e||Yi)return"";Yi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(P){var F=P}Reflect.construct(e,[],se)}else{try{se.call()}catch(P){F=P}e.call(se.prototype)}}else{try{throw Error()}catch(P){F=P}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(P){if(P&&F&&typeof P.stack=="string")return[P.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),E=h[0],x=h[1];if(E&&x){var M=E.split(`
`),$=x.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===$.length)for(u=M.length-1,f=$.length-1;1<=u&&0<=f&&M[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==$[f]){var ie=`
`+M[u].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=u&&0<=f);break}}}finally{Yi=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ri(i):""}function nt(e){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Aa(e.type,!1);case 11:return Aa(e.type.render,!1);case 1:return Aa(e.type,!0);case 31:return ri("Activity");default:return""}}function Yu(e){try{var t="";do t+=nt(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ql(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Co(e){var t=ql(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,h.call(this,E)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vt(e){e._valueTracker||(e._valueTracker=Co(e))}function Vi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),u="";return e&&(u=ql(e)?e.checked?"true":"false":e.value),e=u,e!==i?(t.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gi=/[\n"\\]/g;function _n(e){return e.replace(Gi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hl(e,t,i,u,f,h,E,x){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?Oa(e,E,Cn(t)):i!=null?Oa(e,E,Cn(i)):u!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Cn(x):e.removeAttribute("name")}function Kl(e,t,i,u,f,h,E,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;i=i!=null?""+Cn(i):"",t=t!=null?""+Cn(t):i,x||t===e.value||(e.value=t),e.defaultValue=t}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=x?e.checked:!!u,e.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Oa(e,t,i){t==="number"&&Lr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Tr(e,t,i,u){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Cn(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Vu(e,t,i){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Cn(i):""}function Xi(e,t,i,u){if(t==null){if(u!=null){if(i!=null)throw Error(a(92));if(ze(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),t=i}i=Cn(t),e.defaultValue=i,u=e.textContent,u===i&&u!==""&&u!==null&&(e.value=u)}function ii(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ut(e,t,i){var u=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,i):typeof i!="number"||i===0||Lf.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Gu(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in t)u=t[f],t.hasOwnProperty(f)&&i[f]!==u&&ut(e,f,u)}else for(var h in t)t.hasOwnProperty(h)&&ut(e,h,t[h])}function Xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return Rn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ii=null;function fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var li=null,ai=null;function Yt(e){var t=Dn(e);if(t&&(e=t.stateNode)){var i=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hl(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var u=i[t];if(u!==e&&u.form===e.form){var f=u[We]||null;if(!f)throw Error(a(90));Hl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)u=i[t],u.form===e.form&&Vi(u)}break e;case"textarea":Vu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Tr(e,!!i.multiple,t,!1)}}}var jn=!1;function Qi(e,t,i){if(jn)return e(t,i);jn=!0;try{var u=e(t);return u}finally{if(jn=!1,(li!==null||ai!==null)&&(bc(),li&&(t=li,e=ai,ai=li=null,Yt(t),e)))for(t=0;t<e.length;t++)Yt(e[t])}}function kr(e,t){var i=e.stateNode;if(i===null)return null;var u=i[We]||null;if(u===null)return null;i=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Xn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{dr=!1}var $t=null,Vl=null,Gl=null;function Ta(){if(Gl)return Gl;var e,t=Vl,i=t.length,u,f="value"in $t?$t.value:$t.textContent,h=f.length;for(e=0;e<i&&t[e]===f[e];e++);var E=i-e;for(u=1;u<=E&&t[i-u]===f[h-u];u++);return Gl=f.slice(e,1<u?1-u:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Iu(){return!1}function wn(e){function t(i,u,f,h,E){this._reactName=i,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=E,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zi:Iu,this.isPropagationStopped=Iu,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=wn(In),Xl=m({},In,{view:0,detail:0}),ka=wn(Xl),Ji,Il,Ql,Da=m({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Ji=e.screenX-Ql.screenX,Il=e.screenY-Ql.screenY):Il=Ji=0,Ql=e),Ji)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),Ro=wn(Da),Qu=m({},Da,{dataTransfer:0}),Zu=wn(Qu),Uo=m({},Xl,{relatedTarget:0}),$i=wn(Uo),Ca=m({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=wn(Ca),Mo=m({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hf=wn(Mo),Fi=m({},In,{data:0}),Ua=wn(Fi),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function an(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fu[e])?!!t[e]:!1}function ui(){return an}var Zl=m({},Xl,{key:function(e){if(e.key){var t=Ju[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jo=wn(Zl),Ma=m({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=wn(Ma),No=m({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),ja=wn(No),Wu=m({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),si=wn(Wu),es=m({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=wn(es),Na=m({},In,{newState:0,oldState:0}),ns=wn(Na),zo=[9,13,27,32],rs=Xn&&"CompositionEvent"in window,oi=null;Xn&&"documentMode"in document&&(oi=document.documentMode);var za=Xn&&"TextEvent"in window&&!oi,Bo=Xn&&(!rs||oi&&8<oi&&11>=oi),Ba=" ",La=!1;function Lo(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function qo(e,t){switch(e){case"compositionend":return is(t);case"keypress":return t.which!==32?null:(La=!0,Ba);case"textInput":return e=t.data,e===Ba&&La?null:e;default:return null}}function Ho(e,t){if(Pi)return e==="compositionend"||!rs&&Lo(e,t)?(e=Ta(),Gl=Vl=$t=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bo&&t.locale!=="ko"?null:t.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kf[e.type]:t==="textarea"}function qa(e,t,i,u){li?ai?ai.push(u):ai=[u]:li=u,t=Oc(t,"onChange"),0<t.length&&(i=new xa("onChange","change",null,i,u),e.push({event:i,listeners:t}))}var Wi=null,el=null;function Yf(e){hg(e,0)}function Ha(e){var t=Ur(e);if(Vi(t))return e}function Ko(e,t){if(e==="change")return t}var Jl=!1;if(Xn){var Qn;if(Xn){var Ut="oninput"in document;if(!Ut){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Ut=typeof $l.oninput=="function"}Qn=Ut}else Qn=!1;Jl=Qn&&(!document.documentMode||9<document.documentMode)}function Un(){Wi&&(Wi.detachEvent("onpropertychange",Yo),el=Wi=null)}function Yo(e){if(e.propertyName==="value"&&Ha(el)){var t=[];qa(t,el,e,fr(e)),Qi(Yf,t)}}function as(e,t,i){e==="focusin"?(Un(),Wi=t,el=i,Wi.attachEvent("onpropertychange",Yo)):e==="focusout"&&Un()}function Vo(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(el)}function ci(e,t){if(e==="click")return Ha(t)}function us(e,t){if(e==="input"||e==="change")return Ha(t)}function tl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:tl;function nl(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var f=i[u];if(!Be.call(t,f)||!Bt(e[f],t[f]))return!1}return!0}function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d(e,t){var i=o(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=t&&u>=t)return{node:i,offset:t-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=o(i)}}function g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Lr(e.document)}return t}function S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Xn&&"documentMode"in document&&11>=document.documentMode,D=null,C=null,N=null,q=!1;function V(e,t,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;q||D==null||D!==Lr(u)||(u=D,"selectionStart"in u&&S(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),N&&nl(N,u)||(N=u,u=Oc(C,"onSelect"),0<u.length&&(t=new xa("onSelect","select",null,t,i),e.push({event:t,listeners:u}),t.target=D)))}function U(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var G={animationend:U("Animation","AnimationEnd"),animationiteration:U("Animation","AnimationIteration"),animationstart:U("Animation","AnimationStart"),transitionrun:U("Transition","TransitionRun"),transitionstart:U("Transition","TransitionStart"),transitioncancel:U("Transition","TransitionCancel"),transitionend:U("Transition","TransitionEnd")},z={},K={};Xn&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);function Y(e){if(z[e])return z[e];if(!G[e])return e;var t=G[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in K)return z[e]=t[i];return e}var X=Y("animationend"),Q=Y("animationiteration"),ee=Y("animationstart"),ne=Y("transitionrun"),re=Y("transitionstart"),ye=Y("transitioncancel"),be=Y("transitionend"),pe=new Map,ve="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ve.push("scrollEnd");function me(e,t){pe.set(e,t),jr(t,[e])}var Se=new WeakMap;function _e(e,t){if(typeof e=="object"&&e!==null){var i=Se.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Yu(t)},Se.set(e,t),t)}return{value:e,source:t,stack:Yu(t)}}var je=[],Ze=0,Ve=0;function Tt(){for(var e=Ze,t=Ve=Ze=0;t<e;){var i=je[t];je[t++]=null;var u=je[t];je[t++]=null;var f=je[t];je[t++]=null;var h=je[t];if(je[t++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}h!==0&&Fl(i,f,h)}}function He(e,t,i,u){je[Ze++]=e,je[Ze++]=t,je[Ze++]=i,je[Ze++]=u,Ve|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Xt(e,t,i,u){return He(e,t,i,u),It(e)}function Nt(e,t){return He(e,null,null,t),It(e)}function Fl(e,t,i){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,u=h.alternate,u!==null&&(u.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&t!==null&&(f=31-Jt(i),e=h.hiddenUpdates,u=e[f],u===null?e[f]=[t]:u.push(t),t.lane=i|536870912),h):null}function It(e){if(50<Ms)throw Ms=0,Zd=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nn={};function ss(e,t,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(e,t,i,u){return new ss(e,t,i,u)}function Vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fi(e,t){var i=e.alternate;return i===null?(i=Zn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Py(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Go(e,t,i,u,f,h){var E=0;if(u=e,typeof e=="function")Vf(e)&&(E=1);else if(typeof e=="string")E=Hw(e,i,xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=Zn(31,i,t,f),e.elementType=Ne,e.lanes=h,e;case k:return Pl(i.children,f,h,t);case j:E=8,f|=24;break;case J:return e=Zn(12,i,t,f|2),e.elementType=J,e.lanes=h,e;case de:return e=Zn(13,i,t,f),e.elementType=de,e.lanes=h,e;case we:return e=Zn(19,i,t,f),e.elementType=we,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:case H:E=10;break e;case ue:E=9;break e;case he:E=11;break e;case Oe:E=14;break e;case $e:E=16,u=null;break e}E=29,i=Error(a(130,e===null?"null":typeof e,"")),u=null}return t=Zn(E,i,t,f),t.elementType=e,t.type=u,t.lanes=h,t}function Pl(e,t,i,u){return e=Zn(7,e,u,t),e.lanes=i,e}function Gf(e,t,i){return e=Zn(6,e,null,t),e.lanes=i,e}function Xf(e,t,i){return t=Zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=[],Ya=0,Xo=null,Io=0,hr=[],yr=0,Wl=null,di=1,hi="";function ea(e,t){Ka[Ya++]=Io,Ka[Ya++]=Xo,Xo=e,Io=t}function Wy(e,t,i){hr[yr++]=di,hr[yr++]=hi,hr[yr++]=Wl,Wl=e;var u=di;e=hi;var f=32-Jt(u)-1;u&=~(1<<f),i+=1;var h=32-Jt(t)+f;if(30<h){var E=f-f%5;h=(u&(1<<E)-1).toString(32),u>>=E,f-=E,di=1<<32-Jt(t)+f|i<<f|u,hi=h+e}else di=1<<h|i<<f|u,hi=e}function If(e){e.return!==null&&(ea(e,1),Wy(e,1,0))}function Qf(e){for(;e===Xo;)Xo=Ka[--Ya],Ka[Ya]=null,Io=Ka[--Ya],Ka[Ya]=null;for(;e===Wl;)Wl=hr[--yr],hr[yr]=null,hi=hr[--yr],hr[yr]=null,di=hr[--yr],hr[yr]=null}var Mn=null,Lt=null,dt=!1,ta=null,Hr=!1,Zf=Error(a(519));function na(e){var t=Error(a(418,""));throw fs(_e(t,e)),Zf}function ep(e){var t=e.stateNode,i=e.type,u=e.memoizedProps;switch(t[Kt]=e,t[We]=u,i){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(i=0;i<Ns.length;i++)it(Ns[i],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),Kl(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),vt(t);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),Xi(t,u.value,u.defaultValue,u.children),vt(t)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||u.suppressHydrationWarning===!0||gg(t.textContent,i)?(u.popover!=null&&(it("beforetoggle",t),it("toggle",t)),u.onScroll!=null&&it("scroll",t),u.onScrollEnd!=null&&it("scrollend",t),u.onClick!=null&&(t.onclick=Tc),t=!0):t=!1,t||na(e)}function tp(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Mn=Mn.return}}function os(e){if(e!==Mn)return!1;if(!dt)return tp(e),dt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ch(e.type,e.memoizedProps)),i=!i),i&&Lt&&na(e),tp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Lt=Cr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Lt=null}}else t===27?(t=Lt,ml(e.type)?(e=yh,yh=null,Lt=e):Lt=t):Lt=Mn?Cr(e.stateNode.nextSibling):null;return!0}function cs(){Lt=Mn=null,dt=!1}function np(){var e=ta;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),ta=null),e}function fs(e){ta===null?ta=[e]:ta.push(e)}var Jf=W(null),ra=null,yi=null;function rl(e,t,i){fe(Jf,t._currentValue),t._currentValue=i}function pi(e){e._currentValue=Jf.current,le(Jf)}function $f(e,t,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===i)break;e=e.return}}function Ff(e,t,i,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var E=f.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=f;for(var M=0;M<t.length;M++)if(x.context===t[M]){h.lanes|=i,x=h.alternate,x!==null&&(x.lanes|=i),$f(h.return,i,e),u||(E=null);break e}h=x.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=i,h=E.alternate,h!==null&&(h.lanes|=i),$f(E,i,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ds(e,t,i,u){e=null;for(var f=t,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var x=f.type;Bt(f.pendingProps.value,E.value)||(e!==null?e.push(x):e=[x])}}else if(f===yt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ks):e=[Ks])}f=f.return}e!==null&&Ff(t,e,i,u),t.flags|=262144}function Qo(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){ra=e,yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return rp(ra,e)}function Zo(e,t){return ra===null&&ia(e),rp(e,t)}function rp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},yi===null){if(e===null)throw Error(a(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return i}var q_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},H_=r.unstable_scheduleCallback,K_=r.unstable_NormalPriority,Ft={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new q_,data:new Map,refCount:0}}function hs(e){e.refCount--,e.refCount===0&&H_(K_,function(){e.controller.abort()})}var ys=null,Wf=0,Va=0,Ga=null;function Y_(e,t){if(ys===null){var i=ys=[];Wf=0,Va=th(),Ga={status:"pending",value:void 0,then:function(u){i.push(u)}}}return Wf++,t.then(ip,ip),t}function ip(){if(--Wf===0&&ys!==null){Ga!==null&&(Ga.status="fulfilled");var e=ys;ys=null,Va=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function V_(e,t){var i=[],u={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(u.status="rejected",u.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),u}var lp=B.S;B.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Y_(e,t),lp!==null&&lp(e,t)};var la=W(null);function ed(){var e=la.current;return e!==null?e:Dt.pooledCache}function Jo(e,t){t===null?fe(la,la.current):fe(la,t.pool)}function ap(){var e=ed();return e===null?null:{parent:Ft._currentValue,pool:e}}var ps=Error(a(460)),up=Error(a(474)),$o=Error(a(542)),td={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fo(){}function op(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Fo,Fo),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fp(e),e;default:if(typeof t.status=="string")t.then(Fo,Fo);else{if(e=Dt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=u}},function(u){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fp(e),e}throw vs=t,ps}}var vs=null;function cp(){if(vs===null)throw Error(a(459));var e=vs;return vs=null,e}function fp(e){if(e===ps||e===$o)throw Error(a(483))}var il=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function al(e,t,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),u.pending=t,t=It(e),Fl(e,null,i),t}return He(e,u,t,i),It(e)}function gs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,wa(e,i)}}function id(e,t){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var E={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=E:h=h.next=E,i=i.next}while(i!==null);h===null?f=h=t:h=h.next=t}else f=h=t;i={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ld=!1;function ms(){if(ld){var e=Ga;if(e!==null)throw e}}function bs(e,t,i,u){ld=!1;var f=e.updateQueue;il=!1;var h=f.firstBaseUpdate,E=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var M=x,$=M.next;M.next=null,E===null?h=$:E.next=$,E=M;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==E&&(x===null?ie.firstBaseUpdate=$:x.next=$,ie.lastBaseUpdate=M))}if(h!==null){var se=f.baseState;E=0,ie=$=M=null,x=h;do{var F=x.lane&-536870913,P=F!==x.lane;if(P?(st&F)===F:(u&F)===F){F!==0&&F===Va&&(ld=!0),ie!==null&&(ie=ie.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ge=e,qe=x;F=t;var Et=i;switch(qe.tag){case 1:if(Ge=qe.payload,typeof Ge=="function"){se=Ge.call(Et,se,F);break e}se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=qe.payload,F=typeof Ge=="function"?Ge.call(Et,se,F):Ge,F==null)break e;se=m({},se,F);break e;case 2:il=!0}}F=x.callback,F!==null&&(e.flags|=64,P&&(e.flags|=8192),P=f.callbacks,P===null?f.callbacks=[F]:P.push(F))}else P={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?($=ie=P,M=se):ie=ie.next=P,E|=F;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;P=x,x=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);ie===null&&(M=se),f.baseState=M,f.firstBaseUpdate=$,f.lastBaseUpdate=ie,h===null&&(f.shared.lanes=0),yl|=E,e.lanes=E,e.memoizedState=se}}function dp(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function hp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)dp(i[e],t)}var Xa=W(null),Po=W(0);function yp(e,t){e=Si,fe(Po,e),fe(Xa,t),Si=e|t.baseLanes}function ad(){fe(Po,Si),fe(Xa,Xa.current)}function ud(){Si=Po.current,le(Xa),le(Po)}var ul=0,et=null,wt=null,Qt=null,Wo=!1,Ia=!1,aa=!1,ec=0,_s=0,Qa=null,G_=0;function Vt(){throw Error(a(321))}function sd(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Bt(e[i],t[i]))return!1;return!0}function od(e,t,i,u,f,h){return ul=h,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Fp:Pp,aa=!1,h=i(u,f),aa=!1,Ia&&(h=vp(t,i,u,f)),pp(e),h}function pp(e){B.H=ac;var t=wt!==null&&wt.next!==null;if(ul=0,Qt=wt=et=null,Wo=!1,_s=0,Qa=null,t)throw Error(a(300));e===null||un||(e=e.dependencies,e!==null&&Qo(e)&&(un=!0))}function vp(e,t,i,u){et=e;var f=0;do{if(Ia&&(Qa=null),_s=0,Ia=!1,25<=f)throw Error(a(301));if(f+=1,Qt=wt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=F_,h=t(i,u)}while(Ia);return h}function X_(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ws(t):t,e=e.useState()[0],(wt!==null?wt.memoizedState:null)!==e&&(et.flags|=1024),t}function cd(){var e=ec!==0;return ec=0,e}function fd(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function dd(e){if(Wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wo=!1}ul=0,Qt=wt=et=null,Ia=!1,_s=ec=0,Qa=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?et.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Zt(){if(wt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Qt===null?et.memoizedState:Qt.next;if(t!==null)Qt=t,wt=e;else{if(e===null)throw et.alternate===null?Error(a(467)):Error(a(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Qt===null?et.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ws(e){var t=_s;return _s+=1,Qa===null&&(Qa=[]),e=op(Qa,e,t),t=et,(Qt===null?t.memoizedState:Qt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Fp:Pp),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ws(e);if(e.$$typeof===H)return Sn(e)}throw Error(a(438,String(e)))}function yd(e){var t=null,i=et.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var u=et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=hd(),et.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),u=0;u<e;u++)i[u]=lt;return t.index++,i}function vi(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=Zt();return pd(t,wt,e)}function pd(e,t,i){var u=e.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var f=e.baseQueue,h=u.pending;if(h!==null){if(f!==null){var E=f.next;f.next=h.next,h.next=E}t.baseQueue=f=h,u.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{t=f.next;var x=E=null,M=null,$=t,ie=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(st&se)===se:(ul&se)===se){var F=$.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===Va&&(ie=!0);else if((ul&F)===F){$=$.next,F===Va&&(ie=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(x=M=se,E=h):M=M.next=se,et.lanes|=F,yl|=F;se=$.action,aa&&i(h,se),h=$.hasEagerState?$.eagerState:i(h,se)}else F={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(x=M=F,E=h):M=M.next=F,et.lanes|=se,yl|=se;$=$.next}while($!==null&&$!==t);if(M===null?E=h:M.next=x,!Bt(h,e.memoizedState)&&(un=!0,ie&&(i=Ga,i!==null)))throw i;e.memoizedState=h,e.baseState=E,e.baseQueue=M,u.lastRenderedState=h}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function vd(e){var t=Zt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var u=i.dispatch,f=i.pending,h=t.memoizedState;if(f!==null){i.pending=null;var E=f=f.next;do h=e(h,E.action),E=E.next;while(E!==f);Bt(h,t.memoizedState)||(un=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,u]}function gp(e,t,i){var u=et,f=Zt(),h=dt;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=t();var E=!Bt((wt||f).memoizedState,i);E&&(f.memoizedState=i,un=!0),f=f.queue;var x=_p.bind(null,u,f,e);if(Ss(2048,8,x,[e]),f.getSnapshot!==t||E||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,Za(9,rc(),bp.bind(null,u,f,i,t),null),Dt===null)throw Error(a(349));h||(ul&124)!==0||mp(u,t,i)}return i}function mp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=et.updateQueue,t===null?(t=hd(),et.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function bp(e,t,i,u){t.value=i,t.getSnapshot=u,wp(t)&&Sp(e)}function _p(e,t,i){return i(function(){wp(t)&&Sp(e)})}function wp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Bt(e,i)}catch{return!0}}function Sp(e){var t=Nt(e,2);t!==null&&Wn(t,e,2)}function gd(e){var t=zn();if(typeof e=="function"){var i=e;if(e=i(),aa){ur(!0);try{i()}finally{ur(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t}function Ep(e,t,i,u){return e.baseState=i,pd(e,wt,typeof u=="function"?u:vi)}function I_(e,t,i,u,f){if(lc(e))throw Error(a(485));if(e=t.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){h.listeners.push(E)}};B.T!==null?i(!0):h.isTransition=!1,u(h),i=t.pending,i===null?(h.next=t.pending=h,Ap(t,h)):(h.next=i.next,t.pending=i.next=h)}}function Ap(e,t){var i=t.action,u=t.payload,f=e.state;if(t.isTransition){var h=B.T,E={};B.T=E;try{var x=i(f,u),M=B.S;M!==null&&M(E,x),Op(e,t,x)}catch($){md(e,t,$)}finally{B.T=h}}else try{h=i(f,u),Op(e,t,h)}catch($){md(e,t,$)}}function Op(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Tp(e,t,u)},function(u){return md(e,t,u)}):Tp(e,t,i)}function Tp(e,t,i){t.status="fulfilled",t.value=i,xp(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ap(e,i)))}function md(e,t,i){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=i,xp(t),t=t.next;while(t!==u)}e.action=null}function xp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kp(e,t){return t}function Dp(e,t){if(dt){var i=Dt.formState;if(i!==null){e:{var u=et;if(dt){if(Lt){t:{for(var f=Lt,h=Hr;f.nodeType!==8;){if(!h){f=null;break t}if(f=Cr(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Lt=Cr(f.nextSibling),u=f.data==="F!";break e}}na(u)}u=!1}u&&(t=i[0])}}return i=zn(),i.memoizedState=i.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:t},i.queue=u,i=Zp.bind(null,et,u),u.dispatch=i,u=gd(!1),h=Ed.bind(null,et,!1,u.queue),u=zn(),f={state:t,dispatch:null,action:e,pending:null},u.queue=f,i=I_.bind(null,et,f,h,i),f.dispatch=i,u.memoizedState=e,[t,i,!1]}function Cp(e){var t=Zt();return Rp(t,wt,e)}function Rp(e,t,i){if(t=pd(e,t,kp)[0],e=nc(vi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=ws(t)}catch(E){throw E===ps?$o:E}else u=t;t=Zt();var f=t.queue,h=f.dispatch;return i!==t.memoizedState&&(et.flags|=2048,Za(9,rc(),Q_.bind(null,f,i),null)),[u,h,e]}function Q_(e,t){e.action=t}function Up(e){var t=Zt(),i=wt;if(i!==null)return Rp(t,i,e);Zt(),t=t.memoizedState,i=Zt();var u=i.queue.dispatch;return i.memoizedState=e,[t,u,!1]}function Za(e,t,i,u){return e={tag:e,create:i,deps:u,inst:t,next:null},t=et.updateQueue,t===null&&(t=hd(),et.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,t.lastEffect=e),e}function rc(){return{destroy:void 0,resource:void 0}}function Mp(){return Zt().memoizedState}function ic(e,t,i,u){var f=zn();u=u===void 0?null:u,et.flags|=e,f.memoizedState=Za(1|t,rc(),i,u)}function Ss(e,t,i,u){var f=Zt();u=u===void 0?null:u;var h=f.memoizedState.inst;wt!==null&&u!==null&&sd(u,wt.memoizedState.deps)?f.memoizedState=Za(t,h,i,u):(et.flags|=e,f.memoizedState=Za(1|t,h,i,u))}function jp(e,t){ic(8390656,8,e,t)}function Np(e,t){Ss(2048,8,e,t)}function zp(e,t){return Ss(4,2,e,t)}function Bp(e,t){return Ss(4,4,e,t)}function Lp(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qp(e,t,i){i=i!=null?i.concat([e]):null,Ss(4,4,Lp.bind(null,t,e),i)}function bd(){}function Hp(e,t){var i=Zt();t=t===void 0?null:t;var u=i.memoizedState;return t!==null&&sd(t,u[1])?u[0]:(i.memoizedState=[e,t],e)}function Kp(e,t){var i=Zt();t=t===void 0?null:t;var u=i.memoizedState;if(t!==null&&sd(t,u[1]))return u[0];if(u=e(),aa){ur(!0);try{e()}finally{ur(!1)}}return i.memoizedState=[u,t],u}function _d(e,t,i){return i===void 0||(ul&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Gv(),et.lanes|=e,yl|=e,i)}function Yp(e,t,i,u){return Bt(i,t)?i:Xa.current!==null?(e=_d(e,i,u),Bt(e,t)||(un=!0),e):(ul&42)===0?(un=!0,e.memoizedState=i):(e=Gv(),et.lanes|=e,yl|=e,t)}function Vp(e,t,i,u,f){var h=te.p;te.p=h!==0&&8>h?h:8;var E=B.T,x={};B.T=x,Ed(e,!1,t,i);try{var M=f(),$=B.S;if($!==null&&$(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=V_(M,u);Es(e,t,ie,Pn(e))}else Es(e,t,u,Pn(e))}catch(se){Es(e,t,{then:function(){},status:"rejected",reason:se},Pn())}finally{te.p=h,B.T=E}}function Z_(){}function wd(e,t,i,u){if(e.tag!==5)throw Error(a(476));var f=Gp(e).queue;Vp(e,f,t,oe,i===null?Z_:function(){return Xp(e),i(u)})}function Gp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:oe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xp(e){var t=Gp(e).next.queue;Es(e,t,{},Pn())}function Sd(){return Sn(Ks)}function Ip(){return Zt().memoizedState}function Qp(){return Zt().memoizedState}function J_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Pn();e=ll(i);var u=al(t,e,i);u!==null&&(Wn(u,t,i),gs(u,t,i)),t={cache:Pf()},e.payload=t;return}t=t.return}}function $_(e,t,i){var u=Pn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},lc(e)?Jp(t,i):(i=Xt(e,t,i,u),i!==null&&(Wn(i,e,u),$p(i,t,u)))}function Zp(e,t,i){var u=Pn();Es(e,t,i,u)}function Es(e,t,i,u){var f={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(lc(e))Jp(t,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var E=t.lastRenderedState,x=h(E,i);if(f.hasEagerState=!0,f.eagerState=x,Bt(x,E))return He(e,t,f,0),Dt===null&&Tt(),!1}catch{}finally{}if(i=Xt(e,t,f,u),i!==null)return Wn(i,e,u),$p(i,t,u),!0}return!1}function Ed(e,t,i,u){if(u={lane:2,revertLane:th(),action:u,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(t)throw Error(a(479))}else t=Xt(e,i,u,2),t!==null&&Wn(t,e,2)}function lc(e){var t=e.alternate;return e===et||t!==null&&t===et}function Jp(e,t){Ia=Wo=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function $p(e,t,i){if((i&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,wa(e,i)}}var ac={readContext:Sn,use:tc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Fp={readContext:Sn,use:tc,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:jp,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ic(4194308,4,Lp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ic(4194308,4,e,t)},useInsertionEffect:function(e,t){ic(4,2,e,t)},useMemo:function(e,t){var i=zn();t=t===void 0?null:t;var u=e();if(aa){ur(!0);try{e()}finally{ur(!1)}}return i.memoizedState=[u,t],u},useReducer:function(e,t,i){var u=zn();if(i!==void 0){var f=i(t);if(aa){ur(!0);try{i(t)}finally{ur(!1)}}}else f=t;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=$_.bind(null,et,e),[u.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=gd(e);var t=e.queue,i=Zp.bind(null,et,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:bd,useDeferredValue:function(e,t){var i=zn();return _d(i,e,t)},useTransition:function(){var e=gd(!1);return e=Vp.bind(null,et,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var u=et,f=zn();if(dt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Dt===null)throw Error(a(349));(st&124)!==0||mp(u,t,i)}f.memoizedState=i;var h={value:i,getSnapshot:t};return f.queue=h,jp(_p.bind(null,u,h,e),[e]),u.flags|=2048,Za(9,rc(),bp.bind(null,u,h,i,t),null),i},useId:function(){var e=zn(),t=Dt.identifierPrefix;if(dt){var i=hi,u=di;i=(u&~(1<<32-Jt(u)-1)).toString(32)+i,t=""+t+"R"+i,i=ec++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=G_++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Sd,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ed.bind(null,et,!0,i),i.dispatch=t,[e,t]},useMemoCache:yd,useCacheRefresh:function(){return zn().memoizedState=J_.bind(null,et)}},Pp={readContext:Sn,use:tc,useCallback:Hp,useContext:Sn,useEffect:Np,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Kp,useReducer:nc,useRef:Mp,useState:function(){return nc(vi)},useDebugValue:bd,useDeferredValue:function(e,t){var i=Zt();return Yp(i,wt.memoizedState,e,t)},useTransition:function(){var e=nc(vi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:gp,useId:Ip,useHostTransitionStatus:Sd,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,t){var i=Zt();return Ep(i,wt,e,t)},useMemoCache:yd,useCacheRefresh:Qp},F_={readContext:Sn,use:tc,useCallback:Hp,useContext:Sn,useEffect:Np,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Kp,useReducer:vd,useRef:Mp,useState:function(){return vd(vi)},useDebugValue:bd,useDeferredValue:function(e,t){var i=Zt();return wt===null?_d(i,e,t):Yp(i,wt.memoizedState,e,t)},useTransition:function(){var e=vd(vi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:gp,useId:Ip,useHostTransitionStatus:Sd,useFormState:Up,useActionState:Up,useOptimistic:function(e,t){var i=Zt();return wt!==null?Ep(i,wt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:yd,useCacheRefresh:Qp},Ja=null,As=0;function uc(e){var t=As;return As+=1,Ja===null&&(Ja=[]),op(Ja,e,t)}function Os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sc(e,t){throw t.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wp(e){var t=e._init;return t(e._payload)}function ev(e){function t(I,L){if(e){var Z=I.deletions;Z===null?(I.deletions=[L],I.flags|=16):Z.push(L)}}function i(I,L){if(!e)return null;for(;L!==null;)t(I,L),L=L.sibling;return null}function u(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function f(I,L){return I=fi(I,L),I.index=0,I.sibling=null,I}function h(I,L,Z){return I.index=Z,e?(Z=I.alternate,Z!==null?(Z=Z.index,Z<L?(I.flags|=67108866,L):Z):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function E(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function x(I,L,Z,ae){return L===null||L.tag!==6?(L=Gf(Z,I.mode,ae),L.return=I,L):(L=f(L,Z),L.return=I,L)}function M(I,L,Z,ae){var Ce=Z.type;return Ce===k?ie(I,L,Z.props.children,ae,Z.key):L!==null&&(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===$e&&Wp(Ce)===L.type)?(L=f(L,Z.props),Os(L,Z),L.return=I,L):(L=Go(Z.type,Z.key,Z.props,null,I.mode,ae),Os(L,Z),L.return=I,L)}function $(I,L,Z,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==Z.containerInfo||L.stateNode.implementation!==Z.implementation?(L=Xf(Z,I.mode,ae),L.return=I,L):(L=f(L,Z.children||[]),L.return=I,L)}function ie(I,L,Z,ae,Ce){return L===null||L.tag!==7?(L=Pl(Z,I.mode,ae,Ce),L.return=I,L):(L=f(L,Z),L.return=I,L)}function se(I,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gf(""+L,I.mode,Z),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return Z=Go(L.type,L.key,L.props,null,I.mode,Z),Os(Z,L),Z.return=I,Z;case O:return L=Xf(L,I.mode,Z),L.return=I,L;case $e:var ae=L._init;return L=ae(L._payload),se(I,L,Z)}if(ze(L)||Ue(L))return L=Pl(L,I.mode,Z,null),L.return=I,L;if(typeof L.then=="function")return se(I,uc(L),Z);if(L.$$typeof===H)return se(I,Zo(I,L),Z);sc(I,L)}return null}function F(I,L,Z,ae){var Ce=L!==null?L.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:x(I,L,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return Z.key===Ce?M(I,L,Z,ae):null;case O:return Z.key===Ce?$(I,L,Z,ae):null;case $e:return Ce=Z._init,Z=Ce(Z._payload),F(I,L,Z,ae)}if(ze(Z)||Ue(Z))return Ce!==null?null:ie(I,L,Z,ae,null);if(typeof Z.then=="function")return F(I,L,uc(Z),ae);if(Z.$$typeof===H)return F(I,L,Zo(I,Z),ae);sc(I,Z)}return null}function P(I,L,Z,ae,Ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return I=I.get(Z)||null,x(L,I,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return I=I.get(ae.key===null?Z:ae.key)||null,M(L,I,ae,Ce);case O:return I=I.get(ae.key===null?Z:ae.key)||null,$(L,I,ae,Ce);case $e:var tt=ae._init;return ae=tt(ae._payload),P(I,L,Z,ae,Ce)}if(ze(ae)||Ue(ae))return I=I.get(Z)||null,ie(L,I,ae,Ce,null);if(typeof ae.then=="function")return P(I,L,Z,uc(ae),Ce);if(ae.$$typeof===H)return P(I,L,Z,Zo(L,ae),Ce);sc(L,ae)}return null}function Ge(I,L,Z,ae){for(var Ce=null,tt=null,Me=L,Ke=L=0,on=null;Me!==null&&Ke<Z.length;Ke++){Me.index>Ke?(on=Me,Me=null):on=Me.sibling;var ft=F(I,Me,Z[Ke],ae);if(ft===null){Me===null&&(Me=on);break}e&&Me&&ft.alternate===null&&t(I,Me),L=h(ft,L,Ke),tt===null?Ce=ft:tt.sibling=ft,tt=ft,Me=on}if(Ke===Z.length)return i(I,Me),dt&&ea(I,Ke),Ce;if(Me===null){for(;Ke<Z.length;Ke++)Me=se(I,Z[Ke],ae),Me!==null&&(L=h(Me,L,Ke),tt===null?Ce=Me:tt.sibling=Me,tt=Me);return dt&&ea(I,Ke),Ce}for(Me=u(Me);Ke<Z.length;Ke++)on=P(Me,I,Ke,Z[Ke],ae),on!==null&&(e&&on.alternate!==null&&Me.delete(on.key===null?Ke:on.key),L=h(on,L,Ke),tt===null?Ce=on:tt.sibling=on,tt=on);return e&&Me.forEach(function(El){return t(I,El)}),dt&&ea(I,Ke),Ce}function qe(I,L,Z,ae){if(Z==null)throw Error(a(151));for(var Ce=null,tt=null,Me=L,Ke=L=0,on=null,ft=Z.next();Me!==null&&!ft.done;Ke++,ft=Z.next()){Me.index>Ke?(on=Me,Me=null):on=Me.sibling;var El=F(I,Me,ft.value,ae);if(El===null){Me===null&&(Me=on);break}e&&Me&&El.alternate===null&&t(I,Me),L=h(El,L,Ke),tt===null?Ce=El:tt.sibling=El,tt=El,Me=on}if(ft.done)return i(I,Me),dt&&ea(I,Ke),Ce;if(Me===null){for(;!ft.done;Ke++,ft=Z.next())ft=se(I,ft.value,ae),ft!==null&&(L=h(ft,L,Ke),tt===null?Ce=ft:tt.sibling=ft,tt=ft);return dt&&ea(I,Ke),Ce}for(Me=u(Me);!ft.done;Ke++,ft=Z.next())ft=P(Me,I,Ke,ft.value,ae),ft!==null&&(e&&ft.alternate!==null&&Me.delete(ft.key===null?Ke:ft.key),L=h(ft,L,Ke),tt===null?Ce=ft:tt.sibling=ft,tt=ft);return e&&Me.forEach(function(Pw){return t(I,Pw)}),dt&&ea(I,Ke),Ce}function Et(I,L,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:e:{for(var Ce=Z.key;L!==null;){if(L.key===Ce){if(Ce=Z.type,Ce===k){if(L.tag===7){i(I,L.sibling),ae=f(L,Z.props.children),ae.return=I,I=ae;break e}}else if(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===$e&&Wp(Ce)===L.type){i(I,L.sibling),ae=f(L,Z.props),Os(ae,Z),ae.return=I,I=ae;break e}i(I,L);break}else t(I,L);L=L.sibling}Z.type===k?(ae=Pl(Z.props.children,I.mode,ae,Z.key),ae.return=I,I=ae):(ae=Go(Z.type,Z.key,Z.props,null,I.mode,ae),Os(ae,Z),ae.return=I,I=ae)}return E(I);case O:e:{for(Ce=Z.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===Z.containerInfo&&L.stateNode.implementation===Z.implementation){i(I,L.sibling),ae=f(L,Z.children||[]),ae.return=I,I=ae;break e}else{i(I,L);break}else t(I,L);L=L.sibling}ae=Xf(Z,I.mode,ae),ae.return=I,I=ae}return E(I);case $e:return Ce=Z._init,Z=Ce(Z._payload),Et(I,L,Z,ae)}if(ze(Z))return Ge(I,L,Z,ae);if(Ue(Z)){if(Ce=Ue(Z),typeof Ce!="function")throw Error(a(150));return Z=Ce.call(Z),qe(I,L,Z,ae)}if(typeof Z.then=="function")return Et(I,L,uc(Z),ae);if(Z.$$typeof===H)return Et(I,L,Zo(I,Z),ae);sc(I,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,L!==null&&L.tag===6?(i(I,L.sibling),ae=f(L,Z),ae.return=I,I=ae):(i(I,L),ae=Gf(Z,I.mode,ae),ae.return=I,I=ae),E(I)):i(I,L)}return function(I,L,Z,ae){try{As=0;var Ce=Et(I,L,Z,ae);return Ja=null,Ce}catch(Me){if(Me===ps||Me===$o)throw Me;var tt=Zn(29,Me,null,I.mode);return tt.lanes=ae,tt.return=I,tt}finally{}}}var $a=ev(!0),tv=ev(!1),pr=W(null),Kr=null;function sl(e){var t=e.alternate;fe(Pt,Pt.current&1),fe(pr,e),Kr===null&&(t===null||Xa.current!==null||t.memoizedState!==null)&&(Kr=e)}function nv(e){if(e.tag===22){if(fe(Pt,Pt.current),fe(pr,e),Kr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kr=e)}}else ol()}function ol(){fe(Pt,Pt.current),fe(pr,pr.current)}function gi(e){le(pr),Kr===e&&(Kr=null),le(Pt)}var Pt=W(0);function oc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||hh(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ad(e,t,i,u){t=e.memoizedState,i=i(u,t),i=i==null?t:m({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Od={enqueueSetState:function(e,t,i){e=e._reactInternals;var u=Pn(),f=ll(u);f.payload=t,i!=null&&(f.callback=i),t=al(e,f,u),t!==null&&(Wn(t,e,u),gs(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var u=Pn(),f=ll(u);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=al(e,f,u),t!==null&&(Wn(t,e,u),gs(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Pn(),u=ll(i);u.tag=2,t!=null&&(u.callback=t),t=al(e,u,i),t!==null&&(Wn(t,e,i),gs(t,e,i))}};function rv(e,t,i,u,f,h,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,h,E):t.prototype&&t.prototype.isPureReactComponent?!nl(i,u)||!nl(f,h):!0}function iv(e,t,i,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,u),t.state!==e&&Od.enqueueReplaceState(t,t.state,null)}function ua(e,t){var i=t;if("ref"in t){i={};for(var u in t)u!=="ref"&&(i[u]=t[u])}if(e=e.defaultProps){i===t&&(i=m({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}var cc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lv(e){cc(e)}function av(e){console.error(e)}function uv(e){cc(e)}function fc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function sv(e,t,i){try{var u=e.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(e,t,i){return i=ll(i),i.tag=3,i.payload={element:null},i.callback=function(){fc(e,t)},i}function ov(e){return e=ll(e),e.tag=3,e}function cv(e,t,i,u){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=u.value;e.payload=function(){return f(h)},e.callback=function(){sv(t,i,u)}}var E=i.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){sv(t,i,u),typeof f!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function P_(e,t,i,u,f){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=i.alternate,t!==null&&ds(t,i,f,!0),i=pr.current,i!==null){switch(i.tag){case 13:return Kr===null?$d():i.alternate===null&&qt===0&&(qt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,u===td?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([u]):t.add(u),Pd(e,u,f)),!1;case 22:return i.flags|=65536,u===td?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([u]):i.add(u)),Pd(e,u,f)),!1}throw Error(a(435,i.tag))}return Pd(e,u,f),$d(),!1}if(dt)return t=pr.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,u!==Zf&&(e=Error(a(422),{cause:u}),fs(_e(e,i)))):(u!==Zf&&(t=Error(a(423),{cause:u}),fs(_e(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=_e(u,i),f=Td(e.stateNode,u,f),id(e,f),qt!==4&&(qt=2)),!1;var h=Error(a(520),{cause:u});if(h=_e(h,i),Us===null?Us=[h]:Us.push(h),qt!==4&&(qt=2),t===null)return!0;u=_e(u,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Td(i.stateNode,u,e),id(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pl===null||!pl.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=ov(f),cv(f,e,i,u),id(i,f),!1}i=i.return}while(i!==null);return!1}var fv=Error(a(461)),un=!1;function dn(e,t,i,u){t.child=e===null?tv(t,null,i,u):$a(t,e.child,i,u)}function dv(e,t,i,u,f){i=i.render;var h=t.ref;if("ref"in u){var E={};for(var x in u)x!=="ref"&&(E[x]=u[x])}else E=u;return ia(t),u=od(e,t,i,E,h,f),x=cd(),e!==null&&!un?(fd(e,t,f),mi(e,t,f)):(dt&&x&&If(t),t.flags|=1,dn(e,t,u,f),t.child)}function hv(e,t,i,u,f){if(e===null){var h=i.type;return typeof h=="function"&&!Vf(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,yv(e,t,h,u,f)):(e=Go(i.type,null,u,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!jd(e,f)){var E=h.memoizedProps;if(i=i.compare,i=i!==null?i:nl,i(E,u)&&e.ref===t.ref)return mi(e,t,f)}return t.flags|=1,e=fi(h,u),e.ref=t.ref,e.return=t,t.child=e}function yv(e,t,i,u,f){if(e!==null){var h=e.memoizedProps;if(nl(h,u)&&e.ref===t.ref)if(un=!1,t.pendingProps=u=h,jd(e,f))(e.flags&131072)!==0&&(un=!0);else return t.lanes=e.lanes,mi(e,t,f)}return xd(e,t,i,u,f)}function pv(e,t,i){var u=t.pendingProps,f=u.children,h=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((t.flags&128)!==0){if(u=h!==null?h.baseLanes|i:i,e!==null){for(f=t.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;t.childLanes=h&~u}else t.childLanes=0,t.child=null;return vv(e,t,u,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jo(t,h!==null?h.cachePool:null),h!==null?yp(t,h):ad(),nv(t);else return t.lanes=t.childLanes=536870912,vv(e,t,h!==null?h.baseLanes|i:i,i)}else h!==null?(Jo(t,h.cachePool),yp(t,h),ol(),t.memoizedState=null):(e!==null&&Jo(t,null),ad(),ol());return dn(e,t,f,i),t.child}function vv(e,t,i,u){var f=ed();return f=f===null?null:{parent:Ft._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Jo(t,null),ad(),nv(t),e!==null&&ds(e,t,u,!0),null}function dc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function xd(e,t,i,u,f){return ia(t),i=od(e,t,i,u,void 0,f),u=cd(),e!==null&&!un?(fd(e,t,f),mi(e,t,f)):(dt&&u&&If(t),t.flags|=1,dn(e,t,i,f),t.child)}function gv(e,t,i,u,f,h){return ia(t),t.updateQueue=null,i=vp(t,u,i,f),pp(e),u=cd(),e!==null&&!un?(fd(e,t,h),mi(e,t,h)):(dt&&u&&If(t),t.flags|=1,dn(e,t,i,h),t.child)}function mv(e,t,i,u,f){if(ia(t),t.stateNode===null){var h=Nn,E=i.contextType;typeof E=="object"&&E!==null&&(h=Sn(E)),h=new i(u,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Od,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=u,h.state=t.memoizedState,h.refs={},nd(t),E=i.contextType,h.context=typeof E=="object"&&E!==null?Sn(E):Nn,h.state=t.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Ad(t,i,E,u),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(E=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),E!==h.state&&Od.enqueueReplaceState(h,h.state,null),bs(t,u,h,f),ms(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,M=ua(i,x);h.props=M;var $=h.context,ie=i.contextType;E=Nn,typeof ie=="object"&&ie!==null&&(E=Sn(ie));var se=i.getDerivedStateFromProps;ie=typeof se=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ie||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||$!==E)&&iv(t,h,u,E),il=!1;var F=t.memoizedState;h.state=F,bs(t,u,h,f),ms(),$=t.memoizedState,x||F!==$||il?(typeof se=="function"&&(Ad(t,i,se,u),$=t.memoizedState),(M=il||rv(t,i,M,u,F,$,E))?(ie||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=$),h.props=u,h.state=$,h.context=E,u=M):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{h=t.stateNode,rd(e,t),E=t.memoizedProps,ie=ua(i,E),h.props=ie,se=t.pendingProps,F=h.context,$=i.contextType,M=Nn,typeof $=="object"&&$!==null&&(M=Sn($)),x=i.getDerivedStateFromProps,($=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E!==se||F!==M)&&iv(t,h,u,M),il=!1,F=t.memoizedState,h.state=F,bs(t,u,h,f),ms();var P=t.memoizedState;E!==se||F!==P||il||e!==null&&e.dependencies!==null&&Qo(e.dependencies)?(typeof x=="function"&&(Ad(t,i,x,u),P=t.memoizedState),(ie=il||rv(t,i,ie,u,F,P,M)||e!==null&&e.dependencies!==null&&Qo(e.dependencies))?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,P,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,P,M)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=P),h.props=u,h.state=P,h.context=M,u=ie):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),u=!1)}return h=u,dc(e,t),u=(t.flags&128)!==0,h||u?(h=t.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&u?(t.child=$a(t,e.child,null,f),t.child=$a(t,null,i,f)):dn(e,t,i,f),t.memoizedState=h.state,e=t.child):e=mi(e,t,f),e}function bv(e,t,i,u){return cs(),t.flags|=256,dn(e,t,i,u),t.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(e){return{baseLanes:e,cachePool:ap()}}function Cd(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=vr),e}function _v(e,t,i){var u=t.pendingProps,f=!1,h=(t.flags&128)!==0,E;if((E=h)||(E=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),E&&(f=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(f?sl(t):ol(),dt){var x=Lt,M;if(M=x){e:{for(M=x,x=Hr;M.nodeType!==8;){if(!x){x=null;break e}if(M=Cr(M.nextSibling),M===null){x=null;break e}}x=M}x!==null?(t.memoizedState={dehydrated:x,treeContext:Wl!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},M=Zn(18,null,null,0),M.stateNode=x,M.return=t,t.child=M,Mn=t,Lt=null,M=!0):M=!1}M||na(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return hh(x)?t.lanes=32:t.lanes=536870912,null;gi(t)}return x=u.children,u=u.fallback,f?(ol(),f=t.mode,x=hc({mode:"hidden",children:x},f),u=Pl(u,f,i,null),x.return=t,u.return=t,x.sibling=u,t.child=x,f=t.child,f.memoizedState=Dd(i),f.childLanes=Cd(e,E,i),t.memoizedState=kd,u):(sl(t),Rd(t,x))}if(M=e.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(h)t.flags&256?(sl(t),t.flags&=-257,t=Ud(e,t,i)):t.memoizedState!==null?(ol(),t.child=e.child,t.flags|=128,t=null):(ol(),f=u.fallback,x=t.mode,u=hc({mode:"visible",children:u.children},x),f=Pl(f,x,i,null),f.flags|=2,u.return=t,f.return=t,u.sibling=f,t.child=u,$a(t,e.child,null,i),u=t.child,u.memoizedState=Dd(i),u.childLanes=Cd(e,E,i),t.memoizedState=kd,t=f);else if(sl(t),hh(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(a(419)),u.stack="",u.digest=E,fs({value:u,source:null,stack:null}),t=Ud(e,t,i)}else if(un||ds(e,t,i,!1),E=(i&e.childLanes)!==0,un||E){if(E=Dt,E!==null&&(u=i&-i,u=(u&42)!==0?1:Lu(u),u=(u&(E.suspendedLanes|i))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Nt(e,u),Wn(E,e,u),fv;x.data==="$?"||$d(),t=Ud(e,t,i)}else x.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Lt=Cr(x.nextSibling),Mn=t,dt=!0,ta=null,Hr=!1,e!==null&&(hr[yr++]=di,hr[yr++]=hi,hr[yr++]=Wl,di=e.id,hi=e.overflow,Wl=t),t=Rd(t,u.children),t.flags|=4096);return t}return f?(ol(),f=u.fallback,x=t.mode,M=e.child,$=M.sibling,u=fi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,$!==null?f=fi($,f):(f=Pl(f,x,i,null),f.flags|=2),f.return=t,u.return=t,u.sibling=f,t.child=u,u=f,f=t.child,x=e.child.memoizedState,x===null?x=Dd(i):(M=x.cachePool,M!==null?($=Ft._currentValue,M=M.parent!==$?{parent:$,pool:$}:M):M=ap(),x={baseLanes:x.baseLanes|i,cachePool:M}),f.memoizedState=x,f.childLanes=Cd(e,E,i),t.memoizedState=kd,u):(sl(t),i=e.child,e=i.sibling,i=fi(i,{mode:"visible",children:u.children}),i.return=t,i.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=i,t.memoizedState=null,i)}function Rd(e,t){return t=hc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hc(e,t){return e=Zn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ud(e,t,i){return $a(t,e.child,null,i),e=Rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wv(e,t,i){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),$f(e.return,t,i)}function Md(e,t,i,u,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:f}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=i,h.tailMode=f)}function Sv(e,t,i){var u=t.pendingProps,f=u.revealOrder,h=u.tail;if(dn(e,t,u.children,i),u=Pt.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wv(e,i,t);else if(e.tag===19)wv(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(fe(Pt,u),f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&oc(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),Md(t,!1,f,i,h);break;case"backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&oc(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}Md(t,!0,i,null,h);break;case"together":Md(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),yl|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ds(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=fi(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=fi(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function jd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qo(e)))}function W_(e,t,i){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),rl(t,Ft,e.memoizedState.cache),cs();break;case 27:case 5:gt(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:rl(t,t.type,t.memoizedProps.value);break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(sl(t),t.flags|=128,null):(i&t.child.childLanes)!==0?_v(e,t,i):(sl(t),e=mi(e,t,i),e!==null?e.sibling:null);sl(t);break;case 19:var f=(e.flags&128)!==0;if(u=(i&t.childLanes)!==0,u||(ds(e,t,i,!1),u=(i&t.childLanes)!==0),f){if(u)return Sv(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(Pt,Pt.current),u)break;return null;case 22:case 23:return t.lanes=0,pv(e,t,i);case 24:rl(t,Ft,e.memoizedState.cache)}return mi(e,t,i)}function Ev(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)un=!0;else{if(!jd(e,i)&&(t.flags&128)===0)return un=!1,W_(e,t,i);un=(e.flags&131072)!==0}else un=!1,dt&&(t.flags&1048576)!==0&&Wy(t,Io,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var u=t.elementType,f=u._init;if(u=f(u._payload),t.type=u,typeof u=="function")Vf(u)?(e=ua(u,e),t.tag=1,t=mv(null,t,u,e,i)):(t.tag=0,t=xd(null,t,u,e,i));else{if(u!=null){if(f=u.$$typeof,f===he){t.tag=11,t=dv(null,t,u,e,i);break e}else if(f===Oe){t.tag=14,t=hv(null,t,u,e,i);break e}}throw t=Xe(u)||u,Error(a(306,t,""))}}return t;case 0:return xd(e,t,t.type,t.pendingProps,i);case 1:return u=t.type,f=ua(u,t.pendingProps),mv(e,t,u,f,i);case 3:e:{if(Ie(t,t.stateNode.containerInfo),e===null)throw Error(a(387));u=t.pendingProps;var h=t.memoizedState;f=h.element,rd(e,t),bs(t,u,null,i);var E=t.memoizedState;if(u=E.cache,rl(t,Ft,u),u!==h.cache&&Ff(t,[Ft],i,!0),ms(),u=E.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=bv(e,t,u,i);break e}else if(u!==f){f=_e(Error(a(424)),t),fs(f),t=bv(e,t,u,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=Cr(e.firstChild),Mn=t,dt=!0,ta=null,Hr=!0,i=tv(t,null,u,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(cs(),u===f){t=mi(e,t,i);break e}dn(e,t,u,i)}t=t.child}return t;case 26:return dc(e,t),e===null?(i=xg(t.type,null,t.pendingProps,null))?t.memoizedState=i:dt||(i=t.type,e=t.pendingProps,u=xc(ke.current).createElement(i),u[Kt]=t,u[We]=e,yn(u,i,e),Ot(u),t.stateNode=u):t.memoizedState=xg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gt(t),e===null&&dt&&(u=t.stateNode=Ag(t.type,t.pendingProps,ke.current),Mn=t,Hr=!0,f=Lt,ml(t.type)?(yh=f,Lt=Cr(u.firstChild)):Lt=f),dn(e,t,t.pendingProps.children,i),dc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((f=u=Lt)&&(u=xw(u,t.type,t.pendingProps,Hr),u!==null?(t.stateNode=u,Mn=t,Lt=Cr(u.firstChild),Hr=!1,f=!0):f=!1),f||na(t)),gt(t),f=t.type,h=t.pendingProps,E=e!==null?e.memoizedProps:null,u=h.children,ch(f,h)?u=null:E!==null&&ch(f,E)&&(t.flags|=32),t.memoizedState!==null&&(f=od(e,t,X_,null,null,i),Ks._currentValue=f),dc(e,t),dn(e,t,u,i),t.child;case 6:return e===null&&dt&&((e=i=Lt)&&(i=kw(i,t.pendingProps,Hr),i!==null?(t.stateNode=i,Mn=t,Lt=null,e=!0):e=!1),e||na(t)),null;case 13:return _v(e,t,i);case 4:return Ie(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=$a(t,null,u,i):dn(e,t,u,i),t.child;case 11:return dv(e,t,t.type,t.pendingProps,i);case 7:return dn(e,t,t.pendingProps,i),t.child;case 8:return dn(e,t,t.pendingProps.children,i),t.child;case 12:return dn(e,t,t.pendingProps.children,i),t.child;case 10:return u=t.pendingProps,rl(t,t.type,u.value),dn(e,t,u.children,i),t.child;case 9:return f=t.type._context,u=t.pendingProps.children,ia(t),f=Sn(f),u=u(f),t.flags|=1,dn(e,t,u,i),t.child;case 14:return hv(e,t,t.type,t.pendingProps,i);case 15:return yv(e,t,t.type,t.pendingProps,i);case 19:return Sv(e,t,i);case 31:return u=t.pendingProps,i=t.mode,u={mode:u.mode,children:u.children},e===null?(i=hc(u,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=fi(e.child,u),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return pv(e,t,i);case 24:return ia(t),u=Sn(Ft),e===null?(f=ed(),f===null&&(f=Dt,h=Pf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),t.memoizedState={parent:u,cache:f},nd(t),rl(t,Ft,f)):((e.lanes&i)!==0&&(rd(e,t),bs(t,null,null,i),ms()),f=e.memoizedState,h=t.memoizedState,f.parent!==u?(f={parent:u,cache:u},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),rl(t,Ft,u)):(u=h.cache,rl(t,Ft,u),u!==f.cache&&Ff(t,[Ft],i,!0))),dn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function bi(e){e.flags|=4}function Av(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ug(t)){if(t=pr.current,t!==null&&((st&4194048)===st?Kr!==null:(st&62914560)!==st&&(st&536870912)===0||t!==Kr))throw vs=td,up;e.flags|=8192}}function yc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ae():536870912,e.lanes|=t,eu|=t)}function Ts(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=i,t}function ew(e,t,i){var u=t.pendingProps;switch(Qf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return zt(t),null;case 3:return i=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),pi(Ft),Ee(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(os(t)?bi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,np())),zt(t),null;case 26:return i=t.memoizedState,e===null?(bi(t),i!==null?(zt(t),Av(t,i)):(zt(t),t.flags&=-16777217)):i?i!==e.memoizedState?(bi(t),zt(t),Av(t,i)):(zt(t),t.flags&=-16777217):(e.memoizedProps!==u&&bi(t),zt(t),t.flags&=-16777217),null;case 27:Ct(t),i=ke.current;var f=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(!u){if(t.stateNode===null)throw Error(a(166));return zt(t),null}e=xe.current,os(t)?ep(t):(e=Ag(f,u,i),t.stateNode=e,bi(t))}return zt(t),null;case 5:if(Ct(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(!u){if(t.stateNode===null)throw Error(a(166));return zt(t),null}if(e=xe.current,os(t))ep(t);else{switch(f=xc(ke.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(i,{is:u.is}):f.createElement(i)}}e[Kt]=t,e[We]=u;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=e;e:switch(yn(e,i,u),i){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&bi(t)}}return zt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(a(166));if(e=ke.current,os(t)){if(e=t.stateNode,i=t.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||gg(e.nodeValue,i)),e||na(t)}else e=xc(e).createTextNode(u),e[Kt]=t,t.stateNode=e}return zt(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=os(t),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Kt]=t}else cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zt(t),f=!1}else f=np(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(gi(t),t):(gi(t),null)}if(gi(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=u!==null,e=e!==null&&e.memoizedState!==null,i){u=t.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==f&&(u.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),yc(t,t.updateQueue),zt(t),null;case 4:return Ee(),e===null&&lh(t.stateNode.containerInfo),zt(t),null;case 10:return pi(t.type),zt(t),null;case 19:if(le(Pt),f=t.memoizedState,f===null)return zt(t),null;if(u=(t.flags&128)!==0,h=f.rendering,h===null)if(u)Ts(f,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=oc(e),h!==null){for(t.flags|=128,Ts(f,!1),e=h.updateQueue,t.updateQueue=e,yc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Py(i,e),i=i.sibling;return fe(Pt,Pt.current&1|2),t.child}e=e.sibling}f.tail!==null&&ln()>gc&&(t.flags|=128,u=!0,Ts(f,!1),t.lanes=4194304)}else{if(!u)if(e=oc(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,yc(t,e),Ts(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!dt)return zt(t),null}else 2*ln()-f.renderingStartTime>gc&&i!==536870912&&(t.flags|=128,u=!0,Ts(f,!1),t.lanes=4194304);f.isBackwards?(h.sibling=t.child,t.child=h):(e=f.last,e!==null?e.sibling=h:t.child=h,f.last=h)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=ln(),t.sibling=null,e=Pt.current,fe(Pt,u?e&1|2:e&1),t):(zt(t),null);case 22:case 23:return gi(t),ud(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(i&536870912)!==0&&(t.flags&128)===0&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),i=t.updateQueue,i!==null&&yc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==i&&(t.flags|=2048),e!==null&&le(la),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pi(Ft),zt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function tw(e,t){switch(Qf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(Ft),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ct(t),null;case 13:if(gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(Pt),null;case 4:return Ee(),null;case 10:return pi(t.type),null;case 22:case 23:return gi(t),ud(),e!==null&&le(la),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pi(Ft),null;case 25:return null;default:return null}}function Ov(e,t){switch(Qf(t),t.tag){case 3:pi(Ft),Ee();break;case 26:case 27:case 5:Ct(t);break;case 4:Ee();break;case 13:gi(t);break;case 19:le(Pt);break;case 10:pi(t.type);break;case 22:case 23:gi(t),ud(),e!==null&&le(la);break;case 24:pi(Ft)}}function xs(e,t){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){u=void 0;var h=i.create,E=i.inst;u=h(),E.destroy=u}i=i.next}while(i!==f)}}catch(x){xt(t,t.return,x)}}function cl(e,t,i){try{var u=t.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var h=f.next;u=h;do{if((u.tag&e)===e){var E=u.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,f=t;var M=i,$=x;try{$()}catch(ie){xt(f,M,ie)}}}u=u.next}while(u!==h)}}catch(ie){xt(t,t.return,ie)}}function Tv(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{hp(t,i)}catch(u){xt(e,e.return,u)}}}function xv(e,t,i){i.props=ua(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(u){xt(e,t,u)}}function ks(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(f){xt(e,t,f)}}function Yr(e,t){var i=e.ref,u=e.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(f){xt(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){xt(e,t,f)}else i.current=null}function kv(e){var t=e.type,i=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(f){xt(e,e.return,f)}}function Nd(e,t,i){try{var u=e.stateNode;Sw(u,e.type,i,t),u[We]=t}catch(f){xt(e,e.return,f)}}function Dv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ml(e.type)||e.tag===4}function zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ml(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Tc));else if(u!==4&&(u===27&&ml(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Bd(e,t,i),e=e.sibling;e!==null;)Bd(e,t,i),e=e.sibling}function pc(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(u!==4&&(u===27&&ml(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(pc(e,t,i),e=e.sibling;e!==null;)pc(e,t,i),e=e.sibling}function Cv(e){var t=e.stateNode,i=e.memoizedProps;try{for(var u=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);yn(t,u,i),t[Kt]=e,t[We]=i}catch(h){xt(e,e.return,h)}}var _i=!1,Gt=!1,Ld=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function nw(e,t){if(e=e.containerInfo,sh=Mc,e=_(e),S(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var E=0,x=-1,M=-1,$=0,ie=0,se=e,F=null;t:for(;;){for(var P;se!==i||f!==0&&se.nodeType!==3||(x=E+f),se!==h||u!==0&&se.nodeType!==3||(M=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(P=se.firstChild)!==null;)F=se,se=P;for(;;){if(se===e)break t;if(F===i&&++$===f&&(x=E),F===h&&++ie===u&&(M=E),(P=se.nextSibling)!==null)break;se=F,F=se.parentNode}se=P}i=x===-1||M===-1?null:{start:x,end:M}}else i=null}i=i||{start:0,end:0}}else i=null;for(oh={focusedElem:e,selectionRange:i},Mc=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,f=h.memoizedProps,h=h.memoizedState,u=i.stateNode;try{var Ge=ua(i.type,f,i.elementType===i.type);e=u.getSnapshotBeforeUpdate(Ge,h),u.__reactInternalSnapshotBeforeUpdate=e}catch(qe){xt(i,i.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)dh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function Uv(e,t,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:fl(e,i),u&4&&xs(5,i);break;case 1:if(fl(e,i),u&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(E){xt(i,i.return,E)}else{var f=ua(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){xt(i,i.return,E)}}u&64&&Tv(i),u&512&&ks(i,i.return);break;case 3:if(fl(e,i),u&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{hp(e,t)}catch(E){xt(i,i.return,E)}}break;case 27:t===null&&u&4&&Cv(i);case 26:case 5:fl(e,i),t===null&&u&4&&kv(i),u&512&&ks(i,i.return);break;case 12:fl(e,i);break;case 13:fl(e,i),u&4&&Nv(e,i),u&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=fw.bind(null,i),Dw(e,i))));break;case 22:if(u=i.memoizedState!==null||_i,!u){t=t!==null&&t.memoizedState!==null||Gt,f=_i;var h=Gt;_i=u,(Gt=t)&&!h?dl(e,i,(i.subtreeFlags&8772)!==0):fl(e,i),_i=f,Gt=h}break;case 30:break;default:fl(e,i)}}function Mv(e){var t=e.alternate;t!==null&&(e.alternate=null,Mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&or(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Bn=!1;function wi(e,t,i){for(i=i.child;i!==null;)jv(e,t,i),i=i.sibling}function jv(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,i)}catch{}switch(i.tag){case 26:Gt||Yr(i,t),wi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Gt||Yr(i,t);var u=Mt,f=Bn;ml(i.type)&&(Mt=i.stateNode,Bn=!1),wi(e,t,i),Bs(i.stateNode),Mt=u,Bn=f;break;case 5:Gt||Yr(i,t);case 6:if(u=Mt,f=Bn,Mt=null,wi(e,t,i),Mt=u,Bn=f,Mt!==null)if(Bn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(i.stateNode)}catch(h){xt(i,t,h)}else try{Mt.removeChild(i.stateNode)}catch(h){xt(i,t,h)}break;case 18:Mt!==null&&(Bn?(e=Mt,Sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Xs(e)):Sg(Mt,i.stateNode));break;case 4:u=Mt,f=Bn,Mt=i.stateNode.containerInfo,Bn=!0,wi(e,t,i),Mt=u,Bn=f;break;case 0:case 11:case 14:case 15:Gt||cl(2,i,t),Gt||cl(4,i,t),wi(e,t,i);break;case 1:Gt||(Yr(i,t),u=i.stateNode,typeof u.componentWillUnmount=="function"&&xv(i,t,u)),wi(e,t,i);break;case 21:wi(e,t,i);break;case 22:Gt=(u=Gt)||i.memoizedState!==null,wi(e,t,i),Gt=u;break;default:wi(e,t,i)}}function Nv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xs(e)}catch(i){xt(t,t.return,i)}}function rw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rv),t;default:throw Error(a(435,e.tag))}}function qd(e,t){var i=rw(e);t.forEach(function(u){var f=dw.bind(null,e,u);i.has(u)||(i.add(u),u.then(f,f))})}function Jn(e,t){var i=t.deletions;if(i!==null)for(var u=0;u<i.length;u++){var f=i[u],h=e,E=t,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(ml(x.type)){Mt=x.stateNode,Bn=!1;break e}break;case 5:Mt=x.stateNode,Bn=!1;break e;case 3:case 4:Mt=x.stateNode.containerInfo,Bn=!0;break e}x=x.return}if(Mt===null)throw Error(a(160));jv(h,E,f),Mt=null,Bn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zv(t,e),t=t.sibling}var Dr=null;function zv(e,t){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(t,e),$n(e),u&4&&(cl(3,e,e.return),xs(3,e),cl(5,e,e.return));break;case 1:Jn(t,e),$n(e),u&512&&(Gt||i===null||Yr(i,i.return)),u&64&&_i&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var f=Dr;if(Jn(t,e),$n(e),u&512&&(Gt||i===null||Yr(i,i.return)),u&4){var h=i!==null?i.memoizedState:null;if(u=e.memoizedState,i===null)if(u===null)if(e.stateNode===null){e:{u=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Bl]||h[Kt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(u),f.head.insertBefore(h,f.querySelector("head > title"))),yn(h,u,i),h[Kt]=e,Ot(h),u=h;break e;case"link":var E=Cg("link","href",f).get(u+(i.href||""));if(E){for(var x=0;x<E.length;x++)if(h=E[x],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){E.splice(x,1);break t}}h=f.createElement(u),yn(h,u,i),f.head.appendChild(h);break;case"meta":if(E=Cg("meta","content",f).get(u+(i.content||""))){for(x=0;x<E.length;x++)if(h=E[x],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){E.splice(x,1);break t}}h=f.createElement(u),yn(h,u,i),f.head.appendChild(h);break;default:throw Error(a(468,u))}h[Kt]=e,Ot(h),u=h}e.stateNode=u}else Rg(f,e.type,e.stateNode);else e.stateNode=Dg(f,u,e.memoizedProps);else h!==u?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,u===null?Rg(f,e.type,e.stateNode):Dg(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Nd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Jn(t,e),$n(e),u&512&&(Gt||i===null||Yr(i,i.return)),i!==null&&u&4&&Nd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Jn(t,e),$n(e),u&512&&(Gt||i===null||Yr(i,i.return)),e.flags&32){f=e.stateNode;try{ii(f,"")}catch(P){xt(e,e.return,P)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Nd(e,f,i!==null?i.memoizedProps:f)),u&1024&&(Ld=!0);break;case 6:if(Jn(t,e),$n(e),u&4){if(e.stateNode===null)throw Error(a(162));u=e.memoizedProps,i=e.stateNode;try{i.nodeValue=u}catch(P){xt(e,e.return,P)}}break;case 3:if(Cc=null,f=Dr,Dr=kc(t.containerInfo),Jn(t,e),Dr=f,$n(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(P){xt(e,e.return,P)}Ld&&(Ld=!1,Bv(e));break;case 4:u=Dr,Dr=kc(e.stateNode.containerInfo),Jn(t,e),$n(e),Dr=u;break;case 12:Jn(t,e),$n(e);break;case 13:Jn(t,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Xd=ln()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,qd(e,u)));break;case 22:f=e.memoizedState!==null;var M=i!==null&&i.memoizedState!==null,$=_i,ie=Gt;if(_i=$||f,Gt=ie||M,Jn(t,e),Gt=ie,_i=$,$n(e),u&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||M||_i||Gt||sa(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){M=i=t;try{if(h=M.stateNode,f)E=h.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=M.stateNode;var se=M.memoizedProps.style,F=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(P){xt(M,M.return,P)}}}else if(t.tag===6){if(i===null){M=t;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(P){xt(M,M.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,qd(e,i))));break;case 19:Jn(t,e),$n(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,qd(e,u)));break;case 30:break;case 21:break;default:Jn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{for(var i,u=e.return;u!==null;){if(Dv(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=zd(e);pc(e,h,f);break;case 5:var E=i.stateNode;i.flags&32&&(ii(E,""),i.flags&=-33);var x=zd(e);pc(e,x,E);break;case 3:case 4:var M=i.stateNode.containerInfo,$=zd(e);Bd(e,$,M);break;default:throw Error(a(161))}}catch(ie){xt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uv(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),sa(t);break;case 1:Yr(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&xv(t,t.return,i),sa(t);break;case 27:Bs(t.stateNode);case 26:case 5:Yr(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function dl(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,f=e,h=t,E=h.flags;switch(h.tag){case 0:case 11:case 15:dl(f,h,i),xs(4,h);break;case 1:if(dl(f,h,i),u=h,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){xt(u,u.return,$)}if(u=h,f=u.updateQueue,f!==null){var x=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)dp(M[f],x)}catch($){xt(u,u.return,$)}}i&&E&64&&Tv(h),ks(h,h.return);break;case 27:Cv(h);case 26:case 5:dl(f,h,i),i&&u===null&&E&4&&kv(h),ks(h,h.return);break;case 12:dl(f,h,i);break;case 13:dl(f,h,i),i&&E&4&&Nv(f,h);break;case 22:h.memoizedState===null&&dl(f,h,i),ks(h,h.return);break;case 30:break;default:dl(f,h,i)}t=t.sibling}}function Hd(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&hs(i))}function Kd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e))}function Vr(e,t,i,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(e,t,i,u),t=t.sibling}function Lv(e,t,i,u){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Vr(e,t,i,u),f&2048&&xs(9,t);break;case 1:Vr(e,t,i,u);break;case 3:Vr(e,t,i,u),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e)));break;case 12:if(f&2048){Vr(e,t,i,u),e=t.stateNode;try{var h=t.memoizedProps,E=h.id,x=h.onPostCommit;typeof x=="function"&&x(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){xt(t,t.return,M)}}else Vr(e,t,i,u);break;case 13:Vr(e,t,i,u);break;case 23:break;case 22:h=t.stateNode,E=t.alternate,t.memoizedState!==null?h._visibility&2?Vr(e,t,i,u):Ds(e,t):h._visibility&2?Vr(e,t,i,u):(h._visibility|=2,Fa(e,t,i,u,(t.subtreeFlags&10256)!==0)),f&2048&&Hd(E,t);break;case 24:Vr(e,t,i,u),f&2048&&Kd(t.alternate,t);break;default:Vr(e,t,i,u)}}function Fa(e,t,i,u,f){for(f=f&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,E=t,x=i,M=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(h,E,x,M,f),xs(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Fa(h,E,x,M,f):Ds(h,E):(ie._visibility|=2,Fa(h,E,x,M,f)),f&&$&2048&&Hd(E.alternate,E);break;case 24:Fa(h,E,x,M,f),f&&$&2048&&Kd(E.alternate,E);break;default:Fa(h,E,x,M,f)}t=t.sibling}}function Ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,u=t,f=u.flags;switch(u.tag){case 22:Ds(i,u),f&2048&&Hd(u.alternate,u);break;case 24:Ds(i,u),f&2048&&Kd(u.alternate,u);break;default:Ds(i,u)}t=t.sibling}}var Cs=8192;function Pa(e){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)qv(e),e=e.sibling}function qv(e){switch(e.tag){case 26:Pa(e),e.flags&Cs&&e.memoizedState!==null&&Yw(Dr,e.memoizedState,e.memoizedProps);break;case 5:Pa(e);break;case 3:case 4:var t=Dr;Dr=kc(e.stateNode.containerInfo),Pa(e),Dr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Cs,Cs=16777216,Pa(e),Cs=t):Pa(e));break;default:Pa(e)}}function Hv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var u=t[i];sn=u,Yv(u,e)}Hv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kv(e),e=e.sibling}function Kv(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&cl(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vc(e)):Rs(e);break;default:Rs(e)}}function vc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var u=t[i];sn=u,Yv(u,e)}Hv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cl(8,t,t.return),vc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,vc(t));break;default:vc(t)}e=e.sibling}}function Yv(e,t){for(;sn!==null;){var i=sn;switch(i.tag){case 0:case 11:case 15:cl(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hs(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,sn=u;else e:for(i=e;sn!==null;){u=sn;var f=u.sibling,h=u.return;if(Mv(u),u===i){sn=null;break e}if(f!==null){f.return=h,sn=f;break e}sn=h}}}var iw={getCacheForType:function(e){var t=Sn(Ft),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},lw=typeof WeakMap=="function"?WeakMap:Map,mt=0,Dt=null,rt=null,st=0,bt=0,Fn=null,hl=!1,Wa=!1,Yd=!1,Si=0,qt=0,yl=0,oa=0,Vd=0,vr=0,eu=0,Us=null,Ln=null,Gd=!1,Xd=0,gc=1/0,mc=null,pl=null,hn=0,vl=null,tu=null,nu=0,Id=0,Qd=null,Vv=null,Ms=0,Zd=null;function Pn(){if((mt&2)!==0&&st!==0)return st&-st;if(B.T!==null){var e=Va;return e!==0?e:th()}return ti()}function Gv(){vr===0&&(vr=(st&536870912)===0||dt?jl():536870912);var e=pr.current;return e!==null&&(e.flags|=32),vr}function Wn(e,t,i){(e===Dt&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(ru(e,0),gl(e,st,vr,!1)),qi(e,i),((mt&2)===0||e!==Dt)&&(e===Dt&&((mt&2)===0&&(oa|=i),qt===4&&gl(e,st,vr,!1)),Gr(e))}function Xv(e,t,i){if((mt&6)!==0)throw Error(a(327));var u=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Ar(e,t),f=u?sw(e,t):Fd(e,t,!0),h=u;do{if(f===0){Wa&&!u&&gl(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!aw(i)){f=Fd(e,t,!1),h=!1;continue}if(f===2){if(h=t,e.errorRecoveryDisabledLanes&h)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var x=e;f=Us;var M=x.current.memoizedState.isDehydrated;if(M&&(ru(x,E).flags|=256),E=Fd(x,E,!1),E!==2){if(Yd&&!M){x.errorRecoveryDisabledLanes|=h,oa|=h,f=4;break e}h=Ln,Ln=f,h!==null&&(Ln===null?Ln=h:Ln.push.apply(Ln,h))}f=E}if(h=!1,f!==2)continue}}if(f===1){ru(e,0),gl(e,t,0,!0);break}e:{switch(u=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:gl(u,t,vr,!hl);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=Xd+300-ln(),10<f)){if(gl(u,t,vr,!hl),Re(u,0,!0)!==0)break e;u.timeoutHandle=_g(Iv.bind(null,u,i,Ln,mc,Gd,t,vr,oa,eu,hl,h,2,-0,0),f);break e}Iv(u,i,Ln,mc,Gd,t,vr,oa,eu,hl,h,0,-0,0)}}break}while(!0);Gr(e)}function Iv(e,t,i,u,f,h,E,x,M,$,ie,se,F,P){if(e.timeoutHandle=-1,se=t.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Hs={stylesheets:null,count:0,unsuspend:Kw},qv(t),se=Vw(),se!==null)){e.cancelPendingCommit=se(Wv.bind(null,e,t,h,i,u,f,E,x,M,ie,1,F,P)),gl(e,h,E,!$);return}Wv(e,t,h,i,u,f,E,x,M)}function aw(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var f=i[u],h=f.getSnapshot;f=f.value;try{if(!Bt(h(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t,i,u){t&=~Vd,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var f=t;0<f;){var h=31-Jt(f),E=1<<h;u[h]=-1,f&=~E}i!==0&&Bu(e,i,t)}function bc(){return(mt&6)===0?(js(0),!1):!0}function Jd(){if(rt!==null){if(bt===0)var e=rt.return;else e=rt,yi=ra=null,dd(e),Ja=null,As=0,e=rt;for(;e!==null;)Ov(e.alternate,e),e=e.return;rt=null}}function ru(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Aw(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Jd(),Dt=e,rt=i=fi(e.current,null),st=t,bt=0,Fn=null,hl=!1,Wa=Ar(e,t),Yd=!1,eu=vr=Vd=oa=yl=qt=0,Ln=Us=null,Gd=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var f=31-Jt(u),h=1<<f;t|=e[f],u&=~h}return Si=t,Tt(),i}function Qv(e,t){et=null,B.H=ac,t===ps||t===$o?(t=cp(),bt=3):t===up?(t=cp(),bt=4):bt=t===fv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Fn=t,rt===null&&(qt=1,fc(e,_e(t,e.current)))}function Zv(){var e=B.H;return B.H=ac,e===null?ac:e}function Jv(){var e=B.A;return B.A=iw,e}function $d(){qt=4,hl||(st&4194048)!==st&&pr.current!==null||(Wa=!0),(yl&134217727)===0&&(oa&134217727)===0||Dt===null||gl(Dt,st,vr,!1)}function Fd(e,t,i){var u=mt;mt|=2;var f=Zv(),h=Jv();(Dt!==e||st!==t)&&(mc=null,ru(e,t)),t=!1;var E=qt;e:do try{if(bt!==0&&rt!==null){var x=rt,M=Fn;switch(bt){case 8:Jd(),E=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(t=!0);var $=bt;if(bt=0,Fn=null,iu(e,x,M,$),i&&Wa){E=0;break e}break;default:$=bt,bt=0,Fn=null,iu(e,x,M,$)}}uw(),E=qt;break}catch(ie){Qv(e,ie)}while(!0);return t&&e.shellSuspendCounter++,yi=ra=null,mt=u,B.H=f,B.A=h,rt===null&&(Dt=null,st=0,Tt()),E}function uw(){for(;rt!==null;)$v(rt)}function sw(e,t){var i=mt;mt|=2;var u=Zv(),f=Jv();Dt!==e||st!==t?(mc=null,gc=ln()+500,ru(e,t)):Wa=Ar(e,t);e:do try{if(bt!==0&&rt!==null){t=rt;var h=Fn;t:switch(bt){case 1:bt=0,Fn=null,iu(e,t,h,1);break;case 2:case 9:if(sp(h)){bt=0,Fn=null,Fv(t);break}t=function(){bt!==2&&bt!==9||Dt!==e||(bt=7),Gr(e)},h.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:sp(h)?(bt=0,Fn=null,Fv(t)):(bt=0,Fn=null,iu(e,t,h,7));break;case 5:var E=null;switch(rt.tag){case 26:E=rt.memoizedState;case 5:case 27:var x=rt;if(!E||Ug(E)){bt=0,Fn=null;var M=x.sibling;if(M!==null)rt=M;else{var $=x.return;$!==null?(rt=$,_c($)):rt=null}break t}}bt=0,Fn=null,iu(e,t,h,5);break;case 6:bt=0,Fn=null,iu(e,t,h,6);break;case 8:Jd(),qt=6;break e;default:throw Error(a(462))}}ow();break}catch(ie){Qv(e,ie)}while(!0);return yi=ra=null,B.H=u,B.A=f,mt=i,rt!==null?0:(Dt=null,st=0,Tt(),qt)}function ow(){for(;rt!==null&&!pt();)$v(rt)}function $v(e){var t=Ev(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?_c(e):rt=t}function Fv(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=gv(i,t,t.pendingProps,t.type,void 0,st);break;case 11:t=gv(i,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:dd(t);default:Ov(i,t),t=rt=Py(t,Si),t=Ev(i,t,Si)}e.memoizedProps=e.pendingProps,t===null?_c(e):rt=t}function iu(e,t,i,u){yi=ra=null,dd(t),Ja=null,As=0;var f=t.return;try{if(P_(e,f,t,i,st)){qt=1,fc(e,_e(i,e.current)),rt=null;return}}catch(h){if(f!==null)throw rt=f,h;qt=1,fc(e,_e(i,e.current)),rt=null;return}t.flags&32768?(dt||u===1?e=!0:Wa||(st&536870912)!==0?e=!1:(hl=e=!0,(u===2||u===9||u===3||u===6)&&(u=pr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Pv(t,e)):_c(t)}function _c(e){var t=e;do{if((t.flags&32768)!==0){Pv(t,hl);return}e=t.return;var i=ew(t.alternate,t,Si);if(i!==null){rt=i;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);qt===0&&(qt=5)}function Pv(e,t){do{var i=tw(e.alternate,e);if(i!==null){i.flags&=32767,rt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){rt=e;return}rt=e=i}while(e!==null);qt=6,rt=null}function Wv(e,t,i,u,f,h,E,x,M){e.cancelPendingCommit=null;do wc();while(hn!==0);if((mt&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(h=t.lanes|t.childLanes,h|=Ve,zu(e,i,h,E,x,M),e===Dt&&(rt=Dt=null,st=0),tu=t,vl=e,nu=i,Id=h,Qd=f,Vv=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hw(kn,function(){return ig(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,f=te.p,te.p=2,E=mt,mt|=4;try{nw(e,t,i)}finally{mt=E,te.p=f,B.T=u}}hn=1,eg(),tg(),ng()}}function eg(){if(hn===1){hn=0;var e=vl,t=tu,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var u=te.p;te.p=2;var f=mt;mt|=4;try{zv(t,e);var h=oh,E=_(e.containerInfo),x=h.focusedElem,M=h.selectionRange;if(E!==x&&x&&x.ownerDocument&&g(x.ownerDocument.documentElement,x)){if(M!==null&&S(x)){var $=M.start,ie=M.end;if(ie===void 0&&(ie=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(ie,x.value.length);else{var se=x.ownerDocument||document,F=se&&se.defaultView||window;if(F.getSelection){var P=F.getSelection(),Ge=x.textContent.length,qe=Math.min(M.start,Ge),Et=M.end===void 0?qe:Math.min(M.end,Ge);!P.extend&&qe>Et&&(E=Et,Et=qe,qe=E);var I=d(x,qe),L=d(x,Et);if(I&&L&&(P.rangeCount!==1||P.anchorNode!==I.node||P.anchorOffset!==I.offset||P.focusNode!==L.node||P.focusOffset!==L.offset)){var Z=se.createRange();Z.setStart(I.node,I.offset),P.removeAllRanges(),qe>Et?(P.addRange(Z),P.extend(L.node,L.offset)):(Z.setEnd(L.node,L.offset),P.addRange(Z))}}}}for(se=[],P=x;P=P.parentNode;)P.nodeType===1&&se.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ae=se[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Mc=!!sh,oh=sh=null}finally{mt=f,te.p=u,B.T=i}}e.current=t,hn=2}}function tg(){if(hn===2){hn=0;var e=vl,t=tu,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var u=te.p;te.p=2;var f=mt;mt|=4;try{Uv(e,t.alternate,t)}finally{mt=f,te.p=u,B.T=i}}hn=3}}function ng(){if(hn===4||hn===3){hn=0,xn();var e=vl,t=tu,i=nu,u=Vv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,tu=vl=null,rg(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(pl=null),qu(i),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=B.T,f=te.p,te.p=2,B.T=null;try{for(var h=e.onRecoverableError,E=0;E<u.length;E++){var x=u[E];h(x.value,{componentStack:x.stack})}}finally{B.T=t,te.p=f}}(nu&3)!==0&&wc(),Gr(e),f=e.pendingLanes,(i&4194090)!==0&&(f&42)!==0?e===Zd?Ms++:(Ms=0,Zd=e):Ms=0,js(0)}}function rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hs(t)))}function wc(e){return eg(),tg(),ng(),ig()}function ig(){if(hn!==5)return!1;var e=vl,t=Id;Id=0;var i=qu(nu),u=B.T,f=te.p;try{te.p=32>i?32:i,B.T=null,i=Qd,Qd=null;var h=vl,E=nu;if(hn=0,tu=vl=null,nu=0,(mt&6)!==0)throw Error(a(331));var x=mt;if(mt|=4,Kv(h.current),Lv(h,h.current,E,i),mt=x,js(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,h)}catch{}return!0}finally{te.p=f,B.T=u,rg(e,t)}}function lg(e,t,i){t=_e(i,t),t=Td(e.stateNode,t,2),e=al(e,t,2),e!==null&&(qi(e,2),Gr(e))}function xt(e,t,i){if(e.tag===3)lg(e,e,i);else for(;t!==null;){if(t.tag===3){lg(t,e,i);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pl===null||!pl.has(u))){e=_e(i,e),i=ov(2),u=al(t,i,2),u!==null&&(cv(i,u,t,e),qi(u,2),Gr(u));break}}t=t.return}}function Pd(e,t,i){var u=e.pingCache;if(u===null){u=e.pingCache=new lw;var f=new Set;u.set(t,f)}else f=u.get(t),f===void 0&&(f=new Set,u.set(t,f));f.has(i)||(Yd=!0,f.add(i),e=cw.bind(null,e,t,i),t.then(e,e))}function cw(e,t,i){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Dt===e&&(st&i)===i&&(qt===4||qt===3&&(st&62914560)===st&&300>ln()-Xd?(mt&2)===0&&ru(e,0):Vd|=i,eu===st&&(eu=0)),Gr(e)}function ag(e,t){t===0&&(t=Ae()),e=Nt(e,t),e!==null&&(qi(e,t),Gr(e))}function fw(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),ag(e,i)}function dw(e,t){var i=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(t),ag(e,i)}function hw(e,t){return Fe(e,t)}var Sc=null,lu=null,Wd=!1,Ec=!1,eh=!1,ca=0;function Gr(e){e!==lu&&e.next===null&&(lu===null?Sc=lu=e:lu=lu.next=e),Ec=!0,Wd||(Wd=!0,pw())}function js(e,t){if(!eh&&Ec){eh=!0;do for(var i=!1,u=Sc;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var h=0;else{var E=u.suspendedLanes,x=u.pingedLanes;h=(1<<31-Jt(42|e)+1)-1,h&=f&~(E&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,cg(u,h))}else h=st,h=Re(u,u===Dt?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Ar(u,h)||(i=!0,cg(u,h));u=u.next}while(i);eh=!1}}function yw(){ug()}function ug(){Ec=Wd=!1;var e=0;ca!==0&&(Ew()&&(e=ca),ca=0);for(var t=ln(),i=null,u=Sc;u!==null;){var f=u.next,h=sg(u,t);h===0?(u.next=null,i===null?Sc=f:i.next=f,f===null&&(lu=i)):(i=u,(e!==0||(h&3)!==0)&&(Ec=!0)),u=f}js(e)}function sg(e,t){for(var i=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var E=31-Jt(h),x=1<<E,M=f[E];M===-1?((x&i)===0||(x&u)!==0)&&(f[E]=ei(x,t)):M<=t&&(e.expiredLanes|=x),h&=~x}if(t=Dt,i=st,i=Re(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,i===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&at(u),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ar(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(u!==null&&at(u),qu(i)){case 2:case 8:i=ba;break;case 32:i=kn;break;case 268435456:i=Bi;break;default:i=kn}return u=og.bind(null,e),i=Fe(i,u),e.callbackPriority=t,e.callbackNode=i,t}return u!==null&&u!==null&&at(u),e.callbackPriority=2,e.callbackNode=null,2}function og(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(wc()&&e.callbackNode!==i)return null;var u=st;return u=Re(e,e===Dt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Xv(e,u,t),sg(e,ln()),e.callbackNode!=null&&e.callbackNode===i?og.bind(null,e):null)}function cg(e,t){if(wc())return null;Xv(e,t,!0)}function pw(){Ow(function(){(mt&6)!==0?Fe(To,yw):ug()})}function th(){return ca===0&&(ca=jl()),ca}function fg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function dg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function vw(e,t,i,u,f){if(t==="submit"&&i&&i.stateNode===f){var h=fg((f[We]||null).action),E=u.submitter;E&&(t=(t=E[We]||null)?fg(t.formAction):E.getAttribute("formAction"),t!==null&&(h=t,E=null));var x=new xa("action","action",null,u,f);e.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ca!==0){var M=E?dg(f,E):new FormData(f);wd(i,{pending:!0,data:M,method:f.method,action:h},null,M)}}else typeof h=="function"&&(x.preventDefault(),M=E?dg(f,E):new FormData(f),wd(i,{pending:!0,data:M,method:f.method,action:h},h,M))},currentTarget:f}]})}}for(var nh=0;nh<ve.length;nh++){var rh=ve[nh],gw=rh.toLowerCase(),mw=rh[0].toUpperCase()+rh.slice(1);me(gw,"on"+mw)}me(X,"onAnimationEnd"),me(Q,"onAnimationIteration"),me(ee,"onAnimationStart"),me("dblclick","onDoubleClick"),me("focusin","onFocus"),me("focusout","onBlur"),me(ne,"onTransitionRun"),me(re,"onTransitionStart"),me(ye,"onTransitionCancel"),me(be,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function hg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],f=u.event;u=u.listeners;e:{var h=void 0;if(t)for(var E=u.length-1;0<=E;E--){var x=u[E],M=x.instance,$=x.currentTarget;if(x=x.listener,M!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=$;try{h(f)}catch(ie){cc(ie)}f.currentTarget=null,h=M}else for(E=0;E<u.length;E++){if(x=u[E],M=x.instance,$=x.currentTarget,x=x.listener,M!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=$;try{h(f)}catch(ie){cc(ie)}f.currentTarget=null,h=M}}}}function it(e,t){var i=t[Hu];i===void 0&&(i=t[Hu]=new Set);var u=e+"__bubble";i.has(u)||(yg(t,e,2,!1),i.add(u))}function ih(e,t,i){var u=0;t&&(u|=4),yg(i,e,u,t)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function lh(e){if(!e[Ac]){e[Ac]=!0,Ku.forEach(function(i){i!=="selectionchange"&&(bw.has(i)||ih(i,!1,e),ih(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ac]||(t[Ac]=!0,ih("selectionchange",!1,t))}}function yg(e,t,i,u){switch(Lg(t)){case 2:var f=Iw;break;case 8:f=Qw;break;default:f=bh}i=f.bind(null,t,i,e),f=void 0,!dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function ah(e,t,i,u,f){var h=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var x=u.stateNode.containerInfo;if(x===f)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;x!==null;){if(E=Vn(x),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=h=E;continue e}x=x.parentNode}}u=u.return}Qi(function(){var $=h,ie=fr(i),se=[];e:{var F=pe.get(e);if(F!==void 0){var P=xa,Ge=e;switch(e){case"keypress":if(qr(i)===0)break e;case"keydown":case"keyup":P=jo;break;case"focusin":Ge="focus",P=$i;break;case"focusout":Ge="blur",P=$i;break;case"beforeblur":case"afterblur":P=$i;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ja;break;case X:case Q:case ee:P=Ra;break;case be:P=si;break;case"scroll":case"scrollend":P=ka;break;case"wheel":P=ts;break;case"copy":case"cut":case"paste":P=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Pu;break;case"toggle":case"beforetoggle":P=ns}var qe=(t&4)!==0,Et=!qe&&(e==="scroll"||e==="scrollend"),I=qe?F!==null?F+"Capture":null:F;qe=[];for(var L=$,Z;L!==null;){var ae=L;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||I===null||(ae=kr(L,I),ae!=null&&qe.push(zs(L,ae,Z))),Et)break;L=L.return}0<qe.length&&(F=new P(F,Ge,null,i,ie),se.push({event:F,listeners:qe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",F&&i!==Ii&&(Ge=i.relatedTarget||i.fromElement)&&(Vn(Ge)||Ge[Rt]))break e;if((P||F)&&(F=ie.window===ie?ie:(F=ie.ownerDocument)?F.defaultView||F.parentWindow:window,P?(Ge=i.relatedTarget||i.toElement,P=$,Ge=Ge?Vn(Ge):null,Ge!==null&&(Et=c(Ge),qe=Ge.tag,Ge!==Et||qe!==5&&qe!==27&&qe!==6)&&(Ge=null)):(P=null,Ge=$),P!==Ge)){if(qe=Ro,ae="onMouseLeave",I="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Pu,ae="onPointerLeave",I="onPointerEnter",L="pointer"),Et=P==null?F:Ur(P),Z=Ge==null?F:Ur(Ge),F=new qe(ae,L+"leave",P,i,ie),F.target=Et,F.relatedTarget=Z,ae=null,Vn(ie)===$&&(qe=new qe(I,L+"enter",Ge,i,ie),qe.target=Z,qe.relatedTarget=Et,ae=qe),Et=ae,P&&Ge)t:{for(qe=P,I=Ge,L=0,Z=qe;Z;Z=au(Z))L++;for(Z=0,ae=I;ae;ae=au(ae))Z++;for(;0<L-Z;)qe=au(qe),L--;for(;0<Z-L;)I=au(I),Z--;for(;L--;){if(qe===I||I!==null&&qe===I.alternate)break t;qe=au(qe),I=au(I)}qe=null}else qe=null;P!==null&&pg(se,F,P,qe,!1),Ge!==null&&Et!==null&&pg(se,Et,Ge,qe,!0)}}e:{if(F=$?Ur($):window,P=F.nodeName&&F.nodeName.toLowerCase(),P==="select"||P==="input"&&F.type==="file")var Ce=Ko;else if(ls(F))if(Jl)Ce=us;else{Ce=Vo;var tt=as}else P=F.nodeName,!P||P.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?$&&Xu($.elementType)&&(Ce=Ko):Ce=ci;if(Ce&&(Ce=Ce(e,$))){qa(se,Ce,i,ie);break e}tt&&tt(e,F,$),e==="focusout"&&$&&F.type==="number"&&$.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(tt=$?Ur($):window,e){case"focusin":(ls(tt)||tt.contentEditable==="true")&&(D=tt,C=$,N=null);break;case"focusout":N=C=D=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,V(se,i,ie);break;case"selectionchange":if(T)break;case"keydown":case"keyup":V(se,i,ie)}var Me;if(rs)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Pi?Lo(e,i)&&(Ke="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ke="onCompositionStart");Ke&&(Bo&&i.locale!=="ko"&&(Pi||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Pi&&(Me=Ta()):($t=ie,Vl="value"in $t?$t.value:$t.textContent,Pi=!0)),tt=Oc($,Ke),0<tt.length&&(Ke=new Ua(Ke,e,null,i,ie),se.push({event:Ke,listeners:tt}),Me?Ke.data=Me:(Me=is(i),Me!==null&&(Ke.data=Me)))),(Me=za?qo(e,i):Ho(e,i))&&(Ke=Oc($,"onBeforeInput"),0<Ke.length&&(tt=new Ua("onBeforeInput","beforeinput",null,i,ie),se.push({event:tt,listeners:Ke}),tt.data=Me)),vw(se,e,$,i,ie)}hg(se,t)})}function zs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Oc(e,t){for(var i=t+"Capture",u=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=kr(e,i),f!=null&&u.unshift(zs(e,f,h)),f=kr(e,t),f!=null&&u.push(zs(e,f,h))),e.tag===3)return u;e=e.return}return[]}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pg(e,t,i,u,f){for(var h=t._reactName,E=[];i!==null&&i!==u;){var x=i,M=x.alternate,$=x.stateNode;if(x=x.tag,M!==null&&M===u)break;x!==5&&x!==26&&x!==27||$===null||(M=$,f?($=kr(i,h),$!=null&&E.unshift(zs(i,$,M))):f||($=kr(i,h),$!=null&&E.push(zs(i,$,M)))),i=i.return}E.length!==0&&e.push({event:t,listeners:E})}var _w=/\r\n?/g,ww=/\u0000|\uFFFD/g;function vg(e){return(typeof e=="string"?e:""+e).replace(_w,`
`).replace(ww,"")}function gg(e,t){return t=vg(t),vg(e)===t}function Tc(){}function St(e,t,i,u,f,h){switch(i){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||ii(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&ii(e,""+u);break;case"className":ni(e,"class",u);break;case"tabIndex":ni(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(e,i,u);break;case"style":Gu(e,u,h);break;case"data":if(t!=="object"){ni(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=xr(""+u),e.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&St(e,t,"name",f.name,f,null),St(e,t,"formEncType",f.formEncType,f,null),St(e,t,"formMethod",f.formMethod,f,null),St(e,t,"formTarget",f.formTarget,f,null)):(St(e,t,"encType",f.encType,f,null),St(e,t,"method",f.method,f,null),St(e,t,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=xr(""+u),e.setAttribute(i,u);break;case"onClick":u!=null&&(e.onclick=Tc);break;case"onScroll":u!=null&&it("scroll",e);break;case"onScrollEnd":u!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}i=xr(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""+u):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":u===!0?e.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,u):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(i,u):e.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(i):e.setAttribute(i,u);break;case"popover":it("beforetoggle",e),it("toggle",e),Or(e,"popover",u);break;case"xlinkActuate":Gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Or(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=qf.get(i)||i,Or(e,i,u))}}function uh(e,t,i,u,f,h){switch(i){case"style":Gu(e,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof u=="string"?ii(e,u):(typeof u=="number"||typeof u=="bigint")&&ii(e,""+u);break;case"onScroll":u!=null&&it("scroll",e);break;case"onScrollEnd":u!=null&&it("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),h=e[We]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,f),typeof u=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,u,f);break e}i in e?e[i]=u:u===!0?e.setAttribute(i,""):Or(e,i,u)}}}function yn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var u=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var E=i[h];if(E!=null)switch(h){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:St(e,t,h,E,i,null)}}f&&St(e,t,"srcSet",i.srcSet,i,null),u&&St(e,t,"src",i.src,i,null);return;case"input":it("invalid",e);var x=h=E=f=null,M=null,$=null;for(u in i)if(i.hasOwnProperty(u)){var ie=i[u];if(ie!=null)switch(u){case"name":f=ie;break;case"type":E=ie;break;case"checked":M=ie;break;case"defaultChecked":$=ie;break;case"value":h=ie;break;case"defaultValue":x=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,t));break;default:St(e,t,u,ie,i,null)}}Kl(e,h,x,M,$,E,f,!1),vt(e);return;case"select":it("invalid",e),u=E=h=null;for(f in i)if(i.hasOwnProperty(f)&&(x=i[f],x!=null))switch(f){case"value":h=x;break;case"defaultValue":E=x;break;case"multiple":u=x;default:St(e,t,f,x,i,null)}t=h,i=E,e.multiple=!!u,t!=null?Tr(e,!!u,t,!1):i!=null&&Tr(e,!!u,i,!0);return;case"textarea":it("invalid",e),h=f=u=null;for(E in i)if(i.hasOwnProperty(E)&&(x=i[E],x!=null))switch(E){case"value":u=x;break;case"defaultValue":f=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:St(e,t,E,x,i,null)}Xi(e,u,f,h),vt(e);return;case"option":for(M in i)if(i.hasOwnProperty(M)&&(u=i[M],u!=null))switch(M){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:St(e,t,M,u,i,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(u=0;u<Ns.length;u++)it(Ns[u],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in i)if(i.hasOwnProperty($)&&(u=i[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:St(e,t,$,u,i,null)}return;default:if(Xu(t)){for(ie in i)i.hasOwnProperty(ie)&&(u=i[ie],u!==void 0&&uh(e,t,ie,u,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(u=i[x],u!=null&&St(e,t,x,u,i,null))}function Sw(e,t,i,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,E=null,x=null,M=null,$=null,ie=null;for(P in i){var se=i[P];if(i.hasOwnProperty(P)&&se!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":M=se;default:u.hasOwnProperty(P)||St(e,t,P,null,u,se)}}for(var F in u){var P=u[F];if(se=i[F],u.hasOwnProperty(F)&&(P!=null||se!=null))switch(F){case"type":h=P;break;case"name":f=P;break;case"checked":$=P;break;case"defaultChecked":ie=P;break;case"value":E=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,t));break;default:P!==se&&St(e,t,F,P,u,se)}}Hl(e,E,x,M,$,ie,h,f);return;case"select":P=E=x=F=null;for(h in i)if(M=i[h],i.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":P=M;default:u.hasOwnProperty(h)||St(e,t,h,null,u,M)}for(f in u)if(h=u[f],M=i[f],u.hasOwnProperty(f)&&(h!=null||M!=null))switch(f){case"value":F=h;break;case"defaultValue":x=h;break;case"multiple":E=h;default:h!==M&&St(e,t,f,h,u,M)}t=x,i=E,u=P,F!=null?Tr(e,!!i,F,!1):!!u!=!!i&&(t!=null?Tr(e,!!i,t,!0):Tr(e,!!i,i?[]:"",!1));return;case"textarea":P=F=null;for(x in i)if(f=i[x],i.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:St(e,t,x,null,u,f)}for(E in u)if(f=u[E],h=i[E],u.hasOwnProperty(E)&&(f!=null||h!=null))switch(E){case"value":F=f;break;case"defaultValue":P=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&St(e,t,E,f,u,h)}Vu(e,F,P);return;case"option":for(var Ge in i)if(F=i[Ge],i.hasOwnProperty(Ge)&&F!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:St(e,t,Ge,null,u,F)}for(M in u)if(F=u[M],P=i[M],u.hasOwnProperty(M)&&F!==P&&(F!=null||P!=null))switch(M){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:St(e,t,M,F,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in i)F=i[qe],i.hasOwnProperty(qe)&&F!=null&&!u.hasOwnProperty(qe)&&St(e,t,qe,null,u,F);for($ in u)if(F=u[$],P=i[$],u.hasOwnProperty($)&&F!==P&&(F!=null||P!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,t));break;default:St(e,t,$,F,u,P)}return;default:if(Xu(t)){for(var Et in i)F=i[Et],i.hasOwnProperty(Et)&&F!==void 0&&!u.hasOwnProperty(Et)&&uh(e,t,Et,void 0,u,F);for(ie in u)F=u[ie],P=i[ie],!u.hasOwnProperty(ie)||F===P||F===void 0&&P===void 0||uh(e,t,ie,F,u,P);return}}for(var I in i)F=i[I],i.hasOwnProperty(I)&&F!=null&&!u.hasOwnProperty(I)&&St(e,t,I,null,u,F);for(se in u)F=u[se],P=i[se],!u.hasOwnProperty(se)||F===P||F==null&&P==null||St(e,t,se,F,u,P)}var sh=null,oh=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fh=null;function Ew(){var e=window.event;return e&&e.type==="popstate"?e===fh?!1:(fh=e,!0):(fh=null,!1)}var _g=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(e){return wg.resolve(null).then(e).catch(Tw)}:_g;function Tw(e){setTimeout(function(){throw e})}function ml(e){return e==="head"}function Sg(e,t){var i=t,u=0,f=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<u&&8>u){i=u;var E=e.ownerDocument;if(i&1&&Bs(E.documentElement),i&2&&Bs(E.body),i&4)for(i=E.head,Bs(i),E=i.firstChild;E;){var x=E.nextSibling,M=E.nodeName;E[Bl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||i.removeChild(E),E=x}}if(f===0){e.removeChild(h),Xs(t);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:u=i.charCodeAt(0)-48;else u=0;i=h}while(i);Xs(t)}function dh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dh(i),or(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xw(e,t,i,u){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Cr(e.nextSibling),e===null)break}return null}function kw(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Cr(e.nextSibling),e===null))return null;return e}function hh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Dw(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var u=function(){t(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var yh=null;function Eg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Ag(e,t,i){switch(t=xc(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);or(e)}var gr=new Map,Og=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ei=te.d;te.d={f:Cw,r:Rw,D:Uw,C:Mw,L:jw,m:Nw,X:Bw,S:zw,M:Lw};function Cw(){var e=Ei.f(),t=bc();return e||t}function Rw(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Xp(t):Ei.r(e)}var uu=typeof document>"u"?null:document;function Tg(e,t,i){var u=uu;if(u&&typeof t=="string"&&t){var f=_n(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Og.has(f)||(Og.add(f),e={rel:e,crossOrigin:i,href:t},u.querySelector(f)===null&&(t=u.createElement("link"),yn(t,"link",e),Ot(t),u.head.appendChild(t)))}}function Uw(e){Ei.D(e),Tg("dns-prefetch",e,null)}function Mw(e,t){Ei.C(e,t),Tg("preconnect",e,t)}function jw(e,t,i){Ei.L(e,t,i);var u=uu;if(u&&e&&t){var f='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+_n(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+_n(i.imageSizes)+'"]')):f+='[href="'+_n(e)+'"]';var h=f;switch(t){case"style":h=su(e);break;case"script":h=ou(e)}gr.has(h)||(e=m({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),gr.set(h,e),u.querySelector(f)!==null||t==="style"&&u.querySelector(Ls(h))||t==="script"&&u.querySelector(qs(h))||(t=u.createElement("link"),yn(t,"link",e),Ot(t),u.head.appendChild(t)))}}function Nw(e,t){Ei.m(e,t);var i=uu;if(i&&e){var u=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(e)+'"]',h=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ou(e)}if(!gr.has(h)&&(e=m({rel:"modulepreload",href:e},t),gr.set(h,e),i.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(qs(h)))return}u=i.createElement("link"),yn(u,"link",e),Ot(u),i.head.appendChild(u)}}}function zw(e,t,i){Ei.S(e,t,i);var u=uu;if(u&&e){var f=Ki(u).hoistableStyles,h=su(e);t=t||"default";var E=f.get(h);if(!E){var x={loading:0,preload:null};if(E=u.querySelector(Ls(h)))x.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},i),(i=gr.get(h))&&ph(e,i);var M=E=u.createElement("link");Ot(M),yn(M,"link",e),M._p=new Promise(function($,ie){M.onload=$,M.onerror=ie}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Dc(E,t,u)}E={type:"stylesheet",instance:E,count:1,state:x},f.set(h,E)}}}function Bw(e,t){Ei.X(e,t);var i=uu;if(i&&e){var u=Ki(i).hoistableScripts,f=ou(e),h=u.get(f);h||(h=i.querySelector(qs(f)),h||(e=m({src:e,async:!0},t),(t=gr.get(f))&&vh(e,t),h=i.createElement("script"),Ot(h),yn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function Lw(e,t){Ei.M(e,t);var i=uu;if(i&&e){var u=Ki(i).hoistableScripts,f=ou(e),h=u.get(f);h||(h=i.querySelector(qs(f)),h||(e=m({src:e,async:!0,type:"module"},t),(t=gr.get(f))&&vh(e,t),h=i.createElement("script"),Ot(h),yn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function xg(e,t,i,u){var f=(f=ke.current)?kc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=su(i.href),i=Ki(f).hoistableStyles,u=i.get(t),u||(u={type:"style",instance:null,count:0,state:null},i.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=su(i.href);var h=Ki(f).hoistableStyles,E=h.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,E),(h=f.querySelector(Ls(e)))&&!h._p&&(E.instance=h,E.state.loading=5),gr.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},gr.set(e,i),h||qw(f,e,i,E.state))),t&&u===null)throw Error(a(528,""));return E}if(t&&u!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ou(i),i=Ki(f).hoistableScripts,u=i.get(t),u||(u={type:"script",instance:null,count:0,state:null},i.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function su(e){return'href="'+_n(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function qw(e,t,i,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),yn(t,"link",i),Ot(t),e.head.appendChild(t))}function ou(e){return'[src="'+_n(e)+'"]'}function qs(e){return"script[async]"+e}function Dg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+_n(i.href)+'"]');if(u)return t.instance=u,Ot(u),u;var f=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ot(u),yn(u,"style",f),Dc(u,i.precedence,e),t.instance=u;case"stylesheet":f=su(i.href);var h=e.querySelector(Ls(f));if(h)return t.state.loading|=4,t.instance=h,Ot(h),h;u=kg(i),(f=gr.get(f))&&ph(u,f),h=(e.ownerDocument||e).createElement("link"),Ot(h);var E=h;return E._p=new Promise(function(x,M){E.onload=x,E.onerror=M}),yn(h,"link",u),t.state.loading|=4,Dc(h,i.precedence,e),t.instance=h;case"script":return h=ou(i.src),(f=e.querySelector(qs(h)))?(t.instance=f,Ot(f),f):(u=i,(f=gr.get(h))&&(u=m({},i),vh(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ot(f),yn(f,"link",u),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,Dc(u,i.precedence,e));return t.instance}function Dc(e,t,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,h=f,E=0;E<u.length;E++){var x=u[E];if(x.dataset.precedence===t)h=x;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cc=null;function Cg(e,t,i){if(Cc===null){var u=new Map,f=Cc=new Map;f.set(i,u)}else f=Cc,u=f.get(i),u||(u=new Map,f.set(i,u));if(u.has(e))return u;for(u.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[Bl]||h[Kt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var E=h.getAttribute(t)||"";E=e+E;var x=u.get(E);x?x.push(h):u.set(E,[h])}}return u}function Rg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Hw(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ug(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hs=null;function Kw(){}function Yw(e,t,i){if(Hs===null)throw Error(a(475));var u=Hs;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var f=su(i.href),h=e.querySelector(Ls(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Rc.bind(u),e.then(u,u)),t.state.loading|=4,t.instance=h,Ot(h);return}h=e.ownerDocument||e,i=kg(i),(f=gr.get(f))&&ph(i,f),h=h.createElement("link"),Ot(h);var E=h;E._p=new Promise(function(x,M){E.onload=x,E.onerror=M}),yn(h,"link",i),t.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(u.count++,t=Rc.bind(u),e.addEventListener("load",t),e.addEventListener("error",t))}}function Vw(){if(Hs===null)throw Error(a(475));var e=Hs;return e.stylesheets&&e.count===0&&gh(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&gh(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function gh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,t.forEach(Gw,e),Uc=null,Rc.call(e))}function Gw(e,t){if(!(t.state.loading&4)){var i=Uc.get(e);if(i)var u=i.get(null);else{i=new Map,Uc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var E=f[h];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(i.set(E.dataset.precedence,E),u=E)}u&&i.set(null,u)}f=t.instance,E=f.getAttribute("data-precedence"),h=i.get(E)||u,h===u&&i.set(null,f),i.set(E,f),this.count++,u=Rc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Ks={$$typeof:H,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Xw(e,t,i,u,f,h,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Mg(e,t,i,u,f,h,E,x,M,$,ie,se){return e=new Xw(e,t,i,E,x,M,$,se),t=1,h===!0&&(t|=24),h=Zn(3,null,null,t),e.current=h,h.stateNode=e,t=Pf(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:u,isDehydrated:i,cache:t},nd(h),e}function jg(e){return e?(e=Nn,e):Nn}function Ng(e,t,i,u,f,h){f=jg(f),u.context===null?u.context=f:u.pendingContext=f,u=ll(t),u.payload={element:i},h=h===void 0?null:h,h!==null&&(u.callback=h),i=al(e,u,t),i!==null&&(Wn(i,e,t),gs(i,e,t))}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function mh(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function Bg(e){if(e.tag===13){var t=Nt(e,67108864);t!==null&&Wn(t,e,67108864),mh(e,67108864)}}var Mc=!0;function Iw(e,t,i,u){var f=B.T;B.T=null;var h=te.p;try{te.p=2,bh(e,t,i,u)}finally{te.p=h,B.T=f}}function Qw(e,t,i,u){var f=B.T;B.T=null;var h=te.p;try{te.p=8,bh(e,t,i,u)}finally{te.p=h,B.T=f}}function bh(e,t,i,u){if(Mc){var f=_h(u);if(f===null)ah(e,t,u,jc,i),qg(e,u);else if(Jw(f,e,t,i,u))u.stopPropagation();else if(qg(e,u),t&4&&-1<Zw.indexOf(e)){for(;f!==null;){var h=Dn(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var E=bn(h.pendingLanes);if(E!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var M=1<<31-Jt(E);x.entanglements[1]|=M,E&=~M}Gr(h),(mt&6)===0&&(gc=ln()+500,js(0))}}break;case 13:x=Nt(h,2),x!==null&&Wn(x,h,2),bc(),mh(h,2)}if(h=_h(u),h===null&&ah(e,t,u,jc,i),h===f)break;f=h}f!==null&&u.stopPropagation()}else ah(e,t,u,null,i)}}function _h(e){return e=fr(e),wh(e)}var jc=null;function wh(e){if(jc=null,e=Vn(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=y(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jc=e,null}function Lg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case To:return 2;case ba:return 8;case kn:case xo:return 32;case Bi:return 268435456;default:return 32}default:return 32}}var Sh=!1,bl=null,_l=null,wl=null,Ys=new Map,Vs=new Map,Sl=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function Gs(e,t,i,u,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},t!==null&&(t=Dn(t),t!==null&&Bg(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Jw(e,t,i,u,f){switch(t){case"focusin":return bl=Gs(bl,e,t,i,u,f),!0;case"dragenter":return _l=Gs(_l,e,t,i,u,f),!0;case"mouseover":return wl=Gs(wl,e,t,i,u,f),!0;case"pointerover":var h=f.pointerId;return Ys.set(h,Gs(Ys.get(h)||null,e,t,i,u,f)),!0;case"gotpointercapture":return h=f.pointerId,Vs.set(h,Gs(Vs.get(h)||null,e,t,i,u,f)),!0}return!1}function Hg(e){var t=Vn(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=y(i),t!==null){e.blockedOn=t,Hi(e.priority,function(){if(i.tag===13){var u=Pn();u=Lu(u);var f=Nt(i,u);f!==null&&Wn(f,i,u),mh(i,u)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=_h(e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Ii=u,i.target.dispatchEvent(u),Ii=null}else return t=Dn(i),t!==null&&Bg(t),e.blockedOn=i,!1;t.shift()}return!0}function Kg(e,t,i){Nc(e)&&i.delete(t)}function $w(){Sh=!1,bl!==null&&Nc(bl)&&(bl=null),_l!==null&&Nc(_l)&&(_l=null),wl!==null&&Nc(wl)&&(wl=null),Ys.forEach(Kg),Vs.forEach(Kg)}function zc(e,t){e.blockedOn===t&&(e.blockedOn=null,Sh||(Sh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$w)))}var Bc=null;function Yg(e){Bc!==e&&(Bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var t=0;t<e.length;t+=3){var i=e[t],u=e[t+1],f=e[t+2];if(typeof u!="function"){if(wh(u||i)===null)continue;break}var h=Dn(i);h!==null&&(e.splice(t,3),t-=3,wd(h,{pending:!0,data:f,method:i.method,action:u},u,f))}}))}function Xs(e){function t(M){return zc(M,e)}bl!==null&&zc(bl,e),_l!==null&&zc(_l,e),wl!==null&&zc(wl,e),Ys.forEach(t),Vs.forEach(t);for(var i=0;i<Sl.length;i++){var u=Sl[i];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Sl.length&&(i=Sl[0],i.blockedOn===null);)Hg(i),i.blockedOn===null&&Sl.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var f=i[u],h=i[u+1],E=f[We]||null;if(typeof h=="function")E||Yg(i);else if(E){var x=null;if(h&&h.hasAttribute("formAction")){if(f=h,E=h[We]||null)x=E.formAction;else if(wh(f)!==null)continue}else x=E.action;typeof x=="function"?i[u+1]=x:(i.splice(u,3),u-=3),Yg(i)}}}function Eh(e){this._internalRoot=e}Lc.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,u=Pn();Ng(i,u,e,t,null,null)},Lc.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ng(e.current,2,null,e,null,null),bc(),t[Rt]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ti();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Sl.length&&t!==0&&t<Sl[i].priority;i++);Sl.splice(i,0,e),i===0&&Hg(e)}};var Vg=n.version;if(Vg!=="19.1.0")throw Error(a(527,Vg,"19.1.0"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=b(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Fw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Yn=qc.inject(Fw),Ht=qc}catch{}}return Qs.createRoot=function(e,t){if(!s(e))throw Error(a(299));var i=!1,u="",f=lv,h=av,E=uv,x=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=Mg(e,1,!1,null,null,i,u,f,h,E,x,null),e[Rt]=t.current,lh(e),new Eh(t)},Qs.hydrateRoot=function(e,t,i){if(!s(e))throw Error(a(299));var u=!1,f="",h=lv,E=av,x=uv,M=null,$=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks),i.formState!==void 0&&($=i.formState)),t=Mg(e,1,!0,t,i??null,u,f,h,E,x,M,$),t.context=jg(null),i=t.current,u=Pn(),u=Lu(u),f=ll(u),f.callback=null,al(i,f,u),i=u,t.current.lanes=i,qi(t,i),Gr(t),e[Rt]=t.current,lh(e),new Lc(t)},Qs.version="19.1.0",Qs}var em;function cS(){if(em)return Th.exports;em=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Th.exports=oS(),Th.exports}var fS=cS(),Jc={exports:{}},dS=Jc.exports,tm;function hS(){return tm||(tm=1,function(r,n){(function(l,a){r.exports=a()})(dS,function(){var l=function(o,d){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(g[S]=_[S])})(o,d)},a=function(){return(a=Object.assign||function(o){for(var d,g=1,_=arguments.length;g<_;g++)for(var S in d=arguments[g])Object.prototype.hasOwnProperty.call(d,S)&&(o[S]=d[S]);return o}).apply(this,arguments)};function s(o,d,g){for(var _,S=0,T=d.length;S<T;S++)!_&&S in d||((_=_||Array.prototype.slice.call(d,0,S))[S]=d[S]);return o.concat(_||Array.prototype.slice.call(d))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tS,y=Object.keys,p=Array.isArray;function b(o,d){return typeof d!="object"||y(d).forEach(function(g){o[g]=d[g]}),o}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var v=Object.getPrototypeOf,m={}.hasOwnProperty;function w(o,d){return m.call(o,d)}function A(o,d){typeof d=="function"&&(d=d(v(o))),(typeof Reflect>"u"?y:Reflect.ownKeys)(d).forEach(function(g){k(o,g,d[g])})}var O=Object.defineProperty;function k(o,d,g,_){O(o,d,b(g&&w(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},_))}function j(o){return{from:function(d){return o.prototype=Object.create(d.prototype),k(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var J=Object.getOwnPropertyDescriptor,ce=[].slice;function ue(o,d,g){return ce.call(o,d,g)}function H(o,d){return d(o)}function he(o){if(!o)throw new Error("Assertion Failed")}function de(o){c.setImmediate?setImmediate(o):setTimeout(o,0)}function we(o,d){if(typeof d=="string"&&w(o,d))return o[d];if(!d)return o;if(typeof d!="string"){for(var g=[],_=0,S=d.length;_<S;++_){var T=we(o,d[_]);g.push(T)}return g}var D=d.indexOf(".");if(D!==-1){var C=o[d.substr(0,D)];return C==null?void 0:we(C,d.substr(D+1))}}function Oe(o,d,g){if(o&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof d!="string"&&"length"in d){he(typeof g!="string"&&"length"in g);for(var _=0,S=d.length;_<S;++_)Oe(o,d[_],g[_])}else{var T,D,C=d.indexOf(".");C!==-1?(T=d.substr(0,C),(D=d.substr(C+1))===""?g===void 0?p(o)&&!isNaN(parseInt(T))?o.splice(T,1):delete o[T]:o[T]=g:Oe(C=!(C=o[T])||!w(o,T)?o[T]={}:C,D,g)):g===void 0?p(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=g}}function $e(o){var d,g={};for(d in o)w(o,d)&&(g[d]=o[d]);return g}var Ne=[].concat;function lt(o){return Ne.apply([],o)}var Yn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(lt([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(d){return d+o+"Array"})}))).filter(function(o){return c[o]}),ge=new Set(Yn.map(function(o){return c[o]})),Ue=null;function Ye(o){return Ue=new WeakMap,o=function d(g){if(!g||typeof g!="object")return g;var _=Ue.get(g);if(_)return _;if(p(g)){_=[],Ue.set(g,_);for(var S=0,T=g.length;S<T;++S)_.push(d(g[S]))}else if(ge.has(g.constructor))_=g;else{var D,C=v(g);for(D in _=C===Object.prototype?{}:Object.create(C),Ue.set(g,_),g)w(g,D)&&(_[D]=d(g[D]))}return _}(o),Ue=null,o}var Xe={}.toString;function ze(o){return Xe.call(o).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof B=="symbol"?function(o){var d;return o!=null&&(d=o[B])&&d.apply(o)}:function(){return null};function oe(o,d){return d=o.indexOf(d),0<=d&&o.splice(d,1),0<=d}var Te={};function R(o){var d,g,_,S;if(arguments.length===1){if(p(o))return o.slice();if(this===Te&&typeof o=="string")return[o];if(S=te(o)){for(g=[];!(_=S.next()).done;)g.push(_.value);return g}if(o==null)return[o];if(typeof(d=o.length)!="number")return[o];for(g=new Array(d);d--;)g[d]=o[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var W=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ml=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Un=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ml),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fe(o,d){this.name=o,this.message=d}function xe(o,d){return o+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,_,S){return S.indexOf(g)===_}).join(`
`)}function Le(o,d,g,_){this.failures=d,this.failedKeys=_,this.successCount=g,this.message=xe(o,d)}function ke(o,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=xe(o,this.failures)}j(fe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(Le).from(fe),j(ke).from(fe);var yt=Un.reduce(function(o,d){return o[d]=d+"Error",o},{}),Ie=fe,Ee=Un.reduce(function(o,d){var g=d+"Error";function _(S,T){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(T?`
 `+T:""),this.inner=T||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=le[d]||g,this.inner=null)}return j(_).from(Ie),o[d]=_,o},{});Ee.Syntax=SyntaxError,Ee.Type=TypeError,Ee.Range=RangeError;var gt=Ml.reduce(function(o,d){return o[d+"Error"]=Ee[d],o},{}),Ct=Un.reduce(function(o,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(o[d+"Error"]=Ee[d]),o},{});function Be(){}function Fe(o){return o}function at(o,d){return o==null||o===Fe?d:function(g){return d(o(g))}}function pt(o,d){return function(){o.apply(this,arguments),d.apply(this,arguments)}}function xn(o,d){return o===Be?d:function(){var g=o.apply(this,arguments);g!==void 0&&(arguments[0]=g);var _=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var T=d.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?pt(_,this.onsuccess):_),S&&(this.onerror=this.onerror?pt(S,this.onerror):S),T!==void 0?T:g}}function ln(o,d){return o===Be?d:function(){o.apply(this,arguments);var g=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?pt(g,this.onsuccess):g),_&&(this.onerror=this.onerror?pt(_,this.onerror):_)}}function ar(o,d){return o===Be?d:function(g){var _=o.apply(this,arguments);b(g,_);var S=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?pt(S,this.onsuccess):S),T&&(this.onerror=this.onerror?pt(T,this.onerror):T),_===void 0?g===void 0?void 0:g:b(_,g)}}function To(o,d){return o===Be?d:function(){return d.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ba(o,d){return o===Be?d:function(){var g=o.apply(this,arguments);if(g&&typeof g.then=="function"){for(var _=this,S=arguments.length,T=new Array(S);S--;)T[S]=arguments[S];return g.then(function(){return d.apply(_,T)})}return d.apply(this,arguments)}}Ct.ModifyError=Le,Ct.DexieError=fe,Ct.BulkError=ke;var kn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xo(o){kn=o}var Bi={},ko=100,Yn=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,v(o),o];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,v(d),o]}(),Ml=Yn[0],Un=Yn[1],Yn=Yn[2],Un=Un&&Un.then,Ht=Ml&&Ml.constructor,ur=!!Yn,Jt=function(o,d){Ar.push([o,d]),_a&&(queueMicrotask(qu),_a=!1)},Nu=!0,_a=!0,Pr=[],Wr=[],Li=Fe,bn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Be,pgp:!1,env:{},finalize:Be},Re=bn,Ar=[],ei=0,jl=[];function Ae(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Re;if(typeof o!="function"){if(o!==Bi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zu(this,this._value))}this._state=null,this._value=null,++d.ref,function g(_,S){try{S(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var D=_._lib&&ti();T&&typeof T.then=="function"?g(_,function(C,N){T instanceof Ae?T._then(C,N):T.then(C,N)}):(_._state=!0,_._value=T,Bu(_)),D&&Hi()}},zu.bind(null,_))}catch(T){zu(_,T)}}(this,o)}var Nl={get:function(){var o=Re,d=zl;function g(_,S){var T=this,D=!o.global&&(o!==Re||d!==zl),C=D&&!Dn(),N=new Ae(function(q,V){wa(T,new qi(jr(_,o,D,C),jr(S,o,D,C),q,V,o))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return g.prototype=Bi,g},set:function(o){k(this,"then",o&&o.prototype===Bi?Nl:{get:function(){return o},set:Nl.set})}};function qi(o,d,g,_,S){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=_,this.psd=S}function zu(o,d){var g,_;Wr.push(d),o._state===null&&(g=o._lib&&ti(),d=Li(d),o._state=!1,o._value=d,_=o,Pr.some(function(S){return S._value===_._value})||Pr.push(_),Bu(o),g&&Hi())}function Bu(o){var d=o._listeners;o._listeners=[];for(var g=0,_=d.length;g<_;++g)wa(o,d[g]);var S=o._PSD;--S.ref||S.finalize(),ei===0&&(++ei,Jt(function(){--ei==0&&sr()},[]))}function wa(o,d){if(o._state!==null){var g=o._state?d.onFulfilled:d.onRejected;if(g===null)return(o._state?d.resolve:d.reject)(o._value);++d.psd.ref,++ei,Jt(Lu,[g,o,d])}else o._listeners.push(d)}function Lu(o,d,g){try{var _,S=d._value;!d._state&&Wr.length&&(Wr=[]),_=kn&&d._consoleTask?d._consoleTask.run(function(){return o(S)}):o(S),d._state||Wr.indexOf(S)!==-1||function(T){for(var D=Pr.length;D;)if(Pr[--D]._value===T._value)return Pr.splice(D,1)}(d),g.resolve(_)}catch(T){g.reject(T)}finally{--ei==0&&sr(),--g.psd.ref||g.psd.finalize()}}function qu(){Mr(bn,function(){ti()&&Hi()})}function ti(){var o=Nu;return _a=Nu=!1,o}function Hi(){var o,d,g;do for(;0<Ar.length;)for(o=Ar,Ar=[],g=o.length,d=0;d<g;++d){var _=o[d];_[0].apply(null,_[1])}while(0<Ar.length);_a=Nu=!0}function sr(){var o=Pr;Pr=[],o.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var d=jl.slice(0),g=d.length;g;)d[--g]()}function Kt(o){return new Ae(Bi,!1,o)}function We(o,d){var g=Re;return function(){var _=ti(),S=Re;try{return Ot(g,!0),o.apply(this,arguments)}catch(T){d&&d(T)}finally{Ot(S,!1),_&&Hi()}}}A(Ae.prototype,{then:Nl,_then:function(o,d){wa(this,new qi(null,null,o,d,Re))},catch:function(o){if(arguments.length===1)return this.then(null,o);var d=o,g=arguments[1];return typeof d=="function"?this.then(null,function(_){return(_ instanceof d?g:Kt)(_)}):this.then(null,function(_){return(_&&_.name===d?g:Kt)(_)})},finally:function(o){return this.then(function(d){return Ae.resolve(o()).then(function(){return d})},function(d){return Ae.resolve(o()).then(function(){return Kt(d)})})},timeout:function(o,d){var g=this;return o<1/0?new Ae(function(_,S){var T=setTimeout(function(){return S(new Ee.Timeout(d))},o);g.then(_,S).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),bn.env=Ku(),A(Ae,{all:function(){var o=R.apply(null,arguments).map(Ur);return new Ae(function(d,g){o.length===0&&d([]);var _=o.length;o.forEach(function(S,T){return Ae.resolve(S).then(function(D){o[T]=D,--_||d(o)},g)})})},resolve:function(o){return o instanceof Ae?o:o&&typeof o.then=="function"?new Ae(function(d,g){o.then(d,g)}):new Ae(Bi,!0,o)},reject:Kt,race:function(){var o=R.apply(null,arguments).map(Ur);return new Ae(function(d,g){o.map(function(_){return Ae.resolve(_).then(d,g)})})},PSD:{get:function(){return Re},set:function(o){return Re=o}},totalEchoes:{get:function(){return zl}},newPSD:or,usePSD:Mr,scheduler:{get:function(){return Jt},set:function(o){Jt=o}},rejectionMapper:{get:function(){return Li},set:function(o){Li=o}},follow:function(o,d){return new Ae(function(g,_){return or(function(S,T){var D=Re;D.unhandleds=[],D.onunhandled=T,D.finalize=pt(function(){var C,N=this;C=function(){N.unhandleds.length===0?S():T(N.unhandleds[0])},jl.push(function q(){C(),jl.splice(jl.indexOf(q),1)}),++ei,Jt(function(){--ei==0&&sr()},[])},D.finalize),o()},d,g,_)})}}),Ht&&(Ht.allSettled&&k(Ae,"allSettled",function(){var o=R.apply(null,arguments).map(Ur);return new Ae(function(d){o.length===0&&d([]);var g=o.length,_=new Array(g);o.forEach(function(S,T){return Ae.resolve(S).then(function(D){return _[T]={status:"fulfilled",value:D}},function(D){return _[T]={status:"rejected",reason:D}}).then(function(){return--g||d(_)})})})}),Ht.any&&typeof AggregateError<"u"&&k(Ae,"any",function(){var o=R.apply(null,arguments).map(Ur);return new Ae(function(d,g){o.length===0&&g(new AggregateError([]));var _=o.length,S=new Array(_);o.forEach(function(T,D){return Ae.resolve(T).then(function(C){return d(C)},function(C){S[D]=C,--_||g(new AggregateError(S))})})})}),Ht.withResolvers&&(Ae.withResolvers=Ht.withResolvers));var Rt={awaits:0,echoes:0,id:0},Hu=0,Sa=[],Ea=0,zl=0,Bl=0;function or(o,d,g,_){var S=Re,T=Object.create(S);return T.parent=S,T.ref=0,T.global=!1,T.id=++Bl,bn.env,T.env=ur?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},d&&b(T,d),++S.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Mr(T,o,g,_),T.ref===0&&T.finalize(),_}function Vn(){return Rt.id||(Rt.id=++Hu),++Rt.awaits,Rt.echoes+=ko,Rt.id}function Dn(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*ko,!0)}function Ur(o){return Rt.echoes&&o&&o.constructor===Ht?(Vn(),o.then(function(d){return Dn(),d},function(d){return Dn(),jt(d)})):o}function Ki(){var o=Sa[Sa.length-1];Sa.pop(),Ot(o,!1)}function Ot(o,d){var g,_=Re;(d?!Rt.echoes||Ea++&&o===Re:!Ea||--Ea&&o===Re)||queueMicrotask(d?(function(S){++zl,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),Sa.push(Re),Ot(S,!0)}).bind(null,o):Ki),o!==Re&&(Re=o,_===bn&&(bn.env=Ku()),ur&&(g=bn.env.Promise,d=o.env,(_.global||o.global)&&(Object.defineProperty(c,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function Ku(){var o=c.Promise;return ur?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Mr(o,d,g,_,S){var T=Re;try{return Ot(o,!0),d(g,_,S)}finally{Ot(T,!1)}}function jr(o,d,g,_){return typeof o!="function"?o:function(){var S=Re;g&&Vn(),Ot(d,!0);try{return o.apply(this,arguments)}finally{Ot(S,!1),_&&queueMicrotask(Dn)}}}function Nr(o){Promise===Ht&&Rt.echoes===0?Ea===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Un).indexOf("[native code]")===-1&&(Vn=Dn=Be);var jt=Ae.reject,zr="",cr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Do="String expected.",Or=[],ni="__dbnames",Gn="readonly",Ll="readwrite";function Br(o,d){return o?d?function(){return o.apply(this,arguments)&&d.apply(this,arguments)}:o:d}var ri={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yi(o){return typeof o!="string"||/\./.test(o)?function(d){return d}:function(d){return d[o]===void 0&&o in d&&delete(d=Ye(d))[o],d}}function Aa(){throw Ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(o,d){try{var g=Yu(o),_=Yu(d);if(g!==_)return g==="Array"?1:_==="Array"?-1:g==="binary"?1:_==="binary"?-1:g==="string"?1:_==="string"?-1:g==="Date"?1:_!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<o?1:o<d?-1:0;case"binary":return function(S,T){for(var D=S.length,C=T.length,N=D<C?D:C,q=0;q<N;++q)if(S[q]!==T[q])return S[q]<T[q]?-1:1;return D===C?0:D<C?-1:1}(Cn(o),Cn(d));case"Array":return function(S,T){for(var D=S.length,C=T.length,N=D<C?D:C,q=0;q<N;++q){var V=nt(S[q],T[q]);if(V!==0)return V}return D===C?0:D<C?-1:1}(o,d)}}catch{}return NaN}function Yu(o){var d=typeof o;return d!="object"?d:ArrayBuffer.isView(o)?"binary":(o=ze(o),o==="ArrayBuffer"?"binary":o)}function Cn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function ql(o,d,g){var _=o.schema.yProps;return _?(d&&0<g.numFailures&&(d=d.filter(function(S,T){return!g.failures[T]})),Promise.all(_.map(function(S){return S=S.updatesTable,d?o.db.table(S).where("k").anyOf(d).delete():o.db.table(S).clear()})).then(function(){return g})):g}var Co=(vt.prototype._trans=function(o,d,g){var _=this._tx||Re.trans,S=this.name,T=kn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function D(q,V,U){if(!U.schema[S])throw new Ee.NotFound("Table "+S+" not part of transaction");return d(U.idbtrans,U)}var C=ti();try{var N=_&&_.db._novip===this.db._novip?_===Re.trans?_._promise(o,D,g):or(function(){return _._promise(o,D,g)},{trans:_,transless:Re.transless||Re}):function q(V,U,G,z){if(V.idbdb&&(V._state.openComplete||Re.letThrough||V._vip)){var K=V._createTransaction(U,G,V._dbSchema);try{K.create(),V._state.PR1398_maxLoop=3}catch(Y){return Y.name===yt.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return q(V,U,G,z)})):jt(Y)}return K._promise(U,function(Y,X){return or(function(){return Re.trans=K,z(Y,X,K)})}).then(function(Y){if(U==="readwrite")try{K.idbtrans.commit()}catch{}return U==="readonly"?Y:K._completion.then(function(){return Y})})}if(V._state.openComplete)return jt(new Ee.DatabaseClosed(V._state.dbOpenError));if(!V._state.isBeingOpened){if(!V._state.autoOpen)return jt(new Ee.DatabaseClosed);V.open().catch(Be)}return V._state.dbReadyPromise.then(function(){return q(V,U,G,z)})}(this.db,o,[this.name],D);return T&&(N._consoleTask=T,N=N.catch(function(q){return console.trace(q),jt(q)})),N}finally{C&&Hi()}},vt.prototype.get=function(o,d){var g=this;return o&&o.constructor===Object?this.where(o).first(d):o==null?jt(new Ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return g.core.get({trans:_,key:o}).then(function(S){return g.hook.reading.fire(S)})}).then(d)},vt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(p(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var d=y(o);if(d.length===1)return this.where(d[0]).equals(o[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&d.every(function(q){return 0<=C.keyPath.indexOf(q)})){for(var N=0;N<d.length;++N)if(d.indexOf(C.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(C,N){return C.keyPath.length-N.keyPath.length})[0];if(g&&this.db._maxKey!==zr){var T=g.keyPath.slice(0,d.length);return this.where(T).equals(T.map(function(N){return o[N]}))}!g&&kn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var _=this.schema.idxByName;function S(C,N){return nt(C,N)===0}var D=d.reduce(function(U,N){var q=U[0],V=U[1],U=_[N],G=o[N];return[q||U,q||!U?Br(V,U&&U.multi?function(z){return z=we(z,N),p(z)&&z.some(function(K){return S(G,K)})}:function(z){return S(G,we(z,N))}):V]},[null,null]),T=D[0],D=D[1];return T?this.where(T.name).equals(o[T.keyPath]).filter(D):g?this.filter(D):this.where(d).equals("")},vt.prototype.filter=function(o){return this.toCollection().and(o)},vt.prototype.count=function(o){return this.toCollection().count(o)},vt.prototype.offset=function(o){return this.toCollection().offset(o)},vt.prototype.limit=function(o){return this.toCollection().limit(o)},vt.prototype.each=function(o){return this.toCollection().each(o)},vt.prototype.toArray=function(o){return this.toCollection().toArray(o)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,p(o)?"[".concat(o.join("+"),"]"):o))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(o){var d,g=this.db,_=this.name;function S(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Aa&&(function(N,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function V(){this.constructor=N}l(N,q),N.prototype=q===null?Object.create(q):(V.prototype=q.prototype,new V)}(S,d=o),Object.defineProperty(S.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),S.prototype.table=function(){return _},o=S);for(var T=new Set,D=o.prototype;D;D=v(D))Object.getOwnPropertyNames(D).forEach(function(N){return T.add(N)});function C(N){if(!N)return N;var q,V=Object.create(o.prototype);for(q in N)if(!T.has(q))try{V[q]=N[q]}catch{}return V}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),o},vt.prototype.defineClass=function(){return this.mapToClass(function(o){b(this,o)})},vt.prototype.add=function(o,d){var g=this,_=this.schema.primKey,S=_.auto,T=_.keyPath,D=o;return T&&S&&(D=Yi(T)(o)),this._trans("readwrite",function(C){return g.core.mutate({trans:C,type:"add",keys:d!=null?[d]:null,values:[D]})}).then(function(C){return C.numFailures?Ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(T)try{Oe(o,T,C)}catch{}return C})},vt.prototype.update=function(o,d){return typeof o!="object"||p(o)?this.where(":id").equals(o).modify(d):(o=we(o,this.schema.primKey.keyPath),o===void 0?jt(new Ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(d))},vt.prototype.put=function(o,d){var g=this,_=this.schema.primKey,S=_.auto,T=_.keyPath,D=o;return T&&S&&(D=Yi(T)(o)),this._trans("readwrite",function(C){return g.core.mutate({trans:C,type:"put",values:[D],keys:d!=null?[d]:null})}).then(function(C){return C.numFailures?Ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(T)try{Oe(o,T,C)}catch{}return C})},vt.prototype.delete=function(o){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[o]}).then(function(_){return ql(d,[o],_)}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})})},vt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"deleteRange",range:ri}).then(function(g){return ql(o,null,g)})}).then(function(d){return d.numFailures?Ae.reject(d.failures[0]):void 0})},vt.prototype.bulkGet=function(o){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:o,trans:g}).then(function(_){return _.map(function(S){return d.hook.reading.fire(S)})})})},vt.prototype.bulkAdd=function(o,d,g){var _=this,S=Array.isArray(d)?d:void 0,T=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(D){var q=_.schema.primKey,C=q.auto,q=q.keyPath;if(q&&S)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,q=q&&C?o.map(Yi(q)):o;return _.core.mutate({trans:D,type:"add",keys:S,values:q,wantResults:T}).then(function(K){var U=K.numFailures,G=K.results,z=K.lastResult,K=K.failures;if(U===0)return T?G:z;throw new ke("".concat(_.name,".bulkAdd(): ").concat(U," of ").concat(N," operations failed"),K)})})},vt.prototype.bulkPut=function(o,d,g){var _=this,S=Array.isArray(d)?d:void 0,T=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(D){var q=_.schema.primKey,C=q.auto,q=q.keyPath;if(q&&S)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,q=q&&C?o.map(Yi(q)):o;return _.core.mutate({trans:D,type:"put",keys:S,values:q,wantResults:T}).then(function(K){var U=K.numFailures,G=K.results,z=K.lastResult,K=K.failures;if(U===0)return T?G:z;throw new ke("".concat(_.name,".bulkPut(): ").concat(U," of ").concat(N," operations failed"),K)})})},vt.prototype.bulkUpdate=function(o){var d=this,g=this.core,_=o.map(function(D){return D.key}),S=o.map(function(D){return D.changes}),T=[];return this._trans("readwrite",function(D){return g.getMany({trans:D,keys:_,cache:"clone"}).then(function(C){var N=[],q=[];o.forEach(function(U,G){var z=U.key,K=U.changes,Y=C[G];if(Y){for(var X=0,Q=Object.keys(K);X<Q.length;X++){var ee=Q[X],ne=K[ee];if(ee===d.schema.primKey.keyPath){if(nt(ne,z)!==0)throw new Ee.Constraint("Cannot update primary key in bulkUpdate()")}else Oe(Y,ee,ne)}T.push(G),N.push(z),q.push(Y)}});var V=N.length;return g.mutate({trans:D,type:"put",keys:N,values:q,updates:{keys:_,changeSpecs:S}}).then(function(U){var G=U.numFailures,z=U.failures;if(G===0)return V;for(var K=0,Y=Object.keys(z);K<Y.length;K++){var X,Q=Y[K],ee=T[Number(Q)];ee!=null&&(X=z[Q],delete z[Q],z[ee]=X)}throw new ke("".concat(d.name,".bulkUpdate(): ").concat(G," of ").concat(V," operations failed"),z)})})})},vt.prototype.bulkDelete=function(o){var d=this,g=o.length;return this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"delete",keys:o}).then(function(S){return ql(d,o,S)})}).then(function(D){var S=D.numFailures,T=D.lastResult,D=D.failures;if(S===0)return T;throw new ke("".concat(d.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),D)})},vt);function vt(){}function Vi(o){function d(D,C){if(C){for(var N=arguments.length,q=new Array(N-1);--N;)q[N-1]=arguments[N];return g[D].subscribe.apply(null,q),o}if(typeof D=="string")return g[D]}var g={};d.addEventType=T;for(var _=1,S=arguments.length;_<S;++_)T(arguments[_]);return d;function T(D,C,N){if(typeof D!="object"){var q;C=C||To;var V={subscribers:[],fire:N=N||Be,subscribe:function(U){V.subscribers.indexOf(U)===-1&&(V.subscribers.push(U),V.fire=C(V.fire,U))},unsubscribe:function(U){V.subscribers=V.subscribers.filter(function(G){return G!==U}),V.fire=V.subscribers.reduce(C,N)}};return g[D]=d[D]=V}y(q=D).forEach(function(U){var G=q[U];if(p(G))T(U,q[U][0],q[U][1]);else{if(G!=="asap")throw new Ee.InvalidArgument("Invalid event config");var z=T(U,Fe,function(){for(var K=arguments.length,Y=new Array(K);K--;)Y[K]=arguments[K];z.subscribers.forEach(function(X){de(function(){X.apply(null,Y)})})})}})}}function Lr(o,d){return j(d).from({prototype:o}),d}function Gi(o,d){return!(o.filter||o.algorithm||o.or)&&(d?o.justLimit:!o.replayFilter)}function _n(o,d){o.filter=Br(o.filter,d)}function Hl(o,d,g){var _=o.replayFilter;o.replayFilter=_?function(){return Br(_(),d())}:d,o.justLimit=g&&!_}function Kl(o,d){if(o.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(o.index);if(!g)throw new Ee.Schema("KeyPath "+o.index+" on object store "+d.name+" is not indexed");return g}function Oa(o,d,g){var _=Kl(o,d.schema);return d.openCursor({trans:g,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:_,range:o.range}})}function Tr(o,d,g,_){var S=o.replayFilter?Br(o.filter,o.replayFilter()):o.filter;if(o.or){var T={},D=function(C,N,q){var V,U;S&&!S(N,q,function(G){return N.stop(G)},function(G){return N.fail(G)})||((U=""+(V=N.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(V)),w(T,U)||(T[U]=!0,d(C,N,q)))};return Promise.all([o.or._iterate(D,g),Vu(Oa(o,_,g),o.algorithm,D,!o.keysOnly&&o.valueMapper)])}return Vu(Oa(o,_,g),Br(o.algorithm,S),d,!o.keysOnly&&o.valueMapper)}function Vu(o,d,g,_){var S=We(_?function(T,D,C){return g(_(T),D,C)}:g);return o.then(function(T){if(T)return T.start(function(){var D=function(){return T.continue()};d&&!d(T,function(C){return D=C},function(C){T.stop(C),D=Be},function(C){T.fail(C),D=Be})||S(T.value,T,function(C){return D=C}),D()})})}var Xi=(ii.prototype.execute=function(o){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(p(g))return s(s([],p(o)?o:[],!0),g).sort();if(typeof g=="number")return(Number(o)||0)+g;if(typeof g=="bigint")try{return BigInt(o)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var _=d.remove;if(p(_))return p(o)?o.filter(function(S){return!_.includes(S)}).sort():[];if(typeof _=="number")return Number(o)-_;if(typeof _=="bigint")try{return BigInt(o)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof o=="string"&&o.startsWith(g)?d.replacePrefix[1]+o.substring(g.length):o},ii);function ii(o){this["@@propmod"]=o}var Lf=(ut.prototype._read=function(o,d){var g=this._ctx;return g.error?g.table._trans(null,jt.bind(null,g.error)):g.table._trans("readonly",o).then(d)},ut.prototype._write=function(o){var d=this._ctx;return d.error?d.table._trans(null,jt.bind(null,d.error)):d.table._trans("readwrite",o,"locked")},ut.prototype._addAlgorithm=function(o){var d=this._ctx;d.algorithm=Br(d.algorithm,o)},ut.prototype._iterate=function(o,d){return Tr(this._ctx,o,d,this._ctx.table.core)},ut.prototype.clone=function(o){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return o&&b(g,o),d._ctx=g,d},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(o){var d=this._ctx;return this._read(function(g){return Tr(d,o,g,d.table.core)})},ut.prototype.count=function(o){var d=this;return this._read(function(g){var _=d._ctx,S=_.table.core;if(Gi(_,!0))return S.count({trans:g,query:{index:Kl(_,S.schema),range:_.range}}).then(function(D){return Math.min(D,_.limit)});var T=0;return Tr(_,function(){return++T,!1},g,S).then(function(){return T})}).then(o)},ut.prototype.sortBy=function(o,d){var g=o.split(".").reverse(),_=g[0],S=g.length-1;function T(N,q){return q?T(N[g[q]],q-1):N[_]}var D=this._ctx.dir==="next"?1:-1;function C(N,q){return nt(T(N,S),T(q,S))*D}return this.toArray(function(N){return N.sort(C)}).then(d)},ut.prototype.toArray=function(o){var d=this;return this._read(function(g){var _=d._ctx;if(_.dir==="next"&&Gi(_,!0)&&0<_.limit){var S=_.valueMapper,T=Kl(_,_.table.core.schema);return _.table.core.query({trans:g,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(C){return C=C.result,S?C.map(S):C})}var D=[];return Tr(_,function(C){return D.push(C)},g,_.table.core).then(function(){return D})},o)},ut.prototype.offset=function(o){var d=this._ctx;return o<=0||(d.offset+=o,Gi(d)?Hl(d,function(){var g=o;return function(_,S){return g===0||(g===1?--g:S(function(){_.advance(g),g=0}),!1)}}):Hl(d,function(){var g=o;return function(){return--g<0}})),this},ut.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Hl(this._ctx,function(){var d=o;return function(g,_,S){return--d<=0&&_(S),0<=d}},!0),this},ut.prototype.until=function(o,d){return _n(this._ctx,function(g,_,S){return!o(g.value)||(_(S),d)}),this},ut.prototype.first=function(o){return this.limit(1).toArray(function(d){return d[0]}).then(o)},ut.prototype.last=function(o){return this.reverse().first(o)},ut.prototype.filter=function(o){var d;return _n(this._ctx,function(g){return o(g.value)}),(d=this._ctx).isMatch=Br(d.isMatch,o),this},ut.prototype.and=function(o){return this.filter(o)},ut.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){o(_.key,_)})},ut.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},ut.prototype.eachPrimaryKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){o(_.primaryKey,_)})},ut.prototype.keys=function(o){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,S){g.push(S.key)}).then(function(){return g}).then(o)},ut.prototype.primaryKeys=function(o){var d=this._ctx;if(d.dir==="next"&&Gi(d,!0)&&0<d.limit)return this._read(function(_){var S=Kl(d,d.table.core.schema);return d.table.core.query({trans:_,values:!1,limit:d.limit,query:{index:S,range:d.range}})}).then(function(_){return _.result}).then(o);d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,S){g.push(S.primaryKey)}).then(function(){return g}).then(o)},ut.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},ut.prototype.firstKey=function(o){return this.limit(1).keys(function(d){return d[0]}).then(o)},ut.prototype.lastKey=function(o){return this.reverse().firstKey(o)},ut.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var d={};return _n(this._ctx,function(S){var _=S.primaryKey.toString(),S=w(d,_);return d[_]=!0,!S}),this},ut.prototype.modify=function(o){var d=this,g=this._ctx;return this._write(function(_){var S,T,D;D=typeof o=="function"?o:(S=y(o),T=S.length,function(Q){for(var ee=!1,ne=0;ne<T;++ne){var re=S[ne],ye=o[re],be=we(Q,re);ye instanceof Xi?(Oe(Q,re,ye.execute(be)),ee=!0):be!==ye&&(Oe(Q,re,ye),ee=!0)}return ee});var C=g.table.core,U=C.schema.primaryKey,N=U.outbound,q=U.extractKey,V=200,U=d.db._options.modifyChunkSize;U&&(V=typeof U=="object"?U[C.name]||U["*"]||200:U);function G(Q,re){var ne=re.failures,re=re.numFailures;K+=Q-re;for(var ye=0,be=y(ne);ye<be.length;ye++){var pe=be[ye];z.push(ne[pe])}}var z=[],K=0,Y=[],X=o===Gu;return d.clone().primaryKeys().then(function(Q){function ee(re){var ye=Math.min(V,Q.length-re),be=Q.slice(re,re+ye);return(X?Promise.resolve([]):C.getMany({trans:_,keys:be,cache:"immutable"})).then(function(pe){var ve=[],me=[],Se=N?[]:null,_e=X?be:[];if(!X)for(var je=0;je<ye;++je){var Ze=pe[je],Ve={value:Ye(Ze),primKey:Q[re+je]};D.call(Ve,Ve.value,Ve)!==!1&&(Ve.value==null?_e.push(Q[re+je]):N||nt(q(Ze),q(Ve.value))===0?(me.push(Ve.value),N&&Se.push(Q[re+je])):(_e.push(Q[re+je]),ve.push(Ve.value)))}return Promise.resolve(0<ve.length&&C.mutate({trans:_,type:"add",values:ve}).then(function(Tt){for(var He in Tt.failures)_e.splice(parseInt(He),1);G(ve.length,Tt)})).then(function(){return(0<me.length||ne&&typeof o=="object")&&C.mutate({trans:_,type:"put",keys:Se,values:me,criteria:ne,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<re}).then(function(Tt){return G(me.length,Tt)})}).then(function(){return(0<_e.length||ne&&X)&&C.mutate({trans:_,type:"delete",keys:_e,criteria:ne,isAdditionalChunk:0<re}).then(function(Tt){return ql(g.table,_e,Tt)}).then(function(Tt){return G(_e.length,Tt)})}).then(function(){return Q.length>re+ye&&ee(re+V)})})}var ne=Gi(g)&&g.limit===1/0&&(typeof o!="function"||X)&&{index:g.index,range:g.range};return ee(0).then(function(){if(0<z.length)throw new Le("Error modifying one or more objects",z,K,Y);return Q.length})})})},ut.prototype.delete=function(){var o=this._ctx,d=o.range;return!Gi(o)||o.table.schema.yProps||!o.isPrimKey&&d.type!==3?this.modify(Gu):this._write(function(g){var _=o.table.core.schema.primaryKey,S=d;return o.table.core.count({trans:g,query:{index:_,range:S}}).then(function(T){return o.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(N){var C=N.failures,N=N.numFailures;if(N)throw new Le("Could not delete some values",Object.keys(C).map(function(q){return C[q]}),T-N);return T-N})})})},ut);function ut(){}var Gu=function(o,d){return d.value=null};function Xu(o,d){return o<d?-1:o===d?0:1}function qf(o,d){return d<o?-1:o===d?0:1}function Rn(o,d,g){return o=o instanceof ai?new o.Collection(o):o,o._ctx.error=new(g||TypeError)(d),o}function xr(o){return new o.Collection(o,function(){return li("")}).limit(0)}function Ii(o,d,g,_){var S,T,D,C,N,q,V,U=g.length;if(!g.every(function(K){return typeof K=="string"}))return Rn(o,Do);function G(K){S=K==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},T=K==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},D=K==="next"?Xu:qf;var Y=g.map(function(X){return{lower:T(X),upper:S(X)}}).sort(function(X,Q){return D(X.lower,Q.lower)});C=Y.map(function(X){return X.upper}),N=Y.map(function(X){return X.lower}),V=(q=K)==="next"?"":_}G("next"),o=new o.Collection(o,function(){return fr(C[0],N[U-1]+_)}),o._ondirectionchange=function(K){G(K)};var z=0;return o._addAlgorithm(function(K,Y,X){var Q=K.key;if(typeof Q!="string")return!1;var ee=T(Q);if(d(ee,N,z))return!0;for(var ne=null,re=z;re<U;++re){var ye=function(be,pe,ve,me,Se,_e){for(var je=Math.min(be.length,me.length),Ze=-1,Ve=0;Ve<je;++Ve){var Tt=pe[Ve];if(Tt!==me[Ve])return Se(be[Ve],ve[Ve])<0?be.substr(0,Ve)+ve[Ve]+ve.substr(Ve+1):Se(be[Ve],me[Ve])<0?be.substr(0,Ve)+me[Ve]+ve.substr(Ve+1):0<=Ze?be.substr(0,Ze)+pe[Ze]+ve.substr(Ze+1):null;Se(be[Ve],Tt)<0&&(Ze=Ve)}return je<me.length&&_e==="next"?be+ve.substr(be.length):je<be.length&&_e==="prev"?be.substr(0,ve.length):Ze<0?null:be.substr(0,Ze)+me[Ze]+ve.substr(Ze+1)}(Q,ee,C[re],N[re],D,q);ye===null&&ne===null?z=re+1:(ne===null||0<D(ne,ye))&&(ne=ye)}return Y(ne!==null?function(){K.continue(ne+V)}:X),!1}),o}function fr(o,d,g,_){return{type:2,lower:o,upper:d,lowerOpen:g,upperOpen:_}}function li(o){return{type:1,lower:o,upper:o}}var ai=(Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(o,d,g,_){g=g!==!1,_=_===!0;try{return 0<this._cmp(o,d)||this._cmp(o,d)===0&&(g||_)&&(!g||!_)?xr(this):new this.Collection(this,function(){return fr(o,d,!g,!_)})}catch{return Rn(this,cr)}},Yt.prototype.equals=function(o){return o==null?Rn(this,cr):new this.Collection(this,function(){return li(o)})},Yt.prototype.above=function(o){return o==null?Rn(this,cr):new this.Collection(this,function(){return fr(o,void 0,!0)})},Yt.prototype.aboveOrEqual=function(o){return o==null?Rn(this,cr):new this.Collection(this,function(){return fr(o,void 0,!1)})},Yt.prototype.below=function(o){return o==null?Rn(this,cr):new this.Collection(this,function(){return fr(void 0,o,!1,!0)})},Yt.prototype.belowOrEqual=function(o){return o==null?Rn(this,cr):new this.Collection(this,function(){return fr(void 0,o)})},Yt.prototype.startsWith=function(o){return typeof o!="string"?Rn(this,Do):this.between(o,o+zr,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Ii(this,function(d,g){return d.indexOf(g[0])===0},[o],zr)},Yt.prototype.equalsIgnoreCase=function(o){return Ii(this,function(d,g){return d===g[0]},[o],"")},Yt.prototype.anyOfIgnoreCase=function(){var o=R.apply(Te,arguments);return o.length===0?xr(this):Ii(this,function(d,g){return g.indexOf(d)!==-1},o,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var o=R.apply(Te,arguments);return o.length===0?xr(this):Ii(this,function(d,g){return g.some(function(_){return d.indexOf(_)===0})},o,zr)},Yt.prototype.anyOf=function(){var o=this,d=R.apply(Te,arguments),g=this._cmp;try{d.sort(g)}catch{return Rn(this,cr)}if(d.length===0)return xr(this);var _=new this.Collection(this,function(){return fr(d[0],d[d.length-1])});_._ondirectionchange=function(T){g=T==="next"?o._ascending:o._descending,d.sort(g)};var S=0;return _._addAlgorithm(function(T,D,C){for(var N=T.key;0<g(N,d[S]);)if(++S===d.length)return D(C),!1;return g(N,d[S])===0||(D(function(){T.continue(d[S])}),!1)}),_},Yt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var o=R.apply(Te,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Rn(this,cr)}var d=o.reduce(function(g,_){return g?g.concat([[g[g.length-1][1],_]]):[[-1/0,_]]},null);return d.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(Q,d){var g=this,_=this._cmp,S=this._ascending,T=this._descending,D=this._min,C=this._max;if(Q.length===0)return xr(this);if(!Q.every(function(ee){return ee[0]!==void 0&&ee[1]!==void 0&&S(ee[0],ee[1])<=0}))return Rn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var N=!d||d.includeLowers!==!1,q=d&&d.includeUppers===!0,V,U=S;function G(ee,ne){return U(ee[0],ne[0])}try{(V=Q.reduce(function(ee,ne){for(var re=0,ye=ee.length;re<ye;++re){var be=ee[re];if(_(ne[0],be[1])<0&&0<_(ne[1],be[0])){be[0]=D(be[0],ne[0]),be[1]=C(be[1],ne[1]);break}}return re===ye&&ee.push(ne),ee},[])).sort(G)}catch{return Rn(this,cr)}var z=0,K=q?function(ee){return 0<S(ee,V[z][1])}:function(ee){return 0<=S(ee,V[z][1])},Y=N?function(ee){return 0<T(ee,V[z][0])}:function(ee){return 0<=T(ee,V[z][0])},X=K,Q=new this.Collection(this,function(){return fr(V[0][0],V[V.length-1][1],!N,!q)});return Q._ondirectionchange=function(ee){U=ee==="next"?(X=K,S):(X=Y,T),V.sort(G)},Q._addAlgorithm(function(ee,ne,re){for(var ye,be=ee.key;X(be);)if(++z===V.length)return ne(re),!1;return!K(ye=be)&&!Y(ye)||(g._cmp(be,V[z][1])===0||g._cmp(be,V[z][0])===0||ne(function(){U===S?ee.continue(V[z][0]):ee.continue(V[z][1])}),!1)}),Q},Yt.prototype.startsWithAnyOf=function(){var o=R.apply(Te,arguments);return o.every(function(d){return typeof d=="string"})?o.length===0?xr(this):this.inAnyRange(o.map(function(d){return[d,d+zr]})):Rn(this,"startsWithAnyOf() only works with strings")},Yt);function Yt(){}function jn(o){return We(function(d){return Qi(d),o(d.target.error),!1})}function Qi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var kr="storagemutated",Xn="x-storagemutated-1",dr=Vi(null,kr),Yl=($t.prototype._lock=function(){return he(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},$t.prototype._unlock=function(){if(he(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Mr(o[1],o[0])}catch{}}return this},$t.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},$t.prototype.create=function(o){var d=this;if(!this.mode)return this;var g=this.db.idbdb,_=this.db._state.dbOpenError;if(he(!this.idbtrans),!o&&!g)switch(_&&_.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(_);case"MissingAPIError":throw new Ee.MissingAPI(_.message,_);default:throw new Ee.OpenFailed(_)}if(!this.active)throw new Ee.TransactionInactive;return he(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=We(function(S){Qi(S),d._reject(o.error)}),o.onabort=We(function(S){Qi(S),d.active&&d._reject(new Ee.Abort(o.error)),d.active=!1,d.on("abort").fire(S)}),o.oncomplete=We(function(){d.active=!1,d._resolve(),"mutatedParts"in o&&dr.storagemutated.fire(o.mutatedParts)}),this},$t.prototype._promise=function(o,d,g){var _=this;if(o==="readwrite"&&this.mode!=="readwrite")return jt(new Ee.ReadOnly("Transaction is readonly"));if(!this.active)return jt(new Ee.TransactionInactive);if(this._locked())return new Ae(function(T,D){_._blockedFuncs.push([function(){_._promise(o,d,g).then(T,D)},Re])});if(g)return or(function(){var T=new Ae(function(D,C){_._lock();var N=d(D,C,_);N&&N.then&&N.then(D,C)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var S=new Ae(function(T,D){var C=d(T,D,_);C&&C.then&&C.then(T,D)});return S._lib=!0,S},$t.prototype._root=function(){return this.parent?this.parent._root():this},$t.prototype.waitFor=function(o){var d,g=this._root(),_=Ae.resolve(o);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return _}):(g._waitingFor=_,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),function T(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=T)}());var S=g._waitingFor;return new Ae(function(T,D){_.then(function(C){return g._waitingQueue.push(We(T.bind(null,C)))},function(C){return g._waitingQueue.push(We(D.bind(null,C)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},$t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},$t.prototype.table=function(o){var d=this._memoizedTables||(this._memoizedTables={});if(w(d,o))return d[o];var g=this.schema[o];if(!g)throw new Ee.NotFound("Table "+o+" not part of transaction");return g=new this.db.Table(o,g,this),g.core=this.db.core.table(o),d[o]=g},$t);function $t(){}function Vl(o,d,g,_,S,T,D,C){return{name:o,keyPath:d,unique:g,multi:_,auto:S,compound:T,src:(g&&!D?"&":"")+(_?"*":"")+(S?"++":"")+Gl(d),type:C}}function Gl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Ta(o,d,g){return{name:o,primKey:d,indexes:g,mappedClass:null,idxByName:(_=function(S){return[S.name,S]},g.reduce(function(S,T,D){return D=_(T,D),D&&(S[D[0]]=D[1]),S},{}))};var _}var qr=function(o){try{return o.only([[]]),qr=function(){return[[]]},[[]]}catch{return qr=function(){return zr},zr}};function Zi(o){return o==null?function(){}:typeof o=="string"?(d=o).split(".").length===1?function(g){return g[d]}:function(g){return we(g,d)}:function(g){return we(g,o)};var d}function Iu(o){return[].slice.call(o)}var wn=0;function In(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function xa(o,d,N){function _(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=X.lower,K=X.upper,Y=X.lowerOpen,X=X.upperOpen;return z===void 0?K===void 0?null:d.upperBound(K,!!X):K===void 0?d.lowerBound(z,!!Y):d.bound(z,K,!!Y,!!X)}function S(G){var z,K=G.name;return{name:K,schema:G,mutate:function(Y){var X=Y.trans,Q=Y.type,ee=Y.keys,ne=Y.values,re=Y.range;return new Promise(function(ye,be){ye=We(ye);var pe=X.objectStore(K),ve=pe.keyPath==null,me=Q==="put"||Q==="add";if(!me&&Q!=="delete"&&Q!=="deleteRange")throw new Error("Invalid operation type: "+Q);var Se,_e=(ee||ne||{length:1}).length;if(ee&&ne&&ee.length!==ne.length)throw new Error("Given keys array must have same length as given values array.");if(_e===0)return ye({numFailures:0,failures:{},results:[],lastResult:void 0});function je(It){++Tt,Qi(It)}var Ze=[],Ve=[],Tt=0;if(Q==="deleteRange"){if(re.type===4)return ye({numFailures:Tt,failures:Ve,results:[],lastResult:void 0});re.type===3?Ze.push(Se=pe.clear()):Ze.push(Se=pe.delete(_(re)))}else{var ve=me?ve?[ne,ee]:[ne,null]:[ee,null],He=ve[0],Xt=ve[1];if(me)for(var Nt=0;Nt<_e;++Nt)Ze.push(Se=Xt&&Xt[Nt]!==void 0?pe[Q](He[Nt],Xt[Nt]):pe[Q](He[Nt])),Se.onerror=je;else for(Nt=0;Nt<_e;++Nt)Ze.push(Se=pe[Q](He[Nt])),Se.onerror=je}function Fl(It){It=It.target.result,Ze.forEach(function(Nn,ss){return Nn.error!=null&&(Ve[ss]=Nn.error)}),ye({numFailures:Tt,failures:Ve,results:Q==="delete"?ee:Ze.map(function(Nn){return Nn.result}),lastResult:It})}Se.onerror=function(It){je(It),Fl(It)},Se.onsuccess=Fl})},getMany:function(Y){var X=Y.trans,Q=Y.keys;return new Promise(function(ee,ne){ee=We(ee);for(var re,ye=X.objectStore(K),be=Q.length,pe=new Array(be),ve=0,me=0,Se=function(Ze){Ze=Ze.target,pe[Ze._pos]=Ze.result,++me===ve&&ee(pe)},_e=jn(ne),je=0;je<be;++je)Q[je]!=null&&((re=ye.get(Q[je]))._pos=je,re.onsuccess=Se,re.onerror=_e,++ve);ve===0&&ee(pe)})},get:function(Y){var X=Y.trans,Q=Y.key;return new Promise(function(ee,ne){ee=We(ee);var re=X.objectStore(K).get(Q);re.onsuccess=function(ye){return ee(ye.target.result)},re.onerror=jn(ne)})},query:(z=q,function(Y){return new Promise(function(X,Q){X=We(X);var ee,ne,re,ve=Y.trans,ye=Y.values,be=Y.limit,Se=Y.query,pe=be===1/0?void 0:be,me=Se.index,Se=Se.range,ve=ve.objectStore(K),me=me.isPrimaryKey?ve:ve.index(me.name),Se=_(Se);if(be===0)return X({result:[]});z?((pe=ye?me.getAll(Se,pe):me.getAllKeys(Se,pe)).onsuccess=function(_e){return X({result:_e.target.result})},pe.onerror=jn(Q)):(ee=0,ne=!ye&&"openKeyCursor"in me?me.openKeyCursor(Se):me.openCursor(Se),re=[],ne.onsuccess=function(_e){var je=ne.result;return je?(re.push(ye?je.value:je.primaryKey),++ee===be?X({result:re}):void je.continue()):X({result:re})},ne.onerror=jn(Q))})}),openCursor:function(Y){var X=Y.trans,Q=Y.values,ee=Y.query,ne=Y.reverse,re=Y.unique;return new Promise(function(ye,be){ye=We(ye);var me=ee.index,pe=ee.range,ve=X.objectStore(K),ve=me.isPrimaryKey?ve:ve.index(me.name),me=ne?re?"prevunique":"prev":re?"nextunique":"next",Se=!Q&&"openKeyCursor"in ve?ve.openKeyCursor(_(pe),me):ve.openCursor(_(pe),me);Se.onerror=jn(be),Se.onsuccess=We(function(_e){var je,Ze,Ve,Tt,He=Se.result;He?(He.___id=++wn,He.done=!1,je=He.continue.bind(He),Ze=(Ze=He.continuePrimaryKey)&&Ze.bind(He),Ve=He.advance.bind(He),Tt=function(){throw new Error("Cursor not stopped")},He.trans=X,He.stop=He.continue=He.continuePrimaryKey=He.advance=function(){throw new Error("Cursor not started")},He.fail=We(be),He.next=function(){var Xt=this,Nt=1;return this.start(function(){return Nt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},He.start=function(Xt){function Nt(){if(Se.result)try{Xt()}catch(It){He.fail(It)}else He.done=!0,He.start=function(){throw new Error("Cursor behind last entry")},He.stop()}var Fl=new Promise(function(It,Nn){It=We(It),Se.onerror=jn(Nn),He.fail=Nn,He.stop=function(ss){He.stop=He.continue=He.continuePrimaryKey=He.advance=Tt,It(ss)}});return Se.onsuccess=We(function(It){Se.onsuccess=Nt,Nt()}),He.continue=je,He.continuePrimaryKey=Ze,He.advance=Ve,Nt(),Fl},ye(He)):ye(null)},be)})},count:function(Y){var X=Y.query,Q=Y.trans,ee=X.index,ne=X.range;return new Promise(function(re,ye){var be=Q.objectStore(K),pe=ee.isPrimaryKey?be:be.index(ee.name),be=_(ne),pe=be?pe.count(be):pe.count();pe.onsuccess=We(function(ve){return re(ve.target.result)}),pe.onerror=jn(ye)})}}}var T,D,C,V=(D=N,C=Iu((T=o).objectStoreNames),{schema:{name:T.name,tables:C.map(function(G){return D.objectStore(G)}).map(function(G){var z=G.keyPath,X=G.autoIncrement,K=p(z),Y={},X={name:G.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:K,keyPath:z,autoIncrement:X,unique:!0,extractKey:Zi(z)},indexes:Iu(G.indexNames).map(function(Q){return G.index(Q)}).map(function(re){var ee=re.name,ne=re.unique,ye=re.multiEntry,re=re.keyPath,ye={name:ee,compound:p(re),keyPath:re,unique:ne,multiEntry:ye,extractKey:Zi(re)};return Y[In(re)]=ye}),getIndexByKeyPath:function(Q){return Y[In(Q)]}};return Y[":id"]=X.primaryKey,z!=null&&(Y[In(z)]=X.primaryKey),X})},hasGetAll:0<C.length&&"getAll"in D.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=V.schema,q=V.hasGetAll,V=N.tables.map(S),U={};return V.forEach(function(G){return U[G.name]=G}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(G){if(!U[G])throw new Error("Table '".concat(G,"' not found"));return U[G]},MIN_KEY:-1/0,MAX_KEY:qr(d),schema:N}}function Xl(o,d,g,_){var S=g.IDBKeyRange;return g.indexedDB,{dbcore:(_=xa(d,S,_),o.dbcore.reduce(function(T,D){return D=D.create,a(a({},T),D(T))},_))}}function ka(o,_){var g=_.db,_=Xl(o._middlewares,g,o._deps,_);o.core=_.dbcore,o.tables.forEach(function(S){var T=S.name;o.core.schema.tables.some(function(D){return D.name===T})&&(S.core=o.core.table(T),o[T]instanceof o.Table&&(o[T].core=S.core))})}function Ji(o,d,g,_){g.forEach(function(S){var T=_[S];d.forEach(function(D){var C=function N(q,V){return J(q,V)||(q=v(q))&&N(q,V)}(D,S);(!C||"value"in C&&C.value===void 0)&&(D===o.Transaction.prototype||D instanceof o.Transaction?k(D,S,{get:function(){return this.table(S)},set:function(N){O(this,S,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):D[S]=new o.Table(S,T))})})}function Il(o,d){d.forEach(function(g){for(var _ in g)g[_]instanceof o.Table&&delete g[_]})}function Ql(o,d){return o._cfg.version-d._cfg.version}function Da(o,d,g,_){var S=o._dbSchema;g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Ta("$meta",Mo("")[0],[]),o._storeNames.push("$meta"));var T=o._createTransaction("readwrite",o._storeNames,S);T.create(g),T._completion.catch(_);var D=T._reject.bind(T),C=Re.transless||Re;or(function(){return Re.trans=T,Re.transless=C,d!==0?(ka(o,g),q=d,((N=T).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(V){return V??q}):Ae.resolve(q)).then(function(V){return G=V,z=T,K=g,Y=[],V=(U=o)._versions,X=U._dbSchema=Ca(0,U.idbdb,K),(V=V.filter(function(Q){return Q._cfg.version>=G})).length!==0?(V.forEach(function(Q){Y.push(function(){var ee=X,ne=Q._cfg.dbschema;Ra(U,ee,K),Ra(U,ne,K),X=U._dbSchema=ne;var re=Qu(ee,ne);re.add.forEach(function(me){Zu(K,me[0],me[1].primKey,me[1].indexes)}),re.change.forEach(function(me){if(me.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var Se=K.objectStore(me.name);me.add.forEach(function(_e){return $i(Se,_e)}),me.change.forEach(function(_e){Se.deleteIndex(_e.name),$i(Se,_e)}),me.del.forEach(function(_e){return Se.deleteIndex(_e)})});var ye=Q._cfg.contentUpgrade;if(ye&&Q._cfg.version>G){ka(U,K),z._memoizedTables={};var be=$e(ne);re.del.forEach(function(me){be[me]=ee[me]}),Il(U,[U.Transaction.prototype]),Ji(U,[U.Transaction.prototype],y(be),be),z.schema=be;var pe,ve=W(ye);return ve&&Vn(),re=Ae.follow(function(){var me;(pe=ye(z))&&ve&&(me=Dn.bind(null,null),pe.then(me,me))}),pe&&typeof pe.then=="function"?Ae.resolve(pe):re.then(function(){return pe})}}),Y.push(function(ee){var ne,re,ye=Q._cfg.dbschema;ne=ye,re=ee,[].slice.call(re.db.objectStoreNames).forEach(function(be){return ne[be]==null&&re.db.deleteObjectStore(be)}),Il(U,[U.Transaction.prototype]),Ji(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),z.schema=U._dbSchema}),Y.push(function(ee){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===Q._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ne){return ne!=="$meta"})):ee.objectStore("$meta").put(Q._cfg.version,"version"))})}),function Q(){return Y.length?Ae.resolve(Y.shift()(z.idbtrans)).then(Q):Ae.resolve()}().then(function(){Uo(X,K)})):Ae.resolve();var U,G,z,K,Y,X}).catch(D)):(y(S).forEach(function(V){Zu(g,V,S[V].primKey,S[V].indexes)}),ka(o,g),void Ae.follow(function(){return o.on.populate.fire(T)}).catch(D));var N,q})}function Ro(o,d){Uo(o._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=Ca(0,o.idbdb,d);Ra(o,o._dbSchema,d);for(var _=0,S=Qu(g,o._dbSchema).change;_<S.length;_++){var T=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var C=d.objectStore(D.name);D.add.forEach(function(N){kn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(N.src)),$i(C,N)})}(S[_]);if(typeof T=="object")return T.value}}function Qu(o,d){var g,_={del:[],add:[],change:[]};for(g in o)d[g]||_.del.push(g);for(g in d){var S=o[g],T=d[g];if(S){var D={name:g,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||S.primKey.auto!==T.primKey.auto)D.recreate=!0,_.change.push(D);else{var C=S.idxByName,N=T.idxByName,q=void 0;for(q in C)N[q]||D.del.push(q);for(q in N){var V=C[q],U=N[q];V?V.src!==U.src&&D.change.push(U):D.add.push(U)}(0<D.del.length||0<D.add.length||0<D.change.length)&&_.change.push(D)}}else _.add.push([g,T])}return _}function Zu(o,d,g,_){var S=o.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return _.forEach(function(T){return $i(S,T)}),S}function Uo(o,d){y(o).forEach(function(g){d.db.objectStoreNames.contains(g)||(kn&&console.debug("Dexie: Creating missing table",g),Zu(d,g,o[g].primKey,o[g].indexes))})}function $i(o,d){o.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Ca(o,d,g){var _={};return ue(d.objectStoreNames,0).forEach(function(S){for(var T=g.objectStore(S),D=Vl(Gl(q=T.keyPath),q||"",!0,!1,!!T.autoIncrement,q&&typeof q!="string",!0),C=[],N=0;N<T.indexNames.length;++N){var V=T.index(T.indexNames[N]),q=V.keyPath,V=Vl(V.name,q,!!V.unique,!!V.multiEntry,!1,q&&typeof q!="string",!1);C.push(V)}_[S]=Ta(S,D,C)}),_}function Ra(o,d,g){for(var _=g.db.objectStoreNames,S=0;S<_.length;++S){var T=_[S],D=g.objectStore(T);o._hasGetAll="getAll"in D;for(var C=0;C<D.indexNames.length;++C){var N=D.indexNames[C],q=D.index(N).keyPath,V=typeof q=="string"?q:"["+ue(q).join("+")+"]";!d[T]||(q=d[T].idxByName[V])&&(q.name=N,delete d[T].idxByName[V],d[T].idxByName[N]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Mo(o){return o.split(",").map(function(d,g){var T=d.split(":"),_=(S=T[1])===null||S===void 0?void 0:S.trim(),S=(d=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Vl(S,T||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),p(T),g===0,_)})}var Hf=(Fi.prototype._createTableSchema=Ta,Fi.prototype._parseIndexSyntax=Mo,Fi.prototype._parseStoresSpec=function(o,d){var g=this;y(o).forEach(function(_){if(o[_]!==null){var S=g._parseIndexSyntax(o[_]),T=S.shift();if(!T)throw new Ee.Schema("Invalid schema for table "+_+": "+o[_]);if(T.unique=!0,T.multi)throw new Ee.Schema("Primary key cannot be multiEntry*");S.forEach(function(D){if(D.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")}),S=g._createTableSchema(_,T,S),d[_]=S}})},Fi.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,g):g;var g=d._versions,_={},S={};return g.forEach(function(T){b(_,T._cfg.storesSource),S=T._cfg.dbschema={},T._parseStoresSpec(_,S)}),d._dbSchema=S,Il(d,[d._allTables,d,d.Transaction.prototype]),Ji(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],y(S),S),d._storeNames=y(S),this},Fi.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ba(this._cfg.contentUpgrade||Be,o),this},Fi);function Fi(){}function Ua(o,d){var g=o._dbNamesDB;return g||(g=o._dbNamesDB=new Qn(ni,{addons:[],indexedDB:o,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Ju(o){return o&&typeof o.databases=="function"}function $u(o){return or(function(){return Re.letThrough=!0,o()})}function Fu(o){return!("from"in o)}var an=function(o,d){if(!this){var g=new an;return o&&"d"in o&&b(g,o),g}b(this,arguments.length?{d:1,from:o,to:1<arguments.length?d:o}:{d:0})};function ui(o,d,g){var _=nt(d,g);if(!isNaN(_)){if(0<_)throw RangeError();if(Fu(o))return b(o,{from:d,to:g,d:1});var S=o.l,_=o.r;if(nt(g,o.from)<0)return S?ui(S,d,g):o.l={from:d,to:g,d:1,l:null,r:null},Pu(o);if(0<nt(d,o.to))return _?ui(_,d,g):o.r={from:d,to:g,d:1,l:null,r:null},Pu(o);nt(d,o.from)<0&&(o.from=d,o.l=null,o.d=_?_.d+1:1),0<nt(g,o.to)&&(o.to=g,o.r=null,o.d=o.l?o.l.d+1:1),g=!o.r,S&&!o.l&&Zl(o,S),_&&g&&Zl(o,_)}}function Zl(o,d){Fu(d)||function g(_,N){var T=N.from,D=N.to,C=N.l,N=N.r;ui(_,T,D),C&&g(_,C),N&&g(_,N)}(o,d)}function jo(o,d){var g=Ma(d),_=g.next();if(_.done)return!1;for(var S=_.value,T=Ma(o),D=T.next(S.from),C=D.value;!_.done&&!D.done;){if(nt(C.from,S.to)<=0&&0<=nt(C.to,S.from))return!0;nt(S.from,C.from)<0?S=(_=g.next(C.from)).value:C=(D=T.next(S.from)).value}return!1}function Ma(o){var d=Fu(o)?null:{s:0,n:o};return{next:function(g){for(var _=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,_)for(;d.n.l&&nt(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!_||nt(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Pu(o){var d,g,_=(((d=o.r)===null||d===void 0?void 0:d.d)||0)-(((g=o.l)===null||g===void 0?void 0:g.d)||0),S=1<_?"r":_<-1?"l":"";S&&(d=S=="r"?"l":"r",g=a({},o),_=o[S],o.from=_.from,o.to=_.to,o[S]=_[S],g[S]=_[d],(o[d]=g).d=No(g)),o.d=No(o)}function No(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function ja(o,d){return y(d).forEach(function(g){o[g]?Zl(o[g],d[g]):o[g]=function _(S){var T,D,C={};for(T in S)w(S,T)&&(D=S[T],C[T]=!D||typeof D!="object"||ge.has(D.constructor)?D:_(D));return C}(d[g])}),o}function Wu(o,d){return o.all||d.all||Object.keys(o).some(function(g){return d[g]&&jo(d[g],o[g])})}A(an.prototype,((Un={add:function(o){return Zl(this,o),this},addKey:function(o){return ui(this,o,o),this},addKeys:function(o){var d=this;return o.forEach(function(g){return ui(d,g,g)}),this},hasKey:function(o){var d=Ma(this).next(o).value;return d&&nt(d.from,o)<=0&&0<=nt(d.to,o)}})[B]=function(){return Ma(this)},Un));var si={},es={},ts=!1;function Na(o){ja(es,o),ts||(ts=!0,setTimeout(function(){ts=!1,ns(es,!(es={}))},0))}function ns(o,d){d===void 0&&(d=!1);var g=new Set;if(o.all)for(var _=0,S=Object.values(si);_<S.length;_++)zo(D=S[_],o,g,d);else for(var T in o){var D,C=/^idb\:\/\/(.*)\/(.*)\//.exec(T);C&&(T=C[1],C=C[2],(D=si["idb://".concat(T,"/").concat(C)])&&zo(D,o,g,d))}g.forEach(function(N){return N()})}function zo(o,d,g,_){for(var S=[],T=0,D=Object.entries(o.queries.query);T<D.length;T++){for(var C=D[T],N=C[0],q=[],V=0,U=C[1];V<U.length;V++){var G=U[V];Wu(d,G.obsSet)?G.subscribers.forEach(function(X){return g.add(X)}):_&&q.push(G)}_&&S.push([N,q])}if(_)for(var z=0,K=S;z<K.length;z++){var Y=K[z],N=Y[0],q=Y[1];o.queries.query[N]=q}}function rs(o){var d=o._state,g=o._deps.indexedDB;if(d.isBeingOpened||o.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?jt(d.dbOpenError):o});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var _=d.openCanceller,S=Math.round(10*o.verno),T=!1;function D(){if(d.openCanceller!==_)throw new Ee.DatabaseClosed("db.open() was cancelled")}function C(){return new Ae(function(G,z){if(D(),!g)throw new Ee.MissingAPI;var K=o.name,Y=d.autoSchema||!S?g.open(K):g.open(K,S);if(!Y)throw new Ee.MissingAPI;Y.onerror=jn(z),Y.onblocked=We(o._fireOnBlocked),Y.onupgradeneeded=We(function(X){var Q;V=Y.transaction,d.autoSchema&&!o._options.allowEmptyDB?(Y.onerror=Qi,V.abort(),Y.result.close(),(Q=g.deleteDatabase(K)).onsuccess=Q.onerror=We(function(){z(new Ee.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(V.onerror=jn(z),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,U=X<1,o.idbdb=Y.result,T&&Ro(o,V),Da(o,X/10,V,z))},z),Y.onsuccess=We(function(){V=null;var X,Q,ee,ne,re,ye=o.idbdb=Y.result,be=ue(ye.objectStoreNames);if(0<be.length)try{var pe=ye.transaction((ne=be).length===1?ne[0]:ne,"readonly");if(d.autoSchema)Q=ye,ee=pe,(X=o).verno=Q.version/10,ee=X._dbSchema=Ca(0,Q,ee),X._storeNames=ue(Q.objectStoreNames,0),Ji(X,[X._allTables],y(ee),ee);else if(Ra(o,o._dbSchema,pe),((re=Qu(Ca(0,(re=o).idbdb,pe),re._dbSchema)).add.length||re.change.some(function(ve){return ve.add.length||ve.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ye.close(),S=ye.version+1,T=!0,G(C());ka(o,pe)}catch{}Or.push(o),ye.onversionchange=We(function(ve){d.vcFired=!0,o.on("versionchange").fire(ve)}),ye.onclose=We(function(ve){o.on("close").fire(ve)}),U&&(re=o._deps,pe=K,ye=re.indexedDB,re=re.IDBKeyRange,Ju(ye)||pe===ni||Ua(ye,re).put({name:pe}).catch(Be)),G()},z)}).catch(function(G){switch(G==null?void 0:G.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),C();break;case"VersionError":if(0<S)return S=0,C()}return Ae.reject(G)})}var N,q=d.dbReadyResolve,V=null,U=!1;return Ae.race([_,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(G){function z(){return indexedDB.databases().finally(G)}N=setInterval(z,100),z()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(C)]).then(function(){return D(),d.onReadyBeingFired=[],Ae.resolve($u(function(){return o.on.ready.fire(o.vip)})).then(function G(){if(0<d.onReadyBeingFired.length){var z=d.onReadyBeingFired.reduce(ba,Be);return d.onReadyBeingFired=[],Ae.resolve($u(function(){return z(o.vip)})).then(G)}})}).finally(function(){d.openCanceller===_&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(G){d.dbOpenError=G;try{V&&V.abort()}catch{}return _===d.openCanceller&&o._close(),jt(G)}).finally(function(){d.openComplete=!0,q()}).then(function(){var G;return U&&(G={},o.tables.forEach(function(z){z.schema.indexes.forEach(function(K){K.name&&(G["idb://".concat(o.name,"/").concat(z.name,"/").concat(K.name)]=new an(-1/0,[[[]]]))}),G["idb://".concat(o.name,"/").concat(z.name,"/")]=G["idb://".concat(o.name,"/").concat(z.name,"/:dels")]=new an(-1/0,[[[]]])}),dr(kr).fire(G),ns(G,!0)),o})}function oi(o){function d(T){return o.next(T)}var g=S(d),_=S(function(T){return o.throw(T)});function S(T){return function(N){var C=T(N),N=C.value;return C.done?N:N&&typeof N.then=="function"?N.then(g,_):p(N)?Promise.all(N).then(g,_):g(N)}}return S(d)()}function za(o,d,g){for(var _=p(o)?o.slice():[o],S=0;S<g;++S)_.push(d);return _}var Bo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return a(a({},o),{table:function(d){var g=o.table(d),_=g.schema,S={},T=[];function D(U,G,z){var K=In(U),Y=S[K]=S[K]||[],X=U==null?0:typeof U=="string"?1:U.length,Q=0<G,Q=a(a({},z),{name:Q?"".concat(K,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:Q,keyTail:G,keyLength:X,extractKey:Zi(U),unique:!Q&&z.unique});return Y.push(Q),Q.isPrimaryKey||T.push(Q),1<X&&D(X===2?U[0]:U.slice(0,X-1),G+1,z),Y.sort(function(ee,ne){return ee.keyTail-ne.keyTail}),Q}d=D(_.primaryKey.keyPath,0,_.primaryKey),S[":id"]=[d];for(var C=0,N=_.indexes;C<N.length;C++){var q=N[C];D(q.keyPath,0,q)}function V(U){var G,z=U.query.index;return z.isVirtual?a(a({},U),{query:{index:z.lowLevelIndex,range:(G=U.query.range,z=z.keyTail,{type:G.type===1?2:G.type,lower:za(G.lower,G.lowerOpen?o.MAX_KEY:o.MIN_KEY,z),lowerOpen:!0,upper:za(G.upper,G.upperOpen?o.MIN_KEY:o.MAX_KEY,z),upperOpen:!0})}}):U}return a(a({},g),{schema:a(a({},_),{primaryKey:d,indexes:T,getIndexByKeyPath:function(U){return(U=S[In(U)])&&U[0]}}),count:function(U){return g.count(V(U))},query:function(U){return g.query(V(U))},openCursor:function(U){var G=U.query.index,z=G.keyTail,K=G.isVirtual,Y=G.keyLength;return K?g.openCursor(V(U)).then(function(Q){return Q&&X(Q)}):g.openCursor(U);function X(Q){return Object.create(Q,{continue:{value:function(ee){ee!=null?Q.continue(za(ee,U.reverse?o.MAX_KEY:o.MIN_KEY,z)):U.unique?Q.continue(Q.key.slice(0,Y).concat(U.reverse?o.MIN_KEY:o.MAX_KEY,z)):Q.continue()}},continuePrimaryKey:{value:function(ee,ne){Q.continuePrimaryKey(za(ee,o.MAX_KEY,z),ne)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var ee=Q.key;return Y===1?ee[0]:ee.slice(0,Y)}},value:{get:function(){return Q.value}}})}}})}})}};function Ba(o,d,g,_){return g=g||{},_=_||"",y(o).forEach(function(S){var T,D,C;w(d,S)?(T=o[S],D=d[S],typeof T=="object"&&typeof D=="object"&&T&&D?(C=ze(T))!==ze(D)?g[_+S]=d[S]:C==="Object"?Ba(T,D,g,_+S+"."):T!==D&&(g[_+S]=d[S]):T!==D&&(g[_+S]=d[S])):g[_+S]=void 0}),y(d).forEach(function(S){w(o,S)||(g[_+S]=d[S])}),g}function La(o,d){return d.type==="delete"?d.keys:d.keys||d.values.map(o.extractKey)}var Lo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return a(a({},o),{table:function(d){var g=o.table(d),_=g.schema.primaryKey;return a(a({},g),{mutate:function(S){var T=Re.trans,D=T.table(d).hook,C=D.deleting,N=D.creating,q=D.updating;switch(S.type){case"add":if(N.fire===Be)break;return T._promise("readwrite",function(){return V(S)},!0);case"put":if(N.fire===Be&&q.fire===Be)break;return T._promise("readwrite",function(){return V(S)},!0);case"delete":if(C.fire===Be)break;return T._promise("readwrite",function(){return V(S)},!0);case"deleteRange":if(C.fire===Be)break;return T._promise("readwrite",function(){return function U(G,z,K){return g.query({trans:G,values:!1,query:{index:_,range:z},limit:K}).then(function(Y){var X=Y.result;return V({type:"delete",keys:X,trans:G}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):X.length<K?{failures:[],numFailures:0,lastResult:void 0}:U(G,a(a({},z),{lower:X[X.length-1],lowerOpen:!0}),K)})})}(S.trans,S.range,1e4)},!0)}return g.mutate(S);function V(U){var G,z,K,Y=Re.trans,X=U.keys||La(_,U);if(!X)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?a(a({},U),{keys:X}):a({},U)).type!=="delete"&&(U.values=s([],U.values)),U.keys&&(U.keys=s([],U.keys)),G=g,K=X,((z=U).type==="add"?Promise.resolve([]):G.getMany({trans:z.trans,keys:K,cache:"immutable"})).then(function(Q){var ee=X.map(function(ne,re){var ye,be,pe,ve=Q[re],me={onerror:null,onsuccess:null};return U.type==="delete"?C.fire.call(me,ne,ve,Y):U.type==="add"||ve===void 0?(ye=N.fire.call(me,ne,U.values[re],Y),ne==null&&ye!=null&&(U.keys[re]=ne=ye,_.outbound||Oe(U.values[re],_.keyPath,ne))):(ye=Ba(ve,U.values[re]),(be=q.fire.call(me,ye,ne,ve,Y))&&(pe=U.values[re],Object.keys(be).forEach(function(Se){w(pe,Se)?pe[Se]=be[Se]:Oe(pe,Se,be[Se])}))),me});return g.mutate(U).then(function(ne){for(var re=ne.failures,ye=ne.results,be=ne.numFailures,ne=ne.lastResult,pe=0;pe<X.length;++pe){var ve=(ye||X)[pe],me=ee[pe];ve==null?me.onerror&&me.onerror(re[pe]):me.onsuccess&&me.onsuccess(U.type==="put"&&Q[pe]?U.values[pe]:ve)}return{failures:re,results:ye,numFailures:be,lastResult:ne}}).catch(function(ne){return ee.forEach(function(re){return re.onerror&&re.onerror(ne)}),Promise.reject(ne)})})}}})}})}};function is(o,d,g){try{if(!d||d.keys.length<o.length)return null;for(var _=[],S=0,T=0;S<d.keys.length&&T<o.length;++S)nt(d.keys[S],o[T])===0&&(_.push(g?Ye(d.values[S]):d.values[S]),++T);return _.length===o.length?_:null}catch{return null}}var Pi={stack:"dbcore",level:-1,create:function(o){return{table:function(d){var g=o.table(d);return a(a({},g),{getMany:function(_){if(!_.cache)return g.getMany(_);var S=is(_.keys,_.trans._cache,_.cache==="clone");return S?Ae.resolve(S):g.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?Ye(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),g.mutate(_)}})}}}};function qo(o,d){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Ho(o,d){switch(o){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kf={stack:"dbcore",level:0,name:"Observability",create:function(o){var d=o.schema.name,g=new an(o.MIN_KEY,o.MAX_KEY);return a(a({},o),{transaction:function(_,S,T){if(Re.subscr&&S!=="readonly")throw new Ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return o.transaction(_,S,T)},table:function(_){var S=o.table(_),T=S.schema,D=T.primaryKey,U=T.indexes,C=D.extractKey,N=D.outbound,q=D.autoIncrement&&U.filter(function(z){return z.compound&&z.keyPath.includes(D.keyPath)}),V=a(a({},S),{mutate:function(z){function K(Se){return Se="idb://".concat(d,"/").concat(_,"/").concat(Se),ne[Se]||(ne[Se]=new an)}var Y,X,Q,ee=z.trans,ne=z.mutatedParts||(z.mutatedParts={}),re=K(""),ye=K(":dels"),be=z.type,me=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[La(D,z).filter(function(Se){return Se}),z.values]:[],pe=me[0],ve=me[1],me=z.trans._cache;return p(pe)?(re.addKeys(pe),(me=be==="delete"||pe.length===ve.length?is(pe,me):null)||ye.addKeys(pe),(me||ve)&&(Y=K,X=me,Q=ve,T.indexes.forEach(function(Se){var _e=Y(Se.name||"");function je(Ve){return Ve!=null?Se.extractKey(Ve):null}function Ze(Ve){return Se.multiEntry&&p(Ve)?Ve.forEach(function(Tt){return _e.addKey(Tt)}):_e.addKey(Ve)}(X||Q).forEach(function(Ve,Xt){var He=X&&je(X[Xt]),Xt=Q&&je(Q[Xt]);nt(He,Xt)!==0&&(He!=null&&Ze(He),Xt!=null&&Ze(Xt))})}))):pe?(ve={from:(ve=pe.lower)!==null&&ve!==void 0?ve:o.MIN_KEY,to:(ve=pe.upper)!==null&&ve!==void 0?ve:o.MAX_KEY},ye.add(ve),re.add(ve)):(re.add(g),ye.add(g),T.indexes.forEach(function(Se){return K(Se.name).add(g)})),S.mutate(z).then(function(Se){return!pe||z.type!=="add"&&z.type!=="put"||(re.addKeys(Se.results),q&&q.forEach(function(_e){for(var je=z.values.map(function(He){return _e.extractKey(He)}),Ze=_e.keyPath.findIndex(function(He){return He===D.keyPath}),Ve=0,Tt=Se.results.length;Ve<Tt;++Ve)je[Ve][Ze]=Se.results[Ve];K(_e.name).addKeys(je)})),ee.mutatedParts=ja(ee.mutatedParts||{},ne),Se})}}),U=function(K){var Y=K.query,K=Y.index,Y=Y.range;return[K,new an((K=Y.lower)!==null&&K!==void 0?K:o.MIN_KEY,(Y=Y.upper)!==null&&Y!==void 0?Y:o.MAX_KEY)]},G={get:function(z){return[D,new an(z.key)]},getMany:function(z){return[D,new an().addKeys(z.keys)]},count:U,query:U,openCursor:U};return y(G).forEach(function(z){V[z]=function(K){var Y=Re.subscr,X=!!Y,Q=qo(Re,S)&&Ho(z,K)?K.obsSet={}:Y;if(X){var ee=function(ve){return ve="idb://".concat(d,"/").concat(_,"/").concat(ve),Q[ve]||(Q[ve]=new an)},ne=ee(""),re=ee(":dels"),Y=G[z](K),X=Y[0],Y=Y[1];if((z==="query"&&X.isPrimaryKey&&!K.values?re:ee(X.name||"")).add(Y),!X.isPrimaryKey){if(z!=="count"){var ye=z==="query"&&N&&K.values&&S.query(a(a({},K),{values:!1}));return S[z].apply(this,arguments).then(function(ve){if(z==="query"){if(N&&K.values)return ye.then(function(je){return je=je.result,ne.addKeys(je),ve});var me=K.values?ve.result.map(C):ve.result;(K.values?ne:re).addKeys(me)}else if(z==="openCursor"){var Se=ve,_e=K.values;return Se&&Object.create(Se,{key:{get:function(){return re.addKey(Se.primaryKey),Se.key}},primaryKey:{get:function(){var je=Se.primaryKey;return re.addKey(je),je}},value:{get:function(){return _e&&ne.addKey(Se.primaryKey),Se.value}}})}return ve})}re.add(g)}}return S[z].apply(this,arguments)}}),V}})}};function ls(o,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var _=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===_?null:(d=a({},d),p(d.keys)&&(d.keys=d.keys.filter(function(S,T){return!(T in g.failures)})),"values"in d&&p(d.values)&&(d.values=d.values.filter(function(S,T){return!(T in g.failures)})),d)}function qa(o,d){return g=o,((_=d).lower===void 0||(_.lowerOpen?0<nt(g,_.lower):0<=nt(g,_.lower)))&&(o=o,(d=d).upper===void 0||(d.upperOpen?nt(o,d.upper)<0:nt(o,d.upper)<=0));var g,_}function Wi(o,d,G,_,S,T){if(!G||G.length===0)return o;var D=d.query.index,C=D.multiEntry,N=d.query.range,q=_.schema.primaryKey.extractKey,V=D.extractKey,U=(D.lowLevelIndex||D).extractKey,G=G.reduce(function(z,K){var Y=z,X=[];if(K.type==="add"||K.type==="put")for(var Q=new an,ee=K.values.length-1;0<=ee;--ee){var ne,re=K.values[ee],ye=q(re);Q.hasKey(ye)||(ne=V(re),(C&&p(ne)?ne.some(function(Se){return qa(Se,N)}):qa(ne,N))&&(Q.addKey(ye),X.push(re)))}switch(K.type){case"add":var be=new an().addKeys(d.values?z.map(function(_e){return q(_e)}):z),Y=z.concat(d.values?X.filter(function(_e){return _e=q(_e),!be.hasKey(_e)&&(be.addKey(_e),!0)}):X.map(function(_e){return q(_e)}).filter(function(_e){return!be.hasKey(_e)&&(be.addKey(_e),!0)}));break;case"put":var pe=new an().addKeys(K.values.map(function(_e){return q(_e)}));Y=z.filter(function(_e){return!pe.hasKey(d.values?q(_e):_e)}).concat(d.values?X:X.map(function(_e){return q(_e)}));break;case"delete":var ve=new an().addKeys(K.keys);Y=z.filter(function(_e){return!ve.hasKey(d.values?q(_e):_e)});break;case"deleteRange":var me=K.range;Y=z.filter(function(_e){return!qa(q(_e),me)})}return Y},o);return G===o?o:(G.sort(function(z,K){return nt(U(z),U(K))||nt(q(z),q(K))}),d.limit&&d.limit<1/0&&(G.length>d.limit?G.length=d.limit:o.length===d.limit&&G.length<d.limit&&(S.dirty=!0)),T?Object.freeze(G):G)}function el(o,d){return nt(o.lower,d.lower)===0&&nt(o.upper,d.upper)===0&&!!o.lowerOpen==!!d.lowerOpen&&!!o.upperOpen==!!d.upperOpen}function Yf(o,d){return function(g,_,S,T){if(g===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=nt(g,_))===0){if(S&&T)return 0;if(S)return 1;if(T)return-1}return _}(o.lower,d.lower,o.lowerOpen,d.lowerOpen)<=0&&0<=function(g,_,S,T){if(g===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=nt(g,_))===0){if(S&&T)return 0;if(S)return-1;if(T)return 1}return _}(o.upper,d.upper,o.upperOpen,d.upperOpen)}function Ha(o,d,g,_){o.subscribers.add(g),_.addEventListener("abort",function(){var S,T;o.subscribers.delete(g),o.subscribers.size===0&&(S=o,T=d,setTimeout(function(){S.subscribers.size===0&&oe(T,S)},3e3))})}var Ko={stack:"dbcore",level:0,name:"Cache",create:function(o){var d=o.schema.name;return a(a({},o),{transaction:function(g,_,S){var T,D,C=o.transaction(g,_,S);return _==="readwrite"&&(D=(T=new AbortController).signal,S=function(N){return function(){if(T.abort(),_==="readwrite"){for(var q=new Set,V=0,U=g;V<U.length;V++){var G=U[V],z=si["idb://".concat(d,"/").concat(G)];if(z){var K=o.table(G),Y=z.optimisticOps.filter(function(_e){return _e.trans===C});if(C._explicit&&N&&C.mutatedParts)for(var X=0,Q=Object.values(z.queries.query);X<Q.length;X++)for(var ee=0,ne=(be=Q[X]).slice();ee<ne.length;ee++)Wu((pe=ne[ee]).obsSet,C.mutatedParts)&&(oe(be,pe),pe.subscribers.forEach(function(_e){return q.add(_e)}));else if(0<Y.length){z.optimisticOps=z.optimisticOps.filter(function(_e){return _e.trans!==C});for(var re=0,ye=Object.values(z.queries.query);re<ye.length;re++)for(var be,pe,ve,me=0,Se=(be=ye[re]).slice();me<Se.length;me++)(pe=Se[me]).res!=null&&C.mutatedParts&&(N&&!pe.dirty?(ve=Object.isFrozen(pe.res),ve=Wi(pe.res,pe.req,Y,K,pe,ve),pe.dirty?(oe(be,pe),pe.subscribers.forEach(function(_e){return q.add(_e)})):ve!==pe.res&&(pe.res=ve,pe.promise=Ae.resolve({result:ve}))):(pe.dirty&&oe(be,pe),pe.subscribers.forEach(function(_e){return q.add(_e)})))}}}q.forEach(function(_e){return _e()})}}},C.addEventListener("abort",S(!1),{signal:D}),C.addEventListener("error",S(!1),{signal:D}),C.addEventListener("complete",S(!0),{signal:D})),C},table:function(g){var _=o.table(g),S=_.schema.primaryKey;return a(a({},_),{mutate:function(T){var D=Re.trans;if(S.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return _.mutate(T);var C=si["idb://".concat(d,"/").concat(g)];return C?(D=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||La(S,T).some(function(N){return N==null}))?(C.optimisticOps.push(T),T.mutatedParts&&Na(T.mutatedParts),D.then(function(N){0<N.numFailures&&(oe(C.optimisticOps,T),(N=ls(0,T,N))&&C.optimisticOps.push(N),T.mutatedParts&&Na(T.mutatedParts))}),D.catch(function(){oe(C.optimisticOps,T),T.mutatedParts&&Na(T.mutatedParts)})):D.then(function(N){var q=ls(0,a(a({},T),{values:T.values.map(function(V,U){var G;return N.failures[U]?V:(V=(G=S.keyPath)!==null&&G!==void 0&&G.includes(".")?Ye(V):a({},V),Oe(V,S.keyPath,N.results[U]),V)})}),N);C.optimisticOps.push(q),queueMicrotask(function(){return T.mutatedParts&&Na(T.mutatedParts)})}),D):_.mutate(T)},query:function(T){if(!qo(Re,_)||!Ho("query",T))return _.query(T);var D=((q=Re.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",U=Re,C=U.requery,N=U.signal,q=function(K,Y,X,Q){var ee=si["idb://".concat(K,"/").concat(Y)];if(!ee)return[];if(!(Y=ee.queries[X]))return[null,!1,ee,null];var ne=Y[(Q.query?Q.query.index.name:null)||""];if(!ne)return[null,!1,ee,null];switch(X){case"query":var re=ne.find(function(ye){return ye.req.limit===Q.limit&&ye.req.values===Q.values&&el(ye.req.query.range,Q.query.range)});return re?[re,!0,ee,ne]:[ne.find(function(ye){return("limit"in ye.req?ye.req.limit:1/0)>=Q.limit&&(!Q.values||ye.req.values)&&Yf(ye.req.query.range,Q.query.range)}),!1,ee,ne];case"count":return re=ne.find(function(ye){return el(ye.req.query.range,Q.query.range)}),[re,!!re,ee,ne]}}(d,g,"query",T),V=q[0],U=q[1],G=q[2],z=q[3];return V&&U?V.obsSet=T.obsSet:(U=_.query(T).then(function(K){var Y=K.result;if(V&&(V.res=Y),D){for(var X=0,Q=Y.length;X<Q;++X)Object.freeze(Y[X]);Object.freeze(Y)}else K.result=Ye(Y);return K}).catch(function(K){return z&&V&&oe(z,V),Promise.reject(K)}),V={obsSet:T.obsSet,promise:U,subscribers:new Set,type:"query",req:T,dirty:!1},z?z.push(V):(z=[V],(G=G||(si["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=z)),Ha(V,z,C,N),V.promise.then(function(K){return{result:Wi(K.result,T,G==null?void 0:G.optimisticOps,_,V,D)}})}})}})}};function Jl(o,d){return new Proxy(o,{get:function(g,_,S){return _==="db"?d:Reflect.get(g,_,S)}})}var Qn=(Ut.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Ee.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var d=this._versions,g=d.filter(function(_){return _._cfg.version===o})[0];return g||(g=new this.Version(o),d.push(g),d.sort(Ql),g.stores({}),this._state.autoSchema=!1,g)},Ut.prototype._whenReady=function(o){var d=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?o():new Ae(function(g,_){if(d._state.openComplete)return _(new Ee.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void _(new Ee.DatabaseClosed);d.open().catch(Be)}d._state.dbReadyPromise.then(g,_)}).then(o)},Ut.prototype.use=function(o){var d=o.stack,g=o.create,_=o.level,S=o.name;return S&&this.unuse({stack:d,name:S}),o=this._middlewares[d]||(this._middlewares[d]=[]),o.push({stack:d,create:g,level:_??10,name:S}),o.sort(function(T,D){return T.level-D.level}),this},Ut.prototype.unuse=function(o){var d=o.stack,g=o.name,_=o.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(S){return _?S.create!==_:!!g&&S.name!==g})),this},Ut.prototype.open=function(){var o=this;return Mr(bn,function(){return rs(o)})},Ut.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,d=Or.indexOf(this);if(0<=d&&Or.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Ae(function(g){o.dbReadyResolve=g}),o.openCanceller=new Ae(function(g,_){o.cancelOpen=_}))},Ut.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Ee.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Ee.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Ut.prototype.delete=function(o){var d=this;o===void 0&&(o={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ae(function(S,T){function D(){d.close(o);var C=d._deps.indexedDB.deleteDatabase(d.name);C.onsuccess=We(function(){var N,q,V;N=d._deps,q=d.name,V=N.indexedDB,N=N.IDBKeyRange,Ju(V)||q===ni||Ua(V,N).delete(q).catch(Be),S()}),C.onerror=jn(T),C.onblocked=d._fireOnBlocked}if(g)throw new Ee.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(D):D()})},Ut.prototype.backendDB=function(){return this.idbdb},Ut.prototype.isOpen=function(){return this.idbdb!==null},Ut.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Ut.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ut.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ut.prototype,"tables",{get:function(){var o=this;return y(this._allTables).map(function(d){return o._allTables[d]})},enumerable:!1,configurable:!0}),Ut.prototype.transaction=function(){var o=(function(d,g,_){var S=arguments.length;if(S<2)throw new Ee.InvalidArgument("Too few arguments");for(var T=new Array(S-1);--S;)T[S-1]=arguments[S];return _=T.pop(),[d,lt(T),_]}).apply(this,arguments);return this._transaction.apply(this,o)},Ut.prototype._transaction=function(o,d,g){var _=this,S=Re.trans;S&&S.db===this&&o.indexOf("!")===-1||(S=null);var T,D,C=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(D=d.map(function(q){if(q=q instanceof _.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),o=="r"||o===Gn)T=Gn;else{if(o!="rw"&&o!=Ll)throw new Ee.InvalidArgument("Invalid transaction mode: "+o);T=Ll}if(S){if(S.mode===Gn&&T===Ll){if(!C)throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&D.forEach(function(q){if(S&&S.storeNames.indexOf(q)===-1){if(!C)throw new Ee.SubTransaction("Table "+q+" not included in parent transaction.");S=null}}),C&&S&&!S.active&&(S=null)}}catch(q){return S?S._promise(null,function(V,U){U(q)}):jt(q)}var N=(function q(V,U,G,z,K){return Ae.resolve().then(function(){var Y=Re.transless||Re,X=V._createTransaction(U,G,V._dbSchema,z);if(X.explicit=!0,Y={trans:X,transless:Y},z)X.idbtrans=z.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,V._state.PR1398_maxLoop=3}catch(ne){return ne.name===yt.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return q(V,U,G,null,K)})):jt(ne)}var Q,ee=W(K);return ee&&Vn(),Y=Ae.follow(function(){var ne;(Q=K.call(X,X))&&(ee?(ne=Dn.bind(null,null),Q.then(ne,ne)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=oi(Q)))},Y),(Q&&typeof Q.then=="function"?Ae.resolve(Q).then(function(ne){return X.active?ne:jt(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Y.then(function(){return Q})).then(function(ne){return z&&X._resolve(),X._completion.then(function(){return ne})}).catch(function(ne){return X._reject(ne),jt(ne)})})}).bind(null,this,T,D,S,g);return S?S._promise(T,N,"lock"):Re.trans?Mr(Re.transless,function(){return _._whenReady(N)}):this._whenReady(N)},Ut.prototype.table=function(o){if(!w(this._allTables,o))throw new Ee.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Ut);function Ut(o,d){var g=this;this._middlewares={},this.verno=0;var _=Ut.dependencies;this._options=d=a({addons:Ut.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},_=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,T,D,C,N,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Be,dbReadyPromise:null,cancelOpen:Be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};q.dbReadyPromise=new Ae(function(U){q.dbReadyResolve=U}),q.openCanceller=new Ae(function(U,G){q.cancelOpen=G}),this._state=q,this.name=o,this.on=Vi(this,"populate","blocked","versionchange","close",{ready:[ba,Be]}),this.once=function(U,G){var z=function(){for(var K=[],Y=0;Y<arguments.length;Y++)K[Y]=arguments[Y];g.on(U).unsubscribe(z),G.apply(g,K)};return g.on(U,z)},this.on.ready.subscribe=H(this.on.ready.subscribe,function(U){return function(G,z){Ut.vip(function(){var K,Y=g._state;Y.openComplete?(Y.dbOpenError||Ae.resolve().then(G),z&&U(G)):Y.onReadyBeingFired?(Y.onReadyBeingFired.push(G),z&&U(G)):(U(G),K=g,z||U(function X(){K.on.ready.unsubscribe(G),K.on.ready.unsubscribe(X)}))})}}),this.Collection=(S=this,Lr(Lf.prototype,function(Q,X){this.db=S;var z=ri,K=null;if(X)try{z=X()}catch(ee){K=ee}var Y=Q._ctx,X=Y.table,Q=X.hook.reading.fire;this._ctx={table:X,index:Y.index,isPrimKey:!Y.index||X.schema.primKey.keyPath&&Y.index===X.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:Y.or,valueMapper:Q!==Fe?Q:null}})),this.Table=(T=this,Lr(Co.prototype,function(U,G,z){this.db=T,this._tx=z,this.name=U,this.schema=G,this.hook=T._allTables[U]?T._allTables[U].hook:Vi(null,{creating:[xn,Be],reading:[at,Fe],updating:[ar,Be],deleting:[ln,Be]})})),this.Transaction=(D=this,Lr(Yl.prototype,function(U,G,z,K,Y){var X=this;U!=="readonly"&&G.forEach(function(Q){Q=(Q=z[Q])===null||Q===void 0?void 0:Q.yProps,Q&&(G=G.concat(Q.map(function(ee){return ee.updatesTable})))}),this.db=D,this.mode=U,this.storeNames=G,this.schema=z,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=Vi(this,"complete","error","abort"),this.parent=Y||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(Q,ee){X._resolve=Q,X._reject=ee}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(Q){var ee=X.active;return X.active=!1,X.on.error.fire(Q),X.parent?X.parent._reject(Q):ee&&X.idbtrans&&X.idbtrans.abort(),jt(Q)})})),this.Version=(C=this,Lr(Hf.prototype,function(U){this.db=C,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,Lr(ai.prototype,function(U,G,z){if(this.db=N,this._ctx={table:U,index:G===":id"?null:G,or:z},this._cmp=this._ascending=nt,this._descending=function(K,Y){return nt(Y,K)},this._max=function(K,Y){return 0<nt(K,Y)?K:Y},this._min=function(K,Y){return nt(K,Y)<0?K:Y},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ee.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=qr(d.IDBKeyRange),this._createTransaction=function(U,G,z,K){return new g.Transaction(U,G,z,g._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),Or.filter(function(G){return G.name===g.name&&G!==g&&!G._state.vcFired}).map(function(G){return G.on("versionchange").fire(U)})},this.use(Pi),this.use(Ko),this.use(Kf),this.use(Bo),this.use(Lo);var V=new Proxy(this,{get:function(U,G,z){if(G==="_vip")return!0;if(G==="table")return function(Y){return Jl(g.table(Y),V)};var K=Reflect.get(U,G,z);return K instanceof Co?Jl(K,V):G==="tables"?K.map(function(Y){return Jl(Y,V)}):G==="_createTransaction"?function(){return Jl(K.apply(this,arguments),V)}:K}});this.vip=V,_.forEach(function(U){return U(g)})}var $l,Un=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Yo=(as.prototype.subscribe=function(o,d,g){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:d,complete:g})},as.prototype[Un]=function(){return this},as);function as(o){this._subscribe=o}try{$l={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{$l={indexedDB:null,IDBKeyRange:null}}function Vo(o){var d,g=!1,_=new Yo(function(S){var T=W(o),D,C=!1,N={},q={},V={get closed(){return C},unsubscribe:function(){C||(C=!0,D&&D.abort(),U&&dr.storagemutated.unsubscribe(z))}};S.start&&S.start(V);var U=!1,G=function(){return Nr(K)},z=function(Y){ja(N,Y),Wu(q,N)&&G()},K=function(){var Y,X,Q;!C&&$l.indexedDB&&(N={},Y={},D&&D.abort(),D=new AbortController,Q=function(ee){var ne=ti();try{T&&Vn();var re=or(o,ee);return re=T?re.finally(Dn):re}finally{ne&&Hi()}}(X={subscr:Y,signal:D.signal,requery:G,querier:o,trans:null}),Promise.resolve(Q).then(function(ee){g=!0,d=ee,C||X.signal.aborted||(N={},function(ne){for(var re in ne)if(w(ne,re))return;return 1}(q=Y)||U||(dr(kr,z),U=!0),Nr(function(){return!C&&S.next&&S.next(ee)}))},function(ee){g=!1,["DatabaseClosedError","AbortError"].includes(ee==null?void 0:ee.name)||C||Nr(function(){C||S.error&&S.error(ee)})}))};return setTimeout(G,0),V});return _.hasValue=function(){return g},_.getValue=function(){return d},_}var ci=Qn;function us(o){var d=Bt;try{Bt=!0,dr.storagemutated.fire(o),ns(o,!0)}finally{Bt=d}}A(ci,a(a({},Ct),{delete:function(o){return new ci(o,{addons:[]}).delete()},exists:function(o){return new ci(o,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return d=ci.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(Ju(g)?Promise.resolve(g.databases()).then(function(_){return _.map(function(S){return S.name}).filter(function(S){return S!==ni})}):Ua(g,d).toCollection().primaryKeys()).then(o)}catch{return jt(new Ee.MissingAPI)}var d,g},defineClass:function(){return function(o){b(this,o)}},ignoreTransaction:function(o){return Re.trans?Mr(Re.transless,o):o()},vip:$u,async:function(o){return function(){try{var d=oi(o.apply(this,arguments));return d&&typeof d.then=="function"?d:Ae.resolve(d)}catch(g){return jt(g)}}},spawn:function(o,d,g){try{var _=oi(o.apply(g,d||[]));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(S){return jt(S)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(o,d){return d=Ae.resolve(typeof o=="function"?ci.ignoreTransaction(o):o).timeout(d||6e4),Re.trans?Re.trans.waitFor(d):d},Promise:Ae,debug:{get:function(){return kn},set:function(o){xo(o)}},derive:j,extend:b,props:A,override:H,Events:Vi,on:dr,liveQuery:Vo,extendObservabilitySet:ja,getByKeyPath:we,setByKeyPath:Oe,delByKeyPath:function(o,d){typeof d=="string"?Oe(o,d,void 0):"length"in d&&[].map.call(d,function(g){Oe(o,g,void 0)})},shallowClone:$e,deepClone:Ye,getObjectDiff:Ba,cmp:nt,asap:de,minKey:-1/0,addons:[],connections:Or,errnames:yt,dependencies:$l,cache:si,semVer:"4.2.0",version:"4.2.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,d,g){return o+d/Math.pow(10,2*g)})})),ci.maxKey=qr(ci.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(dr(kr,function(o){Bt||(o=new CustomEvent(Xn,{detail:o}),Bt=!0,dispatchEvent(o),Bt=!1)}),addEventListener(Xn,function(o){o=o.detail,Bt||us(o)}));var tl,Bt=!1,nl=function(){};return typeof BroadcastChannel<"u"&&((nl=function(){(tl=new BroadcastChannel(Xn)).onmessage=function(o){return o.data&&us(o.data)}})(),typeof tl.unref=="function"&&tl.unref(),dr(kr,function(o){Bt||tl.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Qn.disableBfCache&&o.persisted){kn&&console.debug("Dexie: handling persisted pagehide"),tl!=null&&tl.close();for(var d=0,g=Or;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Qn.disableBfCache&&o.persisted&&(kn&&console.debug("Dexie: handling persisted pageshow"),nl(),us({all:new an(-1/0,[[]])}))})),Ae.rejectionMapper=function(o,d){return!o||o instanceof fe||o instanceof TypeError||o instanceof SyntaxError||!o.name||!gt[o.name]?o:(d=new gt[o.name](d||o.message,o),"stack"in o&&k(d,"stack",{get:function(){return this.inner.stack}}),d)},xo(kn),a(Qn,Object.freeze({__proto__:null,Dexie:Qn,liveQuery:Vo,Entity:Aa,cmp:nt,PropModification:Xi,replacePrefix:function(o,d){return new Xi({replacePrefix:[o,d]})},add:function(o){return new Xi({add:o})},remove:function(o){return new Xi({remove:o})},default:Qn,RangeSet:an,mergeRanges:Zl,rangesOverlap:jo}),{default:Qn}),Qn})}(Jc)),Jc.exports}var yS=hS();const Wh=_0(yS),nm=Symbol.for("Dexie"),ot=globalThis[nm]||(globalThis[nm]=Wh);if(Wh.semVer!==ot.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wh.semVer} and ${ot.semVer}`);const{liveQuery:Di,mergeRanges:ET,rangesOverlap:AT,RangeSet:pS,cmp:Sf,Entity:OT,PropModification:rm,replacePrefix:TT,add:xT,remove:kT,DexieYProvider:DT}=ot;var Ch={exports:{}},im;function vS(){return im||(im=1,function(r,n){(function(){var l={};r.exports=l,l.simpleFilter=function(a,s){return s.filter(function(c){return l.test(a,c)})},l.test=function(a,s){return l.match(a,s)!==null},l.match=function(a,s,c){c=c||{};var y=0,p=[],b=s.length,v=0,m=0,w=c.pre||"",A=c.post||"",O=c.caseSensitive&&s||s.toLowerCase(),k;a=c.caseSensitive&&a||a.toLowerCase();for(var j=0;j<b;j++)k=s[j],O[j]===a[y]?(k=w+k+A,y+=1,m+=1+m):m=0,v+=m,p[p.length]=k;return y===a.length?(v=O===a?1/0:v,{rendered:p.join(""),score:v}):null},l.filter=function(a,s,c){return!s||s.length===0?[]:typeof a!="string"?s:(c=c||{},s.reduce(function(y,p,b,v){var m=p;c.extract&&(m=c.extract(p));var w=l.match(a,m,c);return w!=null&&(y[y.length]={string:w.rendered,score:w.score,index:b,original:p}),y},[]).sort(function(y,p){var b=p.score-y.score;return b||y.index-p.index}))}})()}(Ch)),Ch.exports}var gS=vS();const mS=_0(gS),Ui=Math.floor,$c=Math.abs,w0=(r,n)=>r<n?r:n,Tu=(r,n)=>r>n?r:n,S0=r=>r!==0?r<0:1/r<0,lm=1,am=2,Rh=4,Uh=8,uo=32,Ci=64,nr=128,Ef=31,ey=63,da=127,bS=2147483647,E0=Number.MAX_SAFE_INTEGER,_S=Number.isInteger||(r=>typeof r=="number"&&isFinite(r)&&Ui(r)===r),ha=()=>new Set,Mh=r=>r[r.length-1],wS=(r,n)=>{for(let l=0;l<n.length;l++)r.push(n[l])},Cl=Array.from,SS=Array.isArray,ES=r=>r.toLowerCase(),AS=/^\s*/g,OS=r=>r.replace(AS,""),TS=/([A-Z])/g,um=(r,n)=>OS(r.replace(TS,l=>`${n}${ES(l)}`)),xS=r=>{const n=unescape(encodeURIComponent(r)),l=n.length,a=new Uint8Array(l);for(let s=0;s<l;s++)a[s]=n.codePointAt(s);return a},so=typeof TextEncoder<"u"?new TextEncoder:null,kS=r=>so.encode(r),DS=so?kS:xS;let Ws=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Ws&&Ws.decode(new Uint8Array).length===1&&(Ws=null);class xu{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const ku=()=>new xu,CS=r=>{let n=r.cpos;for(let l=0;l<r.bufs.length;l++)n+=r.bufs[l].length;return n},tr=r=>{const n=new Uint8Array(CS(r));let l=0;for(let a=0;a<r.bufs.length;a++){const s=r.bufs[a];n.set(s,l),l+=s.length}return n.set(new Uint8Array(r.cbuf.buffer,0,r.cpos),l),n},RS=(r,n)=>{const l=r.cbuf.length;l-r.cpos<n&&(r.bufs.push(new Uint8Array(r.cbuf.buffer,0,r.cpos)),r.cbuf=new Uint8Array(Tu(l,n)*2),r.cpos=0)},cn=(r,n)=>{const l=r.cbuf.length;r.cpos===l&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(l*2),r.cpos=0),r.cbuf[r.cpos++]=n},ty=cn,Qe=(r,n)=>{for(;n>da;)cn(r,nr|da&n),n=Ui(n/128);cn(r,da&n)},ky=(r,n)=>{const l=S0(n);for(l&&(n=-n),cn(r,(n>ey?nr:0)|(l?Ci:0)|ey&n),n=Ui(n/64);n>0;)cn(r,(n>da?nr:0)|da&n),n=Ui(n/128)},ny=new Uint8Array(3e4),US=ny.length/3,MS=(r,n)=>{if(n.length<US){const l=so.encodeInto(n,ny).written||0;Qe(r,l);for(let a=0;a<l;a++)cn(r,ny[a])}else pn(r,DS(n))},jS=(r,n)=>{const l=unescape(encodeURIComponent(n)),a=l.length;Qe(r,a);for(let s=0;s<a;s++)cn(r,l.codePointAt(s))},br=so&&so.encodeInto?MS:jS,NS=(r,n)=>mo(r,tr(n)),mo=(r,n)=>{const l=r.cbuf.length,a=r.cpos,s=w0(l-a,n.length),c=n.length-s;r.cbuf.set(n.subarray(0,s),a),r.cpos+=s,c>0&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(Tu(l*2,c)),r.cbuf.set(n.subarray(s)),r.cpos=c)},pn=(r,n)=>{Qe(r,n.byteLength),mo(r,n)},Af=(r,n)=>{RS(r,n);const l=new DataView(r.cbuf.buffer,r.cpos,n);return r.cpos+=n,l},zS=(r,n)=>Af(r,4).setFloat32(0,n,!1),BS=(r,n)=>Af(r,8).setFloat64(0,n,!1),LS=(r,n)=>Af(r,8).setBigInt64(0,n,!1),sm=(r,n)=>Af(r,8).setBigUint64(0,n,!1),om=new DataView(new ArrayBuffer(4)),qS=r=>(om.setFloat32(0,r),om.getFloat32(0)===r),Tl=(r,n)=>{switch(typeof n){case"string":cn(r,119),br(r,n);break;case"number":_S(n)&&$c(n)<=bS?(cn(r,125),ky(r,n)):qS(n)?(cn(r,124),zS(r,n)):(cn(r,123),BS(r,n));break;case"bigint":cn(r,122),LS(r,n);break;case"object":if(n===null)cn(r,126);else if(SS(n)){cn(r,117),Qe(r,n.length);for(let l=0;l<n.length;l++)Tl(r,n[l])}else if(n instanceof Uint8Array)cn(r,116),pn(r,n);else{cn(r,118);const l=Object.keys(n);Qe(r,l.length);for(let a=0;a<l.length;a++){const s=l[a];br(r,s),Tl(r,n[s])}}break;case"boolean":cn(r,n?120:121);break;default:cn(r,127)}};class cm extends xu{constructor(n){super(),this.w=n,this.s=null,this.count=0}write(n){this.s===n?this.count++:(this.count>0&&Qe(this,this.count-1),this.count=1,this.w(this,n),this.s=n)}}const fm=r=>{r.count>0&&(ky(r.encoder,r.count===1?r.s:-r.s),r.count>1&&Qe(r.encoder,r.count-2))};class Fc{constructor(){this.encoder=new xu,this.s=0,this.count=0}write(n){this.s===n?this.count++:(fm(this),this.count=1,this.s=n)}toUint8Array(){return fm(this),tr(this.encoder)}}const dm=r=>{if(r.count>0){const n=r.diff*2+(r.count===1?0:1);ky(r.encoder,n),r.count>1&&Qe(r.encoder,r.count-2)}};class jh{constructor(){this.encoder=new xu,this.s=0,this.count=0,this.diff=0}write(n){this.diff===n-this.s?(this.s=n,this.count++):(dm(this),this.count=1,this.diff=n-this.s,this.s=n)}toUint8Array(){return dm(this),tr(this.encoder)}}class HS{constructor(){this.sarr=[],this.s="",this.lensE=new Fc}write(n){this.s+=n,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(n.length)}toUint8Array(){const n=new xu;return this.sarr.push(this.s),this.s="",br(n,this.sarr.join("")),mo(n,this.lensE.toUint8Array()),tr(n)}}const Rl=r=>new Error(r),Zr=()=>{throw Rl("Method unimplemented")},Jr=()=>{throw Rl("Unexpected case")},A0=Rl("Unexpected end of array"),O0=Rl("Integer out of Range");class Du{constructor(n){this.arr=n,this.pos=0}}const bo=r=>new Du(r),T0=r=>r.pos!==r.arr.length,KS=(r,n)=>{const l=new Uint8Array(r.arr.buffer,r.pos+r.arr.byteOffset,n);return r.pos+=n,l},vn=r=>KS(r,At(r)),gu=r=>r.arr[r.pos++],At=r=>{let n=0,l=1;const a=r.arr.length;for(;r.pos<a;){const s=r.arr[r.pos++];if(n=n+(s&da)*l,l*=128,s<nr)return n;if(n>E0)throw O0}throw A0},Dy=r=>{let n=r.arr[r.pos++],l=n&ey,a=64;const s=(n&Ci)>0?-1:1;if((n&nr)===0)return s*l;const c=r.arr.length;for(;r.pos<c;){if(n=r.arr[r.pos++],l=l+(n&da)*a,a*=128,n<nr)return s*l;if(l>E0)throw O0}throw A0},YS=r=>{let n=At(r);if(n===0)return"";{let l=String.fromCodePoint(gu(r));if(--n<100)for(;n--;)l+=String.fromCodePoint(gu(r));else for(;n>0;){const a=n<1e4?n:1e4,s=r.arr.subarray(r.pos,r.pos+a);r.pos+=a,l+=String.fromCodePoint.apply(null,s),n-=a}return decodeURIComponent(escape(l))}},VS=r=>Ws.decode(vn(r)),_r=Ws?VS:YS,Of=(r,n)=>{const l=new DataView(r.arr.buffer,r.arr.byteOffset+r.pos,n);return r.pos+=n,l},GS=r=>Of(r,4).getFloat32(0,!1),XS=r=>Of(r,8).getFloat64(0,!1),IS=r=>Of(r,8).getBigInt64(0,!1),hm=r=>Of(r,8).getBigUint64(0,!1),QS=[r=>{},r=>null,Dy,GS,XS,IS,r=>!1,r=>!0,_r,r=>{const n=At(r),l={};for(let a=0;a<n;a++){const s=_r(r);l[s]=xl(r)}return l},r=>{const n=At(r),l=[];for(let a=0;a<n;a++)l.push(xl(r));return l},vn],xl=r=>QS[127-gu(r)](r);class ym extends Du{constructor(n,l){super(n),this.reader=l,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),T0(this)?this.count=At(this)+1:this.count=-1),this.count--,this.s}}class Pc extends Du{constructor(n){super(n),this.s=0,this.count=0}read(){if(this.count===0){this.s=Dy(this);const n=S0(this.s);this.count=1,n&&(this.s=-this.s,this.count=At(this)+2)}return this.count--,this.s}}class Nh extends Du{constructor(n){super(n),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const n=Dy(this),l=n&1;this.diff=Ui(n/2),this.count=1,l&&(this.count=At(this)+2)}return this.s+=this.diff,this.count--,this.s}}class ZS{constructor(n){this.decoder=new Pc(n),this.str=_r(this.decoder),this.spos=0}read(){const n=this.spos+this.decoder.read(),l=this.str.slice(this.spos,n);return this.spos=n,l}}var ry=function(r,n){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(l[s]=a[s])},ry(r,n)};function Mi(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ry(r,n);function l(){this.constructor=r}r.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}function JS(r,n,l,a){function s(c){return c instanceof l?c:new l(function(y){y(c)})}return new(l||(l=Promise))(function(c,y){function p(m){try{v(a.next(m))}catch(w){y(w)}}function b(m){try{v(a.throw(m))}catch(w){y(w)}}function v(m){m.done?c(m.value):s(m.value).then(p,b)}v((a=a.apply(r,n||[])).next())})}function x0(r,n){var l={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,s,c,y=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return y.next=p(0),y.throw=p(1),y.return=p(2),typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(v){return function(m){return b([v,m])}}function b(v){if(a)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(l=0)),l;)try{if(a=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,s=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(c=l.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){l.label=v[1];break}if(v[0]===6&&l.label<c[1]){l.label=c[1],c=v;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(v);break}c[2]&&l.ops.pop(),l.trys.pop();continue}v=n.call(r,l)}catch(m){v=[6,m],s=0}finally{a=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function mu(r){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&r[n],a=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ya(r,n){var l=typeof Symbol=="function"&&r[Symbol.iterator];if(!l)return r;var a=l.call(r),s,c=[],y;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(p){y={error:p}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(y)throw y.error}}return c}function bu(r,n,l){if(l||arguments.length===2)for(var a=0,s=n.length,c;a<s;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return r.concat(c||Array.prototype.slice.call(n))}function hu(r){return this instanceof hu?(this.v=r,this):new hu(r)}function $S(r,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(r,n||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",y),s[Symbol.asyncIterator]=function(){return this},s;function y(O){return function(k){return Promise.resolve(k).then(O,w)}}function p(O,k){a[O]&&(s[O]=function(j){return new Promise(function(J,ce){c.push([O,j,J,ce])>1||b(O,j)})},k&&(s[O]=k(s[O])))}function b(O,k){try{v(a[O](k))}catch(j){A(c[0][3],j)}}function v(O){O.value instanceof hu?Promise.resolve(O.value.v).then(m,w):A(c[0][2],O)}function m(O){b("next",O)}function w(O){b("throw",O)}function A(O,k){O(k),c.shift(),c.length&&b(c[0][0],c[0][1])}}function FS(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],l;return n?n.call(r):(r=typeof mu=="function"?mu(r):r[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=r[c]&&function(y){return new Promise(function(p,b){y=r[c](y),s(p,b,y.done,y.value)})}}function s(c,y,p,b){Promise.resolve(b).then(function(v){c({value:v,done:p})},y)}}function _t(r){return typeof r=="function"}function Cy(r){var n=function(a){Error.call(a),a.stack=new Error().stack},l=r(n);return l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l}var zh=Cy(function(r){return function(l){r(this),this.message=l?l.length+` errors occurred during unsubscription:
`+l.map(function(a,s){return s+1+") "+a.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=l}});function af(r,n){if(r){var l=r.indexOf(n);0<=l&&r.splice(l,1)}}var Cu=function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var n,l,a,s,c;if(!this.closed){this.closed=!0;var y=this._parentage;if(y)if(this._parentage=null,Array.isArray(y))try{for(var p=mu(y),b=p.next();!b.done;b=p.next()){var v=b.value;v.remove(this)}}catch(j){n={error:j}}finally{try{b&&!b.done&&(l=p.return)&&l.call(p)}finally{if(n)throw n.error}}else y.remove(this);var m=this.initialTeardown;if(_t(m))try{m()}catch(j){c=j instanceof zh?j.errors:[j]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var A=mu(w),O=A.next();!O.done;O=A.next()){var k=O.value;try{pm(k)}catch(j){c=c??[],j instanceof zh?c=bu(bu([],ya(c)),ya(j.errors)):c.push(j)}}}catch(j){a={error:j}}finally{try{O&&!O.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}}if(c)throw new zh(c)}},r.prototype.add=function(n){var l;if(n&&n!==this)if(this.closed)pm(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(l=this._finalizers)!==null&&l!==void 0?l:[]).push(n)}},r.prototype._hasParent=function(n){var l=this._parentage;return l===n||Array.isArray(l)&&l.includes(n)},r.prototype._addParent=function(n){var l=this._parentage;this._parentage=Array.isArray(l)?(l.push(n),l):l?[l,n]:n},r.prototype._removeParent=function(n){var l=this._parentage;l===n?this._parentage=null:Array.isArray(l)&&af(l,n)},r.prototype.remove=function(n){var l=this._finalizers;l&&af(l,n),n instanceof r&&n._removeParent(this)},r.EMPTY=function(){var n=new r;return n.closed=!0,n}(),r}(),k0=Cu.EMPTY;function D0(r){return r instanceof Cu||r&&"closed"in r&&_t(r.remove)&&_t(r.add)&&_t(r.unsubscribe)}function pm(r){_t(r)?r():r.unsubscribe()}var PS={Promise:void 0},WS={setTimeout:function(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];return setTimeout.apply(void 0,bu([r,n],ya(l)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function C0(r){WS.setTimeout(function(){throw r})}function vm(){}function Wc(r){r()}var Ry=function(r){Mi(n,r);function n(l){var a=r.call(this)||this;return a.isStopped=!1,l?(a.destination=l,D0(l)&&l.add(a)):a.destination=n1,a}return n.create=function(l,a,s){return new _u(l,a,s)},n.prototype.next=function(l){this.isStopped||this._next(l)},n.prototype.error=function(l){this.isStopped||(this.isStopped=!0,this._error(l))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(l){this.destination.next(l)},n.prototype._error=function(l){try{this.destination.error(l)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Cu),e1=function(){function r(n){this.partialObserver=n}return r.prototype.next=function(n){var l=this.partialObserver;if(l.next)try{l.next(n)}catch(a){Hc(a)}},r.prototype.error=function(n){var l=this.partialObserver;if(l.error)try{l.error(n)}catch(a){Hc(a)}else Hc(n)},r.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(l){Hc(l)}},r}(),_u=function(r){Mi(n,r);function n(l,a,s){var c=r.call(this)||this,y;return _t(l)||!l?y={next:l??void 0,error:a??void 0,complete:s??void 0}:y=l,c.destination=new e1(y),c}return n}(Ry);function Hc(r){C0(r)}function t1(r){throw r}var n1={closed:!0,next:vm,error:t1,complete:vm},Uy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ru(r){return r}function r1(r){return r.length===0?Ru:r.length===1?r[0]:function(l){return r.reduce(function(a,s){return s(a)},l)}}var nn=function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var l=new r;return l.source=this,l.operator=n,l},r.prototype.subscribe=function(n,l,a){var s=this,c=l1(n)?n:new _u(n,l,a);return Wc(function(){var y=s,p=y.operator,b=y.source;c.add(p?p.call(c,b):b?s._subscribe(c):s._trySubscribe(c))}),c},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(l){n.error(l)}},r.prototype.forEach=function(n,l){var a=this;return l=gm(l),new l(function(s,c){var y=new _u({next:function(p){try{n(p)}catch(b){c(b),y.unsubscribe()}},error:c,complete:s});a.subscribe(y)})},r.prototype._subscribe=function(n){var l;return(l=this.source)===null||l===void 0?void 0:l.subscribe(n)},r.prototype[Uy]=function(){return this},r.prototype.pipe=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return r1(n)(this)},r.prototype.toPromise=function(n){var l=this;return n=gm(n),new n(function(a,s){var c;l.subscribe(function(y){return c=y},function(y){return s(y)},function(){return a(c)})})},r.create=function(n){return new r(n)},r}();function gm(r){var n;return(n=r??PS.Promise)!==null&&n!==void 0?n:Promise}function i1(r){return r&&_t(r.next)&&_t(r.error)&&_t(r.complete)}function l1(r){return r&&r instanceof Ry||i1(r)&&D0(r)}function a1(r){return _t(r==null?void 0:r.lift)}function lr(r){return function(n){if(a1(n))return n.lift(function(l){try{return r(l,this)}catch(a){this.error(a)}});throw new TypeError("Unable to lift unknown Observable type")}}function ir(r,n,l,a,s){return new u1(r,n,l,a,s)}var u1=function(r){Mi(n,r);function n(l,a,s,c,y,p){var b=r.call(this,l)||this;return b.onFinalize=y,b.shouldUnsubscribe=p,b._next=a?function(v){try{a(v)}catch(m){l.error(m)}}:r.prototype._next,b._error=c?function(v){try{c(v)}catch(m){l.error(m)}finally{this.unsubscribe()}}:r.prototype._error,b._complete=s?function(){try{s()}catch(v){l.error(v)}finally{this.unsubscribe()}}:r.prototype._complete,b}return n.prototype.unsubscribe=function(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;r.prototype.unsubscribe.call(this),!a&&((l=this.onFinalize)===null||l===void 0||l.call(this))}},n}(Ry),s1=Cy(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),pa=function(r){Mi(n,r);function n(){var l=r.call(this)||this;return l.closed=!1,l.currentObservers=null,l.observers=[],l.isStopped=!1,l.hasError=!1,l.thrownError=null,l}return n.prototype.lift=function(l){var a=new mm(this,this);return a.operator=l,a},n.prototype._throwIfClosed=function(){if(this.closed)throw new s1},n.prototype.next=function(l){var a=this;Wc(function(){var s,c;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var y=mu(a.currentObservers),p=y.next();!p.done;p=y.next()){var b=p.value;b.next(l)}}catch(v){s={error:v}}finally{try{p&&!p.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}}})},n.prototype.error=function(l){var a=this;Wc(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=l;for(var s=a.observers;s.length;)s.shift().error(l)}})},n.prototype.complete=function(){var l=this;Wc(function(){if(l._throwIfClosed(),!l.isStopped){l.isStopped=!0;for(var a=l.observers;a.length;)a.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var l;return((l=this.observers)===null||l===void 0?void 0:l.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(l){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,l)},n.prototype._subscribe=function(l){return this._throwIfClosed(),this._checkFinalizedStatuses(l),this._innerSubscribe(l)},n.prototype._innerSubscribe=function(l){var a=this,s=this,c=s.hasError,y=s.isStopped,p=s.observers;return c||y?k0:(this.currentObservers=null,p.push(l),new Cu(function(){a.currentObservers=null,af(p,l)}))},n.prototype._checkFinalizedStatuses=function(l){var a=this,s=a.hasError,c=a.thrownError,y=a.isStopped;s?l.error(c):y&&l.complete()},n.prototype.asObservable=function(){var l=new nn;return l.source=this,l},n.create=function(l,a){return new mm(l,a)},n}(nn),mm=function(r){Mi(n,r);function n(l,a){var s=r.call(this)||this;return s.destination=l,s.source=a,s}return n.prototype.next=function(l){var a,s;(s=(a=this.destination)===null||a===void 0?void 0:a.next)===null||s===void 0||s.call(a,l)},n.prototype.error=function(l){var a,s;(s=(a=this.destination)===null||a===void 0?void 0:a.error)===null||s===void 0||s.call(a,l)},n.prototype.complete=function(){var l,a;(a=(l=this.destination)===null||l===void 0?void 0:l.complete)===null||a===void 0||a.call(l)},n.prototype._subscribe=function(l){var a,s;return(s=(a=this.source)===null||a===void 0?void 0:a.subscribe(l))!==null&&s!==void 0?s:k0},n}(pa),Rr=function(r){Mi(n,r);function n(l){var a=r.call(this)||this;return a._value=l,a}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(l){var a=r.prototype._subscribe.call(this,l);return!a.closed&&l.next(this._value),a},n.prototype.getValue=function(){var l=this,a=l.hasError,s=l.thrownError,c=l._value;if(a)throw s;return this._throwIfClosed(),c},n.prototype.next=function(l){r.prototype.next.call(this,this._value=l)},n}(pa),o1={now:function(){return Date.now()}},c1=function(r){Mi(n,r);function n(l,a){return r.call(this)||this}return n.prototype.schedule=function(l,a){return this},n}(Cu),bm={setInterval:function(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];return setInterval.apply(void 0,bu([r,n],ya(l)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},f1=function(r){Mi(n,r);function n(l,a){var s=r.call(this,l,a)||this;return s.scheduler=l,s.work=a,s.pending=!1,s}return n.prototype.schedule=function(l,a){var s;if(a===void 0&&(a=0),this.closed)return this;this.state=l;var c=this.id,y=this.scheduler;return c!=null&&(this.id=this.recycleAsyncId(y,c,a)),this.pending=!0,this.delay=a,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(y,this.id,a),this},n.prototype.requestAsyncId=function(l,a,s){return s===void 0&&(s=0),bm.setInterval(l.flush.bind(l,this),s)},n.prototype.recycleAsyncId=function(l,a,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return a;a!=null&&bm.clearInterval(a)},n.prototype.execute=function(l,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(l,a);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(l,a){var s=!1,c;try{this.work(l)}catch(y){s=!0,c=y||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),c},n.prototype.unsubscribe=function(){if(!this.closed){var l=this,a=l.id,s=l.scheduler,c=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,af(c,this),a!=null&&(this.id=this.recycleAsyncId(s,a,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},n}(c1),_m=function(){function r(n,l){l===void 0&&(l=r.now),this.schedulerActionCtor=n,this.now=l}return r.prototype.schedule=function(n,l,a){return l===void 0&&(l=0),new this.schedulerActionCtor(this,n).schedule(a,l)},r.now=o1.now,r}(),d1=function(r){Mi(n,r);function n(l,a){a===void 0&&(a=_m.now);var s=r.call(this,l,a)||this;return s.actions=[],s._active=!1,s}return n.prototype.flush=function(l){var a=this.actions;if(this._active){a.push(l);return}var s;this._active=!0;do if(s=l.execute(l.state,l.delay))break;while(l=a.shift());if(this._active=!1,s){for(;l=a.shift();)l.unsubscribe();throw s}},n}(_m),My=new d1(f1),h1=My,R0=new nn(function(r){return r.complete()});function U0(r){return r&&_t(r.schedule)}function jy(r){return r[r.length-1]}function y1(r){return _t(jy(r))?r.pop():void 0}function _o(r){return U0(jy(r))?r.pop():void 0}function p1(r,n){return typeof jy(r)=="number"?r.pop():n}var Ny=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function M0(r){return _t(r==null?void 0:r.then)}function j0(r){return _t(r[Uy])}function N0(r){return Symbol.asyncIterator&&_t(r==null?void 0:r[Symbol.asyncIterator])}function z0(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function v1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var B0=v1();function L0(r){return _t(r==null?void 0:r[B0])}function q0(r){return $S(this,arguments,function(){var l,a,s,c;return x0(this,function(y){switch(y.label){case 0:l=r.getReader(),y.label=1;case 1:y.trys.push([1,,9,10]),y.label=2;case 2:return[4,hu(l.read())];case 3:return a=y.sent(),s=a.value,c=a.done,c?[4,hu(void 0)]:[3,5];case 4:return[2,y.sent()];case 5:return[4,hu(s)];case 6:return[4,y.sent()];case 7:return y.sent(),[3,2];case 8:return[3,10];case 9:return l.releaseLock(),[7];case 10:return[2]}})})}function H0(r){return _t(r==null?void 0:r.getReader)}function Er(r){if(r instanceof nn)return r;if(r!=null){if(j0(r))return g1(r);if(Ny(r))return m1(r);if(M0(r))return b1(r);if(N0(r))return K0(r);if(L0(r))return _1(r);if(H0(r))return w1(r)}throw z0(r)}function g1(r){return new nn(function(n){var l=r[Uy]();if(_t(l.subscribe))return l.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function m1(r){return new nn(function(n){for(var l=0;l<r.length&&!n.closed;l++)n.next(r[l]);n.complete()})}function b1(r){return new nn(function(n){r.then(function(l){n.closed||(n.next(l),n.complete())},function(l){return n.error(l)}).then(null,C0)})}function _1(r){return new nn(function(n){var l,a;try{for(var s=mu(r),c=s.next();!c.done;c=s.next()){var y=c.value;if(n.next(y),n.closed)return}}catch(p){l={error:p}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}n.complete()})}function K0(r){return new nn(function(n){S1(r,n).catch(function(l){return n.error(l)})})}function w1(r){return K0(q0(r))}function S1(r,n){var l,a,s,c;return JS(this,void 0,void 0,function(){var y,p;return x0(this,function(b){switch(b.label){case 0:b.trys.push([0,5,6,11]),l=FS(r),b.label=1;case 1:return[4,l.next()];case 2:if(a=b.sent(),!!a.done)return[3,4];if(y=a.value,n.next(y),n.closed)return[2];b.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return p=b.sent(),s={error:p},[3,11];case 6:return b.trys.push([6,,9,10]),a&&!a.done&&(c=l.return)?[4,c.call(l)]:[3,8];case 7:b.sent(),b.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function kl(r,n,l,a,s){a===void 0&&(a=0),s===void 0&&(s=!1);var c=n.schedule(function(){l(),s?r.add(this.schedule(null,a)):this.unsubscribe()},a);if(r.add(c),!s)return c}function Y0(r,n){return n===void 0&&(n=0),lr(function(l,a){l.subscribe(ir(a,function(s){return kl(a,r,function(){return a.next(s)},n)},function(){return kl(a,r,function(){return a.complete()},n)},function(s){return kl(a,r,function(){return a.error(s)},n)}))})}function V0(r,n){return n===void 0&&(n=0),lr(function(l,a){a.add(r.schedule(function(){return l.subscribe(a)},n))})}function E1(r,n){return Er(r).pipe(V0(n),Y0(n))}function A1(r,n){return Er(r).pipe(V0(n),Y0(n))}function O1(r,n){return new nn(function(l){var a=0;return n.schedule(function(){a===r.length?l.complete():(l.next(r[a++]),l.closed||this.schedule())})})}function T1(r,n){return new nn(function(l){var a;return kl(l,n,function(){a=r[B0](),kl(l,n,function(){var s,c,y;try{s=a.next(),c=s.value,y=s.done}catch(p){l.error(p);return}y?l.complete():l.next(c)},0,!0)}),function(){return _t(a==null?void 0:a.return)&&a.return()}})}function G0(r,n){if(!r)throw new Error("Iterable cannot be null");return new nn(function(l){kl(l,n,function(){var a=r[Symbol.asyncIterator]();kl(l,n,function(){a.next().then(function(s){s.done?l.complete():l.next(s.value)})},0,!0)})})}function x1(r,n){return G0(q0(r),n)}function k1(r,n){if(r!=null){if(j0(r))return E1(r,n);if(Ny(r))return O1(r,n);if(M0(r))return A1(r,n);if(N0(r))return G0(r,n);if(L0(r))return T1(r,n);if(H0(r))return x1(r,n)}throw z0(r)}function rr(r,n){return n?k1(r,n):Er(r)}function Ri(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=_o(r);return rr(r,l)}function wm(r,n){var l=_t(r)?r:function(){return r},a=function(s){return s.error(l())};return new nn(a)}var D1=Cy(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function fa(r,n){return new Promise(function(l,a){var s=new _u({next:function(c){l(c),s.unsubscribe()},error:a,complete:function(){a(new D1)}});r.subscribe(s)})}function C1(r){return r instanceof Date&&!isNaN(r)}function er(r,n){return lr(function(l,a){var s=0;l.subscribe(ir(a,function(c){a.next(r.call(n,c,s++))}))})}var R1=Array.isArray;function U1(r,n){return R1(n)?r.apply(void 0,bu([],ya(n))):r(n)}function X0(r){return er(function(n){return U1(r,n)})}var M1=Array.isArray,j1=Object.getPrototypeOf,N1=Object.prototype,z1=Object.keys;function B1(r){if(r.length===1){var n=r[0];if(M1(n))return{args:n,keys:null};if(L1(n)){var l=z1(n);return{args:l.map(function(a){return n[a]}),keys:l}}}return{args:r,keys:null}}function L1(r){return r&&typeof r=="object"&&j1(r)===N1}function q1(r,n){return r.reduce(function(l,a,s){return l[a]=n[s],l},{})}function oo(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=_o(r),a=y1(r),s=B1(r),c=s.args,y=s.keys;if(c.length===0)return rr([],l);var p=new nn(H1(c,l,y?function(b){return q1(y,b)}:Ru));return a?p.pipe(X0(a)):p}function H1(r,n,l){return l===void 0&&(l=Ru),function(a){Sm(n,function(){for(var s=r.length,c=new Array(s),y=s,p=s,b=function(m){Sm(n,function(){var w=rr(r[m],n),A=!1;w.subscribe(ir(a,function(O){c[m]=O,A||(A=!0,p--),p||a.next(l(c.slice()))},function(){--y||a.complete()}))},a)},v=0;v<s;v++)b(v)},a)}}function Sm(r,n,l){r?kl(l,r,n):n()}function K1(r,n,l,a,s,c,y,p){var b=[],v=0,m=0,w=!1,A=function(){w&&!b.length&&!v&&n.complete()},O=function(j){return v<a?k(j):b.push(j)},k=function(j){v++;var J=!1;Er(l(j,m++)).subscribe(ir(n,function(ce){n.next(ce)},function(){J=!0},void 0,function(){if(J)try{v--;for(var ce=function(){var ue=b.shift();y||k(ue)};b.length&&v<a;)ce();A()}catch(ue){n.error(ue)}}))};return r.subscribe(ir(n,O,function(){w=!0,A()})),function(){}}function wo(r,n,l){return l===void 0&&(l=1/0),_t(n)?wo(function(a,s){return er(function(c,y){return n(a,c,s,y)})(Er(r(a,s)))},l):(typeof n=="number"&&(l=n),lr(function(a,s){return K1(a,s,r,l)}))}function I0(r){return r===void 0&&(r=1/0),wo(Ru,r)}function Y1(){return I0(1)}function Em(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Y1()(rr(r,_o(r)))}var V1=["addListener","removeListener"],G1=["addEventListener","removeEventListener"],X1=["on","off"];function Qr(r,n,l,a){if(_t(l)&&(a=l,l=void 0),a)return Qr(r,n,l).pipe(X0(a));var s=ya(Z1(r)?G1.map(function(p){return function(b){return r[p](n,b,l)}}):I1(r)?V1.map(Am(r,n)):Q1(r)?X1.map(Am(r,n)):[],2),c=s[0],y=s[1];if(!c&&Ny(r))return wo(function(p){return Qr(p,n,l)})(Er(r));if(!c)throw new TypeError("Invalid event target");return new nn(function(p){var b=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return p.next(1<v.length?v:v[0])};return c(b),function(){return y(b)}})}function Am(r,n){return function(l){return function(a){return r[l](n,a)}}}function I1(r){return _t(r.addListener)&&_t(r.removeListener)}function Q1(r){return _t(r.on)&&_t(r.off)}function Z1(r){return _t(r.addEventListener)&&_t(r.removeEventListener)}function Q0(r,n,l){r===void 0&&(r=0),l===void 0&&(l=h1);var a=-1;return n!=null&&(U0(n)?l=n:a=n),new nn(function(s){var c=C1(r)?+r-l.now():r;c<0&&(c=0);var y=0;return l.schedule(function(){s.closed||(s.next(y++),0<=a?this.schedule(void 0,a):s.complete())},c)})}function Tf(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=_o(r),a=p1(r,1/0),s=r;return s.length?s.length===1?Er(s[0]):I0(a)(rr(s,l)):R0}function mr(r,n){return lr(function(l,a){var s=0;l.subscribe(ir(a,function(c){return r.call(n,c,s++)&&a.next(c)}))})}function iy(r){return lr(function(n,l){var a=null,s=!1,c;a=n.subscribe(ir(l,void 0,void 0,function(y){c=Er(r(y,iy(r)(n))),a?(a.unsubscribe(),a=null,c.subscribe(l)):s=!0})),s&&(a.unsubscribe(),a=null,c.subscribe(l))})}function Om(r,n){return n===void 0&&(n=My),lr(function(l,a){var s=null,c=null,y=null,p=function(){if(s){s.unsubscribe(),s=null;var v=c;c=null,a.next(v)}};function b(){var v=y+r,m=n.now();if(m<v){s=this.schedule(void 0,v-m),a.add(s);return}p()}l.subscribe(ir(a,function(v){c=v,y=n.now(),s||(s=n.schedule(b,r),a.add(s))},function(){p(),a.complete()},void 0,function(){c=s=null}))})}function fu(r){return r<=0?function(){return R0}:lr(function(n,l){var a=0;n.subscribe(ir(l,function(s){++a<=r&&(l.next(s),r<=a&&l.complete())}))})}function J1(r){return er(function(){return r})}function $1(r,n){return wo(function(l,a){return Er(r(l,a)).pipe(fu(1),J1(l))})}function Z0(r,n){n===void 0&&(n=My);var l=Q0(r,n);return $1(function(){return l})}function J0(r,n){return n===void 0&&(n=Ru),r=r??F1,lr(function(l,a){var s,c=!0;l.subscribe(ir(a,function(y){var p=n(y);(c||!r(s,p))&&(c=!1,s=p,a.next(y))}))})}function F1(r,n){return r===n}function P1(r){r===void 0&&(r={});var n=r.connector,l=n===void 0?function(){return new pa}:n,a=r.resetOnError,s=a===void 0?!0:a,c=r.resetOnComplete,y=c===void 0?!0:c,p=r.resetOnRefCountZero,b=p===void 0?!0:p;return function(v){var m,w,A,O=0,k=!1,j=!1,J=function(){w==null||w.unsubscribe(),w=void 0},ce=function(){J(),m=A=void 0,k=j=!1},ue=function(){var H=m;ce(),H==null||H.unsubscribe()};return lr(function(H,he){O++,!j&&!k&&J();var de=A=A??l();he.add(function(){O--,O===0&&!j&&!k&&(w=Bh(ue,b))}),de.subscribe(he),!m&&O>0&&(m=new _u({next:function(we){return de.next(we)},error:function(we){j=!0,J(),w=Bh(ce,s,we),de.error(we)},complete:function(){k=!0,J(),w=Bh(ce,y),de.complete()}}),Er(H).subscribe(m))})(v)}}function Bh(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];if(n===!0){r();return}if(n!==!1){var s=new _u({next:function(){s.unsubscribe(),r()}});return Er(n.apply(void 0,bu([],ya(l)))).subscribe(s)}}function Tm(r){return mr(function(n,l){return r<=l})}function $0(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=_o(r);return lr(function(a,s){(l?Em(r,a,l):Em(r,a)).subscribe(s)})}function An(r,n){return lr(function(l,a){var s=null,c=0,y=!1,p=function(){return y&&!s&&a.complete()};l.subscribe(ir(a,function(b){s==null||s.unsubscribe();var v=0,m=c++;Er(r(b,m)).subscribe(s=ir(a,function(w){return a.next(n?n(b,w,m,v++):w)},function(){s=null,p()}))},function(){y=!0,p()}))})}function ly(r,n,l){var a=_t(r)||n||l?{next:r,error:n,complete:l}:r;return a?lr(function(s,c){var y;(y=a.subscribe)===null||y===void 0||y.call(a);var p=!0;s.subscribe(ir(c,function(b){var v;(v=a.next)===null||v===void 0||v.call(a,b),c.next(b)},function(){var b;p=!1,(b=a.complete)===null||b===void 0||b.call(a),c.complete()},function(b){var v;p=!1,(v=a.error)===null||v===void 0||v.call(a,b),c.error(b)},function(){var b,v;p&&((b=a.unsubscribe)===null||b===void 0||b.call(a)),(v=a.finalize)===null||v===void 0||v.call(a)}))}):Ru}const Kn=()=>new Map,ay=r=>{const n=Kn();return r.forEach((l,a)=>{n.set(a,l)}),n},ji=(r,n,l)=>{let a=r.get(n);return a===void 0&&r.set(n,a=l()),a},W1=(r,n)=>{const l=[];for(const[a,s]of r)l.push(n(s,a));return l},eE=(r,n)=>{for(const[l,a]of r)if(n(a,l))return!0;return!1};class tE{constructor(){this._observers=Kn()}on(n,l){return ji(this._observers,n,ha).add(l),l}once(n,l){const a=(...s)=>{this.off(n,a),l(...s)};this.on(n,a)}off(n,l){const a=this._observers.get(n);a!==void 0&&(a.delete(l),a.size===0&&this._observers.delete(n))}emit(n,l){return Cl((this._observers.get(n)||Kn()).values()).forEach(a=>a(...l))}destroy(){this._observers=Kn()}}class nE{constructor(){this._observers=Kn()}on(n,l){ji(this._observers,n,ha).add(l)}once(n,l){const a=(...s)=>{this.off(n,a),l(...s)};this.on(n,a)}off(n,l){const a=this._observers.get(n);a!==void 0&&(a.delete(l),a.size===0&&this._observers.delete(n))}emit(n,l){return Cl((this._observers.get(n)||Kn()).values()).forEach(a=>a(...l))}destroy(){this._observers=Kn()}}const rE=crypto.getRandomValues.bind(crypto),F0=()=>rE(new Uint32Array(1))[0],iE="10000000-1000-4000-8000"+-1e11,lE=()=>iE.replace(/[018]/g,r=>(r^F0()&15>>r/4).toString(16)),uf=Date.now,xm=r=>new Promise(r);Promise.all.bind(Promise);const km=r=>r===void 0?null:r;class aE{constructor(){this.map=new Map}setItem(n,l){this.map.set(n,l)}getItem(n){return this.map.get(n)}}let P0=new aE,uE=!0;try{typeof localStorage<"u"&&localStorage&&(P0=localStorage,uE=!1)}catch{}const sE=P0,oE=Object.assign,W0=Object.keys,cE=(r,n)=>{for(const l in r)n(r[l],l)},Dm=r=>W0(r).length,Cm=r=>W0(r).length,fE=r=>{for(const n in r)return!1;return!0},dE=(r,n)=>{for(const l in r)if(!n(r[l],l))return!1;return!0},eb=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),hE=(r,n)=>r===n||Cm(r)===Cm(n)&&dE(r,(l,a)=>(l!==void 0||eb(n,a))&&n[a]===l),yE=Object.freeze,tb=r=>{for(const n in r){const l=r[n];(typeof l=="object"||typeof l=="function")&&tb(r[n])}return yE(r)},Rm=Symbol("Equality"),zy=(r,n,l=0)=>{try{for(;l<r.length;l++)r[l](...n)}finally{l<r.length&&zy(r,n,l+1)}},eo=(r,n)=>{if(r===n)return!0;if(r==null||n==null||r.constructor!==n.constructor)return!1;if(r[Rm]!=null)return r[Rm](n);switch(r.constructor){case ArrayBuffer:r=new Uint8Array(r),n=new Uint8Array(n);case Uint8Array:{if(r.byteLength!==n.byteLength)return!1;for(let l=0;l<r.length;l++)if(r[l]!==n[l])return!1;break}case Set:{if(r.size!==n.size)return!1;for(const l of r)if(!n.has(l))return!1;break}case Map:{if(r.size!==n.size)return!1;for(const l of r.keys())if(!n.has(l)||!eo(r.get(l),n.get(l)))return!1;break}case Object:if(Dm(r)!==Dm(n))return!1;for(const l in r)if(!eb(r,l)||!eo(r[l],n[l]))return!1;break;case Array:if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!eo(r[l],n[l]))return!1;break;default:return!1}return!0},pE=(r,n)=>n.includes(r);var nb={};const co=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Xr;const vE=()=>{if(Xr===void 0)if(co){Xr=Kn();const r=process.argv;let n=null;for(let l=0;l<r.length;l++){const a=r[l];a[0]==="-"?(n!==null&&Xr.set(n,""),n=a):n!==null&&(Xr.set(n,a),n=null)}n!==null&&Xr.set(n,"")}else typeof location=="object"?(Xr=Kn(),(location.search||"?").slice(1).split("&").forEach(r=>{if(r.length!==0){const[n,l]=r.split("=");Xr.set(`--${um(n,"-")}`,l),Xr.set(`-${um(n,"-")}`,l)}})):Xr=Kn();return Xr},uy=r=>vE().has(r),sf=r=>km(co?nb[r.toUpperCase().replaceAll("-","_")]:sE.getItem(r)),rb=r=>uy("--"+r)||sf(r)!==null;rb("production");const gE=co&&pE(nb.FORCE_COLOR,["true","1","2"]),mE=gE||!uy("--no-colors")&&!rb("no-color")&&(!co||process.stdout.isTTY)&&(!co||uy("--color")||sf("COLORTERM")!==null||(sf("TERM")||"").includes("color"));class bE{constructor(n,l){this.left=n,this.right=l}}const Ai=(r,n)=>new bE(r,n);typeof DOMParser<"u"&&new DOMParser;const _E=r=>W1(r,(n,l)=>`${l}:${n};`).join(""),Ni=Symbol,ib=Ni(),lb=Ni(),wE=Ni(),SE=Ni(),EE=Ni(),ab=Ni(),AE=Ni(),By=Ni(),OE=Ni(),TE=r=>{var s;r.length===1&&((s=r[0])==null?void 0:s.constructor)===Function&&(r=r[0]());const n=[],l=[];let a=0;for(;a<r.length;a++){const c=r[a];if(c===void 0)break;if(c.constructor===String||c.constructor===Number)n.push(c);else if(c.constructor===Object)break}for(a>0&&l.push(n.join(""));a<r.length;a++){const c=r[a];c instanceof Symbol||l.push(c)}return l},xE={[ib]:Ai("font-weight","bold"),[lb]:Ai("font-weight","normal"),[wE]:Ai("color","blue"),[EE]:Ai("color","green"),[SE]:Ai("color","grey"),[ab]:Ai("color","red"),[AE]:Ai("color","purple"),[By]:Ai("color","orange"),[OE]:Ai("color","black")},kE=r=>{var y;r.length===1&&((y=r[0])==null?void 0:y.constructor)===Function&&(r=r[0]());const n=[],l=[],a=Kn();let s=[],c=0;for(;c<r.length;c++){const p=r[c],b=xE[p];if(b!==void 0)a.set(b.left,b.right);else{if(p===void 0)break;if(p.constructor===String||p.constructor===Number){const v=_E(a);c>0||v.length>0?(n.push("%c"+p),l.push(v)):n.push(p)}else break}}for(c>0&&(s=l,s.unshift(n.join("")));c<r.length;c++){const p=r[c];p instanceof Symbol||s.push(p)}return s},ub=mE?kE:TE,DE=(...r)=>{console.log(...ub(r)),sb.forEach(n=>n.print(r))},CE=(...r)=>{console.warn(...ub(r)),r.unshift(By),sb.forEach(n=>n.print(r))},sb=ha(),ob=r=>({[Symbol.iterator](){return this},next:r}),RE=(r,n)=>ob(()=>{let l;do l=r.next();while(!l.done&&!n(l.value));return l}),Lh=(r,n)=>ob(()=>{const{done:l,value:a}=r.next();return{done:l,value:l?void 0:n(a)}});class cb{constructor(n,l){this.clock=n,this.len=l}}class xf{constructor(){this.clients=new Map}}const fb=(r,n,l)=>n.clients.forEach((a,s)=>{const c=r.doc.store.clients.get(s);if(c!=null){const y=c[c.length-1],p=y.id.clock+y.length;for(let b=0,v=a[b];b<a.length&&v.clock<p;v=a[++b])_b(r,c,v.clock,v.len,l)}}),UE=(r,n)=>{let l=0,a=r.length-1;for(;l<=a;){const s=Ui((l+a)/2),c=r[s],y=c.clock;if(y<=n){if(n<y+c.len)return s;l=s+1}else a=s-1}return null},db=(r,n)=>{const l=r.clients.get(n.client);return l!==void 0&&UE(l,n.clock)!==null},Ly=r=>{r.clients.forEach(n=>{n.sort((s,c)=>s.clock-c.clock);let l,a;for(l=1,a=1;l<n.length;l++){const s=n[a-1],c=n[l];s.clock+s.len>=c.clock?s.len=Tu(s.len,c.clock+c.len-s.clock):(a<l&&(n[a]=c),a++)}n.length=a})},ME=r=>{const n=new xf;for(let l=0;l<r.length;l++)r[l].clients.forEach((a,s)=>{if(!n.clients.has(s)){const c=a.slice();for(let y=l+1;y<r.length;y++)wS(c,r[y].clients.get(s)||[]);n.clients.set(s,c)}});return Ly(n),n},of=(r,n,l,a)=>{ji(r.clients,n,()=>[]).push(new cb(l,a))},qy=(r,n)=>{Qe(r.restEncoder,n.clients.size),Cl(n.clients.entries()).sort((l,a)=>a[0]-l[0]).forEach(([l,a])=>{r.resetDsCurVal(),Qe(r.restEncoder,l);const s=a.length;Qe(r.restEncoder,s);for(let c=0;c<s;c++){const y=a[c];r.writeDsClock(y.clock),r.writeDsLen(y.len)}})},jE=r=>{const n=new xf,l=At(r.restDecoder);for(let a=0;a<l;a++){r.resetDsCurVal();const s=At(r.restDecoder),c=At(r.restDecoder);if(c>0){const y=ji(n.clients,s,()=>[]);for(let p=0;p<c;p++)y.push(new cb(r.readDsClock(),r.readDsLen()))}}return n},Um=(r,n,l)=>{const a=new xf,s=At(r.restDecoder);for(let c=0;c<s;c++){r.resetDsCurVal();const y=At(r.restDecoder),p=At(r.restDecoder),b=l.clients.get(y)||[],v=fn(l,y);for(let m=0;m<p;m++){const w=r.readDsClock(),A=w+r.readDsLen();if(w<v){v<A&&of(a,y,v,A-v);let O=$r(b,w),k=b[O];for(!k.deleted&&k.id.clock<w&&(b.splice(O+1,0,vf(n,k,w-k.id.clock)),O++);O<b.length&&(k=b[O++],k.id.clock<A);)k.deleted||(A<k.id.clock+k.length&&b.splice(O,0,vf(n,k,A-k.id.clock)),k.delete(n))}else of(a,y,w,A-w)}}if(a.clients.size>0){const c=new kf;return Qe(c.restEncoder,0),qy(c,a),c.toUint8Array()}return null},hb=F0;class Uu extends tE{constructor({guid:n=lE(),collectionid:l=null,gc:a=!0,gcFilter:s=()=>!0,meta:c=null,autoLoad:y=!1,shouldLoad:p=!0}={}){super(),this.gc=a,this.gcFilter=s,this.clientID=hb(),this.guid=n,this.collectionid=l,this.share=new Map,this.store=new mb,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=p,this.autoLoad=y,this.meta=c,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=xm(v=>{this.on("load",()=>{this.isLoaded=!0,v(this)})});const b=()=>xm(v=>{const m=w=>{(w===void 0||w===!0)&&(this.off("sync",m),v())};this.on("sync",m)});this.on("sync",v=>{v===!1&&this.isSynced&&(this.whenSynced=b()),this.isSynced=v===void 0||v===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=b()}load(){const n=this._item;n!==null&&!this.shouldLoad&&kt(n.parent.doc,l=>{l.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Cl(this.subdocs).map(n=>n.guid))}transact(n,l=null){return kt(this,n,l)}get(n,l=mn){const a=ji(this.share,n,()=>{const c=new l;return c._integrate(this,null),c}),s=a.constructor;if(l!==mn&&s!==l)if(s===mn){const c=new l;c._map=a._map,a._map.forEach(y=>{for(;y!==null;y=y.left)y.parent=c}),c._start=a._start;for(let y=c._start;y!==null;y=y.right)y.parent=c;return c._length=a._length,this.share.set(n,c),c._integrate(this,null),c}else throw new Error(`Type with the name ${n} has already been defined with a different constructor`);return a}getArray(n=""){return this.get(n,pu)}getText(n=""){return this.get(n,Su)}getMap(n=""){return this.get(n,wu)}getXmlElement(n=""){return this.get(n,Eu)}getXmlFragment(n=""){return this.get(n,va)}toJSON(){const n={};return this.share.forEach((l,a)=>{n[a]=l.toJSON()}),n}destroy(){this.isDestroyed=!0,Cl(this.subdocs).forEach(l=>l.destroy());const n=this._item;if(n!==null){this._item=null;const l=n.content;l.doc=new Uu({guid:this.guid,...l.opts,shouldLoad:!1}),l.doc._item=n,kt(n.parent.doc,a=>{const s=l.doc;n.deleted||a.subdocsAdded.add(s),a.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class NE{constructor(n){this.dsCurrVal=0,this.restDecoder=n}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=At(this.restDecoder),this.dsCurrVal}readDsLen(){const n=At(this.restDecoder)+1;return this.dsCurrVal+=n,n}}class fo extends NE{constructor(n){super(n),this.keys=[],At(n),this.keyClockDecoder=new Nh(vn(n)),this.clientDecoder=new Pc(vn(n)),this.leftClockDecoder=new Nh(vn(n)),this.rightClockDecoder=new Nh(vn(n)),this.infoDecoder=new ym(vn(n),gu),this.stringDecoder=new ZS(vn(n)),this.parentInfoDecoder=new ym(vn(n),gu),this.typeRefDecoder=new Pc(vn(n)),this.lenDecoder=new Pc(vn(n))}readLeftID(){return new yu(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new yu(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return xl(this.restDecoder)}readBuf(){return vn(this.restDecoder)}readJSON(){return xl(this.restDecoder)}readKey(){const n=this.keyClockDecoder.read();if(n<this.keys.length)return this.keys[n];{const l=this.stringDecoder.read();return this.keys.push(l),l}}}class zE{constructor(){this.restEncoder=ku()}toUint8Array(){return tr(this.restEncoder)}resetDsCurVal(){}writeDsClock(n){Qe(this.restEncoder,n)}writeDsLen(n){Qe(this.restEncoder,n)}}class BE extends zE{writeLeftID(n){Qe(this.restEncoder,n.client),Qe(this.restEncoder,n.clock)}writeRightID(n){Qe(this.restEncoder,n.client),Qe(this.restEncoder,n.clock)}writeClient(n){Qe(this.restEncoder,n)}writeInfo(n){ty(this.restEncoder,n)}writeString(n){br(this.restEncoder,n)}writeParentInfo(n){Qe(this.restEncoder,n?1:0)}writeTypeRef(n){Qe(this.restEncoder,n)}writeLen(n){Qe(this.restEncoder,n)}writeAny(n){Tl(this.restEncoder,n)}writeBuf(n){pn(this.restEncoder,n)}writeJSON(n){br(this.restEncoder,JSON.stringify(n))}writeKey(n){br(this.restEncoder,n)}}class yb{constructor(){this.restEncoder=ku(),this.dsCurrVal=0}toUint8Array(){return tr(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(n){const l=n-this.dsCurrVal;this.dsCurrVal=n,Qe(this.restEncoder,l)}writeDsLen(n){n===0&&Jr(),Qe(this.restEncoder,n-1),this.dsCurrVal+=n}}class kf extends yb{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new jh,this.clientEncoder=new Fc,this.leftClockEncoder=new jh,this.rightClockEncoder=new jh,this.infoEncoder=new cm(ty),this.stringEncoder=new HS,this.parentInfoEncoder=new cm(ty),this.typeRefEncoder=new Fc,this.lenEncoder=new Fc}toUint8Array(){const n=ku();return Qe(n,0),pn(n,this.keyClockEncoder.toUint8Array()),pn(n,this.clientEncoder.toUint8Array()),pn(n,this.leftClockEncoder.toUint8Array()),pn(n,this.rightClockEncoder.toUint8Array()),pn(n,tr(this.infoEncoder)),pn(n,this.stringEncoder.toUint8Array()),pn(n,tr(this.parentInfoEncoder)),pn(n,this.typeRefEncoder.toUint8Array()),pn(n,this.lenEncoder.toUint8Array()),mo(n,tr(this.restEncoder)),tr(n)}writeLeftID(n){this.clientEncoder.write(n.client),this.leftClockEncoder.write(n.clock)}writeRightID(n){this.clientEncoder.write(n.client),this.rightClockEncoder.write(n.clock)}writeClient(n){this.clientEncoder.write(n)}writeInfo(n){this.infoEncoder.write(n)}writeString(n){this.stringEncoder.write(n)}writeParentInfo(n){this.parentInfoEncoder.write(n?1:0)}writeTypeRef(n){this.typeRefEncoder.write(n)}writeLen(n){this.lenEncoder.write(n)}writeAny(n){Tl(this.restEncoder,n)}writeBuf(n){pn(this.restEncoder,n)}writeJSON(n){Tl(this.restEncoder,n)}writeKey(n){const l=this.keyMap.get(n);l===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(n)):this.keyClockEncoder.write(l)}}const LE=(r,n,l,a)=>{a=Tu(a,n[0].id.clock);const s=$r(n,a);Qe(r.restEncoder,n.length-s),r.writeClient(l),Qe(r.restEncoder,a);const c=n[s];c.write(r,a-c.id.clock);for(let y=s+1;y<n.length;y++)n[y].write(r,0)},pb=(r,n,l)=>{const a=new Map;l.forEach((s,c)=>{fn(n,c)>s&&a.set(c,s)}),Hy(n).forEach((s,c)=>{l.has(c)||a.set(c,0)}),Qe(r.restEncoder,a.size),Cl(a.entries()).sort((s,c)=>c[0]-s[0]).forEach(([s,c])=>{LE(r,n.clients.get(s),s,c)})},qE=(r,n)=>{const l=Kn(),a=At(r.restDecoder);for(let s=0;s<a;s++){const c=At(r.restDecoder),y=new Array(c),p=r.readClient();let b=At(r.restDecoder);l.set(p,{i:0,refs:y});for(let v=0;v<c;v++){const m=r.readInfo();switch(Ef&m){case 0:{const w=r.readLen();y[v]=new wr(ct(p,b),w),b+=w;break}case 10:{const w=At(r.restDecoder);y[v]=new Sr(ct(p,b),w),b+=w;break}default:{const w=(m&(Ci|nr))===0,A=new tn(ct(p,b),null,(m&nr)===nr?r.readLeftID():null,null,(m&Ci)===Ci?r.readRightID():null,w?r.readParentInfo()?n.get(r.readString()):r.readLeftID():null,w&&(m&uo)===uo?r.readString():null,Kb(r,m));y[v]=A,b+=A.length}}}}return l},HE=(r,n,l)=>{const a=[];let s=Cl(l.keys()).sort((O,k)=>O-k);if(s.length===0)return null;const c=()=>{if(s.length===0)return null;let O=l.get(s[s.length-1]);for(;O.refs.length===O.i;)if(s.pop(),s.length>0)O=l.get(s[s.length-1]);else return null;return O};let y=c();if(y===null)return null;const p=new mb,b=new Map,v=(O,k)=>{const j=b.get(O);(j==null||j>k)&&b.set(O,k)};let m=y.refs[y.i++];const w=new Map,A=()=>{for(const O of a){const k=O.id.client,j=l.get(k);j?(j.i--,p.clients.set(k,j.refs.slice(j.i)),l.delete(k),j.i=0,j.refs=[]):p.clients.set(k,[O]),s=s.filter(J=>J!==k)}a.length=0};for(;;){if(m.constructor!==Sr){const k=ji(w,m.id.client,()=>fn(n,m.id.client))-m.id.clock;if(k<0)a.push(m),v(m.id.client,m.id.clock-1),A();else{const j=m.getMissing(r,n);if(j!==null){a.push(m);const J=l.get(j)||{refs:[],i:0};if(J.refs.length===J.i)v(j,fn(n,j)),A();else{m=J.refs[J.i++];continue}}else(k===0||k<m.length)&&(m.integrate(r,k),w.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(y!==null&&y.i<y.refs.length)m=y.refs[y.i++];else{if(y=c(),y===null)break;m=y.refs[y.i++]}}if(p.clients.size>0){const O=new kf;return pb(O,p,new Map),Qe(O.restEncoder,0),{missing:b,update:O.toUint8Array()}}return null},KE=(r,n)=>pb(r,n.doc.store,n.beforeState),YE=(r,n,l,a=new fo(r))=>kt(n,s=>{s.local=!1;let c=!1;const y=s.doc,p=y.store,b=qE(a,y),v=HE(s,p,b),m=p.pendingStructs;if(m){for(const[A,O]of m.missing)if(O<fn(p,A)){c=!0;break}if(v){for(const[A,O]of v.missing){const k=m.missing.get(A);(k==null||k>O)&&m.missing.set(A,O)}m.update=cf([m.update,v.update])}}else p.pendingStructs=v;const w=Um(a,s,p);if(p.pendingDs){const A=new fo(bo(p.pendingDs));At(A.restDecoder);const O=Um(A,s,p);w&&O?p.pendingDs=cf([w,O]):p.pendingDs=w||O}else p.pendingDs=w;if(c){const A=p.pendingStructs.update;p.pendingStructs=null,vb(s.doc,A)}},l,!1),vb=(r,n,l,a=fo)=>{const s=bo(n);YE(s,r,l,new a(s))};class VE{constructor(){this.l=[]}}const Mm=()=>new VE,jm=(r,n)=>r.l.push(n),Nm=(r,n)=>{const l=r.l,a=l.length;r.l=l.filter(s=>n!==s),a===r.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},gb=(r,n,l)=>zy(r.l,[n,l]);class yu{constructor(n,l){this.client=n,this.clock=l}}const Kc=(r,n)=>r===n||r!==null&&n!==null&&r.client===n.client&&r.clock===n.clock,ct=(r,n)=>new yu(r,n),GE=r=>{for(const[n,l]of r.doc.share.entries())if(l===r)return n;throw Jr()},du=(r,n)=>n===void 0?!r.deleted:n.sv.has(r.id.client)&&(n.sv.get(r.id.client)||0)>r.id.clock&&!db(n.ds,r.id),sy=(r,n)=>{const l=ji(r.meta,sy,ha),a=r.doc.store;l.has(n)||(n.sv.forEach((s,c)=>{s<fn(a,c)&&Ul(r,ct(c,s))}),fb(r,n.ds,s=>{}),l.add(n))};class mb{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Hy=r=>{const n=new Map;return r.clients.forEach((l,a)=>{const s=l[l.length-1];n.set(a,s.id.clock+s.length)}),n},fn=(r,n)=>{const l=r.clients.get(n);if(l===void 0)return 0;const a=l[l.length-1];return a.id.clock+a.length},bb=(r,n)=>{let l=r.clients.get(n.id.client);if(l===void 0)l=[],r.clients.set(n.id.client,l);else{const a=l[l.length-1];if(a.id.clock+a.length!==n.id.clock)throw Jr()}l.push(n)},$r=(r,n)=>{let l=0,a=r.length-1,s=r[a],c=s.id.clock;if(c===n)return a;let y=Ui(n/(c+s.length-1)*a);for(;l<=a;){if(s=r[y],c=s.id.clock,c<=n){if(n<c+s.length)return y;l=y+1}else a=y-1;y=Ui((l+a)/2)}throw Jr()},XE=(r,n)=>{const l=r.clients.get(n.client);return l[$r(l,n.clock)]},qh=XE,oy=(r,n,l)=>{const a=$r(n,l),s=n[a];return s.id.clock<l&&s instanceof tn?(n.splice(a+1,0,vf(r,s,l-s.id.clock)),a+1):a},Ul=(r,n)=>{const l=r.doc.store.clients.get(n.client);return l[oy(r,l,n.clock)]},zm=(r,n,l)=>{const a=n.clients.get(l.client),s=$r(a,l.clock),c=a[s];return l.clock!==c.id.clock+c.length-1&&c.constructor!==wr&&a.splice(s+1,0,vf(r,c,l.clock-c.id.clock+1)),c},IE=(r,n,l)=>{const a=r.clients.get(n.id.client);a[$r(a,n.id.clock)]=l},_b=(r,n,l,a,s)=>{if(a===0)return;const c=l+a;let y=oy(r,n,l),p;do p=n[y++],c<p.id.clock+p.length&&oy(r,n,c),s(p);while(y<n.length&&n[y].id.clock<c)};class QE{constructor(n,l,a){this.doc=n,this.deleteSet=new xf,this.beforeState=Hy(n.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=l,this.meta=new Map,this.local=a,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Bm=(r,n)=>n.deleteSet.clients.size===0&&!eE(n.afterState,(l,a)=>n.beforeState.get(a)!==l)?!1:(Ly(n.deleteSet),KE(r,n),qy(r,n.deleteSet),!0),Lm=(r,n,l)=>{const a=n._item;(a===null||a.id.clock<(r.beforeState.get(a.id.client)||0)&&!a.deleted)&&ji(r.changed,n,ha).add(l)},ef=(r,n)=>{let l=r[n],a=r[n-1],s=n;for(;s>0;l=a,a=r[--s-1]){if(a.deleted===l.deleted&&a.constructor===l.constructor&&a.mergeWith(l)){l instanceof tn&&l.parentSub!==null&&l.parent._map.get(l.parentSub)===l&&l.parent._map.set(l.parentSub,a);continue}break}const c=n-s;return c&&r.splice(n+1-c,c),c},ZE=(r,n,l)=>{for(const[a,s]of r.clients.entries()){const c=n.clients.get(a);for(let y=s.length-1;y>=0;y--){const p=s[y],b=p.clock+p.len;for(let v=$r(c,p.clock),m=c[v];v<c.length&&m.id.clock<b;m=c[++v]){const w=c[v];if(p.clock+p.len<=w.id.clock)break;w instanceof tn&&w.deleted&&!w.keep&&l(w)&&w.gc(n,!1)}}}},JE=(r,n)=>{r.clients.forEach((l,a)=>{const s=n.clients.get(a);for(let c=l.length-1;c>=0;c--){const y=l[c],p=w0(s.length-1,1+$r(s,y.clock+y.len-1));for(let b=p,v=s[b];b>0&&v.id.clock>=y.clock;v=s[b])b-=1+ef(s,b)}})},wb=(r,n)=>{if(n<r.length){const l=r[n],a=l.doc,s=a.store,c=l.deleteSet,y=l._mergeStructs;try{Ly(c),l.afterState=Hy(l.doc.store),a.emit("beforeObserverCalls",[l,a]);const p=[];l.changed.forEach((b,v)=>p.push(()=>{(v._item===null||!v._item.deleted)&&v._callObserver(l,b)})),p.push(()=>{l.changedParentTypes.forEach((b,v)=>{v._dEH.l.length>0&&(v._item===null||!v._item.deleted)&&(b=b.filter(m=>m.target._item===null||!m.target._item.deleted),b.forEach(m=>{m.currentTarget=v,m._path=null}),b.sort((m,w)=>m.path.length-w.path.length),gb(v._dEH,b,l))})}),p.push(()=>a.emit("afterTransaction",[l,a])),zy(p,[]),l._needFormattingCleanup&&hA(l)}finally{a.gc&&ZE(c,s,a.gcFilter),JE(c,s),l.afterState.forEach((m,w)=>{const A=l.beforeState.get(w)||0;if(A!==m){const O=s.clients.get(w),k=Tu($r(O,A),1);for(let j=O.length-1;j>=k;)j-=1+ef(O,j)}});for(let m=y.length-1;m>=0;m--){const{client:w,clock:A}=y[m].id,O=s.clients.get(w),k=$r(O,A);k+1<O.length&&ef(O,k+1)>1||k>0&&ef(O,k)}if(!l.local&&l.afterState.get(a.clientID)!==l.beforeState.get(a.clientID)&&(DE(By,ib,"[yjs] ",lb,ab,"Changed the client-id because another client seems to be using it."),a.clientID=hb()),a.emit("afterTransactionCleanup",[l,a]),a._observers.has("update")){const m=new BE;Bm(m,l)&&a.emit("update",[m.toUint8Array(),l.origin,a,l])}if(a._observers.has("updateV2")){const m=new kf;Bm(m,l)&&a.emit("updateV2",[m.toUint8Array(),l.origin,a,l])}const{subdocsAdded:p,subdocsLoaded:b,subdocsRemoved:v}=l;(p.size>0||v.size>0||b.size>0)&&(p.forEach(m=>{m.clientID=a.clientID,m.collectionid==null&&(m.collectionid=a.collectionid),a.subdocs.add(m)}),v.forEach(m=>a.subdocs.delete(m)),a.emit("subdocs",[{loaded:b,added:p,removed:v},a,l]),v.forEach(m=>m.destroy())),r.length<=n+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,r])):wb(r,n+1)}}},kt=(r,n,l=null,a=!0)=>{const s=r._transactionCleanups;let c=!1,y=null;r._transaction===null&&(c=!0,r._transaction=new QE(r,l,a),s.push(r._transaction),s.length===1&&r.emit("beforeAllTransactions",[r]),r.emit("beforeTransaction",[r._transaction,r]));try{y=n(r._transaction)}finally{if(c){const p=r._transaction===s[0];r._transaction=null,p&&wb(s,0)}}return y};function*$E(r){const n=At(r.restDecoder);for(let l=0;l<n;l++){const a=At(r.restDecoder),s=r.readClient();let c=At(r.restDecoder);for(let y=0;y<a;y++){const p=r.readInfo();if(p===10){const b=At(r.restDecoder);yield new Sr(ct(s,c),b),c+=b}else if((Ef&p)!==0){const b=(p&(Ci|nr))===0,v=new tn(ct(s,c),null,(p&nr)===nr?r.readLeftID():null,null,(p&Ci)===Ci?r.readRightID():null,b?r.readParentInfo()?r.readString():r.readLeftID():null,b&&(p&uo)===uo?r.readString():null,Kb(r,p));yield v,c+=v.length}else{const b=r.readLen();yield new wr(ct(s,c),b),c+=b}}}}class Sb{constructor(n,l){this.gen=$E(n),this.curr=null,this.done=!1,this.filterSkips=l,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Sr);return this.curr}}class FE{constructor(n){this.currClient=0,this.startClock=0,this.written=0,this.encoder=n,this.clientStructs=[]}}const Eb=(r,n=yb,l=fo)=>{const a=new n,s=new Sb(new l(bo(r)),!1);let c=s.curr;if(c!==null){let y=0,p=c.id.client,b=c.id.clock!==0,v=b?0:c.id.clock+c.length;for(;c!==null;c=s.next())p!==c.id.client&&(v!==0&&(y++,Qe(a.restEncoder,p),Qe(a.restEncoder,v)),p=c.id.client,v=0,b=c.id.clock!==0),c.constructor===Sr&&(b=!0),b||(v=c.id.clock+c.length);v!==0&&(y++,Qe(a.restEncoder,p),Qe(a.restEncoder,v));const m=ku();return Qe(m,y),NS(m,a.restEncoder),a.restEncoder=m,a.toUint8Array()}else return Qe(a.restEncoder,0),a.toUint8Array()},PE=(r,n)=>{if(r.constructor===wr){const{client:l,clock:a}=r.id;return new wr(ct(l,a+n),r.length-n)}else if(r.constructor===Sr){const{client:l,clock:a}=r.id;return new Sr(ct(l,a+n),r.length-n)}else{const l=r,{client:a,clock:s}=l.id;return new tn(ct(a,s+n),null,ct(a,s+n-1),null,l.rightOrigin,l.parent,l.parentSub,l.content.splice(n))}},cf=(r,n=fo,l=kf)=>{if(r.length===1)return r[0];const a=r.map(m=>new n(bo(m)));let s=a.map(m=>new Sb(m,!0)),c=null;const y=new l,p=new FE(y);for(;s=s.filter(A=>A.curr!==null),s.sort((A,O)=>{if(A.curr.id.client===O.curr.id.client){const k=A.curr.id.clock-O.curr.id.clock;return k===0?A.curr.constructor===O.curr.constructor?0:A.curr.constructor===Sr?1:-1:k}else return O.curr.id.client-A.curr.id.client}),s.length!==0;){const m=s[0],w=m.curr.id.client;if(c!==null){let A=m.curr,O=!1;for(;A!==null&&A.id.clock+A.length<=c.struct.id.clock+c.struct.length&&A.id.client>=c.struct.id.client;)A=m.next(),O=!0;if(A===null||A.id.client!==w||O&&A.id.clock>c.struct.id.clock+c.struct.length)continue;if(w!==c.struct.id.client)Zs(p,c.struct,c.offset),c={struct:A,offset:0},m.next();else if(c.struct.id.clock+c.struct.length<A.id.clock)if(c.struct.constructor===Sr)c.struct.length=A.id.clock+A.length-c.struct.id.clock;else{Zs(p,c.struct,c.offset);const k=A.id.clock-c.struct.id.clock-c.struct.length;c={struct:new Sr(ct(w,c.struct.id.clock+c.struct.length),k),offset:0}}else{const k=c.struct.id.clock+c.struct.length-A.id.clock;k>0&&(c.struct.constructor===Sr?c.struct.length-=k:A=PE(A,k)),c.struct.mergeWith(A)||(Zs(p,c.struct,c.offset),c={struct:A,offset:0},m.next())}}else c={struct:m.curr,offset:0},m.next();for(let A=m.curr;A!==null&&A.id.client===w&&A.id.clock===c.struct.id.clock+c.struct.length&&A.constructor!==Sr;A=m.next())Zs(p,c.struct,c.offset),c={struct:A,offset:0}}c!==null&&(Zs(p,c.struct,c.offset),c=null),WE(p);const b=a.map(m=>jE(m)),v=ME(b);return qy(y,v),y.toUint8Array()},Ab=r=>{r.written>0&&(r.clientStructs.push({written:r.written,restEncoder:tr(r.encoder.restEncoder)}),r.encoder.restEncoder=ku(),r.written=0)},Zs=(r,n,l)=>{r.written>0&&r.currClient!==n.id.client&&Ab(r),r.written===0&&(r.currClient=n.id.client,r.encoder.writeClient(n.id.client),Qe(r.encoder.restEncoder,n.id.clock+l)),n.write(r.encoder,l),r.written++},WE=r=>{Ab(r);const n=r.encoder.restEncoder;Qe(n,r.clientStructs.length);for(let l=0;l<r.clientStructs.length;l++){const a=r.clientStructs[l];Qe(n,a.written),mo(n,a.restEncoder)}},qm="You must not compute changes after the event-handler fired.";class Df{constructor(n,l){this.target=n,this.currentTarget=n,this.transaction=l,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=eA(this.currentTarget,this.target))}deletes(n){return db(this.transaction.deleteSet,n.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Rl(qm);const n=new Map,l=this.target;this.transaction.changed.get(l).forEach(s=>{if(s!==null){const c=l._map.get(s);let y,p;if(this.adds(c)){let b=c.left;for(;b!==null&&this.adds(b);)b=b.left;if(this.deletes(c))if(b!==null&&this.deletes(b))y="delete",p=Mh(b.content.getContent());else return;else b!==null&&this.deletes(b)?(y="update",p=Mh(b.content.getContent())):(y="add",p=void 0)}else if(this.deletes(c))y="delete",p=Mh(c.content.getContent());else return;n.set(s,{action:y,oldValue:p})}}),this._keys=n}return this._keys}get delta(){return this.changes.delta}adds(n){return n.id.clock>=(this.transaction.beforeState.get(n.id.client)||0)}get changes(){let n=this._changes;if(n===null){if(this.transaction.doc._transactionCleanups.length===0)throw Rl(qm);const l=this.target,a=ha(),s=ha(),c=[];if(n={added:a,deleted:s,delta:c,keys:this.keys},this.transaction.changed.get(l).has(null)){let p=null;const b=()=>{p&&c.push(p)};for(let v=l._start;v!==null;v=v.right)v.deleted?this.deletes(v)&&!this.adds(v)&&((p===null||p.delete===void 0)&&(b(),p={delete:0}),p.delete+=v.length,s.add(v)):this.adds(v)?((p===null||p.insert===void 0)&&(b(),p={insert:[]}),p.insert=p.insert.concat(v.content.getContent()),a.add(v)):((p===null||p.retain===void 0)&&(b(),p={retain:0}),p.retain+=v.length);p!==null&&p.retain===void 0&&b()}this._changes=n}return n}}const eA=(r,n)=>{const l=[];for(;n._item!==null&&n!==r;){if(n._item.parentSub!==null)l.unshift(n._item.parentSub);else{let a=0,s=n._item.parent._start;for(;s!==n._item&&s!==null;)!s.deleted&&s.countable&&(a+=s.length),s=s.right;l.unshift(a)}n=n._item.parent}return l},Tn=()=>{CE("Invalid access: Add Yjs type to a document before reading data.")},Ob=80;let Ky=0;class tA{constructor(n,l){n.marker=!0,this.p=n,this.index=l,this.timestamp=Ky++}}const nA=r=>{r.timestamp=Ky++},Tb=(r,n,l)=>{r.p.marker=!1,r.p=n,n.marker=!0,r.index=l,r.timestamp=Ky++},rA=(r,n,l)=>{if(r.length>=Ob){const a=r.reduce((s,c)=>s.timestamp<c.timestamp?s:c);return Tb(a,n,l),a}else{const a=new tA(n,l);return r.push(a),a}},Cf=(r,n)=>{if(r._start===null||n===0||r._searchMarker===null)return null;const l=r._searchMarker.length===0?null:r._searchMarker.reduce((c,y)=>$c(n-c.index)<$c(n-y.index)?c:y);let a=r._start,s=0;for(l!==null&&(a=l.p,s=l.index,nA(l));a.right!==null&&s<n;){if(!a.deleted&&a.countable){if(n<s+a.length)break;s+=a.length}a=a.right}for(;a.left!==null&&s>n;)a=a.left,!a.deleted&&a.countable&&(s-=a.length);for(;a.left!==null&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(s-=a.length);return l!==null&&$c(l.index-s)<a.parent.length/Ob?(Tb(l,a,s),l):rA(r._searchMarker,a,s)},ho=(r,n,l)=>{for(let a=r.length-1;a>=0;a--){const s=r[a];if(l>0){let c=s.p;for(c.marker=!1;c&&(c.deleted||!c.countable);)c=c.left,c&&!c.deleted&&c.countable&&(s.index-=c.length);if(c===null||c.marker===!0){r.splice(a,1);continue}s.p=c,c.marker=!0}(n<s.index||l>0&&n===s.index)&&(s.index=Tu(n,s.index+l))}},Rf=(r,n,l)=>{const a=r,s=n.changedParentTypes;for(;ji(s,r,()=>[]).push(l),r._item!==null;)r=r._item.parent;gb(a._eH,l,n)};class mn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Mm(),this._dEH=Mm(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(n,l){this.doc=n,this._item=l}_copy(){throw Zr()}clone(){throw Zr()}_write(n){}get _first(){let n=this._start;for(;n!==null&&n.deleted;)n=n.right;return n}_callObserver(n,l){!n.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(n){jm(this._eH,n)}observeDeep(n){jm(this._dEH,n)}unobserve(n){Nm(this._eH,n)}unobserveDeep(n){Nm(this._dEH,n)}toJSON(){}}const xb=(r,n,l)=>{r.doc??Tn(),n<0&&(n=r._length+n),l<0&&(l=r._length+l);let a=l-n;const s=[];let c=r._start;for(;c!==null&&a>0;){if(c.countable&&!c.deleted){const y=c.content.getContent();if(y.length<=n)n-=y.length;else{for(let p=n;p<y.length&&a>0;p++)s.push(y[p]),a--;n=0}}c=c.right}return s},kb=r=>{r.doc??Tn();const n=[];let l=r._start;for(;l!==null;){if(l.countable&&!l.deleted){const a=l.content.getContent();for(let s=0;s<a.length;s++)n.push(a[s])}l=l.right}return n},yo=(r,n)=>{let l=0,a=r._start;for(r.doc??Tn();a!==null;){if(a.countable&&!a.deleted){const s=a.content.getContent();for(let c=0;c<s.length;c++)n(s[c],l++,r)}a=a.right}},Db=(r,n)=>{const l=[];return yo(r,(a,s)=>{l.push(n(a,s,r))}),l},iA=r=>{let n=r._start,l=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(l===null){for(;n!==null&&n.deleted;)n=n.right;if(n===null)return{done:!0,value:void 0};l=n.content.getContent(),a=0,n=n.right}const s=l[a++];return l.length<=a&&(l=null),{done:!1,value:s}}}},Cb=(r,n)=>{r.doc??Tn();const l=Cf(r,n);let a=r._start;for(l!==null&&(a=l.p,n-=l.index);a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<a.length)return a.content.getContent()[n];n-=a.length}},ff=(r,n,l,a)=>{let s=l;const c=r.doc,y=c.clientID,p=c.store,b=l===null?n._start:l.right;let v=[];const m=()=>{v.length>0&&(s=new tn(ct(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new ga(v)),s.integrate(r,0),v=[])};a.forEach(w=>{if(w===null)v.push(w);else switch(w.constructor){case Number:case Object:case Boolean:case Array:case String:v.push(w);break;default:switch(m(),w.constructor){case Uint8Array:case ArrayBuffer:s=new tn(ct(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new So(new Uint8Array(w))),s.integrate(r,0);break;case Uu:s=new tn(ct(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new Eo(w)),s.integrate(r,0);break;default:if(w instanceof mn)s=new tn(ct(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new zi(w)),s.integrate(r,0);else throw new Error("Unexpected content type in insert operation")}}}),m()},Rb=()=>Rl("Length exceeded!"),Ub=(r,n,l,a)=>{if(l>n._length)throw Rb();if(l===0)return n._searchMarker&&ho(n._searchMarker,l,a.length),ff(r,n,null,a);const s=l,c=Cf(n,l);let y=n._start;for(c!==null&&(y=c.p,l-=c.index,l===0&&(y=y.prev,l+=y&&y.countable&&!y.deleted?y.length:0));y!==null;y=y.right)if(!y.deleted&&y.countable){if(l<=y.length){l<y.length&&Ul(r,ct(y.id.client,y.id.clock+l));break}l-=y.length}return n._searchMarker&&ho(n._searchMarker,s,a.length),ff(r,n,y,a)},lA=(r,n,l)=>{let s=(n._searchMarker||[]).reduce((c,y)=>y.index>c.index?y:c,{index:0,p:n._start}).p;if(s)for(;s.right;)s=s.right;return ff(r,n,s,l)},Mb=(r,n,l,a)=>{if(a===0)return;const s=l,c=a,y=Cf(n,l);let p=n._start;for(y!==null&&(p=y.p,l-=y.index);p!==null&&l>0;p=p.right)!p.deleted&&p.countable&&(l<p.length&&Ul(r,ct(p.id.client,p.id.clock+l)),l-=p.length);for(;a>0&&p!==null;)p.deleted||(a<p.length&&Ul(r,ct(p.id.client,p.id.clock+a)),p.delete(r),a-=p.length),p=p.right;if(a>0)throw Rb();n._searchMarker&&ho(n._searchMarker,s,-c+a)},df=(r,n,l)=>{const a=n._map.get(l);a!==void 0&&a.delete(r)},Yy=(r,n,l,a)=>{const s=n._map.get(l)||null,c=r.doc,y=c.clientID;let p;if(a==null)p=new ga([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:p=new ga([a]);break;case Uint8Array:p=new So(a);break;case Uu:p=new Eo(a);break;default:if(a instanceof mn)p=new zi(a);else throw new Error("Unexpected content type")}new tn(ct(y,fn(c.store,y)),s,s&&s.lastId,null,null,n,l,p).integrate(r,0)},Vy=(r,n)=>{r.doc??Tn();const l=r._map.get(n);return l!==void 0&&!l.deleted?l.content.getContent()[l.length-1]:void 0},jb=r=>{const n={};return r.doc??Tn(),r._map.forEach((l,a)=>{l.deleted||(n[a]=l.content.getContent()[l.length-1])}),n},Nb=(r,n)=>{r.doc??Tn();const l=r._map.get(n);return l!==void 0&&!l.deleted},aA=(r,n)=>{const l={};return r._map.forEach((a,s)=>{let c=a;for(;c!==null&&(!n.sv.has(c.id.client)||c.id.clock>=(n.sv.get(c.id.client)||0));)c=c.left;c!==null&&du(c,n)&&(l[s]=c.content.getContent()[c.length-1])}),l},Yc=r=>(r.doc??Tn(),RE(r._map.entries(),n=>!n[1].deleted));class uA extends Df{}class pu extends mn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(n){const l=new pu;return l.push(n),l}_integrate(n,l){super._integrate(n,l),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new pu}clone(){const n=new pu;return n.insert(0,this.toArray().map(l=>l instanceof mn?l.clone():l)),n}get length(){return this.doc??Tn(),this._length}_callObserver(n,l){super._callObserver(n,l),Rf(this,n,new uA(this,n))}insert(n,l){this.doc!==null?kt(this.doc,a=>{Ub(a,this,n,l)}):this._prelimContent.splice(n,0,...l)}push(n){this.doc!==null?kt(this.doc,l=>{lA(l,this,n)}):this._prelimContent.push(...n)}unshift(n){this.insert(0,n)}delete(n,l=1){this.doc!==null?kt(this.doc,a=>{Mb(a,this,n,l)}):this._prelimContent.splice(n,l)}get(n){return Cb(this,n)}toArray(){return kb(this)}slice(n=0,l=this.length){return xb(this,n,l)}toJSON(){return this.map(n=>n instanceof mn?n.toJSON():n)}map(n){return Db(this,n)}forEach(n){yo(this,n)}[Symbol.iterator](){return iA(this)}_write(n){n.writeTypeRef(UA)}}const sA=r=>new pu;class oA extends Df{constructor(n,l,a){super(n,l),this.keysChanged=a}}class wu extends mn{constructor(n){super(),this._prelimContent=null,n===void 0?this._prelimContent=new Map:this._prelimContent=new Map(n)}_integrate(n,l){super._integrate(n,l),this._prelimContent.forEach((a,s)=>{this.set(s,a)}),this._prelimContent=null}_copy(){return new wu}clone(){const n=new wu;return this.forEach((l,a)=>{n.set(a,l instanceof mn?l.clone():l)}),n}_callObserver(n,l){Rf(this,n,new oA(this,n,l))}toJSON(){this.doc??Tn();const n={};return this._map.forEach((l,a)=>{if(!l.deleted){const s=l.content.getContent()[l.length-1];n[a]=s instanceof mn?s.toJSON():s}}),n}get size(){return[...Yc(this)].length}keys(){return Lh(Yc(this),n=>n[0])}values(){return Lh(Yc(this),n=>n[1].content.getContent()[n[1].length-1])}entries(){return Lh(Yc(this),n=>[n[0],n[1].content.getContent()[n[1].length-1]])}forEach(n){this.doc??Tn(),this._map.forEach((l,a)=>{l.deleted||n(l.content.getContent()[l.length-1],a,this)})}[Symbol.iterator](){return this.entries()}delete(n){this.doc!==null?kt(this.doc,l=>{df(l,this,n)}):this._prelimContent.delete(n)}set(n,l){return this.doc!==null?kt(this.doc,a=>{Yy(a,this,n,l)}):this._prelimContent.set(n,l),l}get(n){return Vy(this,n)}has(n){return Nb(this,n)}clear(){this.doc!==null?kt(this.doc,n=>{this.forEach(function(l,a,s){df(n,s,a)})}):this._prelimContent.clear()}_write(n){n.writeTypeRef(MA)}}const cA=r=>new wu,Al=(r,n)=>r===n||typeof r=="object"&&typeof n=="object"&&r&&n&&hE(r,n);class cy{constructor(n,l,a,s){this.left=n,this.right=l,this.index=a,this.currentAttributes=s}forward(){switch(this.right===null&&Jr(),this.right.content.constructor){case rn:this.right.deleted||Mu(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Hm=(r,n,l)=>{for(;n.right!==null&&l>0;){switch(n.right.content.constructor){case rn:n.right.deleted||Mu(n.currentAttributes,n.right.content);break;default:n.right.deleted||(l<n.right.length&&Ul(r,ct(n.right.id.client,n.right.id.clock+l)),n.index+=n.right.length,l-=n.right.length);break}n.left=n.right,n.right=n.right.right}return n},Vc=(r,n,l,a)=>{const s=new Map,c=a?Cf(n,l):null;if(c){const y=new cy(c.p.left,c.p,c.index,s);return Hm(r,y,l-c.index)}else{const y=new cy(null,n._start,0,s);return Hm(r,y,l)}},zb=(r,n,l,a)=>{for(;l.right!==null&&(l.right.deleted===!0||l.right.content.constructor===rn&&Al(a.get(l.right.content.key),l.right.content.value));)l.right.deleted||a.delete(l.right.content.key),l.forward();const s=r.doc,c=s.clientID;a.forEach((y,p)=>{const b=l.left,v=l.right,m=new tn(ct(c,fn(s.store,c)),b,b&&b.lastId,v,v&&v.id,n,null,new rn(p,y));m.integrate(r,0),l.right=m,l.forward()})},Mu=(r,n)=>{const{key:l,value:a}=n;a===null?r.delete(l):r.set(l,a)},Bb=(r,n)=>{for(;r.right!==null;){if(!(r.right.deleted||r.right.content.constructor===rn&&Al(n[r.right.content.key]??null,r.right.content.value)))break;r.forward()}},Lb=(r,n,l,a)=>{const s=r.doc,c=s.clientID,y=new Map;for(const p in a){const b=a[p],v=l.currentAttributes.get(p)??null;if(!Al(v,b)){y.set(p,v);const{left:m,right:w}=l;l.right=new tn(ct(c,fn(s.store,c)),m,m&&m.lastId,w,w&&w.id,n,null,new rn(p,b)),l.right.integrate(r,0),l.forward()}}return y},Hh=(r,n,l,a,s)=>{l.currentAttributes.forEach((A,O)=>{s[O]===void 0&&(s[O]=null)});const c=r.doc,y=c.clientID;Bb(l,s);const p=Lb(r,n,l,s),b=a.constructor===String?new Fr(a):a instanceof mn?new zi(a):new ma(a);let{left:v,right:m,index:w}=l;n._searchMarker&&ho(n._searchMarker,l.index,b.getLength()),m=new tn(ct(y,fn(c.store,y)),v,v&&v.lastId,m,m&&m.id,n,null,b),m.integrate(r,0),l.right=m,l.index=w,l.forward(),zb(r,n,l,p)},Km=(r,n,l,a,s)=>{const c=r.doc,y=c.clientID;Bb(l,s);const p=Lb(r,n,l,s);e:for(;l.right!==null&&(a>0||p.size>0&&(l.right.deleted||l.right.content.constructor===rn));){if(!l.right.deleted)switch(l.right.content.constructor){case rn:{const{key:b,value:v}=l.right.content,m=s[b];if(m!==void 0){if(Al(m,v))p.delete(b);else{if(a===0)break e;p.set(b,v)}l.right.delete(r)}else l.currentAttributes.set(b,v);break}default:a<l.right.length&&Ul(r,ct(l.right.id.client,l.right.id.clock+a)),a-=l.right.length;break}l.forward()}if(a>0){let b="";for(;a>0;a--)b+=`
`;l.right=new tn(ct(y,fn(c.store,y)),l.left,l.left&&l.left.lastId,l.right,l.right&&l.right.id,n,null,new Fr(b)),l.right.integrate(r,0),l.forward()}zb(r,n,l,p)},qb=(r,n,l,a,s)=>{let c=n;const y=Kn();for(;c&&(!c.countable||c.deleted);){if(!c.deleted&&c.content.constructor===rn){const v=c.content;y.set(v.key,v)}c=c.right}let p=0,b=!1;for(;n!==c;){if(l===n&&(b=!0),!n.deleted){const v=n.content;switch(v.constructor){case rn:{const{key:m,value:w}=v,A=a.get(m)??null;(y.get(m)!==v||A===w)&&(n.delete(r),p++,!b&&(s.get(m)??null)===w&&A!==w&&(A===null?s.delete(m):s.set(m,A))),!b&&!n.deleted&&Mu(s,v);break}}}n=n.right}return p},fA=(r,n)=>{for(;n&&n.right&&(n.right.deleted||!n.right.countable);)n=n.right;const l=new Set;for(;n&&(n.deleted||!n.countable);){if(!n.deleted&&n.content.constructor===rn){const a=n.content.key;l.has(a)?n.delete(r):l.add(a)}n=n.left}},dA=r=>{let n=0;return kt(r.doc,l=>{let a=r._start,s=r._start,c=Kn();const y=ay(c);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case rn:Mu(y,s.content);break;default:n+=qb(l,a,s,c,y),c=ay(y),a=s;break}s=s.right}}),n},hA=r=>{const n=new Set,l=r.doc;for(const[a,s]of r.afterState.entries()){const c=r.beforeState.get(a)||0;s!==c&&_b(r,l.store.clients.get(a),c,s,y=>{!y.deleted&&y.content.constructor===rn&&y.constructor!==wr&&n.add(y.parent)})}kt(l,a=>{fb(r,r.deleteSet,s=>{if(s instanceof wr||!s.parent._hasFormatting||n.has(s.parent))return;const c=s.parent;s.content.constructor===rn?n.add(c):fA(a,s)});for(const s of n)dA(s)})},Ym=(r,n,l)=>{const a=l,s=ay(n.currentAttributes),c=n.right;for(;l>0&&n.right!==null;){if(n.right.deleted===!1)switch(n.right.content.constructor){case zi:case ma:case Fr:l<n.right.length&&Ul(r,ct(n.right.id.client,n.right.id.clock+l)),l-=n.right.length,n.right.delete(r);break}n.forward()}c&&qb(r,c,n.right,s,n.currentAttributes);const y=(n.left||n.right).parent;return y._searchMarker&&ho(y._searchMarker,n.index,-a+l),n};class yA extends Df{constructor(n,l,a){super(n,l),this.childListChanged=!1,this.keysChanged=new Set,a.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const n={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=n}return this._changes}get delta(){if(this._delta===null){const n=this.target.doc,l=[];kt(n,a=>{const s=new Map,c=new Map;let y=this.target._start,p=null;const b={};let v="",m=0,w=0;const A=()=>{if(p!==null){let O=null;switch(p){case"delete":w>0&&(O={delete:w}),w=0;break;case"insert":(typeof v=="object"||v.length>0)&&(O={insert:v},s.size>0&&(O.attributes={},s.forEach((k,j)=>{k!==null&&(O.attributes[j]=k)}))),v="";break;case"retain":m>0&&(O={retain:m},fE(b)||(O.attributes=oE({},b))),m=0;break}O&&l.push(O),p=null}};for(;y!==null;){switch(y.content.constructor){case zi:case ma:this.adds(y)?this.deletes(y)||(A(),p="insert",v=y.content.getContent()[0],A()):this.deletes(y)?(p!=="delete"&&(A(),p="delete"),w+=1):y.deleted||(p!=="retain"&&(A(),p="retain"),m+=1);break;case Fr:this.adds(y)?this.deletes(y)||(p!=="insert"&&(A(),p="insert"),v+=y.content.str):this.deletes(y)?(p!=="delete"&&(A(),p="delete"),w+=y.length):y.deleted||(p!=="retain"&&(A(),p="retain"),m+=y.length);break;case rn:{const{key:O,value:k}=y.content;if(this.adds(y)){if(!this.deletes(y)){const j=s.get(O)??null;Al(j,k)?k!==null&&y.delete(a):(p==="retain"&&A(),Al(k,c.get(O)??null)?delete b[O]:b[O]=k)}}else if(this.deletes(y)){c.set(O,k);const j=s.get(O)??null;Al(j,k)||(p==="retain"&&A(),b[O]=j)}else if(!y.deleted){c.set(O,k);const j=b[O];j!==void 0&&(Al(j,k)?j!==null&&y.delete(a):(p==="retain"&&A(),k===null?delete b[O]:b[O]=k))}y.deleted||(p==="insert"&&A(),Mu(s,y.content));break}}y=y.right}for(A();l.length>0;){const O=l[l.length-1];if(O.retain!==void 0&&O.attributes===void 0)l.pop();else break}}),this._delta=l}return this._delta}}class Su extends mn{constructor(n){super(),this._pending=n!==void 0?[()=>this.insert(0,n)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Tn(),this._length}_integrate(n,l){super._integrate(n,l);try{this._pending.forEach(a=>a())}catch(a){console.error(a)}this._pending=null}_copy(){return new Su}clone(){const n=new Su;return n.applyDelta(this.toDelta()),n}_callObserver(n,l){super._callObserver(n,l);const a=new yA(this,n,l);Rf(this,n,a),!n.local&&this._hasFormatting&&(n._needFormattingCleanup=!0)}toString(){this.doc??Tn();let n="",l=this._start;for(;l!==null;)!l.deleted&&l.countable&&l.content.constructor===Fr&&(n+=l.content.str),l=l.right;return n}toJSON(){return this.toString()}applyDelta(n,{sanitize:l=!0}={}){this.doc!==null?kt(this.doc,a=>{const s=new cy(null,this._start,0,new Map);for(let c=0;c<n.length;c++){const y=n[c];if(y.insert!==void 0){const p=!l&&typeof y.insert=="string"&&c===n.length-1&&s.right===null&&y.insert.slice(-1)===`
`?y.insert.slice(0,-1):y.insert;(typeof p!="string"||p.length>0)&&Hh(a,this,s,p,y.attributes||{})}else y.retain!==void 0?Km(a,this,s,y.retain,y.attributes||{}):y.delete!==void 0&&Ym(a,s,y.delete)}}):this._pending.push(()=>this.applyDelta(n))}toDelta(n,l,a){this.doc??Tn();const s=[],c=new Map,y=this.doc;let p="",b=this._start;function v(){if(p.length>0){const w={};let A=!1;c.forEach((k,j)=>{A=!0,w[j]=k});const O={insert:p};A&&(O.attributes=w),s.push(O),p=""}}const m=()=>{for(;b!==null;){if(du(b,n)||l!==void 0&&du(b,l))switch(b.content.constructor){case Fr:{const w=c.get("ychange");n!==void 0&&!du(b,n)?(w===void 0||w.user!==b.id.client||w.type!=="removed")&&(v(),c.set("ychange",a?a("removed",b.id):{type:"removed"})):l!==void 0&&!du(b,l)?(w===void 0||w.user!==b.id.client||w.type!=="added")&&(v(),c.set("ychange",a?a("added",b.id):{type:"added"})):w!==void 0&&(v(),c.delete("ychange")),p+=b.content.str;break}case zi:case ma:{v();const w={insert:b.content.getContent()[0]};if(c.size>0){const A={};w.attributes=A,c.forEach((O,k)=>{A[k]=O})}s.push(w);break}case rn:du(b,n)&&(v(),Mu(c,b.content));break}b=b.right}v()};return n||l?kt(y,w=>{n&&sy(w,n),l&&sy(w,l),m()},"cleanup"):m(),s}insert(n,l,a){if(l.length<=0)return;const s=this.doc;s!==null?kt(s,c=>{const y=Vc(c,this,n,!a);a||(a={},y.currentAttributes.forEach((p,b)=>{a[b]=p})),Hh(c,this,y,l,a)}):this._pending.push(()=>this.insert(n,l,a))}insertEmbed(n,l,a){const s=this.doc;s!==null?kt(s,c=>{const y=Vc(c,this,n,!a);Hh(c,this,y,l,a||{})}):this._pending.push(()=>this.insertEmbed(n,l,a||{}))}delete(n,l){if(l===0)return;const a=this.doc;a!==null?kt(a,s=>{Ym(s,Vc(s,this,n,!0),l)}):this._pending.push(()=>this.delete(n,l))}format(n,l,a){if(l===0)return;const s=this.doc;s!==null?kt(s,c=>{const y=Vc(c,this,n,!1);y.right!==null&&Km(c,this,y,l,a)}):this._pending.push(()=>this.format(n,l,a))}removeAttribute(n){this.doc!==null?kt(this.doc,l=>{df(l,this,n)}):this._pending.push(()=>this.removeAttribute(n))}setAttribute(n,l){this.doc!==null?kt(this.doc,a=>{Yy(a,this,n,l)}):this._pending.push(()=>this.setAttribute(n,l))}getAttribute(n){return Vy(this,n)}getAttributes(){return jb(this)}_write(n){n.writeTypeRef(jA)}}const pA=r=>new Su;class Kh{constructor(n,l=()=>!0){this._filter=l,this._root=n,this._currentNode=n._start,this._firstCall=!0,n.doc??Tn()}[Symbol.iterator](){return this}next(){let n=this._currentNode,l=n&&n.content&&n.content.type;if(n!==null&&(!this._firstCall||n.deleted||!this._filter(l)))do if(l=n.content.type,!n.deleted&&(l.constructor===Eu||l.constructor===va)&&l._start!==null)n=l._start;else for(;n!==null;){const a=n.next;if(a!==null){n=a;break}else n.parent===this._root?n=null:n=n.parent._item}while(n!==null&&(n.deleted||!this._filter(n.content.type)));return this._firstCall=!1,n===null?{value:void 0,done:!0}:(this._currentNode=n,{value:n.content.type,done:!1})}}class va extends mn{constructor(){super(),this._prelimContent=[]}get firstChild(){const n=this._first;return n?n.content.getContent()[0]:null}_integrate(n,l){super._integrate(n,l),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new va}clone(){const n=new va;return n.insert(0,this.toArray().map(l=>l instanceof mn?l.clone():l)),n}get length(){return this.doc??Tn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(n){return new Kh(this,n)}querySelector(n){n=n.toUpperCase();const a=new Kh(this,s=>s.nodeName&&s.nodeName.toUpperCase()===n).next();return a.done?null:a.value}querySelectorAll(n){return n=n.toUpperCase(),Cl(new Kh(this,l=>l.nodeName&&l.nodeName.toUpperCase()===n))}_callObserver(n,l){Rf(this,n,new mA(this,l,n))}toString(){return Db(this,n=>n.toString()).join("")}toJSON(){return this.toString()}toDOM(n=document,l={},a){const s=n.createDocumentFragment();return a!==void 0&&a._createAssociation(s,this),yo(this,c=>{s.insertBefore(c.toDOM(n,l,a),null)}),s}insert(n,l){this.doc!==null?kt(this.doc,a=>{Ub(a,this,n,l)}):this._prelimContent.splice(n,0,...l)}insertAfter(n,l){if(this.doc!==null)kt(this.doc,a=>{const s=n&&n instanceof mn?n._item:n;ff(a,this,s,l)});else{const a=this._prelimContent,s=n===null?0:a.findIndex(c=>c===n)+1;if(s===0&&n!==null)throw Rl("Reference item not found");a.splice(s,0,...l)}}delete(n,l=1){this.doc!==null?kt(this.doc,a=>{Mb(a,this,n,l)}):this._prelimContent.splice(n,l)}toArray(){return kb(this)}push(n){this.insert(this.length,n)}unshift(n){this.insert(0,n)}get(n){return Cb(this,n)}slice(n=0,l=this.length){return xb(this,n,l)}forEach(n){yo(this,n)}_write(n){n.writeTypeRef(zA)}}const vA=r=>new va;class Eu extends va{constructor(n="UNDEFINED"){super(),this.nodeName=n,this._prelimAttrs=new Map}get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_integrate(n,l){super._integrate(n,l),this._prelimAttrs.forEach((a,s)=>{this.setAttribute(s,a)}),this._prelimAttrs=null}_copy(){return new Eu(this.nodeName)}clone(){const n=new Eu(this.nodeName),l=this.getAttributes();return cE(l,(a,s)=>{typeof a=="string"&&n.setAttribute(s,a)}),n.insert(0,this.toArray().map(a=>a instanceof mn?a.clone():a)),n}toString(){const n=this.getAttributes(),l=[],a=[];for(const p in n)a.push(p);a.sort();const s=a.length;for(let p=0;p<s;p++){const b=a[p];l.push(b+'="'+n[b]+'"')}const c=this.nodeName.toLocaleLowerCase(),y=l.length>0?" "+l.join(" "):"";return`<${c}${y}>${super.toString()}</${c}>`}removeAttribute(n){this.doc!==null?kt(this.doc,l=>{df(l,this,n)}):this._prelimAttrs.delete(n)}setAttribute(n,l){this.doc!==null?kt(this.doc,a=>{Yy(a,this,n,l)}):this._prelimAttrs.set(n,l)}getAttribute(n){return Vy(this,n)}hasAttribute(n){return Nb(this,n)}getAttributes(n){return n?aA(this,n):jb(this)}toDOM(n=document,l={},a){const s=n.createElement(this.nodeName),c=this.getAttributes();for(const y in c){const p=c[y];typeof p=="string"&&s.setAttribute(y,p)}return yo(this,y=>{s.appendChild(y.toDOM(n,l,a))}),a!==void 0&&a._createAssociation(s,this),s}_write(n){n.writeTypeRef(NA),n.writeKey(this.nodeName)}}const gA=r=>new Eu(r.readKey());class mA extends Df{constructor(n,l,a){super(n,a),this.childListChanged=!1,this.attributesChanged=new Set,l.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class hf extends wu{constructor(n){super(),this.hookName=n}_copy(){return new hf(this.hookName)}clone(){const n=new hf(this.hookName);return this.forEach((l,a)=>{n.set(a,l)}),n}toDOM(n=document,l={},a){const s=l[this.hookName];let c;return s!==void 0?c=s.createDom(this):c=document.createElement(this.hookName),c.setAttribute("data-yjs-hook",this.hookName),a!==void 0&&a._createAssociation(c,this),c}_write(n){n.writeTypeRef(BA),n.writeKey(this.hookName)}}const bA=r=>new hf(r.readKey());class yf extends Su{get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_copy(){return new yf}clone(){const n=new yf;return n.applyDelta(this.toDelta()),n}toDOM(n=document,l,a){const s=n.createTextNode(this.toString());return a!==void 0&&a._createAssociation(s,this),s}toString(){return this.toDelta().map(n=>{const l=[];for(const s in n.attributes){const c=[];for(const y in n.attributes[s])c.push({key:y,value:n.attributes[s][y]});c.sort((y,p)=>y.key<p.key?-1:1),l.push({nodeName:s,attrs:c})}l.sort((s,c)=>s.nodeName<c.nodeName?-1:1);let a="";for(let s=0;s<l.length;s++){const c=l[s];a+=`<${c.nodeName}`;for(let y=0;y<c.attrs.length;y++){const p=c.attrs[y];a+=` ${p.key}="${p.value}"`}a+=">"}a+=n.insert;for(let s=l.length-1;s>=0;s--)a+=`</${l[s].nodeName}>`;return a}).join("")}toJSON(){return this.toString()}_write(n){n.writeTypeRef(LA)}}const _A=r=>new yf;class Gy{constructor(n,l){this.id=n,this.length=l}get deleted(){throw Zr()}mergeWith(n){return!1}write(n,l,a){throw Zr()}integrate(n,l){throw Zr()}}const wA=0;class wr extends Gy{get deleted(){return!0}delete(){}mergeWith(n){return this.constructor!==n.constructor?!1:(this.length+=n.length,!0)}integrate(n,l){l>0&&(this.id.clock+=l,this.length-=l),bb(n.doc.store,this)}write(n,l){n.writeInfo(wA),n.writeLen(this.length-l)}getMissing(n,l){return null}}class So{constructor(n){this.content=n}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new So(this.content)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeBuf(this.content)}getRef(){return 3}}const SA=r=>new So(r.readBuf());class po{constructor(n){this.len=n}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new po(this.len)}splice(n){const l=new po(this.len-n);return this.len=n,l}mergeWith(n){return this.len+=n.len,!0}integrate(n,l){of(n.deleteSet,l.id.client,l.id.clock,this.len),l.markDeleted()}delete(n){}gc(n){}write(n,l){n.writeLen(this.len-l)}getRef(){return 1}}const EA=r=>new po(r.readLen()),Hb=(r,n)=>new Uu({guid:r,...n,shouldLoad:n.shouldLoad||n.autoLoad||!1});class Eo{constructor(n){n._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=n;const l={};this.opts=l,n.gc||(l.gc=!1),n.autoLoad&&(l.autoLoad=!0),n.meta!==null&&(l.meta=n.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Eo(Hb(this.doc.guid,this.opts))}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){this.doc._item=l,n.subdocsAdded.add(this.doc),this.doc.shouldLoad&&n.subdocsLoaded.add(this.doc)}delete(n){n.subdocsAdded.has(this.doc)?n.subdocsAdded.delete(this.doc):n.subdocsRemoved.add(this.doc)}gc(n){}write(n,l){n.writeString(this.doc.guid),n.writeAny(this.opts)}getRef(){return 9}}const AA=r=>new Eo(Hb(r.readString(),r.readAny()));class ma{constructor(n){this.embed=n}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ma(this.embed)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeJSON(this.embed)}getRef(){return 5}}const OA=r=>new ma(r.readJSON());class rn{constructor(n,l){this.key=n,this.value=l}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new rn(this.key,this.value)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){const a=l.parent;a._searchMarker=null,a._hasFormatting=!0}delete(n){}gc(n){}write(n,l){n.writeKey(this.key),n.writeJSON(this.value)}getRef(){return 6}}const TA=r=>new rn(r.readKey(),r.readJSON());class pf{constructor(n){this.arr=n}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new pf(this.arr)}splice(n){const l=new pf(this.arr.slice(n));return this.arr=this.arr.slice(0,n),l}mergeWith(n){return this.arr=this.arr.concat(n.arr),!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){const a=this.arr.length;n.writeLen(a-l);for(let s=l;s<a;s++){const c=this.arr[s];n.writeString(c===void 0?"undefined":JSON.stringify(c))}}getRef(){return 2}}const xA=r=>{const n=r.readLen(),l=[];for(let a=0;a<n;a++){const s=r.readString();s==="undefined"?l.push(void 0):l.push(JSON.parse(s))}return new pf(l)},kA=sf("node_env")==="development";class ga{constructor(n){this.arr=n,kA&&tb(n)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ga(this.arr)}splice(n){const l=new ga(this.arr.slice(n));return this.arr=this.arr.slice(0,n),l}mergeWith(n){return this.arr=this.arr.concat(n.arr),!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){const a=this.arr.length;n.writeLen(a-l);for(let s=l;s<a;s++){const c=this.arr[s];n.writeAny(c)}}getRef(){return 8}}const DA=r=>{const n=r.readLen(),l=[];for(let a=0;a<n;a++)l.push(r.readAny());return new ga(l)};class Fr{constructor(n){this.str=n}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Fr(this.str)}splice(n){const l=new Fr(this.str.slice(n));this.str=this.str.slice(0,n);const a=this.str.charCodeAt(n-1);return a>=55296&&a<=56319&&(this.str=this.str.slice(0,n-1)+"",l.str=""+l.str.slice(1)),l}mergeWith(n){return this.str+=n.str,!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeString(l===0?this.str:this.str.slice(l))}getRef(){return 4}}const CA=r=>new Fr(r.readString()),RA=[sA,cA,pA,gA,vA,bA,_A],UA=0,MA=1,jA=2,NA=3,zA=4,BA=5,LA=6;class zi{constructor(n){this.type=n}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new zi(this.type._copy())}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){this.type._integrate(n.doc,l)}delete(n){let l=this.type._start;for(;l!==null;)l.deleted?l.id.clock<(n.beforeState.get(l.id.client)||0)&&n._mergeStructs.push(l):l.delete(n),l=l.right;this.type._map.forEach(a=>{a.deleted?a.id.clock<(n.beforeState.get(a.id.client)||0)&&n._mergeStructs.push(a):a.delete(n)}),n.changed.delete(this.type)}gc(n){let l=this.type._start;for(;l!==null;)l.gc(n,!0),l=l.right;this.type._start=null,this.type._map.forEach(a=>{for(;a!==null;)a.gc(n,!0),a=a.left}),this.type._map=new Map}write(n,l){this.type._write(n)}getRef(){return 7}}const qA=r=>new zi(RA[r.readTypeRef()](r)),vf=(r,n,l)=>{const{client:a,clock:s}=n.id,c=new tn(ct(a,s+l),n,ct(a,s+l-1),n.right,n.rightOrigin,n.parent,n.parentSub,n.content.splice(l));return n.deleted&&c.markDeleted(),n.keep&&(c.keep=!0),n.redone!==null&&(c.redone=ct(n.redone.client,n.redone.clock+l)),n.right=c,c.right!==null&&(c.right.left=c),r._mergeStructs.push(c),c.parentSub!==null&&c.right===null&&c.parent._map.set(c.parentSub,c),n.length=l,c};class tn extends Gy{constructor(n,l,a,s,c,y,p,b){super(n,b.getLength()),this.origin=a,this.left=l,this.right=s,this.rightOrigin=c,this.parent=y,this.parentSub=p,this.redone=null,this.content=b,this.info=this.content.isCountable()?am:0}set marker(n){(this.info&Uh)>0!==n&&(this.info^=Uh)}get marker(){return(this.info&Uh)>0}get keep(){return(this.info&lm)>0}set keep(n){this.keep!==n&&(this.info^=lm)}get countable(){return(this.info&am)>0}get deleted(){return(this.info&Rh)>0}set deleted(n){this.deleted!==n&&(this.info^=Rh)}markDeleted(){this.info|=Rh}getMissing(n,l){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=fn(l,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=fn(l,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===yu&&this.id.client!==this.parent.client&&this.parent.clock>=fn(l,this.parent.client))return this.parent.client;if(this.origin&&(this.left=zm(n,l,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ul(n,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===wr||this.right&&this.right.constructor===wr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===tn?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===tn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===yu){const a=qh(l,this.parent);a.constructor===wr?this.parent=null:this.parent=a.content.type}return null}integrate(n,l){if(l>0&&(this.id.clock+=l,this.left=zm(n,n.doc.store,ct(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(l),this.length-=l),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let a=this.left,s;if(a!==null)s=a.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const c=new Set,y=new Set;for(;s!==null&&s!==this.right;){if(y.add(s),c.add(s),Kc(this.origin,s.origin)){if(s.id.client<this.id.client)a=s,c.clear();else if(Kc(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&y.has(qh(n.doc.store,s.origin)))c.has(qh(n.doc.store,s.origin))||(a=s,c.clear());else break;s=s.right}this.left=a}if(this.left!==null){const a=this.left.right;this.right=a,this.left.right=this}else{let a;if(this.parentSub!==null)for(a=this.parent._map.get(this.parentSub)||null;a!==null&&a.left!==null;)a=a.left;else a=this.parent._start,this.parent._start=this;this.right=a}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(n)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),bb(n.doc.store,this),this.content.integrate(n,this),Lm(n,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(n)}else new wr(this.id,this.length).integrate(n,0)}get next(){let n=this.right;for(;n!==null&&n.deleted;)n=n.right;return n}get prev(){let n=this.left;for(;n!==null&&n.deleted;)n=n.left;return n}get lastId(){return this.length===1?this.id:ct(this.id.client,this.id.clock+this.length-1)}mergeWith(n){if(this.constructor===n.constructor&&Kc(n.origin,this.lastId)&&this.right===n&&Kc(this.rightOrigin,n.rightOrigin)&&this.id.client===n.id.client&&this.id.clock+this.length===n.id.clock&&this.deleted===n.deleted&&this.redone===null&&n.redone===null&&this.content.constructor===n.content.constructor&&this.content.mergeWith(n.content)){const l=this.parent._searchMarker;return l&&l.forEach(a=>{a.p===n&&(a.p=this,!this.deleted&&this.countable&&(a.index-=this.length))}),n.keep&&(this.keep=!0),this.right=n.right,this.right!==null&&(this.right.left=this),this.length+=n.length,!0}return!1}delete(n){if(!this.deleted){const l=this.parent;this.countable&&this.parentSub===null&&(l._length-=this.length),this.markDeleted(),of(n.deleteSet,this.id.client,this.id.clock,this.length),Lm(n,l,this.parentSub),this.content.delete(n)}}gc(n,l){if(!this.deleted)throw Jr();this.content.gc(n),l?IE(n,this,new wr(this.id,this.length)):this.content=new po(this.length)}write(n,l){const a=l>0?ct(this.id.client,this.id.clock+l-1):this.origin,s=this.rightOrigin,c=this.parentSub,y=this.content.getRef()&Ef|(a===null?0:nr)|(s===null?0:Ci)|(c===null?0:uo);if(n.writeInfo(y),a!==null&&n.writeLeftID(a),s!==null&&n.writeRightID(s),a===null&&s===null){const p=this.parent;if(p._item!==void 0){const b=p._item;if(b===null){const v=GE(p);n.writeParentInfo(!0),n.writeString(v)}else n.writeParentInfo(!1),n.writeLeftID(b.id)}else p.constructor===String?(n.writeParentInfo(!0),n.writeString(p)):p.constructor===yu?(n.writeParentInfo(!1),n.writeLeftID(p)):Jr();c!==null&&n.writeString(c)}this.content.write(n,l)}}const Kb=(r,n)=>HA[n&Ef](r),HA=[()=>{Jr()},EA,xA,SA,CA,OA,TA,qA,DA,AA,()=>{Jr()}],KA=10;class Sr extends Gy{get deleted(){return!0}delete(){}mergeWith(n){return this.constructor!==n.constructor?!1:(this.length+=n.length,!0)}integrate(n,l){Jr()}write(n,l){n.writeInfo(KA),Qe(n.restEncoder,this.length-l)}getMissing(n,l){return null}}const Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Vb="__ $YJS$ __";Yb[Vb]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Yb[Vb]=!0;const Yh=new FinalizationRegistry(({cache:r,key:n})=>{delete r[n]});function Gb(r){var n,l;return(n=(l=r._novip)._docCache)!==null&&n!==void 0?n:l._docCache={cache:{},get size(){return Object.keys(this.cache).length},find(a,s,c){const y=Vh(a,s,c),p=this.cache[y];return p?p.deref():void 0},add(a){var s;const{parentTable:c,parentId:y,parentProp:p}=a.meta;if(!c||!p||y==null)throw new Error("Missing Dexie-related metadata in Y.Doc");const b=Vh(c,y,p),v=(s=this.cache[b])===null||s===void 0?void 0:s.deref();v&&Yh.unregister(v),this.cache[b]=new WeakRef(a),Yh.register(a,{cache:this.cache,key:b},a)},delete(a){Yh.unregister(a);const s=Vh(a.meta.parentTable,a.meta.parentId,a.meta.parentProp),c=this.cache[s];(c==null?void 0:c.deref())===a&&delete this.cache[s]}}}const to=new WeakSet;function fy(r){if(to.has(r))throw new Error(`Y.Doc ${r.meta.parentId} has been destroyed`)}function Vh(r,n,l){return`${r}[${n}].${l}`}function YA(r,n,l,a,s,c){let y=n.find(l,c,a);return y||(y=new Uu({meta:{db:r,updatesTable:s,parentProp:a,parentTable:l,parentId:c}}),n.add(y),y.on("destroy",()=>{to.add(y),n.delete(y)}),y)}const{getByKeyPath:CT}=ot;let Xb=null;function Vm(r){Xb=r}function VA(r,n,l,a,s,c){let y=0,p=!0;const b=Di(()=>{fy(n);const w=l.table(s);return Promise.all([(y>0?w.where("i").between(y,1/0,!1).toArray().then(A=>A.filter(O=>Sf(O.k,c)===0)):w.where({k:c}).toArray()).then(A=>A),l.table(a).where(":id").equals(c).toArray()])}).subscribe(([w,A])=>{if(w.length>0&&(y=w[w.length-1].i),A.length===0){n.destroy();return}fy(n),w.length>0&&kt(n,()=>{w.forEach(O=>{try{Vm(O),vb(n,O.u)}finally{Vm(null)}})},r,!1),p&&(p=!1,n.emit("load",[n]))},w=>{r.on("error").fire(w)}),v=(w,A)=>{A!==r&&l.table(s).add({k:c,u:w,f:1}).then(O=>{O===y-1&&++y}).catch(O=>{r.on("error").fire(O)})},m=()=>{b.unsubscribe(),n.off("updateV2",v),n.off("destroy",m)};return n.on("updateV2",v),n.on("destroy",m),m}function Ib(){}function GA(r,n){return r===Ib?n:function(){var l=r.apply(this,arguments);if(l&&typeof l.then=="function"){for(var a=this,s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return l.then(function(){return n.apply(a,c)})}return n.apply(this,arguments)}}function XA(r,n){return r===Ib?n:function(){r.apply(this,arguments),n.apply(this,arguments)}}const Js=new WeakMap;function Gm(){return ot.Events(null,"load","sync","error")}class On{static getOrCreateDocument(n,l,a,s){var c,y;const p=Gb(n),b=(y=(c=n.table(l).schema.yProps)===null||c===void 0?void 0:c.find(v=>v.prop===a))===null||y===void 0?void 0:y.updatesTable;if(!b)throw new Error(`Updates table for ${l}.${a} not found`);return YA(n,p,l,a,b,s)}static load(n,l){var a;let s=Js.get(n);return s?(++s.refCount,(l==null?void 0:l.gracePeriod)!=null&&s.graceTimeout<l.gracePeriod&&(s.graceTimeout=l.gracePeriod),s.graceTimer&&(clearTimeout(s.graceTimer),s.graceTimer=null)):(s=new On(n),s.graceTimeout=(a=l==null?void 0:l.gracePeriod)!==null&&a!==void 0?a:-1,Js.set(n,s)),s}static release(n){if(!n||to.has(n))return;const l=Js.get(n);l?--l.refCount<=0&&(l.graceTimeout<0?l._release():l.graceTimer||(l.graceTimer=setTimeout(()=>{l.graceTimer=null,l.refCount===0&&l._release()},l.graceTimeout))):n.destroy()}_release(){this.doc&&Promise.resolve(On.on("beforeunload").fire(this)).finally(()=>{var n;this.refCount===0&&((n=this.doc)===null||n===void 0||n.destroy())})}static for(n){return Js.get(n)}static get currentUpdateRow(){return Xb}get whenLoaded(){return this._whenLoaded||(this._whenLoaded=new Promise((n,l)=>{if(!this.doc){l(new Error("No Y.Doc associated with this provider"));return}this.doc.isLoaded?n():this._error?l(this._error):to.has(this.doc)?l(new ot.AbortError("Document was destroyed before loaded")):(this.on("load",n),this.on("error",l),this.doc.on("destroy",()=>l(new ot.AbortError("Document was destroyed before loaded"))))})),this._whenLoaded}get whenSynced(){return this._whenSynced||(this._whenSynced=new Promise((n,l)=>{if(!this.doc){l(new Error("No Y.Doc associated with this provider"));return}this.doc.isSynced?n():this._error?l(this._error):to.has(this.doc)?l(new ot.AbortError("Document was destroyed before synced")):(this.on("sync",n),this.on("error",l),this.doc.on("destroy",()=>l(new ot.AbortError("Document was destroyed before synced"))))})),this._whenSynced}constructor(n){this.refCount=1,this.cleanupHandlers=[],this.graceTimeout=-1,this.doc=null,this.destroyed=!1,this.on=Gm(),this.doc=n,this.off=(y,p)=>{var b;return(b=this.on[y])===null||b===void 0?void 0:b.unsubscribe(p)},"dispose"in Symbol&&(this[Symbol.dispose]=()=>On.release(n)),n.on("load",()=>this.on("load").fire()),n.on("sync",y=>y!==!1&&this.on("sync").fire()),n.on("destroy",this.destroy.bind(this)),this.on("error",y=>{this._error=y});const{db:l,parentTable:a,parentId:s,updatesTable:c}=n.meta||{};if(!l||!a||!c)throw new Error("Missing Dexie-related metadata in Y.Doc. Documents need to be obtained through Y.Doc properties from dexie queries.");if(!l.table(a)||!l.table(c))throw new Error(`Table ${a} or ${c} not found in db`);fy(n),this.stopObserving=VA(this,n,l,a,c,s),On.on("new").fire(this)}destroy(){var n,l,a;console.debug(`Y.Doc ${(l=(n=this.doc)===null||n===void 0?void 0:n.meta)===null||l===void 0?void 0:l.parentId} was destroyed`),Js.delete(this.doc),this.doc=null,this.destroyed=!0,this.refCount=0,(a=this.stopObserving)===null||a===void 0||a.call(this),this.on=Gm(),this.cleanupHandlers.forEach(s=>s())}addCleanupHandler(n){this.cleanupHandlers.push(typeof n=="function"?n:()=>n.unsubscribe())}}On.on=ot.Events(null,{new:[XA],beforeunload:[GA]});On.getDocCache=Gb;ot.DexieYProvider?On=ot.DexieYProvider||On:ot.DexieYProvider=On;const Gh=3e4;class IA extends nE{constructor(n){super(),this.doc=n,this.clientID=n.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const l=uf();this.getLocalState()!==null&&Gh/2<=l-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const a=[];this.meta.forEach((s,c)=>{c!==this.clientID&&Gh<=l-s.lastUpdated&&this.states.has(c)&&a.push(c)}),a.length>0&&Qb(this,a,"timeout")},Ui(Gh/10)),n.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(n){const l=this.clientID,a=this.meta.get(l),s=a===void 0?0:a.clock+1,c=this.states.get(l);n===null?this.states.delete(l):this.states.set(l,n),this.meta.set(l,{clock:s,lastUpdated:uf()});const y=[],p=[],b=[],v=[];n===null?v.push(l):c==null?n!=null&&y.push(l):(p.push(l),eo(c,n)||b.push(l)),(y.length>0||b.length>0||v.length>0)&&this.emit("change",[{added:y,updated:b,removed:v},"local"]),this.emit("update",[{added:y,updated:p,removed:v},"local"])}setLocalStateField(n,l){const a=this.getLocalState();a!==null&&this.setLocalState({...a,[n]:l})}getStates(){return this.states}}const Qb=(r,n,l)=>{const a=[];for(let s=0;s<n.length;s++){const c=n[s];if(r.states.has(c)){if(r.states.delete(c),c===r.clientID){const y=r.meta.get(c);r.meta.set(c,{clock:y.clock+1,lastUpdated:uf()})}a.push(c)}}a.length>0&&(r.emit("change",[{added:[],updated:[],removed:a},l]),r.emit("update",[{added:[],updated:[],removed:a},l]))},QA=(r,n,l=r.states)=>{const a=n.length,s=ku();Qe(s,a);for(let c=0;c<a;c++){const y=n[c],p=l.get(y)||null,b=r.meta.get(y).clock;Qe(s,y),Qe(s,b),br(s,JSON.stringify(p))}return tr(s)},ZA=(r,n,l)=>{const a=bo(n),s=uf(),c=[],y=[],p=[],b=[],v=At(a);for(let m=0;m<v;m++){const w=At(a);let A=At(a);const O=JSON.parse(_r(a)),k=r.meta.get(w),j=r.states.get(w),J=k===void 0?0:k.clock;(J<A||J===A&&O===null&&r.states.has(w))&&(O===null?w===r.clientID&&r.getLocalState()!=null?A++:r.states.delete(w):r.states.set(w,O),r.meta.set(w,{clock:A,lastUpdated:s}),k===void 0&&O!==null?c.push(w):k!==void 0&&O===null?b.push(w):O!==null&&(eo(O,j)||p.push(w),y.push(w)))}(c.length>0||p.length>0||b.length>0)&&r.emit("change",[{added:c,updated:p,removed:b},l]),(c.length>0||y.length>0||b.length>0)&&r.emit("update",[{added:c,updated:y,removed:b},l])};function De(r,n,l,a){return new(l||(l=Promise))(function(s,c){function y(v){try{b(a.next(v))}catch(m){c(m)}}function p(v){try{b(a.throw(v))}catch(m){c(m)}}function b(v){var m;v.done?s(v.value):(m=v.value,m instanceof l?m:new l(function(w){w(m)})).then(y,p)}b((a=a.apply(r,n||[])).next())})}function JA(r){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&r[n],a=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(r){return this instanceof gn?(this.v=r,this):new gn(r)}function dy(r,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=l.apply(r,n||[]),c=[];return a={},y("next"),y("throw"),y("return"),a[Symbol.asyncIterator]=function(){return this},a;function y(w){s[w]&&(a[w]=function(A){return new Promise(function(O,k){c.push([w,A,O,k])>1||p(w,A)})})}function p(w,A){try{(function(O){O.value instanceof gn?Promise.resolve(O.value.v).then(b,v):m(c[0][2],O)})(s[w](A))}catch(O){m(c[0][3],O)}}function b(w){p("next",w)}function v(w){p("throw",w)}function m(w,A){w(A),c.shift(),c.length&&p(c[0][0],c[0][1])}}function hy(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,l=r[Symbol.asyncIterator];return l?l.call(r):(r=JA(r),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=r[s]&&function(c){return new Promise(function(y,p){(function(b,v,m,w){Promise.resolve(w).then(function(A){b({value:A,done:m})},v)})(y,p,(c=r[s](c)).done,c.value)})}}}const $A={}.hasOwnProperty;function gf(r,n,l){if(r&&n!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(r)))if(typeof n!="string"&&"length"in n){(function(v){if(!v)throw new Error("Assertion Failed")})(typeof l!="string"&&"length"in l);for(var a=0,s=n.length;a<s;++a)gf(r,n[a],l[a])}else{var c=n.indexOf(".");if(c!==-1){var y=n.substr(0,c),p=n.substr(c+1);if(p==="")l===void 0?Array.isArray(r)?isNaN(parseInt(y))||r.splice(parseInt(y),1):delete r[y]:r[y]=l;else{var b=r[y];b&&function(v,m){return $A.call(v,m)}(r,y)||(b=r[y]={}),gf(b,p,l)}}else l===void 0?Array.isArray(r)&&!isNaN(parseInt(n))?r.splice(n,1):delete r[n]:r[n]=l}}const Zb=typeof self<"u"&&typeof crypto<"u"?(r,n=crypto.getRandomValues.bind(crypto))=>{const l=new Uint8Array(r);return n(l),self.btoa(String.fromCharCode.apply(null,l))}:typeof Buffer<"u"?(r,n=FA)=>{const l=Buffer.alloc(r);return n(l),l.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function FA(r){for(let n=0;n<r.length;++n)r[n]=Math.floor(256*Math.random())}function Xy(r){return typeof r=="string"||!!(Array.isArray(r)&&r.some(n=>Xy(n))&&r.every(Jb))}function Jb(r){return typeof r=="string"||typeof r=="number"||Array.isArray(r)&&r.every(Jb)}function PA(r,n,l){const a=r[n]||(r[n]={}),s=l.keys.map(c=>typeof c=="string"?c:JSON.stringify(c));switch(l.type){case"insert":case"upsert":s.forEach((c,y)=>{a[c]={type:"ups",val:l.values[y]}});break;case"update":case"modify":s.forEach((c,y)=>{const p=l.type==="update"?l.changeSpecs[y]:l.changeSpec,b=a[c];if(b)switch(b.type){case"ups":for(const[v,m]of Object.entries(p))gf(b.val,v,m);break;case"del":break;case"upd":Object.assign(b.mod,p)}else a[c]={type:"upd",mod:p}});break;case"delete":s.forEach(c=>{a[c]={type:"del"}})}return r}function Xm(r,n){for(const{table:l,muts:a}of n)for(const s of a)PA(r,l,s)}function WA(r){return dy(this,arguments,function*(){var n,l,a,s;let c=0,y=new Uint8Array(4),p=0,b=[],v=0;try{for(var m,w=!0,A=hy(r);!(n=(m=yield gn(A.next())).done);w=!0){s=m.value,w=!1;const O=s,k=new DataView(O.buffer,O.byteOffset,O.byteLength);let j=0;for(;j<O.byteLength;)switch(c){case 0:if(j+4>O.byteLength){for(const J of O.slice(j)){if(p===4)break;y[p++]=J,++j}if(p<4)break}else if(p>0&&p<4)for(const J of O.slice(j,j+4-p))y[p++]=J,++j;case 1:v=p===4?new DataView(y.buffer,0,4).getUint32(0,!1):k.getUint32(j,!1),p?p=0:j+=4;case 2:if(j>=O.byteLength){c=2;break}if(j+v>O.byteLength)b.push(O.slice(j)),v-=O.byteLength-j,c=2,j=O.byteLength;else{if(b.length>0){const J=new Uint8Array(b.reduce((ue,H)=>ue+H.byteLength,v));let ce=0;for(const ue of b)J.set(ue,ce),ce+=ue.byteLength;J.set(O.slice(j,j+v),ce),b=[],yield yield gn(J)}else yield yield gn(O.slice(j,j+v));j+=v,c=0}}}}catch(O){l={error:O}}finally{try{w||n||!(a=A.return)||(yield gn(a.call(A)))}finally{if(l)throw l.error}}})}function $b(r,n){return De(this,void 0,void 0,function*(){try{const l=yield navigator.serviceWorker.ready;if(n==="push"&&l.sync&&(yield l.sync.register(`dexie-cloud:${r.name}`)),!l.active)throw new Error("Failed to trigger sync - there's no active service worker");return void l.active.postMessage({type:"dexie-cloud-sync",dbName:r.name,purpose:n})}catch{}})}function ki(r,n){r.cloud.usingServiceWorker?$b(r,n):r.localSyncEvent.next({purpose:n})}const eO="fromBase64"in Uint8Array,tO="toBase64"in Uint8Array.prototype,Iy=typeof Buffer<"u"?r=>Buffer.from(r,"base64"):eO?r=>Uint8Array.fromBase64(r):r=>{const n=atob(r),l=n.length,a=new Uint8Array(l);for(var s=0;s<l;s++)a[s]=n.charCodeAt(s);return a},ju=typeof Buffer<"u"?r=>ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):Buffer.from(r).toString("base64"):tO?r=>(ArrayBuffer.isView(r)?r:new Uint8Array(r)).toBase64():r=>{const n=ArrayBuffer.isView(r)?r:new Uint8Array(r),l=[];for(let a=0,s=n.length;a<s;a+=4096){const c=n.subarray(a,a+4096);l.push(String.fromCharCode.apply(null,c))}return btoa(l.join(""))};class yy extends Error{constructor({title:n,message:l,messageCode:a,messageParams:s}){super(l),this.name="TokenErrorResponseError",this.title=n,this.messageCode=a,this.messageParams=s}}function Ao(r,n){return new Promise((l,a)=>{const s=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},n),{onSubmit:c=>{r.next(void 0),l(c)},onCancel:()=>{r.next(void 0),a(new ot.AbortError("User cancelled"))}});r.next(s)})}function py(r,n,...l){return Ao(r,{type:"message-alert",title:n,alerts:l,fields:{},submitLabel:"OK",cancelLabel:null})}function Im(r,n,l){return De(this,void 0,void 0,function*(){let a=l||"";for(;!a||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(a);)a=(yield Ao(r,{type:"email",title:n,alerts:a?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return a})}function Qm(r,n,l){return De(this,void 0,void 0,function*(){const a=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:n}}];l&&a.push(l);const{otp:s}=yield Ao(r,{type:"otp",title:"Enter OTP",alerts:a,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return s})}function Uf(r){return De(this,void 0,void 0,function*(){var n,l,a;const s=yield r.getCurrentUser(),{accessToken:c,accessTokenExpiration:y,refreshToken:p,refreshTokenExpiration:b,claims:v}=s;if(!c)return null;if(((n=y==null?void 0:y.getTime())!==null&&n!==void 0?n:1/0)>Date.now()&&(((l=s.license)===null||l===void 0?void 0:l.status)||"ok")==="ok")return s;if(!p)throw new Error("Refresh token missing");if(((a=b==null?void 0:b.getTime())!==null&&a!==void 0?a:1/0)<=Date.now())throw new Error("Refresh token has expired");const m=yield Mf(r.cloud.options.databaseUrl,s);return yield r.table("$logins").update(v.sub,{accessToken:m.accessToken,accessTokenExpiration:m.accessTokenExpiration,claims:m.claims,license:m.license,data:m.data}),m})}function nO(r,n,l,a,s){return De(this,void 0,void 0,function*(){return n.accessToken&&n.accessTokenExpiration.getTime()>Date.now()?n:n.refreshToken&&(!n.refreshTokenExpiration||n.refreshTokenExpiration.getTime()>Date.now())?yield Mf(r,n):yield function(c,y,p,b){return De(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:v,publicKey:m}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!v||!m)throw new Error("Could not generate RSA keypair");c.nonExportablePrivateKey=v;const w=function(A){const O=ju(A);return function(k){let j=`-----BEGIN PUBLIC KEY-----
`;for(;k.length>0;)j+=k.substring(0,64)+`
`,k=k.substring(64);return j+="-----END PUBLIC KEY-----",j}(O)}(yield crypto.subtle.exportKey("spki",m));c.publicKey=m;try{const A=yield y({public_key:w,hints:b});if(A.type==="error")throw new yy(A);if(A.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${A.type}`);return c.accessToken=A.accessToken,c.accessTokenExpiration=new Date(A.accessTokenExpiration),c.refreshToken=A.refreshToken,A.refreshTokenExpiration&&(c.refreshTokenExpiration=new Date(A.refreshTokenExpiration)),c.userId=A.claims.sub,c.email=A.claims.email,c.name=A.claims.name,c.claims=A.claims,c.license={type:A.userType,status:A.claims.license||"ok"},c.data=A.data,A.evalDaysLeft!=null&&(c.license.evalDaysLeft=A.evalDaysLeft),A.userValidUntil!=null&&(c.license.validUntil=new Date(A.userValidUntil)),A.alerts&&A.alerts.length>0&&(yield Ao(p,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:A.alerts})),c}catch(A){if(A instanceof yy)throw yield py(p,A.title,{type:"error",messageCode:A.messageCode,message:A.message,messageParams:{}}),A;let O="We're having a problem authenticating right now.";throw A instanceof TypeError&&(O=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":ot.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield py(p,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:O,messageParams:{}}).catch(()=>{})),A}})}(n,l,a,s)})}function Mf(r,n){return De(this,void 0,void 0,function*(){if(!n.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!n.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const l=Date.now(),a="RSASSA-PKCS1-v1_5",s=new TextEncoder().encode(n.refreshToken+l),c=yield crypto.subtle.sign(a,n.nonExportablePrivateKey,s),y=ju(c),p={grant_type:"refresh_token",refresh_token:n.refreshToken,scopes:["ACCESS_DB"],signature:y,signing_algorithm:a,time_stamp:l},b=yield fetch(`${r}/token`,{body:JSON.stringify(p),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(b.status!==200)throw new Error(`RefreshToken: Status ${b.status} from ${r}/token`);const v=yield b.json();if(v.type==="error")throw new yy(v);return n.accessToken=v.accessToken,n.accessTokenExpiration=v.accessTokenExpiration?new Date(v.accessTokenExpiration):void 0,n.claims=v.claims,n.license={type:v.userType,status:v.claims.license||"ok"},v.evalDaysLeft!=null&&(n.license.evalDaysLeft=v.evalDaysLeft),v.userValidUntil!=null&&(n.license.validUntil=new Date(v.userValidUntil)),v.data&&(n.data=v.data),n})}const Zm=new WeakMap;class Qy{constructor(n,l){Zm.set(this,n),Object.assign(this,l)}static load(n,l){return n.table("$logins").get(l).then(a=>new Qy(n,a||{userId:l,claims:{sub:l},lastLogin:new Date(0)}))}save(){return De(this,void 0,void 0,function*(){Zm.get(this).table("$logins").put(this)})}}const Hn={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Hn),Object.freeze(Hn.claims)}catch{}function Fb(r,n){return fa(rr(r).pipe(mr(n)))}function Pb(r){return De(this,void 0,void 0,function*(){const n=yield vy(r);if(n){if(!(yield function(l,a,s){return De(this,void 0,void 0,function*(){const c=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:a,numUnsyncedChanges:s.toString()}}];return yield Ao(l,{type:"logout-confirmation",title:"Confirm Logout",alerts:c,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(r.cloud.userInteraction,r.cloud.currentUserId,n)))throw new Error("User cancelled logout due to unsynced changes");yield vy(r,{deleteUnsyncedData:!0})}})}function vy(r){return De(this,arguments,void 0,function*(n,{deleteUnsyncedData:l=!1}={}){const[a,s]=yield n.dx.transaction("rw",n.dx.tables,c=>De(this,void 0,void 0,function*(){const y=c.idbtrans;y.disableChangeTracking=!0,y.disableAccessControl=!0;const p=c.storeNames.filter(v=>v.endsWith("_mutations")),b=(yield Promise.all(p.map(v=>c.table(v).count()))).reduce((v,m)=>v+m,0);if(b>0&&!l)return[b,!1];n.$syncState.delete("syncState");for(const v of n.dx.tables)v.name!=="$jobs"&&v.name!=="$syncState"&&v.clear();return[b,!0]}));return s&&(yield Fb(n.cloud.currentUser,c=>c.userId===Hn.userId),yield n.cloud.sync({purpose:"pull",wait:!0})),a})}class gy extends Error{constructor(n,l){super(l||`${n.status} ${n.statusText}`),this.httpStatus=n.status}get name(){return"HttpError"}}function Gc(r,...n){globalThis.console[r](...n)}function Xh(r,n){return De(this,void 0,void 0,function*(){var l;const a=yield r.getCurrentUser(),s=a.userId;if(a.isLoggedIn&&(!n||!n.email&&!n.userId)){if((((l=a.license)===null||l===void 0?void 0:l.status)||"ok")==="ok"&&a.accessToken&&(!a.accessTokenExpiration||a.accessTokenExpiration.getTime()>Date.now()))return!1;if(a.refreshToken&&(!a.refreshTokenExpiration||a.refreshTokenExpiration.getTime()>Date.now()))return yield Uf(r),!1}const c=new Qy(r,{claims:{},lastLogin:new Date(0)});return yield nO(r.cloud.options.databaseUrl,c,r.cloud.options.fetchTokens||function(y){const{userInteraction:p}=y.cloud;return function(b){return De(this,arguments,void 0,function*({public_key:v,hints:m}){var w;let A;const O=(w=y.cloud.options)===null||w===void 0?void 0:w.databaseUrl;if(!O)throw new Error("No database URL given.");if((m==null?void 0:m.grant_type)==="demo")A={demo_user:yield Im(p,"Enter a demo user email",(m==null?void 0:m.email)||(m==null?void 0:m.userId)),grant_type:"demo",scopes:["ACCESS_DB"],public_key:v};else if(m!=null&&m.otpId&&m.otp)A={grant_type:"otp",otp_id:m.otpId,otp:m.otp,scopes:["ACCESS_DB"],public_key:v};else{const J=yield Im(p,"Enter email address",m==null?void 0:m.email);A=/@demo.local$/.test(J)?{demo_user:J,grant_type:"demo",scopes:["ACCESS_DB"],public_key:v}:{email:J,grant_type:"otp",scopes:["ACCESS_DB"]}}const k=yield fetch(`${O}/token`,{body:JSON.stringify(A),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(k.status!==200){const J=yield k.text();throw yield py(p,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:J,messageParams:{}}).catch(()=>{}),new gy(k,J)}const j=yield k.json();if(j.type==="tokens"||j.type==="error")return j;if(A.grant_type==="otp"&&"email"in A){if(j.type!=="otp-sent")throw new Error(`Unexpected response from ${O}/token`);const J=yield Qm(p,A.email),ce=Object.assign(Object.assign({},A),{otp:J||"",otp_id:j.otp_id,public_key:v});let ue=yield fetch(`${O}/token`,{body:JSON.stringify(ce),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;ue.status===401;){const H=yield ue.text();ce.otp=yield Qm(p,A.email,{type:"error",messageCode:"INVALID_OTP",message:H,messageParams:{}}),ue=yield fetch(`${O}/token`,{body:JSON.stringify(ce),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(ue.status!==200){const H=yield ue.text();throw new gy(ue,H)}return yield ue.json()}throw new Error(`Unexpected response from ${O}/token`)})}}(r),r.cloud.userInteraction,n),s!==Hn.userId&&c.userId!==s&&(yield Pb(r)),yield function(y,p){return De(this,void 0,void 0,function*(){const b=y.table("$logins");yield y.transaction("rw",b,v=>De(this,void 0,void 0,function*(){const m=yield b.toArray();yield Promise.all(m.filter(w=>w.userId!==p.userId&&w.isLoggedIn).map(w=>(w.isLoggedIn=!1,b.put(w)))),p.isLoggedIn=!0,p.lastLogin=new Date;try{yield p.save()}catch(w){try{w.name==="DataCloneError"&&(Gc("debug","Login context property names:",Object.keys(p)),Gc("debug","Login context property names:",Object.keys(p)),Gc("debug","Login context:",p),Gc("debug","Login context JSON:",JSON.stringify(p)))}catch{}throw w}})),yield Fb(y.cloud.currentUser,v=>v.userId===p.userId)})}(r,c),ki(r,"pull"),c.userId!==s})}const my={},no=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;no&&no.ready.then(r=>my.registration=r),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",r=>{var n,l;!((l=(n=r.data)===null||n===void 0?void 0:n.type)===null||l===void 0)&&l.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(a=>{var s;return a.id!==((s=r.source)===null||s===void 0?void 0:s.id)&&a.postMessage(r.data)})});class Ih{constructor(n){this.name=n}subscribe(n){if(!no)return()=>{};const l=a=>{var s;((s=a.data)===null||s===void 0?void 0:s.type)===`sw-broadcast-${this.name}`&&n(a.data.message)};return no.addEventListener("message",l),()=>no.removeEventListener("message",l)}postMessage(n){var l;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(a=>a.postMessage({type:`sw-broadcast-${this.name}`,message:n})):my.registration&&((l=my.registration.active)===null||l===void 0||l.postMessage({type:`sw-broadcast-${this.name}`,message:n}))}}const $s=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class Xc extends nn{constructor(n){const l=typeof BroadcastChannel>"u"?new Ih(n):new BroadcastChannel(n);super(a=>{function s(p){a.next(p.detail)}function c(p){a.next(p.data)}let y;(function(p,b){$s.has(p)?$s.get(p).push(b):$s.set(p,[b])})(`lbc-${n}`,s);try{l instanceof Ih?y=l.subscribe(p=>a.next(p)):l.addEventListener("message",c)}catch{}return()=>{(function(p,b){const v=$s.get(p);if(v){const m=v.indexOf(b);m!==-1&&v.splice(m,1)}})(`lbc-${n}`,s),l instanceof Ih?y():l.removeEventListener("message",c)}}),this.name=n,this.bc=l}next(n){this.bc.postMessage(n),function(l){const a=$s.get(l.type);a&&a.forEach(s=>{try{s(l)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:n}))}}function by(r){return De(this,arguments,void 0,function*({realms:n,inviteRealms:l}){const a=JSON.stringify([...n.map(y=>({realmId:y,accepted:!0})),...l.map(y=>({realmId:y,accepted:!1}))].sort((y,p)=>y.realmId<p.realmId?-1:y.realmId>p.realmId?1:0)),s=new TextEncoder().encode(a),c=yield crypto.subtle.digest("SHA-1",s);return ju(c)})}function tf(r){return Object.entries(r.cloud.schema||{}).filter(([,{markedForSync:n}])=>n).map(([n])=>r.tables.filter(({name:l})=>l===n)[0]).filter(n=>n)}function Zy(r){return`$${r}_mutations`}function Wb(r){var n;const l=(n=/^\$(.*)_mutations$/.exec(r))===null||n===void 0?void 0:n[1];if(!l)throw new Error(`Given mutationTable ${r} is not correct`);return l}const rO=[].concat;function Jy(r){return rO.apply([],r)}function _y(r,n){return De(this,arguments,void 0,function*(l,a,{since:s={},limit:c=1/0}={}){const y=Jy(yield Promise.all(l.map(m=>De(this,void 0,void 0,function*(){const w=Wb(m.name),A=s[w];let O=A?m.where("rev").above(A):m;return c<1/0&&(O=O.limit(c)),(yield O.toArray()).map(k=>({table:w,mut:k}))})))).sort((m,w)=>m.mut.txid===w.mut.txid?m.mut.opNo-w.mut.opNo:m.mut.ts-w.mut.ts),p=[];let b=null,v=null;for(const{table:m,mut:w}of y)b&&b.table===m&&v===w.txid?b.muts.push(w):(b={table:m,muts:[w]},v=w.txid,p.push(b));return p})}function e_(r){const n=new Uint8Array(r);if(typeof crypto<"u")crypto.getRandomValues(n);else for(let l=0;l<r;l++)n[l]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(n).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,n));throw new Error("No btoa or Buffer available")}const{toString:iO}={},Jm={replace:function(r){const n=Object.keys(r);let l=null;for(let s=0,c=n.length;s<c;++s)n[s][0]==="$"&&(l=l||[],l.push(n[s]));if(!l)return r;const a={...r};for(const s of l)delete a[s];for(const s of l)a["$"+s]=r[s];return a}};function t_(...r){const n=r.reduce((a,s)=>({...a,...s}),r.reduce((a,s)=>({...s,...a}),{})),l=new WeakMap;return{stringify(a,s,c){return JSON.stringify(a,function(p){const b=this[p],v=function(m){const w=typeof m;switch(typeof m){case"object":case"function":{if(m===null)return null;const O=Object.getPrototypeOf(m);if(!O)return Jm;let k=l.get(O);if(k!==void 0)return k;const j=(A=m,iO.call(A).slice(8,-1)),J=Object.entries(n).find(([ce,ue])=>{var H,he;return(he=(H=ue==null?void 0:ue.test)===null||H===void 0?void 0:H.call(ue,m,j))!==null&&he!==void 0?he:ce===j});return k=J==null?void 0:J[1],k||(k=Array.isArray(m)?null:typeof m=="function"?n.function||null:Jm),l.set(O,k),k}default:return n[w]}var A}(b);return v?v.replace(b,s,n):b},c)},parse(a,s){const c=[];return JSON.parse(a,function(y,p){const b=p==null?void 0:p.$t;if(b){const m=n[b];p=m?m.revive(p,s,n):p}let v=c[c.length-1];if(v&&v[0]===p){p={...p};for(const m of v[1])delete p[m];for(const[m,w]of Object.entries(v[2]))p[m]=w;c.pop()}if(p===void 0||y[0]==="$"&&y!=="$t"){let m,w;v=c[c.length-1],v&&v[0]===this?(m=v[1],w=v[2]):c.push([this,m=[],w={}]),y[0]==="$"&&y!=="$t"?(m.push(y),w[y.substr(1)]=p):w[y]=void 0}return p})}}}const lO={Blob:{test:(r,n)=>n==="Blob",replace:(r,n)=>{const l=n.length;return n.push(r),{$t:"Blob",mimeType:r.type,i:l}},revive:({i:r,mimeType:n},l)=>new Blob([l[r]],{type:n})}};var aO={number:{replace:r=>{switch(!0){case isNaN(r):return{$t:"number",v:"NaN"};case r===1/0:return{$t:"number",v:"Infinity"};case r===-1/0:return{$t:"number",v:"-Infinity"};default:return r}},revive:({v:r})=>Number(r)}};const uO={bigint:{replace:r=>({$t:"bigint",v:""+r}),revive:r=>BigInt(r.v)}};var sO={Date:{replace:r=>({$t:"Date",v:isNaN(r.getTime())?"NaN":r.toISOString()}),revive:({v:r})=>new Date(r==="NaN"?NaN:Date.parse(r))}},oO={Set:{replace:r=>({$t:"Set",v:Array.from(r.entries())}),revive:({v:r})=>new Set(r)}},cO={Map:{replace:r=>({$t:"Map",v:Array.from(r.entries())}),revive:({v:r})=>new Map(r)}};const fO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var dO=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((r,n)=>({...r,[n]:{replace:(l,a,s)=>({$t:n,v:s.ArrayBuffer.replace(l.byteOffset===0&&l.byteLength===l.buffer.byteLength?l.buffer:l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength),a,s).v}),revive:({v:l},a,s)=>{const c=fO[n];return c&&new c(s.ArrayBuffer.revive({v:l},a,s))}}}),{});function n_(r){return function(n){for(var l="",a=0,s=n.length;a<s;a++)l+=r_[n[a]];return l}(ju(r))}function hO(r){return Iy(function(n){if(typeof n!="string")throw new Error("invalid decoder input: "+n);for(var l="",a=0,s=n.length;a<s;a++)l+=wy[n[a]];return l}(r))}const wy={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},r_={};for(const r of Object.keys(wy))r_[wy[r]]=r;var yO={ArrayBuffer:{replace:r=>({$t:"ArrayBuffer",v:n_(r)}),revive:({v:r})=>{const n=hO(r);return n.buffer.byteLength===n.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}}};class Qh{constructor(n,l){this.buf=n,this.type=l}}function i_(r){const n=new XMLHttpRequest;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.open("GET",URL.createObjectURL(r),!1),n.send(),n.status!==200&&n.status!==0)throw new Error("Bad Blob access: "+n.status);return n.responseText}function l_(r){const n=new Uint8Array(r.length);for(let l=0;l<r.length;++l)n[l]=r.charCodeAt(l);return n.buffer}var pO={Blob:{test:(r,n)=>n==="Blob"||r instanceof Qh,replace:r=>({$t:"Blob",v:ju(r instanceof Qh?r.buf:l_(i_(r))),type:r.type}),revive:({type:r,v:n})=>{const l=Iy(n);return typeof Blob!==void 0?new Blob([l]):new Qh(l.buffer,r)}}};const a_={...aO,...uO,...sO,...oO,...cO,...dO,...yO,...pO};function $m(r){return new Promise((n,l)=>{const a=new FileReader;a.onabort=s=>l(new Error("file read aborted")),a.onerror=s=>l(s.target.error),a.onload=s=>n(s.target.result),a.readAsArrayBuffer(r)})}var vO={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}},gO={File:{test:(r,n)=>n==="File",replace:r=>({$t:"File",v:ju(l_(i_(r))),type:r.type,name:r.name,lastModified:new Date(r.lastModified).toISOString()}),revive:({type:r,v:n,name:l,lastModified:a})=>{const s=Iy(n);return new File([s],l,{type:r,lastModified:new Date(a).getTime()})}}};const mO=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class Fm{toString(){return this.v}constructor(n){this.v=n}}const bO=mO?{}:{bigint:{test:r=>r instanceof Fm,replace:r=>Object.assign({$t:"bigint"},r),revive:({v:r})=>new Fm(r)}},u_=Object.assign(Object.assign(Object.assign(Object.assign({},vO),bO),gO),{PropModification:{test:r=>r instanceof rm,replace:r=>Object.assign({$t:"PropModification"},r["@@propmod"]),revive:r=>{var n=function(l,a){var s={};for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&a.indexOf(c)<0&&(s[c]=l[c]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(c=Object.getOwnPropertySymbols(l);y<c.length;y++)a.indexOf(c[y])<0&&Object.prototype.propertyIsEnumerable.call(l,c[y])&&(s[c[y]]=l[c[y]])}return s}(r,["$t"]);return new rm(n)}}}),vo=t_(a_,u_),_O=function(...r){const n=t_(a_,lO,...r);return{toBinary(l){const[a,s]=this.stringify(l),c=new ArrayBuffer(4);return new DataView(c).setUint32(0,a.size),new Blob([c,a,s])},stringify(l){const a=[],s=n.stringify(l,a);return[new Blob(a.map(y=>{const p=new ArrayBuffer(4);return new DataView(p).setUint32(0,"byteLength"in y?y.byteLength:y.size),new Blob([p,y])})),s]},async parse(l,a){let s=0;const c=[],y=await $m(a),p=new DataView(y);for(;s<y.byteLength;){const b=p.getUint32(s);s+=4;const v=y.slice(s,s+b);s+=b,c.push(v)}return n.parse(l,c)},async fromBinary(l){const a=new DataView(await $m(l.slice(0,4))).getUint32(0),s=l.slice(4,a+4),c=await function(y){return new Promise((p,b)=>{const v=new FileReader;v.onabort=m=>b(new Error("file read aborted")),v.onerror=m=>b(m.target.error),v.onload=m=>p(m.target.result),v.readAsText(y)})}(l.slice(a+4));return await this.parse(c,s)}}}(u_);function wO(r,n,l){const a=[];for(let s of l){const{table:c,muts:y}=s,p=r.tables.find(m=>m.name===c);if(!p)throw new Error(`Internal error: table ${c} not found in DBCore schema`);const{primaryKey:b}=p;let v=s;y.forEach((m,w)=>{const A=!b.outbound&&(m.type==="upsert"||m.type==="insert");m.keys.forEach((O,k)=>{if(Array.isArray(O)){v===s&&(v=Pm(s,A));const j=v.muts[w],J=JSON.stringify(O);j.keys[k]=J}else if(O[0]==="#"){v===s&&(v=Pm(s,A));const j=v.muts[w];if(!n.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const J=`${O}:${n.userId}`;j.keys[k]=J,A&&ot.setByKeyPath(j.values[k],b.keyPath,J)}})}),a.push(v)}return a}function Pm(r,n){return Object.assign(Object.assign({},r),{muts:n?r.muts.map(l=>l.type!=="insert"&&l.type!=="upsert"||!l.values?Object.assign(Object.assign({},l),{keys:l.keys.slice()}):Object.assign(Object.assign({},l),{keys:l.keys.slice(),values:l.values.slice()})):r.muts.map(l=>Object.assign(Object.assign({},l),{keys:l.keys.slice()}))})}let Sy=new WeakMap;function s_(r){return De(this,void 0,void 0,function*(){var n,l;const a=((l=(n=Sy.get(r))===null||n===void 0?void 0:n.getTime())!==null&&l!==void 0?l:0)-Date.now();a>0&&(yield new Promise(s=>setTimeout(s,a)))})}function SO(r,n,l,a,s,c,y,p,b){return De(this,void 0,void 0,function*(){const v={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},m=yield Uf(s),w=m==null?void 0:m.accessToken;w&&(v.Authorization=`Bearer ${w}`);const A={v:2,dbID:l==null?void 0:l.remoteDbId,clientIdentity:p,schema:y||{},lastPull:l?{serverRevision:l.serverRevision,yServerRevision:l.yServerRevision,realms:l.realms,inviteRealms:l.inviteRealms}:void 0,baseRevs:a,changes:wO(s.dx.core.schema,b,r),y:n,dxcv:s.cloud.version};s.syncStateChangedEvent.next({phase:"pushing"});const O=vo.stringify(A),k=yield fetch(`${c}/sync`,{method:"post",headers:v,credentials:"include",body:O});if(s.syncStateChangedEvent.next({phase:"pulling"}),function(j,J){const ce=J.headers.get("Ratelimit-Limit"),ue=J.headers.get("Ratelimit-Remaining"),H=J.headers.get("Ratelimit-Reset");if(ce&&ue&&H){const he=Number(ce),de=Math.max(0,Number(ue)),we=Number(H);if(de<he/2){const Oe=Math.ceil(we/(de+1));Sy.set(j,new Date(Date.now()+1e3*Oe))}else Sy.delete(j)}}(s,k),!k.ok)throw new gy(k);if(k.headers.get("content-type")==="application/x-bison")return _O.fromBinary(yield k.blob());{const j=yield k.text();return vo.parse(j)}})}function Fs(r){if(r!=null&&r.cancelled)throw new ot.AbortError("Operation was cancelled")}let vu=!1;function o_(r,n,l,a){return De(this,void 0,void 0,function*(){yield r.$baseRevs.bulkPut(Object.keys(n).filter(s=>n[s].markedForSync).map(s=>({tableName:s,clientRev:(l[s]||0)+1,serverRev:a}))),yield r.$baseRevs.where("tableName").noneOf(Object.keys(n).filter(s=>n[s].markedForSync)).delete()})}function Ey(r,n={}){for(const{table:l,muts:a}of r){const s=a.length>0?a[a.length-1].rev:null;n[l]=s||n[l]||0}return n}function EO(r,n,l){return De(this,void 0,void 0,function*(){const a=yield r.bulkGet(n),s=[],c=[];n.forEach((y,p)=>{const b=a[p];if(b){for(const[v,m]of Object.entries(l[p]))if(v===r.schema.primKey.keyPath){if(Sf(m,y)!==0)throw new Error("Cannot change primary key")}else ot.setByKeyPath(b,v,m);s.push(y),c.push(b)}}),yield r.schema.primKey.keyPath==null?r.bulkPut(c,s):r.bulkPut(c)})}function c_(r,n){return De(this,void 0,void 0,function*(){for(const{table:l,muts:a}of r){if(!n.dx._allTables[l])continue;const s=n.table(l),{primaryKey:c}=s.core.schema,y=p=>{switch(p[0]){case"[":if(p.endsWith("]"))try{return JSON.parse(p)}catch{}return p;case"#":return p.endsWith(":"+n.cloud.currentUserId)?p.substr(0,p.length-n.cloud.currentUserId.length-1):p;default:return p}};for(const p of a){const b=p.keys.map(y);switch(p.type){case"insert":c.outbound?yield s.bulkAdd(p.values,b):(b.forEach((v,m)=>{ot.setByKeyPath(p.values[m],c.keyPath,v)}),yield s.bulkAdd(p.values));break;case"upsert":c.outbound?yield s.bulkPut(p.values,b):(b.forEach((v,m)=>{ot.setByKeyPath(p.values[m],c.keyPath,v)}),yield s.bulkPut(p.values));break;case"modify":b.length===1?yield s.update(b[0],p.changeSpec):yield s.where(":id").anyOf(b).modify(p.changeSpec);break;case"update":yield EO(s,b,p.changeSpecs);break;case"delete":yield s.bulkDelete(b)}}}})}typeof self<"u"&&typeof navigator<"u"&&(vu=navigator.onLine,self.addEventListener("online",()=>vu=!0),self.addEventListener("offline",()=>vu=!1));const Dl="dexie-cloud-syncer";function f_(r,n){return r.where("i").between(n,1/0,!0).toArray()}function ro(r,n,l){var a,s,c;if(!r.dx._allTables[n])return;const y=(c=(s=(a=r.table(n))===null||a===void 0?void 0:a.schema.yProps)===null||s===void 0?void 0:s.find(p=>p.prop===l))===null||c===void 0?void 0:c.updatesTable;return y&&r.dx._allTables[y]?r.table(y):void 0}function d_(r,n){return De(this,void 0,void 0,function*(){var l;const a={};let s,c=!1;for(const y of r)try{switch(y.type){case"u-s":{const p=ro(n,y.table,y.prop);if(p){const b={k:y.k,u:y.u};y.r&&(b.r=y.r,s=y.r),a[p.name]=yield p.add(b)}break}case"u-ack":{const p=ro(n,y.table,y.prop);p&&(yield n.transaction("rw",p,b=>De(this,void 0,void 0,function*(){let v=yield b.table(p.name).get(Dl);yield b.table(p.name).put(Object.assign(Object.assign({},v||{i:Dl}),{unsentFrom:Math.max((v==null?void 0:v.unsentFrom)||1,y.i+1)}))})));break}case"u-reject":{const p=ro(n,y.table,y.prop);if(!p)break;const b=(l=yield p.get(y.i))===null||l===void 0?void 0:l.k;if(b!=null){yield n.transaction("rw",p,m=>(m.idbtrans._rejecting_y_ypdate=!0,p.where("i").aboveOrEqual(y.i).filter(w=>Sf(w.k,b)===0&&(1&(w.f||0))==1).delete()));const v=On.getDocCache(n.dx).find(y.table,b,y.prop);v&&v.destroy()}break}case"in-sync":{const p=On.getDocCache(n.dx).find(y.table,y.k,y.prop);p&&!p.isSynced&&p.emit("sync",[!0,p]);break}case"y-complete-sync-done":s=y.yServerRev;break;case"outdated-server-rev":c=!0}}catch{}return{receivedUntils:a,resyncNeeded:c,yServerRevision:s}})}const AO=1,OO=2,TO=3;function xO(r,n,l){return De(this,arguments,void 0,function*(a,s,{yDownloadedRealms:c,realms:y}){if(c&&y&&y.every(m=>c[m]==="*"))return;const p=yield Uf(a),b={"Content-Type":"application/json",Accept:"application/octet-stream"};p&&(b.Authorization=`Bearer ${p.accessToken}`);const v=yield fetch(`${s}/y/download`,{body:vo.stringify({downloadedRealms:c||{}}),method:"POST",headers:b,credentials:"include"});if(!v.ok)throw new Error(`Failed to download Yjs documents from server. Status: ${v.status}`);yield async function(m,...w){var A,O,k;let j=m();for(let H=0;H<w.length;H++)j=w[H](j);try{for(var J,ce=!0,ue=hy(j);!(A=(J=await ue.next()).done);ce=!0)J.value,ce=!1}catch(H){O={error:H}}finally{try{ce||A||!(k=ue.return)||await k.call(ue)}finally{if(O)throw O.error}}}(function(m){return function(){return dy(this,arguments,function*(){if(!m.body)throw new Error("Response body is not readable");const w=m.body.getReader();try{for(;;){const{done:A,value:O}=yield gn(w.read());if(A)return yield gn(void 0);yield yield gn(O)}}finally{w.releaseLock()}})}}(v),WA,function(m){return dy(this,arguments,function*(){var w,A,O,k;let j=null,J=null,ce=null,ue=[];function H(Oe){return De(this,void 0,void 0,function*(){const $e=ue[ue.length-1];if(ue.length>0){if(!j||!J||!ce)throw new Error(`Protocol error from ${s}/y/download`);const Ne=ro(a,J,ce);Ne&&(yield Ne.bulkAdd(ue)),ue=[]}j&&(J&&ce&&$e||Oe)&&(yield a.$syncState.update("syncState",Ne=>{const lt=Ne.yDownloadedRealms||{};lt[j]=Oe?"*":{tbl:J,prop:ce,key:$e.k},Ne.yDownloadedRealms=lt}))})}try{try{for(var he,de=!0,we=hy(m);!(w=(he=yield gn(we.next())).done);de=!0){k=he.value,de=!1;const Oe=new Du(k);for(;T0(Oe);)switch(gu(Oe)){case AO:yield gn(H(!0)),j=_r(Oe);break;case OO:yield gn(H(!1)),J=_r(Oe),ce=_r(Oe);break;case TO:{const $e=xl(Oe),Ne=vn(Oe);ue.push({k:$e,u:Ne});break}}yield gn(H(!1))}}catch(Oe){A={error:Oe}}finally{try{de||w||!(O=we.return)||(yield gn(O.call(we)))}finally{if(A)throw A.error}}yield gn(H(!0))}catch(Oe){throw Oe instanceof ot.DexieError||(yield gn(H(!1))),Oe}})})})}const h_="currentSyncWorker";function jf(r,n,l,a){return y_(r,n,l,a).then(s=>(a!=null&&a.justCheckIfNeeded||r.syncStateChangedEvent.next({phase:"in-sync"}),s)).catch(s=>De(this,void 0,void 0,function*(){return a!=null&&a.justCheckIfNeeded?Promise.reject(s):vu&&(a!=null&&a.retryImmediatelyOnFetchError)&&(s==null?void 0:s.name)==="TypeError"&&/fetch/.test(s==null?void 0:s.message)?(r.syncStateChangedEvent.next({phase:"error",error:s}),yield new Promise(c=>setTimeout(c,500)),yield jf(r,n,l,Object.assign(Object.assign({},a),{retryImmediatelyOnFetchError:!1}))):(yield r.$syncState.update("syncState",{timestamp:new Date,error:""+s}),r.syncStateChangedEvent.next({phase:vu?"error":"offline",error:new Error(""+(s==null?void 0:s.message)||s)}),Promise.reject(s))}))}function y_(r,n,l){return De(this,arguments,void 0,function*(a,s,c,{isInitialSync:y,cancelToken:p,justCheckIfNeeded:b,purpose:v}={isInitialSync:!1}){var m;if(!(!((m=a.cloud.options)===null||m===void 0)&&m.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:w}=s,A=yield a.getCurrentUser(),O=A.isLoggedIn?tf(a):[],k=O.map(B=>a.table(Zy(B.name))),j=yield a.getPersistedSyncState(),J=A.isLoggedIn,ce=J?function(B,te){const oe=(te==null?void 0:te.syncedTables)||[];return tf(B).filter(Te=>!oe.includes(Te.name))}(a,j):[];Fs(p);const ue=ce.length>0;if(ue){if(b)return!0;yield a.transaction("rw",ce,B=>De(this,void 0,void 0,function*(){B.idbtrans.disableChangeTracking=!0,B.idbtrans.disableAccessControl=!0,yield function(te,oe,Te){return De(this,void 0,void 0,function*(){const R=new Set(Te||[]);for(const W of te)W.name==="members"?yield W.toCollection().modify(le=>{R.has(le.realmId)||le.userId&&le.userId!==Hn.userId||(le.userId=oe.userId)}):W.name==="roles"||(W.name==="realms"?yield W.toCollection().modify(le=>{R.has(le.realmId)||le.owner!==void 0&&le.owner!==Hn.userId||(le.owner=oe.userId)}):yield W.toCollection().modify(le=>{le.realmId&&R.has(le.realmId)||(le.owner&&le.owner!==Hn.userId||(le.owner=oe.userId),le.realmId&&le.realmId!==Hn.userId||(le.realmId=oe.userId))}))})}(ce,A,j==null?void 0:j.realms)})),Fs(p)}const[H,he,de,{yMessages:we,lastUpdateIds:Oe}]=yield a.transaction("r",a.tables,()=>De(this,void 0,void 0,function*(){const B=yield a.getPersistedSyncState();let te=yield a.$baseRevs.toArray();te=te.filter(R=>O.some(W=>W.name===R.tableName));let oe=yield _y(k,a);const Te=yield function(R,W){return De(this,void 0,void 0,function*(){const le=[],fe={};for(const xe of W)if(xe.schema.yProps)for(const Le of xe.schema.yProps){const ke=R.table(Le.updatesTable),yt=yield ke.get(Dl),Ie=(yt==null?void 0:yt.unsentFrom)||1,Ee=(yt==null?void 0:yt.receivedUntil)||0,gt=Math.min(Ie,Ee+1),Ct=yield f_(ke,gt);Ct.length>0&&(fe[ke.name]=Ct[Ct.length-1].i);const Be={};for(const Fe of Ct){const at=(1&(Fe.f||0))==1;if(at&&Fe.i<Ie)continue;const pt=JSON.stringify(Fe.k)+"/"+at;let xn=Be[pt];xn?(xn.u.push(Fe.u),xn.i=Math.max(Fe.i,xn.i)):(Be[pt]=xn={i:Fe.i,k:Fe.k,isLocal:at,u:[]},xn.u.push(Fe.u))}for(const{k:Fe,isLocal:at,u:pt,i:xn}of Object.values(Be)){const ln=pt.length===1?pt[0]:cf(pt);if(at)le.push({type:"u-c",table:xe.name,prop:Le.prop,k:Fe,u:ln,i:xn});else{const ar=Eb(ln);le.push({type:"sv",table:xe.name,prop:Le.prop,k:Fe,sv:ar})}}}return{yMessages:le,lastUpdateIds:fe}})}(a,O);if(Fs(p),ue){const R=[...(j==null?void 0:j.realms)||[],...(j==null?void 0:j.inviteRealms)||[]],W=yield function(le,fe,xe,Le){return De(this,void 0,void 0,function*(){const ke=`upload-${e_(8)}`;if(fe.isLoggedIn&&le.length>0){const yt=new Set(Le||[]);return(yield Promise.all(le.map(Ie=>De(this,void 0,void 0,function*(){const{extractKey:Ee}=Ie.core.schema.primaryKey;if(!Ee)return{table:Ie.name,muts:[]};const gt=xe[Ie.name],Ct=gt!=null&&gt.generatedGlobalId?Ie.filter(Fe=>{return Ee(Fe),!yt.has(Fe.realmId||"")&&(at=Ee(Fe),!(pt=gt==null?void 0:gt.idPrefix)||typeof at=="string"&&at.startsWith(pt));var at,pt}):Ie.filter(Fe=>{const at=Ee(Fe);return!yt.has(Fe.realmId||"")&&Xy(at)}),Be=yield Ct.toArray();if(Be.length>0){const Fe={type:"upsert",values:Be,keys:Be.map(Ee),userId:fe.userId,txid:ke};return{table:Ie.name,muts:[Fe]}}return{table:Ie.name,muts:[]}})))).filter(Ie=>Ie.muts.length>0)}return[]})}(ce,A,c,R);return Fs(p),oe=oe.concat(W),[oe,B,te,Te]}return[oe,B,te,Te]})),$e=H.some(B=>B.muts.some(te=>te.keys.length>0))||we.some(B=>B.type==="u-c");if(b)return $e;if(v==="push"&&!$e)return!1;const Ne=Ey(H,he==null?void 0:he.latestRevisions),lt=(he==null?void 0:he.clientIdentity)||Zb(16);Fs(p);const ge=yield SO(H,we,he,de,a,w,c,lt,A),{done:Ue,newSyncState:Ye}=yield a.transaction("rw",a.tables,B=>De(this,void 0,void 0,function*(){B.idbtrans.disableChangeTracking=!0,B.idbtrans.disableAccessControl=!0;for(const W of Object.keys(c))ge.schema[W]&&(c[W]=ge.schema[W]);yield a.$syncState.put(c,"schema");const te=yield _y(k,a,{since:Ne});for(const W of k){const le=Wb(W.name);if(te.some(fe=>fe.table===le&&fe.muts.length>0)){if(Ne[le]){const fe=Ne[le]||0;yield Promise.all([W.where("rev").belowOrEqual(fe).delete(),a.$baseRevs.where(":id").between([le,-1/0],[le,fe+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([W.clear(),a.$baseRevs.where({tableName:le}).delete()])}Ey(te,Ne),yield o_(a,c,Ne,ge.serverRevision);const oe=yield a.getPersistedSyncState();yield function(W,le,fe){return De(this,void 0,void 0,function*(){const xe=new Set,Le=new Set,ke=fe?fe.realms:[],yt=fe?fe.inviteRealms:[],Ie=new Set(le.realms),Ee=new Set(le.realms.concat(le.inviteRealms));for(const gt of ke)Ie.has(gt)||(Le.add(gt),Ee.has(gt)||xe.add(gt));for(const gt of yt.concat(ke))Ee.has(gt)||xe.add(gt);if(xe.size>0||Le.size>0){const gt=tf(W);for(const Ct of gt){let Be=["realms","members","roles"].includes(Ct.name)?xe:Le;Be.size!==0&&(Ct.schema.indexes.some(Fe=>Fe.keyPath==="realmId"||Array.isArray(Fe.keyPath)&&Fe.keyPath[0]==="realmId")?yield Ct.where("realmId").anyOf([...Be]).delete():yield Ct.filter(Fe=>!!(Fe!=null&&Fe.realmId)&&Be.has(Fe.realmId)).delete())}}if(Le.size>0&&(fe!=null&&fe.yDownloadedRealms))for(const gt of Le)delete fe.yDownloadedRealms[gt]})}(a,ge,oe);const Te=oe||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:lt};J&&(Te.syncedTables=O.map(W=>W.name).concat(ce.map(W=>W.name))),Te.latestRevisions=Ne,Te.remoteDbId=ge.dbId,Te.initiallySynced=!0,Te.realms=ge.realms,Te.inviteRealms=ge.inviteRealms,Te.serverRevision=ge.serverRevision,Te.yServerRevision=ge.serverRevision,Te.timestamp=new Date,delete Te.error;const R=p_(ge.changes,te);if(yield c_(R,a),ge.yMessages){const{receivedUntils:W,resyncNeeded:le,yServerRevision:fe}=yield d_(ge.yMessages,a);fe&&(Te.yServerRevision=fe),yield function(xe,Le,ke){return De(this,void 0,void 0,function*(){var yt,Ie,Ee,gt,Ct;const Be={};for(const[at,pt]of Object.entries(xe))(yt=Be[at])!==null&&yt!==void 0||(Be[at]={}),Be[at].unsentFrom=pt+1;for(const[at,pt]of Object.entries(Le))(Ie=Be[at])!==null&&Ie!==void 0||(Be[at]={}),Be[at].receivedUntil=pt;const Fe=Object.values(ke.dx._dbSchema).filter(at=>at.yProps).map(at=>at.yProps.map(pt=>pt.updatesTable)).flat();for(const at of Fe){const pt=Be[at],xn=(Ee=pt==null?void 0:pt.unsentFrom)!==null&&Ee!==void 0?Ee:1,ln=(Ct=(gt=pt==null?void 0:pt.receivedUntil)!==null&&gt!==void 0?gt:(yield ke.table(at).where("i").between(1,1/0).reverse().limit(1).primaryKeys())[0])!==null&&Ct!==void 0?Ct:0;yield ke.transaction("rw",at,()=>De(this,void 0,void 0,function*(){const ar=yield ke.table(at).get(Dl);ar?(ar.unsentFrom=Math.max(xn,ar.unsentFrom||1),ar.receivedUntil=Math.max(ln,ar.receivedUntil||0),yield ke.table(at).put(ar)):yield ke.table(at).add({i:Dl,unsentFrom:xn,receivedUntil:ln})}))}})}(Oe,W,a),le&&(Te.yDownloadedRealms={})}return a.$syncState.put(Te,"syncState"),{done:te.length===0,newSyncState:Te}}));if(!Ue)return yield s_(a),yield y_(a,s,c,{isInitialSync:y,cancelToken:p});const Xe=Object.values(c).some(B=>{var te;return(te=B.yProps)===null||te===void 0?void 0:te.length}),ze=!!ge.yMessages;if(Xe&&ze)try{yield xO(a,w,Ye)}catch{}return a.syncCompleteEvent.next(),!1})}function p_(r,n){const l={};Xm(l,r);const a={};return Xm(a,n),function(s,c){var y,p,b;for(const[v,m]of Object.entries(c))for(const[w,A]of Object.entries(m))switch(A.type){case"ups":{const O=(y=s[v])===null||y===void 0?void 0:y[w];if(O)switch(O.type){case"ups":case"upd":delete s[v][w]}}break;case"del":(p=s[v])===null||p===void 0||delete p[w];break;case"upd":{const O=(b=s[v])===null||b===void 0?void 0:b[w];if(O)switch(O.type){case"ups":for(const[k,j]of Object.entries(A.mod))gf(O.val,k,j);break;case"del":break;case"upd":for(const k of Object.keys(A.mod))delete O.mod[k]}break}}}(l,a),function(s,c=""){c||(c=Zb(16));const y={};for(const[b,v]of Object.entries(s))for(const[m,w]of Object.entries(v)){const A=y[b]||(y[b]={});(A[w.type]||(A[w.type]=[])).push(Object.assign({key:m},w))}const p=[];for(const[b,v]of Object.entries(y)){const m={table:b,muts:[]};for(const[w,A]of Object.entries(v))switch(w){case"ups":{const O={type:"upsert",keys:A.map(k=>k.key),values:A.map(k=>k.val),txid:c};m.muts.push(O);break}case"upd":{const O={type:"update",keys:A.map(k=>k.key),changeSpecs:A.map(k=>k.mod),txid:c};m.muts.push(O);break}case"del":{const O={type:"delete",keys:A.map(k=>k.key),txid:c};m.muts.push(O);break}}p.push(m)}return p}(l)}const kO=10,DO=1e4,CO=1e3;function RO(r){const n=[],l=new Rr(!0),a=new Rr(null);let s=!1,c=new Array(kO).fill(0);return a.subscribe(()=>De(this,void 0,void 0,function*(){if(!s&&n.length>0){s=!0,c.shift(),c.push(Date.now()),l.next(!1);try{yield function(){return De(this,void 0,void 0,function*(){for(var y,p,b,v,m,w;n.length>0;){const A=n.shift();try{yield fa(r.cloud.syncState.pipe(mr(({phase:k})=>k==="in-sync"||k==="error")));const O=r.cloud.persistedSyncState.value;if(!A)continue;switch(A.type){case"token-expired":const k=r.cloud.currentUser.value,j=yield Mf(r.cloud.options.databaseUrl,k);yield r.table("$logins").update(k.userId,{accessToken:j.accessToken,accessTokenExpiration:j.accessTokenExpiration,claims:j.claims,license:j.license,data:j.data});break;case"realm-added":!((y=O==null?void 0:O.realms)===null||y===void 0)&&y.includes(A.realm)||!((p=O==null?void 0:O.inviteRealms)===null||p===void 0)&&p.includes(A.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((b=O==null?void 0:O.realms)===null||b===void 0)&&b.includes(A.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((v=O==null?void 0:O.realms)===null||v===void 0)&&v.includes(A.realm)||!((m=O==null?void 0:O.inviteRealms)===null||m===void 0)&&m.includes(A.realm))&&(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield r.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((w=r.cloud.syncState.value)===null||w===void 0?void 0:w.phase)==="error"){ki(r,"pull");break}yield r.transaction("rw",r.dx.tables,J=>De(this,void 0,void 0,function*(){J.idbtrans.disableChangeTracking=!0,J.idbtrans.disableAccessControl=!0;const[ce,ue,H]=yield Promise.all([r.getSchema(),r.getPersistedSyncState(),r.getCurrentUser()]);if(!ue||!ce||!H)return;if(A.baseRev!==ue.serverRevision)return void(typeof A.baseRev!="string"||typeof ue.serverRevision!="bigint"&&typeof ue.serverRevision!="object"||ki(r,"pull"));if((yield ot.waitFor(by(ue)))!==A.realmSetHash)return void ki(r,"pull");let he=[];if(H.isLoggedIn){const de=tf(r).map(we=>r.table(Zy(we.name)));he=yield _y(de,r)}if(A.changes.length>0){const de=p_(A.changes,he);yield c_(de,r)}ue.latestRevisions=Ey(he,ue.latestRevisions),ue.serverRevision=A.newRev,yield o_(r,ce,ue.latestRevisions,A.newRev),yield r.$syncState.put(ue,"syncState")}))}}catch{}}})}()}finally{c[c.length-1]-c[0]<DO&&(yield new Promise(y=>setTimeout(y,CO))),s=!1,l.next(!0)}}})),{enqueue:function(y){n.push(y),a.next(null)},readyToServe:l}}const Wm=new WeakMap,Ic={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let UO=0;function Oi(r){"vip"in r&&(r=r.vip);let n=Wm.get(r.cloud);if(!n){const l=new pa;let a=new Xc(`syncstatechanged-${r.name}`),s=new Xc(`synccomplete-${r.name}`);l.id=++UO;let c=!1;n={get name(){return r.name},close:()=>r.close(),transaction:r.transaction.bind(r),table:r.table.bind(r),get tables(){return r.tables},cloud:r.cloud,get $jobs(){return r.table("$jobs")},get $syncState(){return r.table("$syncState")},get $baseRevs(){return r.table("$baseRevs")},get $logins(){return r.table("$logins")},get realms(){return r.realms},get members(){return r.members},get roles(){return r.roles},get initiallySynced(){return c},localSyncEvent:l,get syncStateChangedEvent(){return a},get syncCompleteEvent(){return s},dx:r},Object.assign(n,{getCurrentUser:()=>n.$logins.toArray().then(p=>p.find(b=>b.isLoggedIn)||Hn),getPersistedSyncState:()=>n.$syncState.get("syncState"),getSchema:()=>n.$syncState.get("schema").then(p=>{if(p)for(const v of n.tables)v.schema.primKey&&v.schema.primKey.keyPath&&p[v.name]&&(p[v.name].primaryKey=typeof(b=v.schema.primKey.keyPath)=="string"?b:b?"["+[].join.call(b,"+")+"]":"");var b;return p}),getOptions:()=>n.$syncState.get("options"),setInitiallySynced(p){c=p},reconfigure(){a=new Xc(`syncstatechanged-${r.name}`),s=new Xc(`synccomplete-${r.name}`)}}),n.messageConsumer=RO(n),n.messageProducer=new pa,Wm.set(r.cloud,n)}return n}const MO=typeof InstallTrigger<"u",v_=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),jO=v_?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,NO=v_&&jO<=605||MO,zO=typeof self<"u"&&"clients"in self&&!self.document,{toString:BO}={};function e0(r){return BO.call(r).slice(8,-1)}function Zh(r,n){var l;return n.type==="delete"?n.keys:((l=n.keys)===null||l===void 0?void 0:l.slice())||n.values.map(r.extractKey)}const LO=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let Ti=0;function g_(r,n){const l=new Uint8Array(18),a=new Uint8Array(l.buffer,0,6),s=Date.now();Ti>=s?++Ti:Ti=s,a[0]=Ti/1099511627776,a[1]=Ti/4294967296,a[2]=Ti/16777216,a[3]=Ti/65536,a[4]=Ti/256,a[5]=Ti;const c=new Uint8Array(l.buffer,6);return crypto.getRandomValues(c),r+n_(new Uint8Array(l.buffer))+(n||"")}function qO(r){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:n=>Object.assign(Object.assign({},n),{table:l=>{const a=n.table(l);return Object.assign(Object.assign({},a),{mutate:s=>{var c,y;const p=s.trans;if(p.mode==="versionchange"&&(p.disableChangeTracking=!0,p.disableAccessControl=!0),p.disableChangeTracking)return a.mutate(s);if(s.type==="add"||s.type==="put"){const b=(c=r.cloud.schema)===null||c===void 0?void 0:c[l];if(b!=null&&b.generatedGlobalId){if(!((y=r.cloud.options)===null||y===void 0)&&y.databaseUrl&&!r.initiallySynced){const v=Zh(a.schema.primaryKey,s);return a.getMany({keys:v,trans:s.trans,cache:"immutable"}).then(m=>{if(m.length<v.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return a.mutate(s)})}return function(v,m){let w=null;const A=Zh(a.schema.primaryKey,v);return A.forEach((O,k)=>{if(O===void 0){const j=v.values[k].realmId||r.cloud.currentUserId,J=j.substr(j.length-3);A[k]=g_(m,J),a.schema.primaryKey.outbound||(w||(w=v.values.slice()),w[k]=ot.deepClone(w[k]),ot.setByKeyPath(w[k],a.schema.primaryKey.keyPath,A[k]))}else if(typeof O!="string"||!O.startsWith(m)&&!O.startsWith("#"+m))throw new ot.ConstraintError(`The ID "${O}" is not valid for table "${l}". Primary '@' keys requires the key to be prefixed with "${m}" (or "#${m}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),a.mutate(Object.assign(Object.assign({},v),{keys:A,values:w||v.values}))}(s,b.idPrefix)}b!=null&&b.markedForSync&&Zh(a.schema.primaryKey,s).forEach((v,m)=>{if(!Xy(v)){const w=Array.isArray(v)?v.map(e0).join(","):e0(v);throw new ot.ConstraintError(`Invalid primary key type ${w} for table ${l}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return a.mutate(s)}})}})}}let HO=0;function Ps(r,n){return function(l){const{readers:a,writers:s}=l.trans[n]||(l.trans[n]={writers:[],readers:[]}),c=s.length,y=(c>0?s[c-1].then(()=>r(l),()=>r(l)):r(l)).finally(()=>{a.splice(a.indexOf(y))});return a.push(y),y}}function KO(r,n){return function(l){const{readers:a,writers:s}=l.trans[n]||(l.trans[n]={writers:[],readers:[]});let c=(s.length>0?s[s.length-1].then(()=>r(l),()=>r(l)):a.length>0?(y=a,new Promise(p=>{y.length===0&&p([]);let b=y.length;const v=new Array(b);y.forEach((m,w)=>Promise.resolve(m).then(A=>v[w]={status:"fulfilled",value:A},A=>v[w]={status:"rejected",reason:A}).then(()=>--b||p(v)))})).then(()=>r(l)):r(l)).finally(()=>{s.shift()});var y;return s.push(c),c}}const cu=new Rr(new Set);function go(r){var n,l,a,s;return((n=r.cloud.options)===null||n===void 0?void 0:n.disableEagerSync)||((a=(l=r.cloud.currentUser.value)===null||l===void 0?void 0:l.license)===null||a===void 0?void 0:a.status)!=="ok"||!(!((s=r.cloud.options)===null||s===void 0)&&s.databaseUrl)}function YO({currentUserObservable:r,db:n}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:l=>{const a=new Set(l.schema.tables.map(y=>y.name)),s=l.schema.tables.filter(y=>!/^\$/.test(y.name)),c=new Map;for(const y of s){const p=`$${y.name}_mutations`;a.has(p)&&c.set(y.name,l.table(p))}return Object.assign(Object.assign({},l),{transaction:(y,p)=>{let b;if(p==="readwrite"){const v=y.filter(m=>{var w,A;return(A=(w=n.cloud.schema)===null||w===void 0?void 0:w[m])===null||A===void 0?void 0:A.markedForSync}).map(m=>Zy(m));b=l.transaction([...y,...v],p)}else b=l.transaction(y,p);if(p==="readwrite"){b.txid=e_(16),b.opCount=0,b.currentUser=r.value,cu.value.add(b),cu.next(cu.value);const v=()=>{b.removeEventListener("complete",m),b.removeEventListener("error",v),b.removeEventListener("abort",v),cu.value.delete(b),cu.next(cu.value)},m=()=>{b.mutationsAdded&&!go(n)&&ki(n,"push"),v()};b.addEventListener("complete",m),b.addEventListener("error",v),b.addEventListener("abort",v)}return b},table:y=>{const p=l.table(y);if(/^\$/.test(y))return y.endsWith("_mutations")?Object.assign(Object.assign({},p),{mutate:w=>(w.type!=="add"&&w.type!=="put"||(w.trans.mutationsAdded=!0),p.mutate(w))}):y==="$logins"?Object.assign(Object.assign({},p),{mutate:w=>p.mutate(w).then(A=>(w.trans.mutationsAdded=!0,A)).catch(A=>Promise.reject(A))}):p;const{schema:b}=p,v=c.get(y);return v?function(w){const A="$lock"+ ++HO;return Object.assign(Object.assign({},w),{count:Ps(w.count,A),get:Ps(w.get,A),getMany:Ps(w.getMany,A),openCursor:Ps(w.openCursor,A),query:Ps(w.query,A),mutate:KO(w.mutate,A)})}(Object.assign(Object.assign({},p),{mutate:w=>{var A,O,k;const j=w.trans;return j.txid?j.disableChangeTracking?p.mutate(w):!((O=(A=n.cloud.schema)===null||A===void 0?void 0:A[y])===null||O===void 0)&&O.markedForSync&&(!((k=j.currentUser)===null||k===void 0)&&k.isLoggedIn)?w.type==="deleteRange"?p.query({query:{range:w.range,index:b.primaryKey},trans:w.trans,values:!1}).then(J=>m({type:"delete",keys:J.result,trans:w.trans,criteria:{index:null,range:w.range}})):m(w):p.mutate(w):p.mutate(w)}})):p;function m(w){var A,O;const k=w.trans,j=(O=(A=n.cloud.options)===null||A===void 0?void 0:A.unsyncedProperties)===null||O===void 0?void 0:O[y],{txid:J,currentUser:{userId:ce}}=k,{type:ue}=w,H=++k.opCount;function he(de){if(!j)return de;let we=de;for(const Oe of Object.keys(de))j.some($e=>Oe===$e||Oe.startsWith($e+"."))&&(we===de&&(we=Object.assign({},de)),delete we[Oe]);return we}return p.mutate(w).then(de=>{var we;const{numFailures:Oe,failures:$e}=de;let Ne=ue==="delete"?w.keys:de.results,lt="values"in w?w.values:[],ge="changeSpec"in w?w.changeSpec:void 0,Ue="updates"in w?w.updates:void 0;if(Oe&&(Ne=Ne.filter((B,te)=>!$e[te]),lt=lt.filter((B,te)=>!$e[te])),j){if(lt=lt.map(B=>{const te=Object.assign({},B);for(const oe of j)delete te[oe];return te}),ge&&(ge=he(ge),Object.keys(ge).length===0))return de;if(Ue){let B=Ue.changeSpecs.map(he),te={keys:[],changeSpecs:[]};const oe=new pS;let Te=!1;for(let R=0,W=B.length;R<W;++R)Object.keys(B[R]).length>0?(te.keys.push(Ue.keys[R]),te.changeSpecs.push(B[R]),oe.addKey(Ue.keys[R])):Te=!0;if(Ue=te,Te){let R=[],W=[];for(let le=0,fe=Ne.length;le<fe;++le)oe.hasKey(Ne[le])&&(R.push(Ne[le]),W.push(lt[le]));Ne=R,lt=W}}}const Ye=Date.now();let Xe="criteria"in w&&w.criteria?Object.assign(Object.assign({},w.criteria),{index:w.criteria.index===b.primaryKey.keyPath?null:w.criteria.index}):void 0;if(j&&(Xe!=null&&Xe.index)){const B=(we=b.indexes.find(te=>te.name===Xe.index))===null||we===void 0?void 0:we.keyPath;(B?typeof B=="string"?[B]:B:[]).some(te=>j==null?void 0:j.includes(te))&&(Xe=void 0)}const ze=w.type==="delete"?{type:"delete",ts:Ye,opNo:H,keys:Ne,criteria:Xe,txid:J,userId:ce}:w.type==="add"?{type:"insert",ts:Ye,opNo:H,keys:Ne,txid:J,userId:ce,values:lt}:Xe&&ge?{type:"modify",ts:Ye,opNo:H,keys:Ne,criteria:Xe,changeSpec:ge,txid:J,userId:ce}:ge?{type:"update",ts:Ye,opNo:H,keys:Ne,changeSpecs:Ne.map(()=>ge),txid:J,userId:ce}:Ue?{type:"update",ts:Ye,opNo:H,keys:Ue.keys,changeSpecs:Ue.changeSpecs,txid:J,userId:ce}:{type:"upsert",ts:Ye,opNo:H,keys:Ne,values:lt,txid:J,userId:ce};return"isAdditionalChunk"in w&&w.isAdditionalChunk&&(ze.isAdditionalChunk=!0),Ne.length>0||Xe?v.mutate({type:"add",trans:k,values:[ze]}).then(()=>(k.mutationsAdded=!0,de)):de})}}})}}}function VO(r,n){return function(l,a){var s;const c=Object.assign(Object.assign({},Ic),l);Object.keys(Ic).forEach(v=>{const m=c[v];if(m==null)throw new Error(`Cannot delete table ${v} as it is needed for access control of Dexie Cloud`);if(!l[v])return;const w=m.split(",").map(k=>k.trim()),A=Ic[v].split(",").map(k=>k.trim()),O=new Set(w.map(k=>k.replace(/([&*]|\+\+)/g,"")));if(w[0]!==A[0])throw new Error(`Cannot override primary key of table ${v}. Please declare it as {${v}: ${JSON.stringify(Ic[v])}`);for(let k=1;k<A.length;++k){const j=A[k];O.has(j.replace(/([&*]|\+\+)/g,""))||(c[v]+=`,${j}`)}});const y=n.cloud.schema||(n.cloud.schema={}),p=new Set;Object.keys(c).forEach(v=>{const m=c[v],w=y[v]||(y[v]={});m!=null?(/^\@/.test(m)&&(c[v]=c[v].substr(1),w.generatedGlobalId=!0,w.idPrefix=function(A,O){let k=A[0].toLocaleLowerCase();for(let ue=1,H=A.length;ue<H&&k.length<3;++ue)(LO.test(A[ue])||(j=A[ue])>="A"&&j<="Z")&&(k+=A[ue].toLowerCase());for(var j,J,ce;O.has(k);){if(/\d/g.test(k)){if(k=k.substr(0,k.length-1)+(k[k.length-1]+1),!(k.length>3))continue;k=k.substr(0,3)}else if(k.length<3){k+="2";continue}let ue=1,H=k;for(;O.has(H)&&ue<8;)J=k,H=(1&(ce=ue)?J[0].toUpperCase():J[0].toLowerCase())+(2&ce?J[1].toUpperCase():J[1].toLowerCase())+(4&ce?J[2].toUpperCase():J[2].toLowerCase()),++ue;if(ue<8)k=H;else{let he=k.charCodeAt(2)+1&127;k=k.substr(0,2)+String.fromCharCode(he)}}return k}(v,p),p.add(w.idPrefix)),/^\$/.test(v)||(c[`$${v}_mutations`]="++rev",w.markedForSync=!0),w.deleted&&(w.deleted=!1)):(w.deleted=!0,w.markedForSync=!1,c[`$${v}_mutations`]=null)});const b=r.call(this,c,a);for(const[v,m]of Object.entries(a))if(!((s=m.yProps)===null||s===void 0)&&s.length){const w=y[v];w&&(w.yProps=m.yProps.map(A=>A.prop))}return b}}function m_(r,n,l){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(r.name+"|"+n,()=>l()):l()}const io=new Rr(!0),Ay=new Rr(!0);io.pipe(An(r=>r?Ri(!0):Ri(!1).pipe(Z0(2e4))),J0()).subscribe(Ay);const b_=typeof document<"u"?Qr(document,"visibilitychange"):Ri({}),GO=b_.pipe(mr(()=>document.visibilityState==="hidden")),XO=b_.pipe(mr(()=>document.visibilityState==="visible")),__=typeof window<"u"?Tf(XO,Qr(window,"mousedown"),Qr(window,"mousemove"),Qr(window,"keydown"),Qr(window,"wheel"),Qr(window,"touchmove")):Ri({});typeof document<"u"&&Tf(Ri(!0),GO,__).pipe(er(()=>document.visibilityState==="visible"),ly(r=>{io.value!==r&&io.next(r)}),An(r=>r?Ri(0).pipe(Z0(16e4),ly(()=>io.next(!1))):Ri(0))).subscribe(()=>{});class IO extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}const w_=new WeakMap,t0=new WeakMap;function S_(r){let n=t0.get(r);return n||(n=new pa,t0.set(r,n)),n}class QO extends nn{constructor(n,l,a,s,c,y,p,b){super(v=>new JO(n,l,a,s,c,b,v,y,p))}}let ZO=0;class JO extends Cu{constructor(n,l,a,s,c,y,p,b,v){super(()=>this.teardown()),this.id=++ZO,this.subscriptions=new Set,this.reconnecting=!1,this.db=n,this.databaseUrl=n.cloud.options.databaseUrl,this.rev=l,this.yrev=a,this.realmSetHash=s,this.clientIdentity=c,this.user=y,this.subscriber=p,this.lastUserActivity=new Date,this.messageProducer=b,this.webSocketStatus=v,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null;for(const n of this.subscriptions)n.unsubscribe();this.subscriptions.clear()}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return De(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;const n=this.user.accessTokenExpiration;if(n&&n<new Date)return void this.subscriber.error(new IO);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>De(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const l=new URL(this.databaseUrl);l.protocol=l.protocol==="http:"?"ws":"wss";const a=new URLSearchParams;if(this.subscriber.closed)return;a.set("v","2"),this.rev&&a.set("rev",this.rev),this.yrev&&a.set("yrev",this.yrev),a.set("realmsHash",this.realmSetHash),a.set("clientId",this.clientIdentity),a.set("dxcv",this.db.cloud.version),this.user.accessToken&&a.set("token",this.user.accessToken);const s=this.ws=new WebSocket(`${l}/changes?${a}`);s.binaryType="arraybuffer",s.onclose=c=>{this.pinger&&this.reconnect()},s.onmessage=c=>{if(this.pinger){this.lastServerActivity=new Date;try{const y=typeof c.data=="string"?vo.parse(c.data):function(p){const b=new Du(p),v=_r(b);if(v==="outdated-server-rev")return{type:v};if(v==="y-complete-sync-done")return{type:v,yServerRev:_r(b)};const m=_r(b),w=_r(b);switch(v){case"u-ack":case"u-reject":return{type:v,table:m,prop:w,i:Number(hm(b))};default:{const A=xl(b);switch(v){case"in-sync":case"doc-close":return{type:v,table:m,prop:w,k:A};case"aware":return{type:v,table:m,prop:w,k:A,u:vn(b)};case"doc-open":return{type:v,table:m,prop:w,k:A,serverRev:xl(b),sv:xl(b)};case"sv":return{type:v,table:m,prop:w,k:A,sv:vn(b)};case"u-c":return{type:v,table:m,prop:w,k:A,u:vn(b),i:Number(hm(b))};case"u-s":return{type:v,table:m,prop:w,k:A,u:vn(b),r:b.pos<b.arr.length&&_r(b)||void 0};default:throw new TypeError(`Unknown message type: ${v}`)}}}}(new Uint8Array(c.data));if(y.type==="error")throw new Error(`Error message from dexie-cloud: ${y.error}`);if(y.type==="aware"){const p=On.getDocCache(this.db.dx).find(y.table,y.k,y.prop);if(p){const b=(v=>w_.get(v))(p);b&&ZA(b,y.u,"server")}}else if(y.type!=="pong")if(y.type==="doc-open"){const p=On.getDocCache(this.db.dx).find(y.table,y.k,y.prop);p&&S_(p).next()}else y.type==="u-ack"||y.type==="u-reject"||y.type==="u-s"||y.type==="in-sync"||y.type==="outdated-server-rev"||y.type==="y-complete-sync-done"?d_([y],this.db).then(p=>De(this,[p],void 0,function*({resyncNeeded:b,yServerRevision:v,receivedUntils:m}){if(v&&(yield this.db.$syncState.update("syncState",{yServerRevision:v})),y.type==="u-s"&&m){const w=ro(this.db,y.table,y.prop);if(w){const A=m[w.name];A&&(yield w.update(Dl,{receivedUntil:A}))}}b&&(yield this.db.cloud.sync({purpose:"pull",wait:!0}))})):this.subscriber.next(y)}catch(y){this.subscriber.error(y)}}};try{let c=!1;yield new Promise((y,p)=>{s.onopen=b=>{c=!0,y(null)},s.onerror=b=>{if(c)this.reconnect();else{const v=b.error||new Error("WebSocket Error");this.subscriber.error(v),this.webSocketStatus.next("error"),p(v)}}}),this.subscriptions.add(this.messageProducer.subscribe(y=>{var p,b;this.closed||(y.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),y.type==="ready"?(this.rev=y.rev,(p=this.ws)===null||p===void 0||p.send(vo.stringify(y))):(b=this.ws)===null||b===void 0||b.send(function(v){const m=new xu;switch(br(m,v.type),"table"in v&&br(m,v.table),"prop"in v&&br(m,v.prop),v.type){case"u-ack":case"u-reject":sm(m,BigInt(v.i));break;case"outdated-server-rev":break;case"y-complete-sync-done":br(m,v.yServerRev);break;default:switch(Tl(m,v.k),v.type){case"aware":pn(m,v.u);break;case"doc-open":Tl(m,v.serverRev),Tl(m,v.sv);break;case"doc-close":break;case"sv":pn(m,v.sv);break;case"u-c":pn(m,v.u),sm(m,BigInt(v.i));break;case"u-s":pn(m,v.u),br(m,v.r||"")}}return tr(m)}(y)))})),this.user.isLoggedIn&&!go(this.db)&&this.subscriptions.add(function(y){const p=Jy(y.tables.filter(b=>{var v,m;return((m=(v=y.cloud.schema)===null||v===void 0?void 0:v[b.name])===null||m===void 0?void 0:m.markedForSync)&&b.schema.yProps}).map(b=>b.schema.yProps.map(v=>({table:b.name,ydocProp:v.prop,updatesTable:v.updatesTable}))));return Tf(...p.map(({table:b,ydocProp:v,updatesTable:m})=>{const w=y.table(m);return rr(w.get(Dl)).pipe(An(A=>{let O=(A==null?void 0:A.unsentFrom)||1;return rr(Di(()=>De(this,void 0,void 0,function*(){return(yield f_(w,O)).filter(k=>k.f&&1&k.f).map(k=>({type:"u-c",table:b,prop:v,k:k.k,u:k.u,i:k.i}))}))).pipe(ly(k=>{k.length>0&&(O=k.at(-1).i+1)}))}))})).pipe(wo(b=>b))}(this.db).subscribe(this.db.messageProducer))}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class $O extends Error{constructor(n){super(n==="expired"?"License expired":n==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",n&&(this.license=n)}}function FO(r){return De(this,void 0,void 0,function*(){var n;yield(n=3e3,new Promise(l=>setTimeout(l,n))),yield fa(__)})}function n0(r){return De(this,void 0,void 0,function*(){var n;return!(!(!((n=r.cloud.options)===null||n===void 0)&&n.databaseUrl)||!r.cloud.schema)&&(yield jf(r,r.cloud.options,r.cloud.schema,{justCheckIfNeeded:!0}))})}const Qc=new WeakMap;function E_(r,n,l,a){const s=Qc.get(r);if(s){if(s.pull||(a==null?void 0:a.purpose)==="push")return s.promise;{let y=!1;const p=r.cloud.syncState.subscribe(b=>{b.phase==="pulling"&&(y=!0)});return s.promise.then(()=>{p.unsubscribe()}).catch(b=>(p.unsubscribe(),Promise.reject(b))).then(()=>{if(!y)return E_(r,n,l,a)})}}const c=function(){return De(this,void 0,void 0,function*(){try{yield s_(r),yield m_(r,h_,()=>jf(r,n,l,a)),Qc.delete(r)}catch(y){throw Qc.delete(r),y}})}();return Qc.set(r,{promise:c,pull:(a==null?void 0:a.purpose)!=="push"}),c}const PO=1e3;function WO(r,n,l){let a=null,s={cancelled:!1},c=0,y=0;function p(A=1){setTimeout(()=>{const O=b?"pull":"push";y=Date.now(),E_(r,n,l,{cancelToken:s,retryImmediatelyOnFetchError:!0,purpose:O}).then(()=>{if(s.cancelled)w();else if(b||v)return b=!1,v=!1,p();m=!1,c=0,y=0}).catch(k=>{if(s.cancelled)w(),m=!1,c=0,y=0;else if(A<5){const j=[0,20,40,300,900][A]*PO;c=Date.now()+j,y=0,setTimeout(()=>p(A+1),j)}else m=!1,c=0,y=0})},0)}let b=!1,v=!1,m=!1;const w=()=>{s.cancelled=!0,a&&a.unsubscribe()};return{start:()=>{a=r.localSyncEvent.subscribe(({purpose:A})=>{(O=>{s.cancelled||(O==="pull"&&(b=!0),O==="push"&&(v=!0),m?c||y>0&&Date.now():(m=!0,p()))})(A||"pull")})},stop:w}}function Jh(r,n){if(r&&n&&n.unsyncedTables)for(const l of n.unsyncedTables)r[l]&&(r[l].markedForSync=!1)}var Nf,Pe,A_,lo,r0,mf={},O_=[],eT=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ol(r,n){for(var l in n)r[l]=n[l];return r}function T_(r){var n=r.parentNode;n&&n.removeChild(r)}function Wt(r,n,l){var a,s,c,y={};for(c in n)c=="key"?a=n[c]:c=="ref"?s=n[c]:y[c]=n[c];if(arguments.length>2&&(y.children=arguments.length>3?Nf.call(arguments,2):l),typeof r=="function"&&r.defaultProps!=null)for(c in r.defaultProps)y[c]===void 0&&(y[c]=r.defaultProps[c]);return nf(r,y,a,s,null)}function nf(r,n,l,a,s){var c={type:r,props:n,key:l,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++A_};return s==null&&Pe.vnode!=null&&Pe.vnode(c),c}function Au(r){return r.children}function ao(r,n){this.props=r,this.context=n}function Ou(r,n){if(n==null)return r.__?Ou(r.__,r.__.__k.indexOf(r)+1):null;for(var l;n<r.__k.length;n++)if((l=r.__k[n])!=null&&l.__e!=null)return l.__e;return typeof r.type=="function"?Ou(r):null}function x_(r){var n,l;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,n=0;n<r.__k.length;n++)if((l=r.__k[n])!=null&&l.__e!=null){r.__e=r.__c.base=l.__e;break}return x_(r)}}function i0(r){(!r.__d&&(r.__d=!0)&&lo.push(r)&&!bf.__r++||r0!==Pe.debounceRendering)&&((r0=Pe.debounceRendering)||setTimeout)(bf)}function bf(){for(var r;bf.__r=lo.length;)r=lo.sort(function(n,l){return n.__v.__b-l.__v.__b}),lo=[],r.some(function(n){var l,a,s,c,y,p;n.__d&&(y=(c=(l=n).__v).__e,(p=l.__P)&&(a=[],(s=Ol({},c)).__v=c.__v+1,$y(p,c,s,l.__n,p.ownerSVGElement!==void 0,c.__h!=null?[y]:null,a,y??Ou(c),c.__h),R_(a,c),c.__e!=y&&x_(c)))})}function k_(r,n,l,a,s,c,y,p,b,v){var m,w,A,O,k,j,J,ce=a&&a.__k||O_,ue=ce.length;for(l.__k=[],m=0;m<n.length;m++)if((O=l.__k[m]=(O=n[m])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?nf(null,O,null,null,O):Array.isArray(O)?nf(Au,{children:O},null,null,null):O.__b>0?nf(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=l,O.__b=l.__b+1,(A=ce[m])===null||A&&O.key==A.key&&O.type===A.type)ce[m]=void 0;else for(w=0;w<ue;w++){if((A=ce[w])&&O.key==A.key&&O.type===A.type){ce[w]=void 0;break}A=null}$y(r,O,A=A||mf,s,c,y,p,b,v),k=O.__e,(w=O.ref)&&A.ref!=w&&(J||(J=[]),A.ref&&J.push(A.ref,null,O),J.push(w,O.__c||k,O)),k!=null?(j==null&&(j=k),typeof O.type=="function"&&O.__k===A.__k?O.__d=b=D_(O,b,r):b=C_(r,O,A,ce,k,b),typeof l.type=="function"&&(l.__d=b)):b&&A.__e==b&&b.parentNode!=r&&(b=Ou(A))}for(l.__e=j,m=ue;m--;)ce[m]!=null&&(typeof l.type=="function"&&ce[m].__e!=null&&ce[m].__e==l.__d&&(l.__d=Ou(a,m+1)),M_(ce[m],ce[m]));if(J)for(m=0;m<J.length;m++)U_(J[m],J[++m],J[++m])}function D_(r,n,l){for(var a,s=r.__k,c=0;s&&c<s.length;c++)(a=s[c])&&(a.__=r,n=typeof a.type=="function"?D_(a,n,l):C_(l,a,a,s,a.__e,n));return n}function C_(r,n,l,a,s,c){var y,p,b;if(n.__d!==void 0)y=n.__d,n.__d=void 0;else if(l==null||s!=c||s.parentNode==null)e:if(c==null||c.parentNode!==r)r.appendChild(s),y=null;else{for(p=c,b=0;(p=p.nextSibling)&&b<a.length;b+=2)if(p==s)break e;r.insertBefore(s,c),y=c}return y!==void 0?y:s.nextSibling}function l0(r,n,l){n[0]==="-"?r.setProperty(n,l):r[n]=l==null?"":typeof l!="number"||eT.test(n)?l:l+"px"}function Zc(r,n,l,a,s){var c;e:if(n==="style")if(typeof l=="string")r.style.cssText=l;else{if(typeof a=="string"&&(r.style.cssText=a=""),a)for(n in a)l&&n in l||l0(r.style,n,"");if(l)for(n in l)a&&l[n]===a[n]||l0(r.style,n,l[n])}else if(n[0]==="o"&&n[1]==="n")c=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in r?n.toLowerCase().slice(2):n.slice(2),r.l||(r.l={}),r.l[n+c]=l,l?a||r.addEventListener(n,c?u0:a0,c):r.removeEventListener(n,c?u0:a0,c);else if(n!=="dangerouslySetInnerHTML"){if(s)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in r)try{r[n]=l??"";break e}catch{}typeof l=="function"||(l!=null&&(l!==!1||n[0]==="a"&&n[1]==="r")?r.setAttribute(n,l):r.removeAttribute(n))}}function a0(r){this.l[r.type+!1](Pe.event?Pe.event(r):r)}function u0(r){this.l[r.type+!0](Pe.event?Pe.event(r):r)}function $y(r,n,l,a,s,c,y,p,b){var v,m,w,A,O,k,j,J,ce,ue,H,he,de,we=n.type;if(n.constructor!==void 0)return null;l.__h!=null&&(b=l.__h,p=n.__e=l.__e,n.__h=null,c=[p]),(v=Pe.__b)&&v(n);try{e:if(typeof we=="function"){if(J=n.props,ce=(v=we.contextType)&&a[v.__c],ue=v?ce?ce.props.value:v.__:a,l.__c?j=(m=n.__c=l.__c).__=m.__E:("prototype"in we&&we.prototype.render?n.__c=m=new we(J,ue):(n.__c=m=new ao(J,ue),m.constructor=we,m.render=nT),ce&&ce.sub(m),m.props=J,m.state||(m.state={}),m.context=ue,m.__n=a,w=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),we.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Ol({},m.__s)),Ol(m.__s,we.getDerivedStateFromProps(J,m.__s))),A=m.props,O=m.state,w)we.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(we.getDerivedStateFromProps==null&&J!==A&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(J,ue),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(J,m.__s,ue)===!1||n.__v===l.__v){m.props=J,m.state=m.__s,n.__v!==l.__v&&(m.__d=!1),m.__v=n,n.__e=l.__e,n.__k=l.__k,n.__k.forEach(function(Oe){Oe&&(Oe.__=n)}),m.__h.length&&y.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(J,m.__s,ue),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(A,O,k)})}if(m.context=ue,m.props=J,m.__v=n,m.__P=r,H=Pe.__r,he=0,"prototype"in we&&we.prototype.render)m.state=m.__s,m.__d=!1,H&&H(n),v=m.render(m.props,m.state,m.context);else do m.__d=!1,H&&H(n),v=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++he<25);m.state=m.__s,m.getChildContext!=null&&(a=Ol(Ol({},a),m.getChildContext())),w||m.getSnapshotBeforeUpdate==null||(k=m.getSnapshotBeforeUpdate(A,O)),de=v!=null&&v.type===Au&&v.key==null?v.props.children:v,k_(r,Array.isArray(de)?de:[de],n,l,a,s,c,y,p,b),m.base=n.__e,n.__h=null,m.__h.length&&y.push(m),j&&(m.__E=m.__=null),m.__e=!1}else c==null&&n.__v===l.__v?(n.__k=l.__k,n.__e=l.__e):n.__e=tT(l.__e,n,l,a,s,c,y,b);(v=Pe.diffed)&&v(n)}catch(Oe){n.__v=null,(b||c!=null)&&(n.__e=p,n.__h=!!b,c[c.indexOf(p)]=null),Pe.__e(Oe,n,l)}}function R_(r,n){Pe.__c&&Pe.__c(n,r),r.some(function(l){try{r=l.__h,l.__h=[],r.some(function(a){a.call(l)})}catch(a){Pe.__e(a,l.__v)}})}function tT(r,n,l,a,s,c,y,p){var b,v,m,w=l.props,A=n.props,O=n.type,k=0;if(O==="svg"&&(s=!0),c!=null){for(;k<c.length;k++)if((b=c[k])&&"setAttribute"in b==!!O&&(O?b.localName===O:b.nodeType===3)){r=b,c[k]=null;break}}if(r==null){if(O===null)return document.createTextNode(A);r=s?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,A.is&&A),c=null,p=!1}if(O===null)w===A||p&&r.data===A||(r.data=A);else{if(c=c&&Nf.call(r.childNodes),v=(w=l.props||mf).dangerouslySetInnerHTML,m=A.dangerouslySetInnerHTML,!p){if(c!=null)for(w={},k=0;k<r.attributes.length;k++)w[r.attributes[k].name]=r.attributes[k].value;(m||v)&&(m&&(v&&m.__html==v.__html||m.__html===r.innerHTML)||(r.innerHTML=m&&m.__html||""))}if(function(j,J,ce,ue,H){var he;for(he in ce)he==="children"||he==="key"||he in J||Zc(j,he,null,ce[he],ue);for(he in J)H&&typeof J[he]!="function"||he==="children"||he==="key"||he==="value"||he==="checked"||ce[he]===J[he]||Zc(j,he,J[he],ce[he],ue)}(r,A,w,s,p),m)n.__k=[];else if(k=n.props.children,k_(r,Array.isArray(k)?k:[k],n,l,a,s&&O!=="foreignObject",c,y,c?c[0]:l.__k&&Ou(l,0),p),c!=null)for(k=c.length;k--;)c[k]!=null&&T_(c[k]);p||("value"in A&&(k=A.value)!==void 0&&(k!==r.value||O==="progress"&&!k||O==="option"&&k!==w.value)&&Zc(r,"value",k,w.value,!1),"checked"in A&&(k=A.checked)!==void 0&&k!==r.checked&&Zc(r,"checked",k,w.checked,!1))}return r}function U_(r,n,l){try{typeof r=="function"?r(n):r.current=n}catch(a){Pe.__e(a,l)}}function M_(r,n,l){var a,s;if(Pe.unmount&&Pe.unmount(r),(a=r.ref)&&(a.current&&a.current!==r.__e||U_(a,null,n)),(a=r.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(c){Pe.__e(c,n)}a.base=a.__P=null}if(a=r.__k)for(s=0;s<a.length;s++)a[s]&&M_(a[s],n,typeof r.type!="function");l||r.__e==null||T_(r.__e),r.__e=r.__d=void 0}function nT(r,n,l){return this.constructor(r,l)}function s0(r,n,l){var a,s,c;Pe.__&&Pe.__(r,n),s=(a=!1)?null:n.__k,c=[],$y(n,r=n.__k=Wt(Au,null,[r]),s||mf,mf,n.ownerSVGElement!==void 0,s?null:n.firstChild?Nf.call(n.childNodes):null,c,s?s.__e:n.firstChild,a),R_(c,r)}Nf=O_.slice,Pe={__e:function(r,n,l,a){for(var s,c,y;n=n.__;)if((s=n.__c)&&!s.__)try{if((c=s.constructor)&&c.getDerivedStateFromError!=null&&(s.setState(c.getDerivedStateFromError(r)),y=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,a||{}),y=s.__d),y)return s.__E=s}catch(p){r=p}throw r}},A_=0,ao.prototype.setState=function(r,n){var l;l=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ol({},this.state),typeof r=="function"&&(r=r(Ol({},l),this.props)),r&&Ol(l,r),r!=null&&this.__v&&(n&&this.__h.push(n),i0(this))},ao.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),i0(this))},ao.prototype.render=Au,lo=[],bf.__r=0;const Ir={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function rT({children:r,className:n}){return Wt("div",{className:n},Wt("div",{style:Ir.Darken}),Wt("div",{style:Ir.DialogOuter},Wt("div",{style:Ir.DialogInner},r)))}var zf,en,$h,o0,_f=0,j_=[],rf=[],c0=Pe.__b,f0=Pe.__r,d0=Pe.diffed,h0=Pe.__c,y0=Pe.unmount;function Fy(r,n){Pe.__h&&Pe.__h(en,r,_f||n),_f=0;var l=en.__H||(en.__H={__:[],__h:[]});return r>=l.__.length&&l.__.push({__V:rf}),l.__[r]}function iT(r){return _f=1,function(n,l,a){var s=Fy(zf++,2);if(s.t=n,!s.__c&&(s.__=[v0(void 0,l),function(y){var p=s.__N?s.__N[0]:s.__[0],b=s.t(p,y);p!==b&&(s.__N=[b,s.__[1]],s.__c.setState({}))}],s.__c=en,!en.u)){en.u=!0;var c=en.shouldComponentUpdate;en.shouldComponentUpdate=function(y,p,b){if(!s.__c.__H)return!0;var v=s.__c.__H.__.filter(function(w){return w.__c});if(v.every(function(w){return!w.__N}))return!c||c.call(this,y,p,b);var m=!1;return v.forEach(function(w){if(w.__N){var A=w.__[0];w.__=w.__N,w.__N=void 0,A!==w.__[0]&&(m=!0)}}),!!m&&(!c||c.call(this,y,p,b))}}return s.__N||s.__}(v0,r)}function lT(r){return _f=5,function(n,l){var a=Fy(zf++,7);return N_(a.__H,l)?(a.__V=n(),a.i=l,a.__h=n,a.__V):a.__}(function(){return{current:r}},[])}function aT(){for(var r;r=j_.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(lf),r.__H.__h.forEach(Oy),r.__H.__h=[]}catch(n){r.__H.__h=[],Pe.__e(n,r.__v)}}Pe.__b=function(r){en=null,c0&&c0(r)},Pe.__r=function(r){f0&&f0(r),zf=0;var n=(en=r.__c).__H;n&&($h===en?(n.__h=[],en.__h=[],n.__.forEach(function(l){l.__N&&(l.__=l.__N),l.__V=rf,l.__N=l.i=void 0})):(n.__h.forEach(lf),n.__h.forEach(Oy),n.__h=[])),$h=en},Pe.diffed=function(r){d0&&d0(r);var n=r.__c;n&&n.__H&&(n.__H.__h.length&&(j_.push(n)!==1&&o0===Pe.requestAnimationFrame||((o0=Pe.requestAnimationFrame)||function(l){var a,s=function(){clearTimeout(c),p0&&cancelAnimationFrame(a),setTimeout(l)},c=setTimeout(s,100);p0&&(a=requestAnimationFrame(s))})(aT)),n.__H.__.forEach(function(l){l.i&&(l.__H=l.i),l.__V!==rf&&(l.__=l.__V),l.i=void 0,l.__V=rf})),$h=en=null},Pe.__c=function(r,n){n.some(function(l){try{l.__h.forEach(lf),l.__h=l.__h.filter(function(a){return!a.__||Oy(a)})}catch(a){n.some(function(s){s.__h&&(s.__h=[])}),n=[],Pe.__e(a,l.__v)}}),h0&&h0(r,n)},Pe.unmount=function(r){y0&&y0(r);var n,l=r.__c;l&&l.__H&&(l.__H.__.forEach(function(a){try{lf(a)}catch(s){n=s}}),n&&Pe.__e(n,l.__v))};var p0=typeof requestAnimationFrame=="function";function lf(r){var n=en,l=r.__c;typeof l=="function"&&(r.__c=void 0,l()),en=n}function Oy(r){var n=en;r.__c=r.__(),en=n}function N_(r,n){return!r||r.length!==n.length||n.some(function(l,a){return l!==r[a]})}function v0(r,n){return typeof n=="function"?n(r):n}function uT({message:r,messageCode:n,messageParams:l}){return r.replace(/\{\w+\}/gi,a=>l[a.substring(1,a.length-1)])}function sT({title:r,type:n,alerts:l,fields:a,submitLabel:s,cancelLabel:c,onCancel:y,onSubmit:p}){const[b,v]=iT({}),m=lT(null);return function(w,A){var O=Fy(zf++,4);!Pe.__s&&N_(O.__H,A)&&(O.__=w,O.i=A,en.__h.push(O))}(()=>{var w;return(w=m.current)===null||w===void 0?void 0:w.focus()},[]),Wt(rT,{className:"dxc-login-dlg"},Wt(Au,null,Wt("h3",{style:Ir.WindowHeader},r),l.map(w=>Wt("p",{style:Ir.Alert[w.type]},uT(w))),Wt("form",{onSubmit:w=>{w.preventDefault(),p(b)}},Object.entries(a).map(([w,{type:A,label:O,placeholder:k}],j)=>Wt("label",{style:Ir.Label,key:j},O?`${O}: `:"",Wt("input",{ref:j===0?m:void 0,type:A,name:w,autoComplete:"on",style:Ir.Input,autoFocus:!0,placeholder:k,value:b[w]||"",onInput:J=>{var ce;const ue=function(he,de){switch(he){case"email":return de.toLowerCase();case"otp":return de.toUpperCase();default:return de}}(A,(ce=J.target)===null||ce===void 0?void 0:ce.value);let H=Object.assign(Object.assign({},b),{[w]:ue});v(H),A==="otp"&&(ue==null?void 0:ue.trim().length)===8&&p(H)}}))))),Wt("div",{style:Ir.ButtonsDiv},Wt(Au,null,Wt("button",{type:"submit",style:Ir.Button,onClick:()=>p(b)},s),c&&Wt("button",{style:Ir.Button,onClick:y},c))))}class g0 extends ao{constructor(n){super(n),this.observer=l=>this.setState({userInteraction:l}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=rr(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(n,{userInteraction:l}){return l?Wt(sT,Object.assign({},l)):null}}function Oo(r){const n=new WeakMap;return l=>{let a=n.get(l);return a||(a=r(l),n.set(l,a)),a}}const wf=Oo(r=>new Rr(Hn));function Bf(r,n){let l=n,a=rr(r).pipe(er(c=>l=c),P1({resetOnRefCountZero:()=>Q0(1e3)}));const s=new nn(c=>{let y=!1;const p=a.subscribe({next(b){y=!0,c.next(b)},error(b){c.error(b)},complete(){c.complete()}});return y||p.closed||c.next(l),p});return s.getValue=()=>l,s}const z_=Oo(r=>Bf(Di(()=>r.roles.where({realmId:"rlm-public"}).toArray().then(n=>{const l={};for(const a of n.slice().sort((s,c)=>(s.sortOrder||0)-(c.sortOrder||0)))l[a.name]=a;return l})),{})),B_=Oo(r=>Bf(wf(r._novip).pipe(An(n=>Di(()=>r.transaction("r","realms","members",()=>Promise.all([r.members.where({userId:n.userId}).toArray(),r.realms.toArray(),n.userId]).then(([l,a,s])=>({selfMembers:l,realms:a,userId:s})))))),{selfMembers:[],realms:[],get userId(){return r.cloud.currentUserId}}));function oT(...r){return r.length===0?{}:r.reduce((l,a)=>{const s=Object.assign({},l);for(const[c,y]of Object.entries(a))if(c in s&&s[c]){if(s[c]==="*")continue;if(y==="*")s[c]="*";else if(Array.isArray(y)&&Array.isArray(s[c])){const p=s,b=p[c];p[c]=[...new Set([...b,...y])]}else if(typeof y=="object"&&y&&typeof s[c]=="object"){const p=s[c];for(const[b,v]of Object.entries(y))p[b]!=="*"&&(v==="*"?p[b]="*":Array.isArray(p[b])&&Array.isArray(v)&&(p[b]=[...new Set([...p[b],...v])]))}}else s[c]=a[c];return s})}const L_=Oo(r=>function(n,l){let a;const s=n.pipe(er(c=>a=l(c)));return s.getValue=()=>a!==void 0?a:a=l(n.getValue()),s}(Bf(oo([B_(r._novip),z_(r._novip)]).pipe(er(([{selfMembers:n,realms:l,userId:a},s])=>({selfMembers:n,realms:l,userId:a,globalRoles:s}))),{selfMembers:[],realms:[],userId:Hn.userId,globalRoles:{}}),({selfMembers:n,realms:l,userId:a,globalRoles:s})=>l.map(y=>{const p=n.filter(m=>m.realmId===y.realmId),b=p.map(m=>m.permissions).filter(m=>m),v=Jy(p.map(m=>m.roles).filter(m=>m)).map(m=>s[m]).filter(m=>m).map(m=>m.permissions);return Object.assign(Object.assign({},y),{permissions:y.owner===a?{manage:"*"}:oT(...b,...v)})}).reduce((y,p)=>Object.assign(Object.assign({},y),{[p.realmId]:p}),{[a]:{realmId:a,owner:a,name:a,permissions:{manage:"*"}}})));class m0{constructor(n,l,a){this.permissions=n||{},this.tableName=l,this.isOwner=a}add(...n){var l;return this.permissions.manage==="*"||!!(!((l=this.permissions.manage)===null||l===void 0)&&l.includes(this.tableName))||this.permissions.add==="*"||!!n.every(a=>{var s;return(s=this.permissions.add)===null||s===void 0?void 0:s.includes(a)})}update(...n){var l,a;if(this.isOwner||this.permissions.manage==="*"||!((l=this.permissions.manage)===null||l===void 0)&&l.includes(this.tableName))return!0;if(this.permissions.update==="*")return n.every(c=>c!=="owner");const s=(a=this.permissions.update)===null||a===void 0?void 0:a[this.tableName];return s==="*"?n.every(c=>c!=="owner"):n.every(c=>s==null?void 0:s.some(y=>y===c||y==="*"&&c!=="owner"))}delete(){var n;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))}}const cT=Oo(r=>{const n=wf(r._novip).pipe(An(s=>Di(()=>r.members.where({email:s.email||""}).toArray()))),l=L_(r._novip),a=B_(r._novip);return Bf(oo([n,a,l]).pipe(er(([s,c,y])=>{const p=(m,w)=>Object.assign(Object.assign({},m),{[w.id]:Object.assign(Object.assign({},w),{realm:y[w.realmId]})}),b=s.reduce(p,{}),v=c.selfMembers.reduce(p,b);return Object.values(v).filter(m=>!m.accepted).map(m=>Object.assign(Object.assign({},m),{accept(){return De(this,void 0,void 0,function*(){yield r.members.update(m.id,{accepted:new Date})})},reject(){return De(this,void 0,void 0,function*(){yield r.members.update(m.id,{rejected:new Date})})}}))})),[])});function fT(r){return n=>{var l;const a=n.doc;if(!a)throw new Error("Internal error: DexieYProvider.createYHandler called without a doc. This is unexpected.");const{parentTable:s}=a.meta||{};if(!(!((l=r.cloud.schema)===null||l===void 0)&&l[s].markedForSync))return;let c;Object.defineProperty(n,"awareness",{get:()=>c||(c=function(y,p,b){const{parentTable:v,parentId:m,parentProp:w,updatesTable:A}=p.meta,O=new IA(p),k=S_(p);return O.on("update",({added:j,updated:J,removed:ce},ue)=>{const H=j.concat(J).concat(ce),he=y.cloud.currentUser.value;if(ue!=="server"&&he.isLoggedIn&&!go(y)){const de=QA(O,H);y.messageProducer.next({type:"aware",table:v,prop:w,k:p.meta.parentId,u:de}),b.destroyed&&y.messageProducer.next({type:"doc-close",table:v,prop:w,k:p.meta.parentId})}}),O.on("destroy",()=>{Qb(O,[p.clientID],"provider destroyed")}),De(this,void 0,void 0,function*(){if(b.destroyed)return;let j=!1,J=1;const ce=oo([y.cloud.webSocketStatus,k.pipe($0(null))]).subscribe(([H])=>{if(b.destroyed)return;j=H==="connected";const he=y.cloud.currentUser.value;H==="connected"&&he.isLoggedIn&&!go(y)&&(++J,ue().catch(de=>{}))});function ue(){return De(this,void 0,void 0,function*(){const H=J,he=y.table(A),de=y.$syncState,[we,Oe]=yield y.transaction("r",de,he,()=>De(this,void 0,void 0,function*(){const lt=yield he.get(Dl),ge=yield de.get("syncState");return[(lt==null?void 0:lt.receivedUntil)||0,(ge==null?void 0:ge.yServerRevision)||(ge==null?void 0:ge.serverRevision)]}));if(b.destroyed||J!==H||!j)return;const $e={type:"doc-open",table:v,prop:w,k:m,serverRev:Oe},Ne=yield he.where("i").between(we,1/0,!1).filter(lt=>Sf(lt.k,m)===0&&(1&(lt.f||0))==0).toArray();if(!b.destroyed&&J===H&&j){if(Ne.length>0){const lt=cf(Ne.map(Ue=>Ue.u)),ge=Eb(lt);$e.sv=ge}y.messageProducer.next($e)}})}b.addCleanupHandler(ce)}),O}(r,a,n),w_.set(a,c),c)})}}const dT={nameSuffix:!0};function Ty(r){const n=r.name,l=wf(r),a=[];let s=!1,c=null;r.on("ready",m=>De(this,void 0,void 0,function*(){try{yield function(w){return De(this,void 0,void 0,function*(){var A,O,k,j,J,ce,ue;y=!1;const H=Oi(w);typeof window<"u"&&typeof document<"u"&&(!((A=H.cloud.options)===null||A===void 0)&&A.customLoginGui||a.push(function(ge){let Ue=!1;const Ye=document.createElement("div");return document.body?(document.body.appendChild(Ye),s0(Wt(g0,{db:ge.vip}),Ye)):addEventListener("DOMContentLoaded",()=>{Ue||(document.body.appendChild(Ye),s0(Wt(g0,{db:ge.vip}),Ye))}),{unsubscribe(){try{Ye.remove()}catch{}Ue=!0},get closed(){return Ue}}}(w))),H.cloud.isServiceWorkerDB||a.push(function(ge){let Ue=ge.cloud.webSocketStatus.value;const Ye=ge.cloud.webSocketStatus.pipe(An(Xe=>{const ze=Ue;Ue=Xe;const B=Ri(Xe);switch(Xe){case"disconnected":return io.value?B.pipe(Om(500)):B;case"connecting":return ze==="not-started"||ze==="error"?B:B.pipe(Om(4e3));default:return B}}));return oo([Ye,ge.syncStateChangedEvent.pipe($0({phase:"initial"})),wf(ge.dx._novip),Ay]).pipe(er(([Xe,ze,B,te])=>{var oe;if(!((oe=B.license)===null||oe===void 0)&&oe.status&&B.license.status!=="ok")return{phase:"offline",status:"offline",license:B.license.status};let{phase:Te,error:R,progress:W}=ze,le=Xe;return Te==="error"&&(le="error"),Xe==="not-started"&&(Te!=="pushing"&&Te!=="pulling"||(le="connecting")),ge.cloud.syncState.value.phase!=="error"||ze.phase!=="pushing"&&ze.phase!=="pulling"||(le="connecting"),te||(le="disconnected"),{phase:Te,error:R,progress:W,status:vu?le:"offline",license:"ok"}}))}(H).subscribe(w.cloud.syncState)),a.push(H.syncCompleteEvent.subscribe(b)),H.tables.every(ge=>ge.core)||function(){throw new ot.SchemaError("Version increment needed to allow dexie-cloud change tracking")}();const he="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[de,we]=yield H.transaction("rw",H.$syncState,()=>De(this,void 0,void 0,function*(){var ge,Ue;const{options:Ye,schema:Xe}=H.cloud,[ze,B,te]=yield Promise.all([H.getOptions(),H.getSchema(),H.getPersistedSyncState()]);if(s){if(!ze||JSON.stringify(ze)!==JSON.stringify(Ye)){if(!Ye)throw new Error("Internal error");const oe=Object.assign({},Ye);delete oe.fetchTokens,delete oe.awarenessProtocol,yield H.$syncState.put(oe,"options")}}else H.cloud.options=ze||null;if(!((ge=H.cloud.options)===null||ge===void 0)&&ge.tryUseServiceWorker&&"serviceWorker"in navigator&&he.length>0&&!NO?H.cloud.usingServiceWorker=!0:(!((Ue=H.cloud.options)===null||Ue===void 0)&&Ue.tryUseServiceWorker&&H.cloud.isServiceWorkerDB,H.cloud.usingServiceWorker=!1),Jh(Xe,H.cloud.options),Jh(B,H.cloud.options),Xe){if(!B||JSON.stringify(B)!==JSON.stringify(Xe)){const oe=B||{};for(const[Te,R]of Object.entries(Xe)){const W=oe[Te];W?(W.markedForSync=R.markedForSync,R.deleted=W.deleted,W.generatedGlobalId=R.generatedGlobalId):oe[Te]=Object.assign({},R)}yield H.$syncState.put(oe,"schema"),Object.assign(Xe,oe)}}else H.cloud.schema=B||null;return[te==null?void 0:te.initiallySynced,te==null?void 0:te.realms]}));if(de&&H.setInitiallySynced(!0),function(ge){var Ue,Ye;for(const Xe of ge.tables)if(!((Ye=(Ue=ge.cloud.schema)===null||Ue===void 0?void 0:Ue[Xe.name])===null||Ye===void 0)&&Ye.markedForSync){if(Xe.schema.primKey.auto)throw new ot.SchemaError(`Table ${Xe.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Xe.name)}]}) to blacklist it from sync`);if(!Xe.schema.primKey.keyPath)throw new ot.SchemaError(`Table ${Xe.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Xe.name)}]}) to blacklist it from sync`)}}(H),p(),!H.cloud.isServiceWorkerDB){a.push(Di(()=>H.getCurrentUser()).subscribe(l)),a.push(Di(()=>H.getPersistedSyncState()).subscribe(H.cloud.persistedSyncState)),yield fa(oo([l.pipe(Tm(1),fu(1)),H.cloud.persistedSyncState.pipe(Tm(1),fu(1))]));const ge=fT(H);On.on.new.subscribe(ge),H.dx.once("close",()=>{On.on.new.unsubscribe(ge)})}let Oe=!1;const $e=yield H.getCurrentUser(),Ne=(O=H.cloud.options)===null||O===void 0?void 0:O.requireAuth;Ne&&(H.cloud.isServiceWorkerDB?yield fa(l.pipe(mr(ge=>!!ge.isLoggedIn),fu(1))):typeof Ne=="object"?(!$e.isLoggedIn||Ne.userId&&$e.userId!==Ne.userId||Ne.email&&$e.email!==Ne.email)&&(Oe=yield Xh(H,Ne)):$e.isLoggedIn||(Oe=yield Xh(H))),!$e.isLoggedIn||we&&we.includes($e.userId)||(Oe=!0),c&&c.stop(),c=null,p();const lt=((k=H.cloud.options)===null||k===void 0?void 0:k.databaseUrl)&&(!de||Oe);lt&&(yield function(ge,Ue,Ye){return De(this,void 0,void 0,function*(){yield m_(ge,h_,()=>jf(ge,Ue,Ye,{isInitialSync:!0}))})}(H,H.cloud.options,H.cloud.schema),H.setInitiallySynced(!0)),p(),H.cloud.usingServiceWorker&&(!((j=H.cloud.options)===null||j===void 0)&&j.databaseUrl)?(lt||$b(H,"push").catch(()=>{}),function(ge){return De(this,void 0,void 0,function*(){var Ue;try{const{periodicSync:Ye}=yield navigator.serviceWorker.ready;if(Ye)try{yield Ye.register(`dexie-cloud:${ge.name}`,(Ue=ge.cloud.options)===null||Ue===void 0?void 0:Ue.periodicSync)}catch{}}catch{}})}(H).catch(()=>{})):!((J=H.cloud.options)===null||J===void 0)&&J.databaseUrl&&H.cloud.schema&&!H.cloud.isServiceWorkerDB&&(c=WO(H,H.cloud.options,H.cloud.schema),c.start(),lt||ki(H,"push")),p(),H.cloud.isServiceWorkerDB||a.push(Qr(self,"online").subscribe(()=>{H.syncStateChangedEvent.next({phase:"not-in-sync"}),go(H)||ki(H,"push")}),Qr(self,"offline").subscribe(()=>{H.syncStateChangedEvent.next({phase:"offline"})})),!(!((ce=H.cloud.options)===null||ce===void 0)&&ce.databaseUrl)||!((ue=H.cloud.options)===null||ue===void 0)&&ue.disableWebSocket||zO||a.push(function(ge){var Ue;if(!(!((Ue=ge.cloud.options)===null||Ue===void 0)&&Ue.databaseUrl))throw new Error("No database URL to connect WebSocket to");const Ye=ge.messageConsumer.readyToServe.pipe(mr(ze=>ze),An(()=>ge.getPersistedSyncState()),mr(ze=>ze&&ze.serverRevision),An(ze=>De(this,void 0,void 0,function*(){return{type:"ready",rev:ze.serverRevision,realmSetHash:yield by(ze)}}))),Xe=Tf(Ye,ge.messageProducer);return function ze(){return ge.cloud.persistedSyncState.pipe(mr(B=>B==null?void 0:B.serverRevision),fu(1),An(B=>ge.cloud.currentUser.pipe(er(te=>[te,B]))),An(([B,te])=>Ay.pipe(er(oe=>[oe?B:null,te]))),An(([B,te])=>B!=null&&B.isLoggedIn&&!(te!=null&&te.realms.includes(B.userId))?ge.cloud.persistedSyncState.pipe(mr(oe=>(oe==null?void 0:oe.realms.includes(B.userId))||!1),fu(1),er(oe=>[B,oe])):new Rr([B,te])),An(B=>De(this,[B],void 0,function*([te,oe]){return[te,yield by(oe)]})),J0(([B,te],[oe,Te])=>B===oe&&te===Te),An(([B,te])=>{var oe;return!((oe=ge.cloud.persistedSyncState)===null||oe===void 0)&&oe.value?B?new QO(ge,ge.cloud.persistedSyncState.value.serverRevision,ge.cloud.persistedSyncState.value.yServerRevision,te,ge.cloud.persistedSyncState.value.clientIdentity,Xe,ge.cloud.webSocketStatus,B):rr([]):ze()}),iy(B=>(B==null?void 0:B.name)==="TokenExpiredError"?Ri(!0).pipe(An(()=>De(this,void 0,void 0,function*(){const te=yield ge.getCurrentUser(),oe=yield Mf(ge.cloud.options.databaseUrl,te);yield ge.table("$logins").update(te.userId,{accessToken:oe.accessToken,accessTokenExpiration:oe.accessTokenExpiration,claims:oe.claims,license:oe.license,data:oe.data})})),An(()=>ze())):wm(()=>B)),iy(B=>(ge.cloud.webSocketStatus.next("error"),B instanceof $O?wm(()=>B):rr(FO()).pipe(An(()=>ze())))))}().subscribe({next:ze=>{ze&&ge.messageConsumer.enqueue(ze)},error:ze=>{},complete:()=>{}})}(H))})}(m)}catch{}}),!0);let y=!1;function p(){if(y)throw new ot.DatabaseClosedError}r.once("close",()=>{a.forEach(m=>m.unsubscribe()),a.splice(0,a.length),y=!0,c&&c.stop(),c=null,l.next(Hn)});const b=new pa;var v;r.cloud={version:"4.2.0",options:Object.assign({},dT),schema:null,get currentUserId(){return l.value.userId||Hn.userId},currentUser:l,syncState:new Rr({phase:"initial",status:"not-started"}),events:{syncComplete:b},persistedSyncState:new Rr(void 0),userInteraction:new Rr(void 0),webSocketStatus:new Rr("not-started"),login(m){return De(this,void 0,void 0,function*(){const w=Oi(r);yield w.cloud.sync(),yield Xh(w,m)})},invites:cT(r),roles:z_(r),configure(m){m=r.cloud.options=Object.assign(Object.assign({},r.cloud.options),m),s=!0,m.databaseUrl&&m.nameSuffix&&(r.name=`${n}-${function(w){const A=new URL(w);return A.pathname==="/"?A.hostname.split(".")[0]:A.pathname.split("/")[1]}(m.databaseUrl)}`,Oi(r).reconfigure()),Jh(r.cloud.schema,r.cloud.options)},logout(){return De(this,arguments,void 0,function*({force:m}={}){m?yield vy(Oi(r),{deleteUnsyncedData:!0}):yield Pb(Oi(r))})},sync(){return De(this,arguments,void 0,function*({wait:m,purpose:w}={wait:!0,purpose:"push"}){var A;m===void 0&&(m=!0);const O=Oi(r);if((((A=O.cloud.currentUser.value.license)===null||A===void 0?void 0:A.status)||"ok")!=="ok"&&(yield Uf(O)),w==="pull"){const k=O.cloud.persistedSyncState.value;if(ki(O,w),m){const j=yield fa(O.cloud.persistedSyncState.pipe(mr(J=>(J==null?void 0:J.timestamp)!=null&&(!k||J.timestamp>k.timestamp))));if(j!=null&&j.error)throw new Error("Sync error: "+j.error)}}else if(yield n0(O)){const k=O.cloud.persistedSyncState.value;ki(O,w),m&&(yield fa(rr(Di(()=>De(this,void 0,void 0,function*(){const j=yield n0(O),J=yield O.getPersistedSyncState();if((J==null?void 0:J.timestamp)!==(k==null?void 0:k.timestamp)&&(J!=null&&J.error))throw new Error("Sync error: "+J.error);return j}))).pipe(mr(j=>!j))))}})},permissions:(m,w)=>function(A,O,k){if(!O)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:j,realmId:J}=O;if(!k){if(typeof O.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");k=O.table()}const ce=L_(A),ue=he=>{const de=he[J||A.cloud.currentUserId];return de?new m0(de.permissions,k,J===void 0||J===A.cloud.currentUserId||j===A.cloud.currentUserId):new m0({},k,!j||j===A.cloud.currentUserId)},H=ce.pipe(er(ue));return H.getValue=()=>ue(ce.getValue()),H}(r._novip,m,w)},r.Version.prototype._parseStoresSpec=ot.override(r.Version.prototype._parseStoresSpec,m=>VO(m,r)),r.Table.prototype.newId=function({colocateWith:m}={}){const w=m&&m.substr(m.length-3);return g_(r.cloud.schema[this.name].idPrefix||"",w)},r.Table.prototype.idPrefix=function(){var m,w;return((w=(m=this.db.cloud.schema)===null||m===void 0?void 0:m[this.name])===null||w===void 0?void 0:w.idPrefix)||""},r.use(YO({currentUserObservable:r.cloud.currentUser,db:Oi(r)})),r.use((v=Oi(r),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:m=>Object.assign(Object.assign({},m),{table:w=>{const A=m.table(w);return Object.assign(Object.assign({},A),{mutate:O=>{var k,j,J,ce,ue,H;const he=O.trans;if(he.disableChangeTracking)return A.mutate(O);const de=(j=(k=he.currentUser)===null||k===void 0?void 0:k.userId)!==null&&j!==void 0?j:Hn.userId;if(!((ce=(J=v.cloud.schema)===null||J===void 0?void 0:J[w])===null||ce===void 0)&&ce.markedForSync&&(O.type==="add"||O.type==="put")){if(w==="members")for(const we of O.values)typeof we.email=="string"&&(we.email=we.email.trim().toLowerCase());for(const we of O.values){we.owner||(we.owner=de),we.realmId||(we.realmId=de);const Oe=(H=(ue=A.schema.primaryKey).extractKey)===null||H===void 0?void 0:H.call(ue,we);typeof Oe=="string"&&Oe[0]==="#"&&O.type==="put"&&(delete O.criteria,delete O.changeSpec,delete O.updates,we.$ts=Date.now())}}return A.mutate(O)}})}})})),r.use(qO(Oi(r)))}Ty.version="4.2.0",ot.Cloud=Ty;const hT="https://zlorat9py.dexie.cloud",yT="https://zlorat9py.dexie.cloud",b0={databaseUrl:hT,dbUrl:yT},Fh={},pT="rlm-public";class vT extends ot{constructor(){super("manthra",{addons:[Ty],autoOpen:!0});Gg(this,"quotes");this.version(1).stores({quotes:"id, text, author, tag"});const l=(Fh==null?void 0:Fh.VITE_DEXIE_CLOUD_URL)??b0.databaseUrl??b0.dbUrl;l?(this.cloud.configure({databaseUrl:l}),this.cloud.sync()):console.warn("Dexie Cloud database URL not configured")}}const xi=new vT;window.db=xi;const gT="_quotes_b19bl_1",mT="_quote_b19bl_1",bT="_author_b19bl_31",Ph={quotes:gT,quote:mT,author:bT};function _T({loggedIn:r}){const[n,l]=qn.useState([]),[a,s]=qn.useState(""),[c,y]=qn.useState([]),[p,b]=qn.useState(""),[v,m]=qn.useState(""),[w,A]=qn.useState(""),[O,k]=qn.useState(!1),[j,J]=qn.useState(null);qn.useEffect(()=>{const H=Di(()=>xi.quotes.toArray()).subscribe({next:he=>l(he),error:he=>console.error("Failed to load quotes",he)});return()=>H.unsubscribe()},[]),qn.useEffect(()=>{const H=mS.filter(a,n,{extract:he=>{var Oe;const de=((Oe=he.tag)==null?void 0:Oe.join(" "))??"",we=he.author??"";return he.text+" "+we+" "+de}});y(H.map(he=>he.original))},[a,n]);const ce=async H=>{H.preventDefault(),p.trim()&&(await xi.quotes.add({id:crypto.randomUUID(),text:p,author:v.trim()||null,tag:w.split(",").map(he=>he.trim()).filter(Boolean)??[],realmId:pT}),b(""),m(""),A(""))},ue=(H,he)=>{xi.quotes.update(H,he)};return ht.jsxs(ht.Fragment,{children:[ht.jsx("input",{placeholder:"search",value:a,onChange:H=>s(H.target.value),style:{marginBottom:"1rem"}}),r&&!O&&ht.jsx("button",{onClick:()=>k(!0),style:{display:"block",marginBottom:"1rem"},children:"Add"}),r&&O&&ht.jsxs("form",{onSubmit:H=>{ce(H),k(!1)},style:{marginBottom:"1rem"},children:[ht.jsx("textarea",{placeholder:"quote",value:p,onChange:H=>b(H.target.value),style:{display:"block",width:"100%"}}),ht.jsx("input",{placeholder:"author",value:v,onChange:H=>m(H.target.value),style:{display:"block",width:"100%",marginTop:"0.5rem"}}),ht.jsx("input",{placeholder:"tags (comma separated)",value:w,onChange:H=>A(H.target.value),style:{display:"block",width:"100%",marginTop:"0.5rem"}}),ht.jsx("button",{type:"submit",style:{marginTop:"0.5rem"},children:"Add Quote"}),ht.jsx("button",{type:"button",onClick:()=>k(!1),style:{marginTop:"0.5rem",marginLeft:"0.5rem"},children:"Cancel"})]}),ht.jsx("div",{className:Ph.quotes,children:c.map((H,he)=>ht.jsx("div",{style:{marginBottom:"1rem"},children:ht.jsxs("div",{className:Ph.quote,onDoubleClick:()=>{r&&J(H.id)},onBlur:de=>{de.currentTarget.contains(de.relatedTarget)||J(null)},tabIndex:-1,children:[r&&j!==H.id&&ht.jsx("button",{"aria-label":"edit quote",onClick:()=>J(H.id),style:{float:"right",cursor:"pointer",background:"transparent",border:"none"},children:""}),r&&j===H.id?ht.jsxs(ht.Fragment,{children:[ht.jsx("textarea",{value:H.text,onChange:de=>ue(H.id,{text:de.target.value}),style:{display:"block",width:"100%"}}),ht.jsx("input",{value:H.author??"",onChange:de=>ue(H.id,{author:de.target.value}),style:{display:"block",width:"100%",marginTop:"0.5rem"}}),ht.jsx("input",{value:H.tag.join(", "),onChange:de=>ue(H.id,{tag:de.target.value.split(",").map(we=>we.trim()).filter(Boolean)}),style:{display:"block",width:"100%",marginTop:"0.5rem"}})]}):ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{children:H.text}),H.author&&ht.jsx("span",{className:Ph.author,style:{fontStyle:"italic"},children:H.author})]})]})},H.id??he))})]})}function wT(){const r=qn.useRef(0),[n,l]=qn.useState(!1);qn.useEffect(()=>{const c=xi.cloud.currentUser.subscribe(y=>{l(!!y.isLoggedIn),y.isLoggedIn&&xi.cloud.sync().catch(p=>console.error("Sync failed",p))});return xi.cloud.sync().catch(y=>console.error("Sync failed",y)),()=>{c.unsubscribe()}},[]);const a=()=>{r.current+=1,r.current===10&&(xi.cloud.login(),r.current=0)},s=c=>{c.stopPropagation(),r.current=0,xi.cloud.logout()};return ht.jsxs("div",{children:[ht.jsxs("h1",{onClick:a,children:["Manthra",n&&ht.jsx("span",{"aria-label":"log out",onClick:s,role:"button",style:{cursor:"pointer"},children:""}),ht.jsx("br",{}),ht.jsx("sub",{children:"considerable careful crafty compositions"})]}),ht.jsx(_T,{loggedIn:n})]})}fS.createRoot(document.getElementById("root")).render(ht.jsx(qn.StrictMode,{children:ht.jsx(wT,{})}));

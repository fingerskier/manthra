(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const y of f.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function l(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(s){if(s.ep)return;s.ep=!0;const f=l(s);fetch(s.href,f)}})();var Jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Oh={exports:{}},Is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function $w(){if(Vg)return Is;Vg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,s,f){var y=null;if(f!==void 0&&(y=""+f),s.key!==void 0&&(y=""+s.key),"key"in s){f={};for(var p in s)p!=="key"&&(f[p]=s[p])}else f=s;return s=f.ref,{$$typeof:r,type:a,key:y,ref:s!==void 0?s:null,props:f}}return Is.Fragment=n,Is.jsx=l,Is.jsxs=l,Is}var Gg;function Fw(){return Gg||(Gg=1,Oh.exports=$w()),Oh.exports}var Qe=Fw(),Th={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Pw(){if(Xg)return $e;Xg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),y=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function J(R,W,le){this.props=R,this.context=W,this.refs=j,this.updater=le||O}J.prototype.isReactComponent={},J.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},J.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ce(){}ce.prototype=J.prototype;function se(R,W,le){this.props=R,this.context=W,this.refs=j,this.updater=le||O}var $=se.prototype=new ce;$.constructor=se,k($,J.prototype),$.isPureReactComponent=!0;var _e=Array.isArray,ve={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function Te(R,W,le,fe,xe,Le){return le=Le.ref,{$$typeof:r,type:R,key:W,ref:le!==void 0?le:null,props:Le}}function Fe(R,W){return Te(R.type,W,void 0,void 0,void 0,R.props)}function Ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function at(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(le){return W[le]})}var pe=/\/+/g;function Ue(R,W){return typeof R=="object"&&R!==null&&R.key!=null?at(""+R.key):W.toString(36)}function Ye(){}function Xe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ye,Ye):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ze(R,W,le,fe,xe){var Le=typeof R;(Le==="undefined"||Le==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(Le){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case r:case n:ke=!0;break;case m:return ke=R._init,ze(ke(R._payload),W,le,fe,xe)}}if(ke)return xe=xe(R),ke=fe===""?"."+Ue(R,0):fe,_e(xe)?(le="",ke!=null&&(le=ke.replace(pe,"$&/")+"/"),ze(xe,W,le,"",function(Se){return Se})):xe!=null&&(Ne(xe)&&(xe=Fe(xe,le+(xe.key==null||R&&R.key===xe.key?"":(""+xe.key).replace(pe,"$&/")+"/")+ke)),W.push(xe)),1;ke=0;var yt=fe===""?".":fe+":";if(_e(R))for(var Ie=0;Ie<R.length;Ie++)fe=R[Ie],Le=yt+Ue(fe,Ie),ke+=ze(fe,W,le,Le,xe);else if(Ie=A(R),typeof Ie=="function")for(R=Ie.call(R),Ie=0;!(fe=R.next()).done;)fe=fe.value,Le=yt+Ue(fe,Ie++),ke+=ze(fe,W,le,Le,xe);else if(Le==="object"){if(typeof R.then=="function")return ze(Xe(R),W,le,fe,xe);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function B(R,W,le){if(R==null)return R;var fe=[],xe=0;return ze(R,fe,"","",function(Le){return W.call(le,Le,xe++)}),fe}function te(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(le){(R._status===0||R._status===-1)&&(R._status=1,R._result=le)},function(le){(R._status===0||R._status===-1)&&(R._status=2,R._result=le)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Oe(){}return $e.Children={map:B,forEach:function(R,W,le){B(R,function(){W.apply(this,arguments)},le)},count:function(R){var W=0;return B(R,function(){W++}),W},toArray:function(R){return B(R,function(W){return W})||[]},only:function(R){if(!Ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},$e.Component=J,$e.Fragment=l,$e.Profiler=s,$e.PureComponent=se,$e.StrictMode=a,$e.Suspense=b,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve,$e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return ve.H.useMemoCache(R)}},$e.cache=function(R){return function(){return R.apply(null,arguments)}},$e.cloneElement=function(R,W,le){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var fe=k({},R.props),xe=R.key,Le=void 0;if(W!=null)for(ke in W.ref!==void 0&&(Le=void 0),W.key!==void 0&&(xe=""+W.key),W)!Ee.call(W,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&W.ref===void 0||(fe[ke]=W[ke]);var ke=arguments.length-2;if(ke===1)fe.children=le;else if(1<ke){for(var yt=Array(ke),Ie=0;Ie<ke;Ie++)yt[Ie]=arguments[Ie+2];fe.children=yt}return Te(R.type,xe,void 0,void 0,Le,fe)},$e.createContext=function(R){return R={$$typeof:y,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:f,_context:R},R},$e.createElement=function(R,W,le){var fe,xe={},Le=null;if(W!=null)for(fe in W.key!==void 0&&(Le=""+W.key),W)Ee.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=W[fe]);var ke=arguments.length-2;if(ke===1)xe.children=le;else if(1<ke){for(var yt=Array(ke),Ie=0;Ie<ke;Ie++)yt[Ie]=arguments[Ie+2];xe.children=yt}if(R&&R.defaultProps)for(fe in ke=R.defaultProps,ke)xe[fe]===void 0&&(xe[fe]=ke[fe]);return Te(R,Le,void 0,void 0,null,xe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(R){return{$$typeof:p,render:R}},$e.isValidElement=Ne,$e.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:te}},$e.memo=function(R,W){return{$$typeof:v,type:R,compare:W===void 0?null:W}},$e.startTransition=function(R){var W=ve.T,le={};ve.T=le;try{var fe=R(),xe=ve.S;xe!==null&&xe(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Oe,oe)}catch(Le){oe(Le)}finally{ve.T=W}},$e.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()},$e.use=function(R){return ve.H.use(R)},$e.useActionState=function(R,W,le){return ve.H.useActionState(R,W,le)},$e.useCallback=function(R,W){return ve.H.useCallback(R,W)},$e.useContext=function(R){return ve.H.useContext(R)},$e.useDebugValue=function(){},$e.useDeferredValue=function(R,W){return ve.H.useDeferredValue(R,W)},$e.useEffect=function(R,W,le){var fe=ve.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(R,W)},$e.useId=function(){return ve.H.useId()},$e.useImperativeHandle=function(R,W,le){return ve.H.useImperativeHandle(R,W,le)},$e.useInsertionEffect=function(R,W){return ve.H.useInsertionEffect(R,W)},$e.useLayoutEffect=function(R,W){return ve.H.useLayoutEffect(R,W)},$e.useMemo=function(R,W){return ve.H.useMemo(R,W)},$e.useOptimistic=function(R,W){return ve.H.useOptimistic(R,W)},$e.useReducer=function(R,W,le){return ve.H.useReducer(R,W,le)},$e.useRef=function(R){return ve.H.useRef(R)},$e.useState=function(R){return ve.H.useState(R)},$e.useSyncExternalStore=function(R,W,le){return ve.H.useSyncExternalStore(R,W,le)},$e.useTransition=function(){return ve.H.useTransition()},$e.version="19.1.1",$e}var Ig;function Ty(){return Ig||(Ig=1,Th.exports=Pw()),Th.exports}var Ir=Ty();const Qs=v0(Ir);var xh={exports:{}},Zs={},kh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Ww(){return Qg||(Qg=1,(function(r){function n(B,te){var oe=B.length;B.push(te);e:for(;0<oe;){var Oe=oe-1>>>1,R=B[Oe];if(0<s(R,te))B[Oe]=te,B[oe]=R,oe=Oe;else break e}}function l(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var te=B[0],oe=B.pop();if(oe!==te){B[0]=oe;e:for(var Oe=0,R=B.length,W=R>>>1;Oe<W;){var le=2*(Oe+1)-1,fe=B[le],xe=le+1,Le=B[xe];if(0>s(fe,oe))xe<R&&0>s(Le,fe)?(B[Oe]=Le,B[xe]=oe,Oe=xe):(B[Oe]=fe,B[le]=oe,Oe=le);else if(xe<R&&0>s(Le,oe))B[Oe]=Le,B[xe]=oe,Oe=xe;else break e}}return te}function s(B,te){var oe=B.sortIndex-te.sortIndex;return oe!==0?oe:B.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var y=Date,p=y.now();r.unstable_now=function(){return y.now()-p}}var b=[],v=[],m=1,w=null,A=3,O=!1,k=!1,j=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function _e(B){for(var te=l(v);te!==null;){if(te.callback===null)a(v);else if(te.startTime<=B)a(v),te.sortIndex=te.expirationTime,n(b,te);else break;te=l(v)}}function ve(B){if(j=!1,_e(B),!k)if(l(b)!==null)k=!0,Ee||(Ee=!0,Ue());else{var te=l(v);te!==null&&ze(ve,te.startTime-B)}}var Ee=!1,Te=-1,Fe=5,Ne=-1;function at(){return J?!0:!(r.unstable_now()-Ne<Fe)}function pe(){if(J=!1,Ee){var B=r.unstable_now();Ne=B;var te=!0;try{e:{k=!1,j&&(j=!1,se(Te),Te=-1),O=!0;var oe=A;try{t:{for(_e(B),w=l(b);w!==null&&!(w.expirationTime>B&&at());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,A=w.priorityLevel;var R=Oe(w.expirationTime<=B);if(B=r.unstable_now(),typeof R=="function"){w.callback=R,_e(B),te=!0;break t}w===l(b)&&a(b),_e(B)}else a(b);w=l(b)}if(w!==null)te=!0;else{var W=l(v);W!==null&&ze(ve,W.startTime-B),te=!1}}break e}finally{w=null,A=oe,O=!1}te=void 0}}finally{te?Ue():Ee=!1}}}var Ue;if(typeof $=="function")Ue=function(){$(pe)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Xe=Ye.port2;Ye.port1.onmessage=pe,Ue=function(){Xe.postMessage(null)}}else Ue=function(){ce(pe,0)};function ze(B,te){Te=ce(function(){B(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(B){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var oe=A;A=te;try{return B()}finally{A=oe}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=A;A=B;try{return te()}finally{A=oe}},r.unstable_scheduleCallback=function(B,te,oe){var Oe=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Oe+oe:Oe):oe=Oe,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=oe+R,B={id:m++,callback:te,priorityLevel:B,startTime:oe,expirationTime:R,sortIndex:-1},oe>Oe?(B.sortIndex=oe,n(v,B),l(b)===null&&B===l(v)&&(j?(se(Te),Te=-1):j=!0,ze(ve,oe-Oe))):(B.sortIndex=R,n(b,B),k||O||(k=!0,Ee||(Ee=!0,Ue()))),B},r.unstable_shouldYield=at,r.unstable_wrapCallback=function(B){var te=A;return function(){var oe=A;A=te;try{return B.apply(this,arguments)}finally{A=oe}}}})(Dh)),Dh}var Zg;function eS(){return Zg||(Zg=1,kh.exports=Ww()),kh.exports}var Ch={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function tS(){if(Jg)return En;Jg=1;var r=Ty();function n(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)v+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(b,v,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:b,containerInfo:v,implementation:m}}var y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(b,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return f(b,v,null,m)},En.flushSync=function(b){var v=y.T,m=a.p;try{if(y.T=null,a.p=2,b)return b()}finally{y.T=v,a.p=m,a.d.f()}},En.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(b,v))},En.prefetchDNS=function(b){typeof b=="string"&&a.d.D(b)},En.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var m=v.as,w=p(m,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;m==="style"?a.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):m==="script"&&a.d.X(b,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var m=p(v.as,v.crossOrigin);a.d.M(b,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(b)},En.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var m=v.as,w=p(m,v.crossOrigin);a.d.L(b,m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(b,v){if(typeof b=="string")if(v){var m=p(v.as,v.crossOrigin);a.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(b)},En.requestFormReset=function(b){a.d.r(b)},En.unstable_batchedUpdates=function(b,v){return b(v)},En.useFormState=function(b,v,m){return y.H.useFormState(b,v,m)},En.useFormStatus=function(){return y.H.useHostTransitionStatus()},En.version="19.1.1",En}var $g;function nS(){if($g)return Ch.exports;$g=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Ch.exports=tS(),Ch.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function rS(){if(Fg)return Zs;Fg=1;var r=eS(),n=Ty(),l=nS();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(a(188))}function b(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,u=t;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(u=c.return,u!==null){i=u;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return p(c),e;if(h===u)return p(c),t;h=h.sibling}throw Error(a(188))}if(i.return!==u.return)i=c,u=h;else{for(var E=!1,x=c.child;x;){if(x===i){E=!0,i=c,u=h;break}if(x===u){E=!0,u=c,i=h;break}x=x.sibling}if(!E){for(x=h.child;x;){if(x===i){E=!0,i=h,u=c;break}if(x===u){E=!0,u=h,i=c;break}x=x.sibling}if(!E)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case J:return"Profiler";case j:return"StrictMode";case ve:return"Suspense";case Ee:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case $:return(e.displayName||"Context")+".Provider";case se:return(e._context.displayName||"Context")+".Consumer";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return t=e.displayName||null,t!==null?t:Xe(e.type)||"Memo";case Fe:t=e._payload,e=e._init;try{return Xe(e(t))}catch{}}return null}var ze=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Oe=[],R=-1;function W(e){return{current:e}}function le(e){0>R||(e.current=Oe[R],Oe[R]=null,R--)}function fe(e,t){R++,Oe[R]=e.current,e.current=t}var xe=W(null),Le=W(null),ke=W(null),yt=W(null);function Ie(e,t){switch(fe(ke,t),fe(Le,e),fe(xe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gg(t),e=mg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(xe),fe(xe,e)}function Se(){le(xe),le(Le),le(ke)}function gt(e){e.memoizedState!==null&&fe(yt,e);var t=xe.current,i=mg(t,e.type);t!==i&&(fe(Le,e),fe(xe,i))}function Ct(e){Le.current===e&&(le(xe),le(Le)),yt.current===e&&(le(yt),Ks._currentValue=oe)}var Be=Object.prototype.hasOwnProperty,Pe=r.unstable_scheduleCallback,ut=r.unstable_cancelCallback,pt=r.unstable_shouldYield,xn=r.unstable_requestPaint,ln=r.unstable_now,lr=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,kn=r.unstable_NormalPriority,ko=r.unstable_LowPriority,Ni=r.unstable_IdlePriority,Do=r.log,Ml=r.unstable_setDisableYieldValue,Kn=null,Ht=null;function ar(e){if(typeof Do=="function"&&Ml(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,e)}catch{}}var Jt=Math.clz32?Math.clz32:Pr,Nu=Math.log,_a=Math.LN2;function Pr(e){return e>>>=0,e===0?32:31-(Nu(e)/_a|0)|0}var Wr=256,zi=4194304;function bn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Re(e,t,i){var u=e.pendingLanes;if(u===0)return 0;var c=0,h=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var x=u&134217727;return x!==0?(u=x&~h,u!==0?c=bn(u):(E&=x,E!==0?c=bn(E):i||(i=x&~e,i!==0&&(c=bn(i))))):(x=u&~h,x!==0?c=bn(x):E!==0?c=bn(E):i||(i=u&~e,i!==0&&(c=bn(i)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:c}function Er(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ei(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function Ae(){var e=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),e}function Nl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zu(e,t,i,u,c,h){var E=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var x=e.entanglements,M=e.expirationTimes,Z=e.hiddenUpdates;for(i=E&~i;0<i;){var ie=31-Jt(i),ue=1<<ie;x[ie]=0,M[ie]=-1;var F=Z[ie];if(F!==null)for(Z[ie]=null,ie=0;ie<F.length;ie++){var P=F[ie];P!==null&&(P.lane&=-536870913)}i&=~ue}u!==0&&Bu(e,u,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(E&~t))}function Bu(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-Jt(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|i&4194090}function wa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var u=31-Jt(i),c=1<<u;c&t|e[u]&t&&(e[u]|=t),i&=~c}}function Lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ti(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Bg(e.type))}function Li(e,t){var i=te.p;try{return te.p=e,t()}finally{te.p=i}}var ur=Math.random().toString(36).slice(2),Kt="__reactFiber$"+ur,et="__reactProps$"+ur,Rt="__reactContainer$"+ur,Hu="__reactEvents$"+ur,Sa="__reactListeners$"+ur,Ea="__reactHandles$"+ur,zl="__reactResources$"+ur,Bl="__reactMarker$"+ur;function sr(e){delete e[Kt],delete e[et],delete e[Hu],delete e[Sa],delete e[Ea]}function Yn(e){var t=e[Kt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Rt]||i[Kt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Sg(e);e!==null;){if(i=e[Kt])return i;e=Sg(e)}return t}e=i,i=e.parentNode}return null}function Dn(e){if(e=e[Kt]||e[Rt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function qi(e){var t=e[zl];return t||(t=e[zl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[Bl]=!0}var Ku=new Set,Ur={};function Mr(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Ku.add(t[e])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},or={};function Co(e){return Be.call(or,e)?!0:Be.call(Nr,e)?!1:jt.test(e)?or[e]=!0:(Nr[e]=!0,!1)}function Ar(e,t,i){if(Co(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ni(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Vn(e,t,i,u){if(u===null)e.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+u)}}var Ll,zr;function ri(e){if(Ll===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||"",zr=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ll+e+zr}var Hi=!1;function Aa(e,t){if(!e||Hi)return"";Hi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(P){var F=P}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(P){F=P}e.call(ue.prototype)}}else{try{throw Error()}catch(P){F=P}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(P){if(P&&F&&typeof P.stack=="string")return[P.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),E=h[0],x=h[1];if(E&&x){var M=E.split(`
`),Z=x.split(`
`);for(c=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(u===M.length||c===Z.length)for(u=M.length-1,c=Z.length-1;1<=u&&0<=c&&M[u]!==Z[c];)c--;for(;1<=u&&0<=c;u--,c--)if(M[u]!==Z[c]){if(u!==1||c!==1)do if(u--,c--,0>c||M[u]!==Z[c]){var ie=`
`+M[u].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=u&&0<=c);break}}}finally{Hi=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ri(i):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Aa(e.type,!1);case 11:return Aa(e.type.render,!1);case 1:return Aa(e.type,!0);case 31:return ri("Activity");default:return""}}function Yu(e){try{var t="";do t+=rt(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ql(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ro(e){var t=ql(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(E){u=""+E,h.call(this,E)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vt(e){e._valueTracker||(e._valueTracker=Ro(e))}function Ki(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),u="";return e&&(u=ql(e)?e.checked?"true":"false":e.value),e=u,e!==i?(t.setValue(e),!0):!1}function Br(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yi=/[\n"\\]/g;function _n(e){return e.replace(Yi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hl(e,t,i,u,c,h,E,x){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?Oa(e,E,Cn(t)):i!=null?Oa(e,E,Cn(i)):u!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Cn(x):e.removeAttribute("name")}function Kl(e,t,i,u,c,h,E,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;i=i!=null?""+Cn(i):"",t=t!=null?""+Cn(t):i,x||t===e.value||(e.value=t),e.defaultValue=t}u=u??c,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=x?e.checked:!!u,e.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Oa(e,t,i){t==="number"&&Br(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Or(e,t,i,u){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Cn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Vu(e,t,i){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Cn(i):""}function Vi(e,t,i,u){if(t==null){if(u!=null){if(i!=null)throw Error(a(92));if(ze(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),t=i}i=Cn(t),e.defaultValue=i,u=e.textContent,u===i&&u!==""&&u!==null&&(e.value=u)}function ii(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function st(e,t,i){var u=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,i):typeof i!="number"||i===0||qf.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Gu(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var c in t)u=t[c],t.hasOwnProperty(c)&&i[c]!==u&&st(e,c,u)}else for(var h in t)t.hasOwnProperty(h)&&st(e,h,t[h])}function Xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(e){return Rn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gi=null;function cr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var li=null,ai=null;function Yt(e){var t=Dn(e);if(t&&(e=t.stateNode)){var i=e[et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hl(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var u=i[t];if(u!==e&&u.form===e.form){var c=u[et]||null;if(!c)throw Error(a(90));Hl(u,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)u=i[t],u.form===e.form&&Ki(u)}break e;case"textarea":Vu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Or(e,!!i.multiple,t,!1)}}}var jn=!1;function Xi(e,t,i){if(jn)return e(t,i);jn=!0;try{var u=e(t);return u}finally{if(jn=!1,(li!==null||ai!==null)&&(_c(),li&&(t=li,e=ai,ai=li=null,Yt(t),e)))for(t=0;t<e.length;t++)Yt(e[t])}}function xr(e,t){var i=e.stateNode;if(i===null)return null;var u=i[et]||null;if(u===null)return null;i=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Gn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{fr=!1}var $t=null,Vl=null,Gl=null;function Ta(){if(Gl)return Gl;var e,t=Vl,i=t.length,u,c="value"in $t?$t.value:$t.textContent,h=c.length;for(e=0;e<i&&t[e]===c[e];e++);var E=i-e;for(u=1;u<=E&&t[i-u]===c[h-u];u++);return Gl=c.slice(e,1<u?1-u:void 0)}function Lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Iu(){return!1}function wn(e){function t(i,u,c,h,E){this._reactName=i,this._targetInst=c,this.type=u,this.nativeEvent=h,this.target=E,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ii:Iu,this.isPropagationStopped=Iu,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=wn(Xn),Xl=m({},Xn,{view:0,detail:0}),ka=wn(Xl),Qi,Il,Ql,Da=m({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Qi=e.screenX-Ql.screenX,Il=e.screenY-Ql.screenY):Il=Qi=0,Ql=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),Uo=wn(Da),Qu=m({},Da,{dataTransfer:0}),Zu=wn(Qu),Mo=m({},Xl,{relatedTarget:0}),Zi=wn(Mo),Ca=m({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=wn(Ca),jo=m({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kf=wn(jo),Ji=m({},Xn,{data:0}),Ua=wn(Ji),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function an(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fu[e])?!!t[e]:!1}function ui(){return an}var Zl=m({},Xl,{key:function(e){if(e.key){var t=Ju[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),No=wn(Zl),Ma=m({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=wn(Ma),zo=m({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),ja=wn(zo),Wu=m({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),si=wn(Wu),es=m({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=wn(es),Na=m({},Xn,{newState:0,oldState:0}),ns=wn(Na),Bo=[9,13,27,32],rs=Gn&&"CompositionEvent"in window,oi=null;Gn&&"documentMode"in document&&(oi=document.documentMode);var za=Gn&&"TextEvent"in window&&!oi,Lo=Gn&&(!rs||oi&&8<oi&&11>=oi),Ba=" ",La=!1;function qo(e,t){switch(e){case"keyup":return Bo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function Ho(e,t){switch(e){case"compositionend":return is(t);case"keypress":return t.which!==32?null:(La=!0,Ba);case"textInput":return e=t.data,e===Ba&&La?null:e;default:return null}}function Ko(e,t){if($i)return e==="compositionend"||!rs&&qo(e,t)?(e=Ta(),Gl=Vl=$t=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lo&&t.locale!=="ko"?null:t.data;default:return null}}var Yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yf[e.type]:t==="textarea"}function qa(e,t,i,u){li?ai?ai.push(u):ai=[u]:li=u,t=Tc(t,"onChange"),0<t.length&&(i=new xa("onChange","change",null,i,u),e.push({event:i,listeners:t}))}var Fi=null,Pi=null;function Vf(e){dg(e,0)}function Ha(e){var t=Rr(e);if(Ki(t))return e}function Yo(e,t){if(e==="change")return t}var Jl=!1;if(Gn){var In;if(Gn){var Ut="oninput"in document;if(!Ut){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Ut=typeof $l.oninput=="function"}In=Ut}else In=!1;Jl=In&&(!document.documentMode||9<document.documentMode)}function Un(){Fi&&(Fi.detachEvent("onpropertychange",Vo),Pi=Fi=null)}function Vo(e){if(e.propertyName==="value"&&Ha(Pi)){var t=[];qa(t,Pi,e,cr(e)),Xi(Vf,t)}}function as(e,t,i){e==="focusin"?(Un(),Fi=t,Pi=i,Fi.attachEvent("onpropertychange",Vo)):e==="focusout"&&Un()}function Go(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(Pi)}function ci(e,t){if(e==="click")return Ha(t)}function us(e,t){if(e==="input"||e==="change")return Ha(t)}function Wi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Wi;function el(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var c=i[u];if(!Be.call(t,c)||!Bt(e[c],t[c]))return!1}return!0}function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d(e,t){var i=o(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=t&&u>=t)return{node:i,offset:t-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=o(i)}}function g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Br(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Br(e.document)}return t}function S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Gn&&"documentMode"in document&&11>=document.documentMode,D=null,C=null,N=null,q=!1;function Y(e,t,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;q||D==null||D!==Br(u)||(u=D,"selectionStart"in u&&S(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),N&&el(N,u)||(N=u,u=Tc(C,"onSelect"),0<u.length&&(t=new xa("onSelect","select",null,t,i),e.push({event:t,listeners:u}),t.target=D)))}function U(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var V={animationend:U("Animation","AnimationEnd"),animationiteration:U("Animation","AnimationIteration"),animationstart:U("Animation","AnimationStart"),transitionrun:U("Transition","TransitionRun"),transitionstart:U("Transition","TransitionStart"),transitioncancel:U("Transition","TransitionCancel"),transitionend:U("Transition","TransitionEnd")},z={},H={};Gn&&(H=document.createElement("div").style,"AnimationEvent"in window||(delete V.animationend.animation,delete V.animationiteration.animation,delete V.animationstart.animation),"TransitionEvent"in window||delete V.transitionend.transition);function K(e){if(z[e])return z[e];if(!V[e])return e;var t=V[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in H)return z[e]=t[i];return e}var G=K("animationend"),I=K("animationiteration"),ee=K("animationstart"),ne=K("transitionrun"),re=K("transitionstart"),de=K("transitioncancel"),me=K("transitionend"),he=new Map,ye="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ye.push("scrollEnd");function ge(e,t){he.set(e,t),Mr(t,[e])}var we=new WeakMap;function be(e,t){if(typeof e=="object"&&e!==null){var i=we.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Yu(t)},we.set(e,t),t)}return{value:e,source:t,stack:Yu(t)}}var je=[],Je=0,Ve=0;function Tt(){for(var e=Je,t=Ve=Je=0;t<e;){var i=je[t];je[t++]=null;var u=je[t];je[t++]=null;var c=je[t];je[t++]=null;var h=je[t];if(je[t++]=null,u!==null&&c!==null){var E=u.pending;E===null?c.next=c:(c.next=E.next,E.next=c),u.pending=c}h!==0&&Fl(i,c,h)}}function He(e,t,i,u){je[Je++]=e,je[Je++]=t,je[Je++]=i,je[Je++]=u,Ve|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Xt(e,t,i,u){return He(e,t,i,u),It(e)}function Nt(e,t){return He(e,null,null,t),It(e)}function Fl(e,t,i){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,u=h.alternate,u!==null&&(u.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-Jt(i),e=h.hiddenUpdates,u=e[c],u===null?e[c]=[t]:u.push(t),t.lane=i|536870912),h):null}function It(e){if(50<Ms)throw Ms=0,Jd=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nn={};function ss(e,t,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,i,u){return new ss(e,t,i,u)}function Gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fi(e,t){var i=e.alternate;return i===null?(i=Qn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Fy(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xo(e,t,i,u,c,h){var E=0;if(u=e,typeof e=="function")Gf(e)&&(E=1);else if(typeof e=="string")E=zw(e,i,xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=Qn(31,i,t,c),e.elementType=Ne,e.lanes=h,e;case k:return Pl(i.children,c,h,t);case j:E=8,c|=24;break;case J:return e=Qn(12,i,t,c|2),e.elementType=J,e.lanes=h,e;case ve:return e=Qn(13,i,t,c),e.elementType=ve,e.lanes=h,e;case Ee:return e=Qn(19,i,t,c),e.elementType=Ee,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:case $:E=10;break e;case se:E=9;break e;case _e:E=11;break e;case Te:E=14;break e;case Fe:E=16,u=null;break e}E=29,i=Error(a(130,e===null?"null":typeof e,"")),u=null}return t=Qn(E,i,t,c),t.elementType=e,t.type=u,t.lanes=h,t}function Pl(e,t,i,u){return e=Qn(7,e,u,t),e.lanes=i,e}function Xf(e,t,i){return e=Qn(6,e,null,t),e.lanes=i,e}function If(e,t,i){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=[],Ya=0,Io=null,Qo=0,dr=[],hr=0,Wl=null,di=1,hi="";function ea(e,t){Ka[Ya++]=Qo,Ka[Ya++]=Io,Io=e,Qo=t}function Py(e,t,i){dr[hr++]=di,dr[hr++]=hi,dr[hr++]=Wl,Wl=e;var u=di;e=hi;var c=32-Jt(u)-1;u&=~(1<<c),i+=1;var h=32-Jt(t)+c;if(30<h){var E=c-c%5;h=(u&(1<<E)-1).toString(32),u>>=E,c-=E,di=1<<32-Jt(t)+c|i<<c|u,hi=h+e}else di=1<<h|i<<c|u,hi=e}function Qf(e){e.return!==null&&(ea(e,1),Py(e,1,0))}function Zf(e){for(;e===Io;)Io=Ka[--Ya],Ka[Ya]=null,Qo=Ka[--Ya],Ka[Ya]=null;for(;e===Wl;)Wl=dr[--hr],dr[hr]=null,hi=dr[--hr],dr[hr]=null,di=dr[--hr],dr[hr]=null}var Mn=null,Lt=null,ht=!1,ta=null,qr=!1,Jf=Error(a(519));function na(e){var t=Error(a(418,""));throw fs(be(t,e)),Jf}function Wy(e){var t=e.stateNode,i=e.type,u=e.memoizedProps;switch(t[Kt]=e,t[et]=u,i){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(i=0;i<Ns.length;i++)lt(Ns[i],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),Kl(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),vt(t);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),Vi(t,u.value,u.defaultValue,u.children),vt(t)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||u.suppressHydrationWarning===!0||vg(t.textContent,i)?(u.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),u.onScroll!=null&&lt("scroll",t),u.onScrollEnd!=null&&lt("scrollend",t),u.onClick!=null&&(t.onclick=xc),t=!0):t=!1,t||na(e)}function ep(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Mn=Mn.return}}function os(e){if(e!==Mn)return!1;if(!ht)return ep(e),ht=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||fh(e.type,e.memoizedProps)),i=!i),i&&Lt&&na(e),ep(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Lt=Dr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Lt=null}}else t===27?(t=Lt,vl(e.type)?(e=ph,ph=null,Lt=e):Lt=t):Lt=Mn?Dr(e.stateNode.nextSibling):null;return!0}function cs(){Lt=Mn=null,ht=!1}function tp(){var e=ta;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),ta=null),e}function fs(e){ta===null?ta=[e]:ta.push(e)}var $f=W(null),ra=null,yi=null;function tl(e,t,i){fe($f,t._currentValue),t._currentValue=i}function pi(e){e._currentValue=$f.current,le($f)}function Ff(e,t,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===i)break;e=e.return}}function Pf(e,t,i,u){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var E=c.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=c;for(var M=0;M<t.length;M++)if(x.context===t[M]){h.lanes|=i,x=h.alternate,x!==null&&(x.lanes|=i),Ff(h.return,i,e),u||(E=null);break e}h=x.next}}else if(c.tag===18){if(E=c.return,E===null)throw Error(a(341));E.lanes|=i,h=E.alternate,h!==null&&(h.lanes|=i),Ff(E,i,e),E=null}else E=c.child;if(E!==null)E.return=c;else for(E=c;E!==null;){if(E===e){E=null;break}if(c=E.sibling,c!==null){c.return=E.return,E=c;break}E=E.return}c=E}}function ds(e,t,i,u){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var E=c.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var x=c.type;Bt(c.pendingProps.value,E.value)||(e!==null?e.push(x):e=[x])}}else if(c===yt.current){if(E=c.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ks):e=[Ks])}c=c.return}e!==null&&Pf(t,e,i,u),t.flags|=262144}function Zo(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){ra=e,yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return np(ra,e)}function Jo(e,t){return ra===null&&ia(e),np(e,t)}function np(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},yi===null){if(e===null)throw Error(a(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return i}var N_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},z_=r.unstable_scheduleCallback,B_=r.unstable_NormalPriority,Ft={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new N_,data:new Map,refCount:0}}function hs(e){e.refCount--,e.refCount===0&&z_(B_,function(){e.controller.abort()})}var ys=null,ed=0,Va=0,Ga=null;function L_(e,t){if(ys===null){var i=ys=[];ed=0,Va=nh(),Ga={status:"pending",value:void 0,then:function(u){i.push(u)}}}return ed++,t.then(rp,rp),t}function rp(){if(--ed===0&&ys!==null){Ga!==null&&(Ga.status="fulfilled");var e=ys;ys=null,Va=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function q_(e,t){var i=[],u={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(u.status="rejected",u.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),u}var ip=B.S;B.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&L_(e,t),ip!==null&&ip(e,t)};var la=W(null);function td(){var e=la.current;return e!==null?e:Dt.pooledCache}function $o(e,t){t===null?fe(la,la.current):fe(la,t.pool)}function lp(){var e=td();return e===null?null:{parent:Ft._currentValue,pool:e}}var ps=Error(a(460)),ap=Error(a(474)),Fo=Error(a(542)),nd={then:function(){}};function up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Po(){}function sp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Po,Po),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cp(e),e;default:if(typeof t.status=="string")t.then(Po,Po);else{if(e=Dt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=u}},function(u){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cp(e),e}throw vs=t,ps}}var vs=null;function op(){if(vs===null)throw Error(a(459));var e=vs;return vs=null,e}function cp(e){if(e===ps||e===Fo)throw Error(a(483))}var nl=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function il(e,t,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var c=u.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),u.pending=t,t=It(e),Fl(e,null,i),t}return He(e,u,t,i),It(e)}function gs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,wa(e,i)}}function ld(e,t){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var E={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=E:h=h.next=E,i=i.next}while(i!==null);h===null?c=h=t:h=h.next=t}else c=h=t;i={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ad=!1;function ms(){if(ad){var e=Ga;if(e!==null)throw e}}function bs(e,t,i,u){ad=!1;var c=e.updateQueue;nl=!1;var h=c.firstBaseUpdate,E=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var M=x,Z=M.next;M.next=null,E===null?h=Z:E.next=Z,E=M;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==E&&(x===null?ie.firstBaseUpdate=Z:x.next=Z,ie.lastBaseUpdate=M))}if(h!==null){var ue=c.baseState;E=0,ie=Z=M=null,x=h;do{var F=x.lane&-536870913,P=F!==x.lane;if(P?(ct&F)===F:(u&F)===F){F!==0&&F===Va&&(ad=!0),ie!==null&&(ie=ie.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ge=e,qe=x;F=t;var Et=i;switch(qe.tag){case 1:if(Ge=qe.payload,typeof Ge=="function"){ue=Ge.call(Et,ue,F);break e}ue=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=qe.payload,F=typeof Ge=="function"?Ge.call(Et,ue,F):Ge,F==null)break e;ue=m({},ue,F);break e;case 2:nl=!0}}F=x.callback,F!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[F]:P.push(F))}else P={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(Z=ie=P,M=ue):ie=ie.next=P,E|=F;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;P=x,x=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);ie===null&&(M=ue),c.baseState=M,c.firstBaseUpdate=Z,c.lastBaseUpdate=ie,h===null&&(c.shared.lanes=0),dl|=E,e.lanes=E,e.memoizedState=ue}}function fp(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function dp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)fp(i[e],t)}var Xa=W(null),Wo=W(0);function hp(e,t){e=Si,fe(Wo,e),fe(Xa,t),Si=e|t.baseLanes}function ud(){fe(Wo,Si),fe(Xa,Xa.current)}function sd(){Si=Wo.current,le(Xa),le(Wo)}var ll=0,tt=null,wt=null,Qt=null,ec=!1,Ia=!1,aa=!1,tc=0,_s=0,Qa=null,H_=0;function Vt(){throw Error(a(321))}function od(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Bt(e[i],t[i]))return!1;return!0}function cd(e,t,i,u,c,h){return ll=h,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?$p:Fp,aa=!1,h=i(u,c),aa=!1,Ia&&(h=pp(t,i,u,c)),yp(e),h}function yp(e){B.H=uc;var t=wt!==null&&wt.next!==null;if(ll=0,Qt=wt=tt=null,ec=!1,_s=0,Qa=null,t)throw Error(a(300));e===null||un||(e=e.dependencies,e!==null&&Zo(e)&&(un=!0))}function pp(e,t,i,u){tt=e;var c=0;do{if(Ia&&(Qa=null),_s=0,Ia=!1,25<=c)throw Error(a(301));if(c+=1,Qt=wt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Q_,h=t(i,u)}while(Ia);return h}function K_(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ws(t):t,e=e.useState()[0],(wt!==null?wt.memoizedState:null)!==e&&(tt.flags|=1024),t}function fd(){var e=tc!==0;return tc=0,e}function dd(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function hd(e){if(ec){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ec=!1}ll=0,Qt=wt=tt=null,Ia=!1,_s=tc=0,Qa=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?tt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Zt(){if(wt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Qt===null?tt.memoizedState:Qt.next;if(t!==null)Qt=t,wt=e;else{if(e===null)throw tt.alternate===null?Error(a(467)):Error(a(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Qt===null?tt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ws(e){var t=_s;return _s+=1,Qa===null&&(Qa=[]),e=sp(Qa,e,t),t=tt,(Qt===null?t.memoizedState:Qt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?$p:Fp),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ws(e);if(e.$$typeof===$)return Sn(e)}throw Error(a(438,String(e)))}function pd(e){var t=null,i=tt.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var u=tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=yd(),tt.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),u=0;u<e;u++)i[u]=at;return t.index++,i}function vi(e,t){return typeof t=="function"?t(e):t}function rc(e){var t=Zt();return vd(t,wt,e)}function vd(e,t,i){var u=e.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var c=e.baseQueue,h=u.pending;if(h!==null){if(c!==null){var E=c.next;c.next=h.next,h.next=E}t.baseQueue=c=h,u.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var x=E=null,M=null,Z=t,ie=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ct&ue)===ue:(ll&ue)===ue){var F=Z.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Va&&(ie=!0);else if((ll&F)===F){Z=Z.next,F===Va&&(ie=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(x=M=ue,E=h):M=M.next=ue,tt.lanes|=F,dl|=F;ue=Z.action,aa&&i(h,ue),h=Z.hasEagerState?Z.eagerState:i(h,ue)}else F={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(x=M=F,E=h):M=M.next=F,tt.lanes|=ue,dl|=ue;Z=Z.next}while(Z!==null&&Z!==t);if(M===null?E=h:M.next=x,!Bt(h,e.memoizedState)&&(un=!0,ie&&(i=Ga,i!==null)))throw i;e.memoizedState=h,e.baseState=E,e.baseQueue=M,u.lastRenderedState=h}return c===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function gd(e){var t=Zt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var u=i.dispatch,c=i.pending,h=t.memoizedState;if(c!==null){i.pending=null;var E=c=c.next;do h=e(h,E.action),E=E.next;while(E!==c);Bt(h,t.memoizedState)||(un=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,u]}function vp(e,t,i){var u=tt,c=Zt(),h=ht;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=t();var E=!Bt((wt||c).memoizedState,i);E&&(c.memoizedState=i,un=!0),c=c.queue;var x=bp.bind(null,u,c,e);if(Ss(2048,8,x,[e]),c.getSnapshot!==t||E||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,Za(9,ic(),mp.bind(null,u,c,i,t),null),Dt===null)throw Error(a(349));h||(ll&124)!==0||gp(u,t,i)}return i}function gp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=tt.updateQueue,t===null?(t=yd(),tt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function mp(e,t,i,u){t.value=i,t.getSnapshot=u,_p(t)&&wp(e)}function bp(e,t,i){return i(function(){_p(t)&&wp(e)})}function _p(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Bt(e,i)}catch{return!0}}function wp(e){var t=Nt(e,2);t!==null&&Pn(t,e,2)}function md(e){var t=zn();if(typeof e=="function"){var i=e;if(e=i(),aa){ar(!0);try{i()}finally{ar(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t}function Sp(e,t,i,u){return e.baseState=i,vd(e,wt,typeof u=="function"?u:vi)}function Y_(e,t,i,u,c){if(ac(e))throw Error(a(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){h.listeners.push(E)}};B.T!==null?i(!0):h.isTransition=!1,u(h),i=t.pending,i===null?(h.next=t.pending=h,Ep(t,h)):(h.next=i.next,t.pending=i.next=h)}}function Ep(e,t){var i=t.action,u=t.payload,c=e.state;if(t.isTransition){var h=B.T,E={};B.T=E;try{var x=i(c,u),M=B.S;M!==null&&M(E,x),Ap(e,t,x)}catch(Z){bd(e,t,Z)}finally{B.T=h}}else try{h=i(c,u),Ap(e,t,h)}catch(Z){bd(e,t,Z)}}function Ap(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Op(e,t,u)},function(u){return bd(e,t,u)}):Op(e,t,i)}function Op(e,t,i){t.status="fulfilled",t.value=i,Tp(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ep(e,i)))}function bd(e,t,i){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=i,Tp(t),t=t.next;while(t!==u)}e.action=null}function Tp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xp(e,t){return t}function kp(e,t){if(ht){var i=Dt.formState;if(i!==null){e:{var u=tt;if(ht){if(Lt){t:{for(var c=Lt,h=qr;c.nodeType!==8;){if(!h){c=null;break t}if(c=Dr(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Lt=Dr(c.nextSibling),u=c.data==="F!";break e}}na(u)}u=!1}u&&(t=i[0])}}return i=zn(),i.memoizedState=i.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:t},i.queue=u,i=Qp.bind(null,tt,u),u.dispatch=i,u=md(!1),h=Ad.bind(null,tt,!1,u.queue),u=zn(),c={state:t,dispatch:null,action:e,pending:null},u.queue=c,i=Y_.bind(null,tt,c,h,i),c.dispatch=i,u.memoizedState=e,[t,i,!1]}function Dp(e){var t=Zt();return Cp(t,wt,e)}function Cp(e,t,i){if(t=vd(e,t,xp)[0],e=rc(vi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=ws(t)}catch(E){throw E===ps?Fo:E}else u=t;t=Zt();var c=t.queue,h=c.dispatch;return i!==t.memoizedState&&(tt.flags|=2048,Za(9,ic(),V_.bind(null,c,i),null)),[u,h,e]}function V_(e,t){e.action=t}function Rp(e){var t=Zt(),i=wt;if(i!==null)return Cp(t,i,e);Zt(),t=t.memoizedState,i=Zt();var u=i.queue.dispatch;return i.memoizedState=e,[t,u,!1]}function Za(e,t,i,u){return e={tag:e,create:i,deps:u,inst:t,next:null},t=tt.updateQueue,t===null&&(t=yd(),tt.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,t.lastEffect=e),e}function ic(){return{destroy:void 0,resource:void 0}}function Up(){return Zt().memoizedState}function lc(e,t,i,u){var c=zn();u=u===void 0?null:u,tt.flags|=e,c.memoizedState=Za(1|t,ic(),i,u)}function Ss(e,t,i,u){var c=Zt();u=u===void 0?null:u;var h=c.memoizedState.inst;wt!==null&&u!==null&&od(u,wt.memoizedState.deps)?c.memoizedState=Za(t,h,i,u):(tt.flags|=e,c.memoizedState=Za(1|t,h,i,u))}function Mp(e,t){lc(8390656,8,e,t)}function jp(e,t){Ss(2048,8,e,t)}function Np(e,t){return Ss(4,2,e,t)}function zp(e,t){return Ss(4,4,e,t)}function Bp(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lp(e,t,i){i=i!=null?i.concat([e]):null,Ss(4,4,Bp.bind(null,t,e),i)}function _d(){}function qp(e,t){var i=Zt();t=t===void 0?null:t;var u=i.memoizedState;return t!==null&&od(t,u[1])?u[0]:(i.memoizedState=[e,t],e)}function Hp(e,t){var i=Zt();t=t===void 0?null:t;var u=i.memoizedState;if(t!==null&&od(t,u[1]))return u[0];if(u=e(),aa){ar(!0);try{e()}finally{ar(!1)}}return i.memoizedState=[u,t],u}function wd(e,t,i){return i===void 0||(ll&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Vv(),tt.lanes|=e,dl|=e,i)}function Kp(e,t,i,u){return Bt(i,t)?i:Xa.current!==null?(e=wd(e,i,u),Bt(e,t)||(un=!0),e):(ll&42)===0?(un=!0,e.memoizedState=i):(e=Vv(),tt.lanes|=e,dl|=e,t)}function Yp(e,t,i,u,c){var h=te.p;te.p=h!==0&&8>h?h:8;var E=B.T,x={};B.T=x,Ad(e,!1,t,i);try{var M=c(),Z=B.S;if(Z!==null&&Z(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=q_(M,u);Es(e,t,ie,Fn(e))}else Es(e,t,u,Fn(e))}catch(ue){Es(e,t,{then:function(){},status:"rejected",reason:ue},Fn())}finally{te.p=h,B.T=E}}function G_(){}function Sd(e,t,i,u){if(e.tag!==5)throw Error(a(476));var c=Vp(e).queue;Yp(e,c,t,oe,i===null?G_:function(){return Gp(e),i(u)})}function Vp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:oe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gp(e){var t=Vp(e).next.queue;Es(e,t,{},Fn())}function Ed(){return Sn(Ks)}function Xp(){return Zt().memoizedState}function Ip(){return Zt().memoizedState}function X_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Fn();e=rl(i);var u=il(t,e,i);u!==null&&(Pn(u,t,i),gs(u,t,i)),t={cache:Wf()},e.payload=t;return}t=t.return}}function I_(e,t,i){var u=Fn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ac(e)?Zp(t,i):(i=Xt(e,t,i,u),i!==null&&(Pn(i,e,u),Jp(i,t,u)))}function Qp(e,t,i){var u=Fn();Es(e,t,i,u)}function Es(e,t,i,u){var c={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ac(e))Zp(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var E=t.lastRenderedState,x=h(E,i);if(c.hasEagerState=!0,c.eagerState=x,Bt(x,E))return He(e,t,c,0),Dt===null&&Tt(),!1}catch{}finally{}if(i=Xt(e,t,c,u),i!==null)return Pn(i,e,u),Jp(i,t,u),!0}return!1}function Ad(e,t,i,u){if(u={lane:2,revertLane:nh(),action:u,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(t)throw Error(a(479))}else t=Xt(e,i,u,2),t!==null&&Pn(t,e,2)}function ac(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Zp(e,t){Ia=ec=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jp(e,t,i){if((i&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,wa(e,i)}}var uc={readContext:Sn,use:nc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},$p={readContext:Sn,use:nc,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Mp,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,lc(4194308,4,Bp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return lc(4194308,4,e,t)},useInsertionEffect:function(e,t){lc(4,2,e,t)},useMemo:function(e,t){var i=zn();t=t===void 0?null:t;var u=e();if(aa){ar(!0);try{e()}finally{ar(!1)}}return i.memoizedState=[u,t],u},useReducer:function(e,t,i){var u=zn();if(i!==void 0){var c=i(t);if(aa){ar(!0);try{i(t)}finally{ar(!1)}}}else c=t;return u.memoizedState=u.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},u.queue=e,e=e.dispatch=I_.bind(null,tt,e),[u.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=md(e);var t=e.queue,i=Qp.bind(null,tt,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:_d,useDeferredValue:function(e,t){var i=zn();return wd(i,e,t)},useTransition:function(){var e=md(!1);return e=Yp.bind(null,tt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var u=tt,c=zn();if(ht){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Dt===null)throw Error(a(349));(ct&124)!==0||gp(u,t,i)}c.memoizedState=i;var h={value:i,getSnapshot:t};return c.queue=h,Mp(bp.bind(null,u,h,e),[e]),u.flags|=2048,Za(9,ic(),mp.bind(null,u,h,i,t),null),i},useId:function(){var e=zn(),t=Dt.identifierPrefix;if(ht){var i=hi,u=di;i=(u&~(1<<32-Jt(u)-1)).toString(32)+i,t=""+t+"R"+i,i=tc++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=H_++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ed,useFormState:kp,useActionState:kp,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ad.bind(null,tt,!0,i),i.dispatch=t,[e,t]},useMemoCache:pd,useCacheRefresh:function(){return zn().memoizedState=X_.bind(null,tt)}},Fp={readContext:Sn,use:nc,useCallback:qp,useContext:Sn,useEffect:jp,useImperativeHandle:Lp,useInsertionEffect:Np,useLayoutEffect:zp,useMemo:Hp,useReducer:rc,useRef:Up,useState:function(){return rc(vi)},useDebugValue:_d,useDeferredValue:function(e,t){var i=Zt();return Kp(i,wt.memoizedState,e,t)},useTransition:function(){var e=rc(vi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:vp,useId:Xp,useHostTransitionStatus:Ed,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,t){var i=Zt();return Sp(i,wt,e,t)},useMemoCache:pd,useCacheRefresh:Ip},Q_={readContext:Sn,use:nc,useCallback:qp,useContext:Sn,useEffect:jp,useImperativeHandle:Lp,useInsertionEffect:Np,useLayoutEffect:zp,useMemo:Hp,useReducer:gd,useRef:Up,useState:function(){return gd(vi)},useDebugValue:_d,useDeferredValue:function(e,t){var i=Zt();return wt===null?wd(i,e,t):Kp(i,wt.memoizedState,e,t)},useTransition:function(){var e=gd(vi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:vp,useId:Xp,useHostTransitionStatus:Ed,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,t){var i=Zt();return wt!==null?Sp(i,wt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:pd,useCacheRefresh:Ip},Ja=null,As=0;function sc(e){var t=As;return As+=1,Ja===null&&(Ja=[]),sp(Ja,e,t)}function Os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oc(e,t){throw t.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pp(e){var t=e._init;return t(e._payload)}function Wp(e){function t(X,L){if(e){var Q=X.deletions;Q===null?(X.deletions=[L],X.flags|=16):Q.push(L)}}function i(X,L){if(!e)return null;for(;L!==null;)t(X,L),L=L.sibling;return null}function u(X){for(var L=new Map;X!==null;)X.key!==null?L.set(X.key,X):L.set(X.index,X),X=X.sibling;return L}function c(X,L){return X=fi(X,L),X.index=0,X.sibling=null,X}function h(X,L,Q){return X.index=Q,e?(Q=X.alternate,Q!==null?(Q=Q.index,Q<L?(X.flags|=67108866,L):Q):(X.flags|=67108866,L)):(X.flags|=1048576,L)}function E(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function x(X,L,Q,ae){return L===null||L.tag!==6?(L=Xf(Q,X.mode,ae),L.return=X,L):(L=c(L,Q),L.return=X,L)}function M(X,L,Q,ae){var Ce=Q.type;return Ce===k?ie(X,L,Q.props.children,ae,Q.key):L!==null&&(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Fe&&Pp(Ce)===L.type)?(L=c(L,Q.props),Os(L,Q),L.return=X,L):(L=Xo(Q.type,Q.key,Q.props,null,X.mode,ae),Os(L,Q),L.return=X,L)}function Z(X,L,Q,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==Q.containerInfo||L.stateNode.implementation!==Q.implementation?(L=If(Q,X.mode,ae),L.return=X,L):(L=c(L,Q.children||[]),L.return=X,L)}function ie(X,L,Q,ae,Ce){return L===null||L.tag!==7?(L=Pl(Q,X.mode,ae,Ce),L.return=X,L):(L=c(L,Q),L.return=X,L)}function ue(X,L,Q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Xf(""+L,X.mode,Q),L.return=X,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return Q=Xo(L.type,L.key,L.props,null,X.mode,Q),Os(Q,L),Q.return=X,Q;case O:return L=If(L,X.mode,Q),L.return=X,L;case Fe:var ae=L._init;return L=ae(L._payload),ue(X,L,Q)}if(ze(L)||Ue(L))return L=Pl(L,X.mode,Q,null),L.return=X,L;if(typeof L.then=="function")return ue(X,sc(L),Q);if(L.$$typeof===$)return ue(X,Jo(X,L),Q);oc(X,L)}return null}function F(X,L,Q,ae){var Ce=L!==null?L.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:x(X,L,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===Ce?M(X,L,Q,ae):null;case O:return Q.key===Ce?Z(X,L,Q,ae):null;case Fe:return Ce=Q._init,Q=Ce(Q._payload),F(X,L,Q,ae)}if(ze(Q)||Ue(Q))return Ce!==null?null:ie(X,L,Q,ae,null);if(typeof Q.then=="function")return F(X,L,sc(Q),ae);if(Q.$$typeof===$)return F(X,L,Jo(X,Q),ae);oc(X,Q)}return null}function P(X,L,Q,ae,Ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return X=X.get(Q)||null,x(L,X,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return X=X.get(ae.key===null?Q:ae.key)||null,M(L,X,ae,Ce);case O:return X=X.get(ae.key===null?Q:ae.key)||null,Z(L,X,ae,Ce);case Fe:var nt=ae._init;return ae=nt(ae._payload),P(X,L,Q,ae,Ce)}if(ze(ae)||Ue(ae))return X=X.get(Q)||null,ie(L,X,ae,Ce,null);if(typeof ae.then=="function")return P(X,L,Q,sc(ae),Ce);if(ae.$$typeof===$)return P(X,L,Q,Jo(L,ae),Ce);oc(L,ae)}return null}function Ge(X,L,Q,ae){for(var Ce=null,nt=null,Me=L,Ke=L=0,on=null;Me!==null&&Ke<Q.length;Ke++){Me.index>Ke?(on=Me,Me=null):on=Me.sibling;var dt=F(X,Me,Q[Ke],ae);if(dt===null){Me===null&&(Me=on);break}e&&Me&&dt.alternate===null&&t(X,Me),L=h(dt,L,Ke),nt===null?Ce=dt:nt.sibling=dt,nt=dt,Me=on}if(Ke===Q.length)return i(X,Me),ht&&ea(X,Ke),Ce;if(Me===null){for(;Ke<Q.length;Ke++)Me=ue(X,Q[Ke],ae),Me!==null&&(L=h(Me,L,Ke),nt===null?Ce=Me:nt.sibling=Me,nt=Me);return ht&&ea(X,Ke),Ce}for(Me=u(Me);Ke<Q.length;Ke++)on=P(Me,X,Ke,Q[Ke],ae),on!==null&&(e&&on.alternate!==null&&Me.delete(on.key===null?Ke:on.key),L=h(on,L,Ke),nt===null?Ce=on:nt.sibling=on,nt=on);return e&&Me.forEach(function(wl){return t(X,wl)}),ht&&ea(X,Ke),Ce}function qe(X,L,Q,ae){if(Q==null)throw Error(a(151));for(var Ce=null,nt=null,Me=L,Ke=L=0,on=null,dt=Q.next();Me!==null&&!dt.done;Ke++,dt=Q.next()){Me.index>Ke?(on=Me,Me=null):on=Me.sibling;var wl=F(X,Me,dt.value,ae);if(wl===null){Me===null&&(Me=on);break}e&&Me&&wl.alternate===null&&t(X,Me),L=h(wl,L,Ke),nt===null?Ce=wl:nt.sibling=wl,nt=wl,Me=on}if(dt.done)return i(X,Me),ht&&ea(X,Ke),Ce;if(Me===null){for(;!dt.done;Ke++,dt=Q.next())dt=ue(X,dt.value,ae),dt!==null&&(L=h(dt,L,Ke),nt===null?Ce=dt:nt.sibling=dt,nt=dt);return ht&&ea(X,Ke),Ce}for(Me=u(Me);!dt.done;Ke++,dt=Q.next())dt=P(Me,X,Ke,dt.value,ae),dt!==null&&(e&&dt.alternate!==null&&Me.delete(dt.key===null?Ke:dt.key),L=h(dt,L,Ke),nt===null?Ce=dt:nt.sibling=dt,nt=dt);return e&&Me.forEach(function(Zw){return t(X,Zw)}),ht&&ea(X,Ke),Ce}function Et(X,L,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var Ce=Q.key;L!==null;){if(L.key===Ce){if(Ce=Q.type,Ce===k){if(L.tag===7){i(X,L.sibling),ae=c(L,Q.props.children),ae.return=X,X=ae;break e}}else if(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Fe&&Pp(Ce)===L.type){i(X,L.sibling),ae=c(L,Q.props),Os(ae,Q),ae.return=X,X=ae;break e}i(X,L);break}else t(X,L);L=L.sibling}Q.type===k?(ae=Pl(Q.props.children,X.mode,ae,Q.key),ae.return=X,X=ae):(ae=Xo(Q.type,Q.key,Q.props,null,X.mode,ae),Os(ae,Q),ae.return=X,X=ae)}return E(X);case O:e:{for(Ce=Q.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===Q.containerInfo&&L.stateNode.implementation===Q.implementation){i(X,L.sibling),ae=c(L,Q.children||[]),ae.return=X,X=ae;break e}else{i(X,L);break}else t(X,L);L=L.sibling}ae=If(Q,X.mode,ae),ae.return=X,X=ae}return E(X);case Fe:return Ce=Q._init,Q=Ce(Q._payload),Et(X,L,Q,ae)}if(ze(Q))return Ge(X,L,Q,ae);if(Ue(Q)){if(Ce=Ue(Q),typeof Ce!="function")throw Error(a(150));return Q=Ce.call(Q),qe(X,L,Q,ae)}if(typeof Q.then=="function")return Et(X,L,sc(Q),ae);if(Q.$$typeof===$)return Et(X,L,Jo(X,Q),ae);oc(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,L!==null&&L.tag===6?(i(X,L.sibling),ae=c(L,Q),ae.return=X,X=ae):(i(X,L),ae=Xf(Q,X.mode,ae),ae.return=X,X=ae),E(X)):i(X,L)}return function(X,L,Q,ae){try{As=0;var Ce=Et(X,L,Q,ae);return Ja=null,Ce}catch(Me){if(Me===ps||Me===Fo)throw Me;var nt=Qn(29,Me,null,X.mode);return nt.lanes=ae,nt.return=X,nt}finally{}}}var $a=Wp(!0),ev=Wp(!1),yr=W(null),Hr=null;function al(e){var t=e.alternate;fe(Pt,Pt.current&1),fe(yr,e),Hr===null&&(t===null||Xa.current!==null||t.memoizedState!==null)&&(Hr=e)}function tv(e){if(e.tag===22){if(fe(Pt,Pt.current),fe(yr,e),Hr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Hr=e)}}else ul()}function ul(){fe(Pt,Pt.current),fe(yr,yr.current)}function gi(e){le(yr),Hr===e&&(Hr=null),le(Pt)}var Pt=W(0);function cc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||yh(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Od(e,t,i,u){t=e.memoizedState,i=i(u,t),i=i==null?t:m({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Td={enqueueSetState:function(e,t,i){e=e._reactInternals;var u=Fn(),c=rl(u);c.payload=t,i!=null&&(c.callback=i),t=il(e,c,u),t!==null&&(Pn(t,e,u),gs(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var u=Fn(),c=rl(u);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=il(e,c,u),t!==null&&(Pn(t,e,u),gs(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Fn(),u=rl(i);u.tag=2,t!=null&&(u.callback=t),t=il(e,u,i),t!==null&&(Pn(t,e,i),gs(t,e,i))}};function nv(e,t,i,u,c,h,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,h,E):t.prototype&&t.prototype.isPureReactComponent?!el(i,u)||!el(c,h):!0}function rv(e,t,i,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,u),t.state!==e&&Td.enqueueReplaceState(t,t.state,null)}function ua(e,t){var i=t;if("ref"in t){i={};for(var u in t)u!=="ref"&&(i[u]=t[u])}if(e=e.defaultProps){i===t&&(i=m({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var fc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function iv(e){fc(e)}function lv(e){console.error(e)}function av(e){fc(e)}function dc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function uv(e,t,i){try{var u=e.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xd(e,t,i){return i=rl(i),i.tag=3,i.payload={element:null},i.callback=function(){dc(e,t)},i}function sv(e){return e=rl(e),e.tag=3,e}function ov(e,t,i,u){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=u.value;e.payload=function(){return c(h)},e.callback=function(){uv(t,i,u)}}var E=i.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){uv(t,i,u),typeof c!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Z_(e,t,i,u,c){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=i.alternate,t!==null&&ds(t,i,c,!0),i=yr.current,i!==null){switch(i.tag){case 13:return Hr===null?Fd():i.alternate===null&&qt===0&&(qt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,u===nd?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([u]):t.add(u),Wd(e,u,c)),!1;case 22:return i.flags|=65536,u===nd?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([u]):i.add(u)),Wd(e,u,c)),!1}throw Error(a(435,i.tag))}return Wd(e,u,c),Fd(),!1}if(ht)return t=yr.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,u!==Jf&&(e=Error(a(422),{cause:u}),fs(be(e,i)))):(u!==Jf&&(t=Error(a(423),{cause:u}),fs(be(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,u=be(u,i),c=xd(e.stateNode,u,c),ld(e,c),qt!==4&&(qt=2)),!1;var h=Error(a(520),{cause:u});if(h=be(h,i),Us===null?Us=[h]:Us.push(h),qt!==4&&(qt=2),t===null)return!0;u=be(u,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=xd(i.stateNode,u,e),ld(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(hl===null||!hl.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=sv(c),ov(c,e,i,u),ld(i,c),!1}i=i.return}while(i!==null);return!1}var cv=Error(a(461)),un=!1;function dn(e,t,i,u){t.child=e===null?ev(t,null,i,u):$a(t,e.child,i,u)}function fv(e,t,i,u,c){i=i.render;var h=t.ref;if("ref"in u){var E={};for(var x in u)x!=="ref"&&(E[x]=u[x])}else E=u;return ia(t),u=cd(e,t,i,E,h,c),x=fd(),e!==null&&!un?(dd(e,t,c),mi(e,t,c)):(ht&&x&&Qf(t),t.flags|=1,dn(e,t,u,c),t.child)}function dv(e,t,i,u,c){if(e===null){var h=i.type;return typeof h=="function"&&!Gf(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,hv(e,t,h,u,c)):(e=Xo(i.type,null,u,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Nd(e,c)){var E=h.memoizedProps;if(i=i.compare,i=i!==null?i:el,i(E,u)&&e.ref===t.ref)return mi(e,t,c)}return t.flags|=1,e=fi(h,u),e.ref=t.ref,e.return=t,t.child=e}function hv(e,t,i,u,c){if(e!==null){var h=e.memoizedProps;if(el(h,u)&&e.ref===t.ref)if(un=!1,t.pendingProps=u=h,Nd(e,c))(e.flags&131072)!==0&&(un=!0);else return t.lanes=e.lanes,mi(e,t,c)}return kd(e,t,i,u,c)}function yv(e,t,i){var u=t.pendingProps,c=u.children,h=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((t.flags&128)!==0){if(u=h!==null?h.baseLanes|i:i,e!==null){for(c=t.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;t.childLanes=h&~u}else t.childLanes=0,t.child=null;return pv(e,t,u,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$o(t,h!==null?h.cachePool:null),h!==null?hp(t,h):ud(),tv(t);else return t.lanes=t.childLanes=536870912,pv(e,t,h!==null?h.baseLanes|i:i,i)}else h!==null?($o(t,h.cachePool),hp(t,h),ul(),t.memoizedState=null):(e!==null&&$o(t,null),ud(),ul());return dn(e,t,c,i),t.child}function pv(e,t,i,u){var c=td();return c=c===null?null:{parent:Ft._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&$o(t,null),ud(),tv(t),e!==null&&ds(e,t,u,!0),null}function hc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function kd(e,t,i,u,c){return ia(t),i=cd(e,t,i,u,void 0,c),u=fd(),e!==null&&!un?(dd(e,t,c),mi(e,t,c)):(ht&&u&&Qf(t),t.flags|=1,dn(e,t,i,c),t.child)}function vv(e,t,i,u,c,h){return ia(t),t.updateQueue=null,i=pp(t,u,i,c),yp(e),u=fd(),e!==null&&!un?(dd(e,t,h),mi(e,t,h)):(ht&&u&&Qf(t),t.flags|=1,dn(e,t,i,h),t.child)}function gv(e,t,i,u,c){if(ia(t),t.stateNode===null){var h=Nn,E=i.contextType;typeof E=="object"&&E!==null&&(h=Sn(E)),h=new i(u,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Td,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=u,h.state=t.memoizedState,h.refs={},rd(t),E=i.contextType,h.context=typeof E=="object"&&E!==null?Sn(E):Nn,h.state=t.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Od(t,i,E,u),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(E=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),E!==h.state&&Td.enqueueReplaceState(h,h.state,null),bs(t,u,h,c),ms(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,M=ua(i,x);h.props=M;var Z=h.context,ie=i.contextType;E=Nn,typeof ie=="object"&&ie!==null&&(E=Sn(ie));var ue=i.getDerivedStateFromProps;ie=typeof ue=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ie||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||Z!==E)&&rv(t,h,u,E),nl=!1;var F=t.memoizedState;h.state=F,bs(t,u,h,c),ms(),Z=t.memoizedState,x||F!==Z||nl?(typeof ue=="function"&&(Od(t,i,ue,u),Z=t.memoizedState),(M=nl||nv(t,i,M,u,F,Z,E))?(ie||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=Z),h.props=u,h.state=Z,h.context=E,u=M):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{h=t.stateNode,id(e,t),E=t.memoizedProps,ie=ua(i,E),h.props=ie,ue=t.pendingProps,F=h.context,Z=i.contextType,M=Nn,typeof Z=="object"&&Z!==null&&(M=Sn(Z)),x=i.getDerivedStateFromProps,(Z=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E!==ue||F!==M)&&rv(t,h,u,M),nl=!1,F=t.memoizedState,h.state=F,bs(t,u,h,c),ms();var P=t.memoizedState;E!==ue||F!==P||nl||e!==null&&e.dependencies!==null&&Zo(e.dependencies)?(typeof x=="function"&&(Od(t,i,x,u),P=t.memoizedState),(ie=nl||nv(t,i,ie,u,F,P,M)||e!==null&&e.dependencies!==null&&Zo(e.dependencies))?(Z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,P,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,P,M)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=P),h.props=u,h.state=P,h.context=M,u=ie):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),u=!1)}return h=u,hc(e,t),u=(t.flags&128)!==0,h||u?(h=t.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&u?(t.child=$a(t,e.child,null,c),t.child=$a(t,null,i,c)):dn(e,t,i,c),t.memoizedState=h.state,e=t.child):e=mi(e,t,c),e}function mv(e,t,i,u){return cs(),t.flags|=256,dn(e,t,i,u),t.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(e){return{baseLanes:e,cachePool:lp()}}function Rd(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=pr),e}function bv(e,t,i){var u=t.pendingProps,c=!1,h=(t.flags&128)!==0,E;if((E=h)||(E=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),E&&(c=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(c?al(t):ul(),ht){var x=Lt,M;if(M=x){e:{for(M=x,x=qr;M.nodeType!==8;){if(!x){x=null;break e}if(M=Dr(M.nextSibling),M===null){x=null;break e}}x=M}x!==null?(t.memoizedState={dehydrated:x,treeContext:Wl!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},M=Qn(18,null,null,0),M.stateNode=x,M.return=t,t.child=M,Mn=t,Lt=null,M=!0):M=!1}M||na(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return yh(x)?t.lanes=32:t.lanes=536870912,null;gi(t)}return x=u.children,u=u.fallback,c?(ul(),c=t.mode,x=yc({mode:"hidden",children:x},c),u=Pl(u,c,i,null),x.return=t,u.return=t,x.sibling=u,t.child=x,c=t.child,c.memoizedState=Cd(i),c.childLanes=Rd(e,E,i),t.memoizedState=Dd,u):(al(t),Ud(t,x))}if(M=e.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(h)t.flags&256?(al(t),t.flags&=-257,t=Md(e,t,i)):t.memoizedState!==null?(ul(),t.child=e.child,t.flags|=128,t=null):(ul(),c=u.fallback,x=t.mode,u=yc({mode:"visible",children:u.children},x),c=Pl(c,x,i,null),c.flags|=2,u.return=t,c.return=t,u.sibling=c,t.child=u,$a(t,e.child,null,i),u=t.child,u.memoizedState=Cd(i),u.childLanes=Rd(e,E,i),t.memoizedState=Dd,t=c);else if(al(t),yh(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var Z=E.dgst;E=Z,u=Error(a(419)),u.stack="",u.digest=E,fs({value:u,source:null,stack:null}),t=Md(e,t,i)}else if(un||ds(e,t,i,!1),E=(i&e.childLanes)!==0,un||E){if(E=Dt,E!==null&&(u=i&-i,u=(u&42)!==0?1:Lu(u),u=(u&(E.suspendedLanes|i))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Nt(e,u),Pn(E,e,u),cv;x.data==="$?"||Fd(),t=Md(e,t,i)}else x.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Lt=Dr(x.nextSibling),Mn=t,ht=!0,ta=null,qr=!1,e!==null&&(dr[hr++]=di,dr[hr++]=hi,dr[hr++]=Wl,di=e.id,hi=e.overflow,Wl=t),t=Ud(t,u.children),t.flags|=4096);return t}return c?(ul(),c=u.fallback,x=t.mode,M=e.child,Z=M.sibling,u=fi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Z!==null?c=fi(Z,c):(c=Pl(c,x,i,null),c.flags|=2),c.return=t,u.return=t,u.sibling=c,t.child=u,u=c,c=t.child,x=e.child.memoizedState,x===null?x=Cd(i):(M=x.cachePool,M!==null?(Z=Ft._currentValue,M=M.parent!==Z?{parent:Z,pool:Z}:M):M=lp(),x={baseLanes:x.baseLanes|i,cachePool:M}),c.memoizedState=x,c.childLanes=Rd(e,E,i),t.memoizedState=Dd,u):(al(t),i=e.child,e=i.sibling,i=fi(i,{mode:"visible",children:u.children}),i.return=t,i.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=i,t.memoizedState=null,i)}function Ud(e,t){return t=yc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yc(e,t){return e=Qn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Md(e,t,i){return $a(t,e.child,null,i),e=Ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _v(e,t,i){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Ff(e.return,t,i)}function jd(e,t,i,u,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=i,h.tailMode=c)}function wv(e,t,i){var u=t.pendingProps,c=u.revealOrder,h=u.tail;if(dn(e,t,u.children,i),u=Pt.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_v(e,i,t);else if(e.tag===19)_v(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(fe(Pt,u),c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&cc(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),jd(t,!1,c,i,h);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&cc(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}jd(t,!0,i,null,h);break;case"together":jd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),dl|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ds(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=fi(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=fi(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Nd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zo(e)))}function J_(e,t,i){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),tl(t,Ft,e.memoizedState.cache),cs();break;case 27:case 5:gt(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(al(t),t.flags|=128,null):(i&t.child.childLanes)!==0?bv(e,t,i):(al(t),e=mi(e,t,i),e!==null?e.sibling:null);al(t);break;case 19:var c=(e.flags&128)!==0;if(u=(i&t.childLanes)!==0,u||(ds(e,t,i,!1),u=(i&t.childLanes)!==0),c){if(u)return wv(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),fe(Pt,Pt.current),u)break;return null;case 22:case 23:return t.lanes=0,yv(e,t,i);case 24:tl(t,Ft,e.memoizedState.cache)}return mi(e,t,i)}function Sv(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)un=!0;else{if(!Nd(e,i)&&(t.flags&128)===0)return un=!1,J_(e,t,i);un=(e.flags&131072)!==0}else un=!1,ht&&(t.flags&1048576)!==0&&Py(t,Qo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var u=t.elementType,c=u._init;if(u=c(u._payload),t.type=u,typeof u=="function")Gf(u)?(e=ua(u,e),t.tag=1,t=gv(null,t,u,e,i)):(t.tag=0,t=kd(null,t,u,e,i));else{if(u!=null){if(c=u.$$typeof,c===_e){t.tag=11,t=fv(null,t,u,e,i);break e}else if(c===Te){t.tag=14,t=dv(null,t,u,e,i);break e}}throw t=Xe(u)||u,Error(a(306,t,""))}}return t;case 0:return kd(e,t,t.type,t.pendingProps,i);case 1:return u=t.type,c=ua(u,t.pendingProps),gv(e,t,u,c,i);case 3:e:{if(Ie(t,t.stateNode.containerInfo),e===null)throw Error(a(387));u=t.pendingProps;var h=t.memoizedState;c=h.element,id(e,t),bs(t,u,null,i);var E=t.memoizedState;if(u=E.cache,tl(t,Ft,u),u!==h.cache&&Pf(t,[Ft],i,!0),ms(),u=E.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=mv(e,t,u,i);break e}else if(u!==c){c=be(Error(a(424)),t),fs(c),t=mv(e,t,u,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=Dr(e.firstChild),Mn=t,ht=!0,ta=null,qr=!0,i=ev(t,null,u,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(cs(),u===c){t=mi(e,t,i);break e}dn(e,t,u,i)}t=t.child}return t;case 26:return hc(e,t),e===null?(i=Tg(t.type,null,t.pendingProps,null))?t.memoizedState=i:ht||(i=t.type,e=t.pendingProps,u=kc(ke.current).createElement(i),u[Kt]=t,u[et]=e,yn(u,i,e),Ot(u),t.stateNode=u):t.memoizedState=Tg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gt(t),e===null&&ht&&(u=t.stateNode=Eg(t.type,t.pendingProps,ke.current),Mn=t,qr=!0,c=Lt,vl(t.type)?(ph=c,Lt=Dr(u.firstChild)):Lt=c),dn(e,t,t.pendingProps.children,i),hc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((c=u=Lt)&&(u=Ew(u,t.type,t.pendingProps,qr),u!==null?(t.stateNode=u,Mn=t,Lt=Dr(u.firstChild),qr=!1,c=!0):c=!1),c||na(t)),gt(t),c=t.type,h=t.pendingProps,E=e!==null?e.memoizedProps:null,u=h.children,fh(c,h)?u=null:E!==null&&fh(c,E)&&(t.flags|=32),t.memoizedState!==null&&(c=cd(e,t,K_,null,null,i),Ks._currentValue=c),hc(e,t),dn(e,t,u,i),t.child;case 6:return e===null&&ht&&((e=i=Lt)&&(i=Aw(i,t.pendingProps,qr),i!==null?(t.stateNode=i,Mn=t,Lt=null,e=!0):e=!1),e||na(t)),null;case 13:return bv(e,t,i);case 4:return Ie(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=$a(t,null,u,i):dn(e,t,u,i),t.child;case 11:return fv(e,t,t.type,t.pendingProps,i);case 7:return dn(e,t,t.pendingProps,i),t.child;case 8:return dn(e,t,t.pendingProps.children,i),t.child;case 12:return dn(e,t,t.pendingProps.children,i),t.child;case 10:return u=t.pendingProps,tl(t,t.type,u.value),dn(e,t,u.children,i),t.child;case 9:return c=t.type._context,u=t.pendingProps.children,ia(t),c=Sn(c),u=u(c),t.flags|=1,dn(e,t,u,i),t.child;case 14:return dv(e,t,t.type,t.pendingProps,i);case 15:return hv(e,t,t.type,t.pendingProps,i);case 19:return wv(e,t,i);case 31:return u=t.pendingProps,i=t.mode,u={mode:u.mode,children:u.children},e===null?(i=yc(u,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=fi(e.child,u),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return yv(e,t,i);case 24:return ia(t),u=Sn(Ft),e===null?(c=td(),c===null&&(c=Dt,h=Wf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),t.memoizedState={parent:u,cache:c},rd(t),tl(t,Ft,c)):((e.lanes&i)!==0&&(id(e,t),bs(t,null,null,i),ms()),c=e.memoizedState,h=t.memoizedState,c.parent!==u?(c={parent:u,cache:u},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),tl(t,Ft,u)):(u=h.cache,tl(t,Ft,u),u!==c.cache&&Pf(t,[Ft],i,!0))),dn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function bi(e){e.flags|=4}function Ev(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rg(t)){if(t=yr.current,t!==null&&((ct&4194048)===ct?Hr!==null:(ct&62914560)!==ct&&(ct&536870912)===0||t!==Hr))throw vs=nd,ap;e.flags|=8192}}function pc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ae():536870912,e.lanes|=t,eu|=t)}function Ts(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,u|=c.subtreeFlags&65011712,u|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=i,t}function $_(e,t,i){var u=t.pendingProps;switch(Zf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return zt(t),null;case 3:return i=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),pi(Ft),Se(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(os(t)?bi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tp())),zt(t),null;case 26:return i=t.memoizedState,e===null?(bi(t),i!==null?(zt(t),Ev(t,i)):(zt(t),t.flags&=-16777217)):i?i!==e.memoizedState?(bi(t),zt(t),Ev(t,i)):(zt(t),t.flags&=-16777217):(e.memoizedProps!==u&&bi(t),zt(t),t.flags&=-16777217),null;case 27:Ct(t),i=ke.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(!u){if(t.stateNode===null)throw Error(a(166));return zt(t),null}e=xe.current,os(t)?Wy(t):(e=Eg(c,u,i),t.stateNode=e,bi(t))}return zt(t),null;case 5:if(Ct(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(!u){if(t.stateNode===null)throw Error(a(166));return zt(t),null}if(e=xe.current,os(t))Wy(t);else{switch(c=kc(ke.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?c.createElement("select",{is:u.is}):c.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?c.createElement(i,{is:u.is}):c.createElement(i)}}e[Kt]=t,e[et]=u;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(yn(e,i,u),i){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&bi(t)}}return zt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&bi(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(a(166));if(e=ke.current,os(t)){if(e=t.stateNode,i=t.memoizedProps,u=null,c=Mn,c!==null)switch(c.tag){case 27:case 5:u=c.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||vg(e.nodeValue,i)),e||na(t)}else e=kc(e).createTextNode(u),e[Kt]=t,t.stateNode=e}return zt(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=os(t),u!==null&&u.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Kt]=t}else cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zt(t),c=!1}else c=tp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(gi(t),t):(gi(t),null)}if(gi(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=u!==null,e=e!==null&&e.memoizedState!==null,i){u=t.child,c=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(c=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==c&&(u.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),pc(t,t.updateQueue),zt(t),null;case 4:return Se(),e===null&&ah(t.stateNode.containerInfo),zt(t),null;case 10:return pi(t.type),zt(t),null;case 19:if(le(Pt),c=t.memoizedState,c===null)return zt(t),null;if(u=(t.flags&128)!==0,h=c.rendering,h===null)if(u)Ts(c,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=cc(e),h!==null){for(t.flags|=128,Ts(c,!1),e=h.updateQueue,t.updateQueue=e,pc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Fy(i,e),i=i.sibling;return fe(Pt,Pt.current&1|2),t.child}e=e.sibling}c.tail!==null&&ln()>mc&&(t.flags|=128,u=!0,Ts(c,!1),t.lanes=4194304)}else{if(!u)if(e=cc(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,pc(t,e),Ts(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!ht)return zt(t),null}else 2*ln()-c.renderingStartTime>mc&&i!==536870912&&(t.flags|=128,u=!0,Ts(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(e=c.last,e!==null?e.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ln(),t.sibling=null,e=Pt.current,fe(Pt,u?e&1|2:e&1),t):(zt(t),null);case 22:case 23:return gi(t),sd(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(i&536870912)!==0&&(t.flags&128)===0&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),i=t.updateQueue,i!==null&&pc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==i&&(t.flags|=2048),e!==null&&le(la),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pi(Ft),zt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function F_(e,t){switch(Zf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(Ft),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ct(t),null;case 13:if(gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(Pt),null;case 4:return Se(),null;case 10:return pi(t.type),null;case 22:case 23:return gi(t),sd(),e!==null&&le(la),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pi(Ft),null;case 25:return null;default:return null}}function Av(e,t){switch(Zf(t),t.tag){case 3:pi(Ft),Se();break;case 26:case 27:case 5:Ct(t);break;case 4:Se();break;case 13:gi(t);break;case 19:le(Pt);break;case 10:pi(t.type);break;case 22:case 23:gi(t),sd(),e!==null&&le(la);break;case 24:pi(Ft)}}function xs(e,t){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var c=u.next;i=c;do{if((i.tag&e)===e){u=void 0;var h=i.create,E=i.inst;u=h(),E.destroy=u}i=i.next}while(i!==c)}}catch(x){xt(t,t.return,x)}}function sl(e,t,i){try{var u=t.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var h=c.next;u=h;do{if((u.tag&e)===e){var E=u.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,c=t;var M=i,Z=x;try{Z()}catch(ie){xt(c,M,ie)}}}u=u.next}while(u!==h)}}catch(ie){xt(t,t.return,ie)}}function Ov(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{dp(t,i)}catch(u){xt(e,e.return,u)}}}function Tv(e,t,i){i.props=ua(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(u){xt(e,t,u)}}function ks(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(c){xt(e,t,c)}}function Kr(e,t){var i=e.ref,u=e.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(c){xt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){xt(e,t,c)}else i.current=null}function xv(e){var t=e.type,i=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(c){xt(e,e.return,c)}}function zd(e,t,i){try{var u=e.stateNode;mw(u,e.type,i,t),u[et]=t}catch(c){xt(e,e.return,c)}}function kv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vl(e.type)||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ld(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=xc));else if(u!==4&&(u===27&&vl(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ld(e,t,i),e=e.sibling;e!==null;)Ld(e,t,i),e=e.sibling}function vc(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(u!==4&&(u===27&&vl(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(vc(e,t,i),e=e.sibling;e!==null;)vc(e,t,i),e=e.sibling}function Dv(e){var t=e.stateNode,i=e.memoizedProps;try{for(var u=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);yn(t,u,i),t[Kt]=e,t[et]=i}catch(h){xt(e,e.return,h)}}var _i=!1,Gt=!1,qd=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function P_(e,t){if(e=e.containerInfo,oh=jc,e=_(e),S(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var E=0,x=-1,M=-1,Z=0,ie=0,ue=e,F=null;t:for(;;){for(var P;ue!==i||c!==0&&ue.nodeType!==3||(x=E+c),ue!==h||u!==0&&ue.nodeType!==3||(M=E+u),ue.nodeType===3&&(E+=ue.nodeValue.length),(P=ue.firstChild)!==null;)F=ue,ue=P;for(;;){if(ue===e)break t;if(F===i&&++Z===c&&(x=E),F===h&&++ie===u&&(M=E),(P=ue.nextSibling)!==null)break;ue=F,F=ue.parentNode}ue=P}i=x===-1||M===-1?null:{start:x,end:M}}else i=null}i=i||{start:0,end:0}}else i=null;for(ch={focusedElem:e,selectionRange:i},jc=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,c=h.memoizedProps,h=h.memoizedState,u=i.stateNode;try{var Ge=ua(i.type,c,i.elementType===i.type);e=u.getSnapshotBeforeUpdate(Ge,h),u.__reactInternalSnapshotBeforeUpdate=e}catch(qe){xt(i,i.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)hh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function Rv(e,t,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:ol(e,i),u&4&&xs(5,i);break;case 1:if(ol(e,i),u&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(E){xt(i,i.return,E)}else{var c=ua(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){xt(i,i.return,E)}}u&64&&Ov(i),u&512&&ks(i,i.return);break;case 3:if(ol(e,i),u&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{dp(e,t)}catch(E){xt(i,i.return,E)}}break;case 27:t===null&&u&4&&Dv(i);case 26:case 5:ol(e,i),t===null&&u&4&&xv(i),u&512&&ks(i,i.return);break;case 12:ol(e,i);break;case 13:ol(e,i),u&4&&jv(e,i),u&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=uw.bind(null,i),Ow(e,i))));break;case 22:if(u=i.memoizedState!==null||_i,!u){t=t!==null&&t.memoizedState!==null||Gt,c=_i;var h=Gt;_i=u,(Gt=t)&&!h?cl(e,i,(i.subtreeFlags&8772)!==0):ol(e,i),_i=c,Gt=h}break;case 30:break;default:ol(e,i)}}function Uv(e){var t=e.alternate;t!==null&&(e.alternate=null,Uv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Bn=!1;function wi(e,t,i){for(i=i.child;i!==null;)Mv(e,t,i),i=i.sibling}function Mv(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,i)}catch{}switch(i.tag){case 26:Gt||Kr(i,t),wi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Gt||Kr(i,t);var u=Mt,c=Bn;vl(i.type)&&(Mt=i.stateNode,Bn=!1),wi(e,t,i),Bs(i.stateNode),Mt=u,Bn=c;break;case 5:Gt||Kr(i,t);case 6:if(u=Mt,c=Bn,Mt=null,wi(e,t,i),Mt=u,Bn=c,Mt!==null)if(Bn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(i.stateNode)}catch(h){xt(i,t,h)}else try{Mt.removeChild(i.stateNode)}catch(h){xt(i,t,h)}break;case 18:Mt!==null&&(Bn?(e=Mt,wg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Xs(e)):wg(Mt,i.stateNode));break;case 4:u=Mt,c=Bn,Mt=i.stateNode.containerInfo,Bn=!0,wi(e,t,i),Mt=u,Bn=c;break;case 0:case 11:case 14:case 15:Gt||sl(2,i,t),Gt||sl(4,i,t),wi(e,t,i);break;case 1:Gt||(Kr(i,t),u=i.stateNode,typeof u.componentWillUnmount=="function"&&Tv(i,t,u)),wi(e,t,i);break;case 21:wi(e,t,i);break;case 22:Gt=(u=Gt)||i.memoizedState!==null,wi(e,t,i),Gt=u;break;default:wi(e,t,i)}}function jv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xs(e)}catch(i){xt(t,t.return,i)}}function W_(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cv),t;default:throw Error(a(435,e.tag))}}function Hd(e,t){var i=W_(e);t.forEach(function(u){var c=sw.bind(null,e,u);i.has(u)||(i.add(u),u.then(c,c))})}function Zn(e,t){var i=t.deletions;if(i!==null)for(var u=0;u<i.length;u++){var c=i[u],h=e,E=t,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(vl(x.type)){Mt=x.stateNode,Bn=!1;break e}break;case 5:Mt=x.stateNode,Bn=!1;break e;case 3:case 4:Mt=x.stateNode.containerInfo,Bn=!0;break e}x=x.return}if(Mt===null)throw Error(a(160));Mv(h,E,c),Mt=null,Bn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Nv(t,e),t=t.sibling}var kr=null;function Nv(e,t){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zn(t,e),Jn(e),u&4&&(sl(3,e,e.return),xs(3,e),sl(5,e,e.return));break;case 1:Zn(t,e),Jn(e),u&512&&(Gt||i===null||Kr(i,i.return)),u&64&&_i&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var c=kr;if(Zn(t,e),Jn(e),u&512&&(Gt||i===null||Kr(i,i.return)),u&4){var h=i!==null?i.memoizedState:null;if(u=e.memoizedState,i===null)if(u===null)if(e.stateNode===null){e:{u=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(u){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Bl]||h[Kt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(u),c.head.insertBefore(h,c.querySelector("head > title"))),yn(h,u,i),h[Kt]=e,Ot(h),u=h;break e;case"link":var E=Dg("link","href",c).get(u+(i.href||""));if(E){for(var x=0;x<E.length;x++)if(h=E[x],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){E.splice(x,1);break t}}h=c.createElement(u),yn(h,u,i),c.head.appendChild(h);break;case"meta":if(E=Dg("meta","content",c).get(u+(i.content||""))){for(x=0;x<E.length;x++)if(h=E[x],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){E.splice(x,1);break t}}h=c.createElement(u),yn(h,u,i),c.head.appendChild(h);break;default:throw Error(a(468,u))}h[Kt]=e,Ot(h),u=h}e.stateNode=u}else Cg(c,e.type,e.stateNode);else e.stateNode=kg(c,u,e.memoizedProps);else h!==u?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,u===null?Cg(c,e.type,e.stateNode):kg(c,u,e.memoizedProps)):u===null&&e.stateNode!==null&&zd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Zn(t,e),Jn(e),u&512&&(Gt||i===null||Kr(i,i.return)),i!==null&&u&4&&zd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Zn(t,e),Jn(e),u&512&&(Gt||i===null||Kr(i,i.return)),e.flags&32){c=e.stateNode;try{ii(c,"")}catch(P){xt(e,e.return,P)}}u&4&&e.stateNode!=null&&(c=e.memoizedProps,zd(e,c,i!==null?i.memoizedProps:c)),u&1024&&(qd=!0);break;case 6:if(Zn(t,e),Jn(e),u&4){if(e.stateNode===null)throw Error(a(162));u=e.memoizedProps,i=e.stateNode;try{i.nodeValue=u}catch(P){xt(e,e.return,P)}}break;case 3:if(Rc=null,c=kr,kr=Dc(t.containerInfo),Zn(t,e),kr=c,Jn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(P){xt(e,e.return,P)}qd&&(qd=!1,zv(e));break;case 4:u=kr,kr=Dc(e.stateNode.containerInfo),Zn(t,e),Jn(e),kr=u;break;case 12:Zn(t,e),Jn(e);break;case 13:Zn(t,e),Jn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Id=ln()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hd(e,u)));break;case 22:c=e.memoizedState!==null;var M=i!==null&&i.memoizedState!==null,Z=_i,ie=Gt;if(_i=Z||c,Gt=ie||M,Zn(t,e),Gt=ie,_i=Z,Jn(e),u&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||M||_i||Gt||sa(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){M=i=t;try{if(h=M.stateNode,c)E=h.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=M.stateNode;var ue=M.memoizedProps.style,F=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(P){xt(M,M.return,P)}}}else if(t.tag===6){if(i===null){M=t;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(P){xt(M,M.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,Hd(e,i))));break;case 19:Zn(t,e),Jn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hd(e,u)));break;case 30:break;case 21:break;default:Zn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{for(var i,u=e.return;u!==null;){if(kv(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,h=Bd(e);vc(e,h,c);break;case 5:var E=i.stateNode;i.flags&32&&(ii(E,""),i.flags&=-33);var x=Bd(e);vc(e,x,E);break;case 3:case 4:var M=i.stateNode.containerInfo,Z=Bd(e);Ld(e,Z,M);break;default:throw Error(a(161))}}catch(ie){xt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ol(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rv(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),sa(t);break;case 1:Kr(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Tv(t,t.return,i),sa(t);break;case 27:Bs(t.stateNode);case 26:case 5:Kr(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function cl(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,c=e,h=t,E=h.flags;switch(h.tag){case 0:case 11:case 15:cl(c,h,i),xs(4,h);break;case 1:if(cl(c,h,i),u=h,c=u.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){xt(u,u.return,Z)}if(u=h,c=u.updateQueue,c!==null){var x=u.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)fp(M[c],x)}catch(Z){xt(u,u.return,Z)}}i&&E&64&&Ov(h),ks(h,h.return);break;case 27:Dv(h);case 26:case 5:cl(c,h,i),i&&u===null&&E&4&&xv(h),ks(h,h.return);break;case 12:cl(c,h,i);break;case 13:cl(c,h,i),i&&E&4&&jv(c,h);break;case 22:h.memoizedState===null&&cl(c,h,i),ks(h,h.return);break;case 30:break;default:cl(c,h,i)}t=t.sibling}}function Kd(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&hs(i))}function Yd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e))}function Yr(e,t,i,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bv(e,t,i,u),t=t.sibling}function Bv(e,t,i,u){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Yr(e,t,i,u),c&2048&&xs(9,t);break;case 1:Yr(e,t,i,u);break;case 3:Yr(e,t,i,u),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e)));break;case 12:if(c&2048){Yr(e,t,i,u),e=t.stateNode;try{var h=t.memoizedProps,E=h.id,x=h.onPostCommit;typeof x=="function"&&x(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){xt(t,t.return,M)}}else Yr(e,t,i,u);break;case 13:Yr(e,t,i,u);break;case 23:break;case 22:h=t.stateNode,E=t.alternate,t.memoizedState!==null?h._visibility&2?Yr(e,t,i,u):Ds(e,t):h._visibility&2?Yr(e,t,i,u):(h._visibility|=2,Fa(e,t,i,u,(t.subtreeFlags&10256)!==0)),c&2048&&Kd(E,t);break;case 24:Yr(e,t,i,u),c&2048&&Yd(t.alternate,t);break;default:Yr(e,t,i,u)}}function Fa(e,t,i,u,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,E=t,x=i,M=u,Z=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(h,E,x,M,c),xs(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Fa(h,E,x,M,c):Ds(h,E):(ie._visibility|=2,Fa(h,E,x,M,c)),c&&Z&2048&&Kd(E.alternate,E);break;case 24:Fa(h,E,x,M,c),c&&Z&2048&&Yd(E.alternate,E);break;default:Fa(h,E,x,M,c)}t=t.sibling}}function Ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,u=t,c=u.flags;switch(u.tag){case 22:Ds(i,u),c&2048&&Kd(u.alternate,u);break;case 24:Ds(i,u),c&2048&&Yd(u.alternate,u);break;default:Ds(i,u)}t=t.sibling}}var Cs=8192;function Pa(e){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)Lv(e),e=e.sibling}function Lv(e){switch(e.tag){case 26:Pa(e),e.flags&Cs&&e.memoizedState!==null&&Lw(kr,e.memoizedState,e.memoizedProps);break;case 5:Pa(e);break;case 3:case 4:var t=kr;kr=Dc(e.stateNode.containerInfo),Pa(e),kr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Cs,Cs=16777216,Pa(e),Cs=t):Pa(e));break;default:Pa(e)}}function qv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var u=t[i];sn=u,Kv(u,e)}qv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hv(e),e=e.sibling}function Hv(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&sl(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gc(e)):Rs(e);break;default:Rs(e)}}function gc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var u=t[i];sn=u,Kv(u,e)}qv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sl(8,t,t.return),gc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,gc(t));break;default:gc(t)}e=e.sibling}}function Kv(e,t){for(;sn!==null;){var i=sn;switch(i.tag){case 0:case 11:case 15:sl(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hs(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,sn=u;else e:for(i=e;sn!==null;){u=sn;var c=u.sibling,h=u.return;if(Uv(u),u===i){sn=null;break e}if(c!==null){c.return=h,sn=c;break e}sn=h}}}var ew={getCacheForType:function(e){var t=Sn(Ft),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},tw=typeof WeakMap=="function"?WeakMap:Map,mt=0,Dt=null,it=null,ct=0,bt=0,$n=null,fl=!1,Wa=!1,Vd=!1,Si=0,qt=0,dl=0,oa=0,Gd=0,pr=0,eu=0,Us=null,Ln=null,Xd=!1,Id=0,mc=1/0,bc=null,hl=null,hn=0,yl=null,tu=null,nu=0,Qd=0,Zd=null,Yv=null,Ms=0,Jd=null;function Fn(){if((mt&2)!==0&&ct!==0)return ct&-ct;if(B.T!==null){var e=Va;return e!==0?e:nh()}return ti()}function Vv(){pr===0&&(pr=(ct&536870912)===0||ht?jl():536870912);var e=yr.current;return e!==null&&(e.flags|=32),pr}function Pn(e,t,i){(e===Dt&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(ru(e,0),pl(e,ct,pr,!1)),Bi(e,i),((mt&2)===0||e!==Dt)&&(e===Dt&&((mt&2)===0&&(oa|=i),qt===4&&pl(e,ct,pr,!1)),Vr(e))}function Gv(e,t,i){if((mt&6)!==0)throw Error(a(327));var u=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Er(e,t),c=u?iw(e,t):Pd(e,t,!0),h=u;do{if(c===0){Wa&&!u&&pl(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!nw(i)){c=Pd(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var x=e;c=Us;var M=x.current.memoizedState.isDehydrated;if(M&&(ru(x,E).flags|=256),E=Pd(x,E,!1),E!==2){if(Vd&&!M){x.errorRecoveryDisabledLanes|=h,oa|=h,c=4;break e}h=Ln,Ln=c,h!==null&&(Ln===null?Ln=h:Ln.push.apply(Ln,h))}c=E}if(h=!1,c!==2)continue}}if(c===1){ru(e,0),pl(e,t,0,!0);break}e:{switch(u=e,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:pl(u,t,pr,!fl);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(c=Id+300-ln(),10<c)){if(pl(u,t,pr,!fl),Re(u,0,!0)!==0)break e;u.timeoutHandle=bg(Xv.bind(null,u,i,Ln,bc,Xd,t,pr,oa,eu,fl,h,2,-0,0),c);break e}Xv(u,i,Ln,bc,Xd,t,pr,oa,eu,fl,h,0,-0,0)}}break}while(!0);Vr(e)}function Xv(e,t,i,u,c,h,E,x,M,Z,ie,ue,F,P){if(e.timeoutHandle=-1,ue=t.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Hs={stylesheets:null,count:0,unsuspend:Bw},Lv(t),ue=qw(),ue!==null)){e.cancelPendingCommit=ue(Pv.bind(null,e,t,h,i,u,c,E,x,M,ie,1,F,P)),pl(e,h,E,!Z);return}Pv(e,t,h,i,u,c,E,x,M)}function nw(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var c=i[u],h=c.getSnapshot;c=c.value;try{if(!Bt(h(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pl(e,t,i,u){t&=~Gd,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var c=t;0<c;){var h=31-Jt(c),E=1<<h;u[h]=-1,c&=~E}i!==0&&Bu(e,i,t)}function _c(){return(mt&6)===0?(js(0),!1):!0}function $d(){if(it!==null){if(bt===0)var e=it.return;else e=it,yi=ra=null,hd(e),Ja=null,As=0,e=it;for(;e!==null;)Av(e.alternate,e),e=e.return;it=null}}function ru(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,_w(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),$d(),Dt=e,it=i=fi(e.current,null),ct=t,bt=0,$n=null,fl=!1,Wa=Er(e,t),Vd=!1,eu=pr=Gd=oa=dl=qt=0,Ln=Us=null,Xd=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var c=31-Jt(u),h=1<<c;t|=e[c],u&=~h}return Si=t,Tt(),i}function Iv(e,t){tt=null,B.H=uc,t===ps||t===Fo?(t=op(),bt=3):t===ap?(t=op(),bt=4):bt=t===cv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$n=t,it===null&&(qt=1,dc(e,be(t,e.current)))}function Qv(){var e=B.H;return B.H=uc,e===null?uc:e}function Zv(){var e=B.A;return B.A=ew,e}function Fd(){qt=4,fl||(ct&4194048)!==ct&&yr.current!==null||(Wa=!0),(dl&134217727)===0&&(oa&134217727)===0||Dt===null||pl(Dt,ct,pr,!1)}function Pd(e,t,i){var u=mt;mt|=2;var c=Qv(),h=Zv();(Dt!==e||ct!==t)&&(bc=null,ru(e,t)),t=!1;var E=qt;e:do try{if(bt!==0&&it!==null){var x=it,M=$n;switch(bt){case 8:$d(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(t=!0);var Z=bt;if(bt=0,$n=null,iu(e,x,M,Z),i&&Wa){E=0;break e}break;default:Z=bt,bt=0,$n=null,iu(e,x,M,Z)}}rw(),E=qt;break}catch(ie){Iv(e,ie)}while(!0);return t&&e.shellSuspendCounter++,yi=ra=null,mt=u,B.H=c,B.A=h,it===null&&(Dt=null,ct=0,Tt()),E}function rw(){for(;it!==null;)Jv(it)}function iw(e,t){var i=mt;mt|=2;var u=Qv(),c=Zv();Dt!==e||ct!==t?(bc=null,mc=ln()+500,ru(e,t)):Wa=Er(e,t);e:do try{if(bt!==0&&it!==null){t=it;var h=$n;t:switch(bt){case 1:bt=0,$n=null,iu(e,t,h,1);break;case 2:case 9:if(up(h)){bt=0,$n=null,$v(t);break}t=function(){bt!==2&&bt!==9||Dt!==e||(bt=7),Vr(e)},h.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:up(h)?(bt=0,$n=null,$v(t)):(bt=0,$n=null,iu(e,t,h,7));break;case 5:var E=null;switch(it.tag){case 26:E=it.memoizedState;case 5:case 27:var x=it;if(!E||Rg(E)){bt=0,$n=null;var M=x.sibling;if(M!==null)it=M;else{var Z=x.return;Z!==null?(it=Z,wc(Z)):it=null}break t}}bt=0,$n=null,iu(e,t,h,5);break;case 6:bt=0,$n=null,iu(e,t,h,6);break;case 8:$d(),qt=6;break e;default:throw Error(a(462))}}lw();break}catch(ie){Iv(e,ie)}while(!0);return yi=ra=null,B.H=u,B.A=c,mt=i,it!==null?0:(Dt=null,ct=0,Tt(),qt)}function lw(){for(;it!==null&&!pt();)Jv(it)}function Jv(e){var t=Sv(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?wc(e):it=t}function $v(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=vv(i,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=vv(i,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:hd(t);default:Av(i,t),t=it=Fy(t,Si),t=Sv(i,t,Si)}e.memoizedProps=e.pendingProps,t===null?wc(e):it=t}function iu(e,t,i,u){yi=ra=null,hd(t),Ja=null,As=0;var c=t.return;try{if(Z_(e,c,t,i,ct)){qt=1,dc(e,be(i,e.current)),it=null;return}}catch(h){if(c!==null)throw it=c,h;qt=1,dc(e,be(i,e.current)),it=null;return}t.flags&32768?(ht||u===1?e=!0:Wa||(ct&536870912)!==0?e=!1:(fl=e=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fv(t,e)):wc(t)}function wc(e){var t=e;do{if((t.flags&32768)!==0){Fv(t,fl);return}e=t.return;var i=$_(t.alternate,t,Si);if(i!==null){it=i;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);qt===0&&(qt=5)}function Fv(e,t){do{var i=F_(e.alternate,e);if(i!==null){i.flags&=32767,it=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=i}while(e!==null);qt=6,it=null}function Pv(e,t,i,u,c,h,E,x,M){e.cancelPendingCommit=null;do Sc();while(hn!==0);if((mt&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(h=t.lanes|t.childLanes,h|=Ve,zu(e,i,h,E,x,M),e===Dt&&(it=Dt=null,ct=0),tu=t,yl=e,nu=i,Qd=h,Zd=c,Yv=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ow(kn,function(){return rg(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,c=te.p,te.p=2,E=mt,mt|=4;try{P_(e,t,i)}finally{mt=E,te.p=c,B.T=u}}hn=1,Wv(),eg(),tg()}}function Wv(){if(hn===1){hn=0;var e=yl,t=tu,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var u=te.p;te.p=2;var c=mt;mt|=4;try{Nv(t,e);var h=ch,E=_(e.containerInfo),x=h.focusedElem,M=h.selectionRange;if(E!==x&&x&&x.ownerDocument&&g(x.ownerDocument.documentElement,x)){if(M!==null&&S(x)){var Z=M.start,ie=M.end;if(ie===void 0&&(ie=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(ie,x.value.length);else{var ue=x.ownerDocument||document,F=ue&&ue.defaultView||window;if(F.getSelection){var P=F.getSelection(),Ge=x.textContent.length,qe=Math.min(M.start,Ge),Et=M.end===void 0?qe:Math.min(M.end,Ge);!P.extend&&qe>Et&&(E=Et,Et=qe,qe=E);var X=d(x,qe),L=d(x,Et);if(X&&L&&(P.rangeCount!==1||P.anchorNode!==X.node||P.anchorOffset!==X.offset||P.focusNode!==L.node||P.focusOffset!==L.offset)){var Q=ue.createRange();Q.setStart(X.node,X.offset),P.removeAllRanges(),qe>Et?(P.addRange(Q),P.extend(L.node,L.offset)):(Q.setEnd(L.node,L.offset),P.addRange(Q))}}}}for(ue=[],P=x;P=P.parentNode;)P.nodeType===1&&ue.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ue.length;x++){var ae=ue[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}jc=!!oh,ch=oh=null}finally{mt=c,te.p=u,B.T=i}}e.current=t,hn=2}}function eg(){if(hn===2){hn=0;var e=yl,t=tu,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var u=te.p;te.p=2;var c=mt;mt|=4;try{Rv(e,t.alternate,t)}finally{mt=c,te.p=u,B.T=i}}hn=3}}function tg(){if(hn===4||hn===3){hn=0,xn();var e=yl,t=tu,i=nu,u=Yv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,tu=yl=null,ng(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(hl=null),qu(i),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=B.T,c=te.p,te.p=2,B.T=null;try{for(var h=e.onRecoverableError,E=0;E<u.length;E++){var x=u[E];h(x.value,{componentStack:x.stack})}}finally{B.T=t,te.p=c}}(nu&3)!==0&&Sc(),Vr(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Jd?Ms++:(Ms=0,Jd=e):Ms=0,js(0)}}function ng(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hs(t)))}function Sc(e){return Wv(),eg(),tg(),rg()}function rg(){if(hn!==5)return!1;var e=yl,t=Qd;Qd=0;var i=qu(nu),u=B.T,c=te.p;try{te.p=32>i?32:i,B.T=null,i=Zd,Zd=null;var h=yl,E=nu;if(hn=0,tu=yl=null,nu=0,(mt&6)!==0)throw Error(a(331));var x=mt;if(mt|=4,Hv(h.current),Bv(h,h.current,E,i),mt=x,js(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,h)}catch{}return!0}finally{te.p=c,B.T=u,ng(e,t)}}function ig(e,t,i){t=be(i,t),t=xd(e.stateNode,t,2),e=il(e,t,2),e!==null&&(Bi(e,2),Vr(e))}function xt(e,t,i){if(e.tag===3)ig(e,e,i);else for(;t!==null;){if(t.tag===3){ig(t,e,i);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hl===null||!hl.has(u))){e=be(i,e),i=sv(2),u=il(t,i,2),u!==null&&(ov(i,u,t,e),Bi(u,2),Vr(u));break}}t=t.return}}function Wd(e,t,i){var u=e.pingCache;if(u===null){u=e.pingCache=new tw;var c=new Set;u.set(t,c)}else c=u.get(t),c===void 0&&(c=new Set,u.set(t,c));c.has(i)||(Vd=!0,c.add(i),e=aw.bind(null,e,t,i),t.then(e,e))}function aw(e,t,i){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Dt===e&&(ct&i)===i&&(qt===4||qt===3&&(ct&62914560)===ct&&300>ln()-Id?(mt&2)===0&&ru(e,0):Gd|=i,eu===ct&&(eu=0)),Vr(e)}function lg(e,t){t===0&&(t=Ae()),e=Nt(e,t),e!==null&&(Bi(e,t),Vr(e))}function uw(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),lg(e,i)}function sw(e,t){var i=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(t),lg(e,i)}function ow(e,t){return Pe(e,t)}var Ec=null,lu=null,eh=!1,Ac=!1,th=!1,ca=0;function Vr(e){e!==lu&&e.next===null&&(lu===null?Ec=lu=e:lu=lu.next=e),Ac=!0,eh||(eh=!0,fw())}function js(e,t){if(!th&&Ac){th=!0;do for(var i=!1,u=Ec;u!==null;){if(e!==0){var c=u.pendingLanes;if(c===0)var h=0;else{var E=u.suspendedLanes,x=u.pingedLanes;h=(1<<31-Jt(42|e)+1)-1,h&=c&~(E&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,og(u,h))}else h=ct,h=Re(u,u===Dt?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Er(u,h)||(i=!0,og(u,h));u=u.next}while(i);th=!1}}function cw(){ag()}function ag(){Ac=eh=!1;var e=0;ca!==0&&(bw()&&(e=ca),ca=0);for(var t=ln(),i=null,u=Ec;u!==null;){var c=u.next,h=ug(u,t);h===0?(u.next=null,i===null?Ec=c:i.next=c,c===null&&(lu=i)):(i=u,(e!==0||(h&3)!==0)&&(Ac=!0)),u=c}js(e)}function ug(e,t){for(var i=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var E=31-Jt(h),x=1<<E,M=c[E];M===-1?((x&i)===0||(x&u)!==0)&&(c[E]=ei(x,t)):M<=t&&(e.expiredLanes|=x),h&=~x}if(t=Dt,i=ct,i=Re(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,i===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&ut(u),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Er(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(u!==null&&ut(u),qu(i)){case 2:case 8:i=ba;break;case 32:i=kn;break;case 268435456:i=Ni;break;default:i=kn}return u=sg.bind(null,e),i=Pe(i,u),e.callbackPriority=t,e.callbackNode=i,t}return u!==null&&u!==null&&ut(u),e.callbackPriority=2,e.callbackNode=null,2}function sg(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Sc()&&e.callbackNode!==i)return null;var u=ct;return u=Re(e,e===Dt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Gv(e,u,t),ug(e,ln()),e.callbackNode!=null&&e.callbackNode===i?sg.bind(null,e):null)}function og(e,t){if(Sc())return null;Gv(e,t,!0)}function fw(){ww(function(){(mt&6)!==0?Pe(xo,cw):ag()})}function nh(){return ca===0&&(ca=jl()),ca}function cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Tr(""+e)}function fg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function dw(e,t,i,u,c){if(t==="submit"&&i&&i.stateNode===c){var h=cg((c[et]||null).action),E=u.submitter;E&&(t=(t=E[et]||null)?cg(t.formAction):E.getAttribute("formAction"),t!==null&&(h=t,E=null));var x=new xa("action","action",null,u,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ca!==0){var M=E?fg(c,E):new FormData(c);Sd(i,{pending:!0,data:M,method:c.method,action:h},null,M)}}else typeof h=="function"&&(x.preventDefault(),M=E?fg(c,E):new FormData(c),Sd(i,{pending:!0,data:M,method:c.method,action:h},h,M))},currentTarget:c}]})}}for(var rh=0;rh<ye.length;rh++){var ih=ye[rh],hw=ih.toLowerCase(),yw=ih[0].toUpperCase()+ih.slice(1);ge(hw,"on"+yw)}ge(G,"onAnimationEnd"),ge(I,"onAnimationIteration"),ge(ee,"onAnimationStart"),ge("dblclick","onDoubleClick"),ge("focusin","onFocus"),ge("focusout","onBlur"),ge(ne,"onTransitionRun"),ge(re,"onTransitionStart"),ge(de,"onTransitionCancel"),ge(me,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function dg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],c=u.event;u=u.listeners;e:{var h=void 0;if(t)for(var E=u.length-1;0<=E;E--){var x=u[E],M=x.instance,Z=x.currentTarget;if(x=x.listener,M!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=Z;try{h(c)}catch(ie){fc(ie)}c.currentTarget=null,h=M}else for(E=0;E<u.length;E++){if(x=u[E],M=x.instance,Z=x.currentTarget,x=x.listener,M!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=Z;try{h(c)}catch(ie){fc(ie)}c.currentTarget=null,h=M}}}}function lt(e,t){var i=t[Hu];i===void 0&&(i=t[Hu]=new Set);var u=e+"__bubble";i.has(u)||(hg(t,e,2,!1),i.add(u))}function lh(e,t,i){var u=0;t&&(u|=4),hg(i,e,u,t)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function ah(e){if(!e[Oc]){e[Oc]=!0,Ku.forEach(function(i){i!=="selectionchange"&&(pw.has(i)||lh(i,!1,e),lh(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oc]||(t[Oc]=!0,lh("selectionchange",!1,t))}}function hg(e,t,i,u){switch(Bg(t)){case 2:var c=Yw;break;case 8:c=Vw;break;default:c=_h}i=c.bind(null,t,i,e),c=void 0,!fr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function uh(e,t,i,u,c){var h=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var x=u.stateNode.containerInfo;if(x===c)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===c)return;E=E.return}for(;x!==null;){if(E=Yn(x),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=h=E;continue e}x=x.parentNode}}u=u.return}Xi(function(){var Z=h,ie=cr(i),ue=[];e:{var F=he.get(e);if(F!==void 0){var P=xa,Ge=e;switch(e){case"keypress":if(Lr(i)===0)break e;case"keydown":case"keyup":P=No;break;case"focusin":Ge="focus",P=Zi;break;case"focusout":Ge="blur",P=Zi;break;case"beforeblur":case"afterblur":P=Zi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ja;break;case G:case I:case ee:P=Ra;break;case me:P=si;break;case"scroll":case"scrollend":P=ka;break;case"wheel":P=ts;break;case"copy":case"cut":case"paste":P=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Pu;break;case"toggle":case"beforetoggle":P=ns}var qe=(t&4)!==0,Et=!qe&&(e==="scroll"||e==="scrollend"),X=qe?F!==null?F+"Capture":null:F;qe=[];for(var L=Z,Q;L!==null;){var ae=L;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||X===null||(ae=xr(L,X),ae!=null&&qe.push(zs(L,ae,Q))),Et)break;L=L.return}0<qe.length&&(F=new P(F,Ge,null,i,ie),ue.push({event:F,listeners:qe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",F&&i!==Gi&&(Ge=i.relatedTarget||i.fromElement)&&(Yn(Ge)||Ge[Rt]))break e;if((P||F)&&(F=ie.window===ie?ie:(F=ie.ownerDocument)?F.defaultView||F.parentWindow:window,P?(Ge=i.relatedTarget||i.toElement,P=Z,Ge=Ge?Yn(Ge):null,Ge!==null&&(Et=f(Ge),qe=Ge.tag,Ge!==Et||qe!==5&&qe!==27&&qe!==6)&&(Ge=null)):(P=null,Ge=Z),P!==Ge)){if(qe=Uo,ae="onMouseLeave",X="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Pu,ae="onPointerLeave",X="onPointerEnter",L="pointer"),Et=P==null?F:Rr(P),Q=Ge==null?F:Rr(Ge),F=new qe(ae,L+"leave",P,i,ie),F.target=Et,F.relatedTarget=Q,ae=null,Yn(ie)===Z&&(qe=new qe(X,L+"enter",Ge,i,ie),qe.target=Q,qe.relatedTarget=Et,ae=qe),Et=ae,P&&Ge)t:{for(qe=P,X=Ge,L=0,Q=qe;Q;Q=au(Q))L++;for(Q=0,ae=X;ae;ae=au(ae))Q++;for(;0<L-Q;)qe=au(qe),L--;for(;0<Q-L;)X=au(X),Q--;for(;L--;){if(qe===X||X!==null&&qe===X.alternate)break t;qe=au(qe),X=au(X)}qe=null}else qe=null;P!==null&&yg(ue,F,P,qe,!1),Ge!==null&&Et!==null&&yg(ue,Et,Ge,qe,!0)}}e:{if(F=Z?Rr(Z):window,P=F.nodeName&&F.nodeName.toLowerCase(),P==="select"||P==="input"&&F.type==="file")var Ce=Yo;else if(ls(F))if(Jl)Ce=us;else{Ce=Go;var nt=as}else P=F.nodeName,!P||P.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?Z&&Xu(Z.elementType)&&(Ce=Yo):Ce=ci;if(Ce&&(Ce=Ce(e,Z))){qa(ue,Ce,i,ie);break e}nt&&nt(e,F,Z),e==="focusout"&&Z&&F.type==="number"&&Z.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(nt=Z?Rr(Z):window,e){case"focusin":(ls(nt)||nt.contentEditable==="true")&&(D=nt,C=Z,N=null);break;case"focusout":N=C=D=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,Y(ue,i,ie);break;case"selectionchange":if(T)break;case"keydown":case"keyup":Y(ue,i,ie)}var Me;if(rs)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else $i?qo(e,i)&&(Ke="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ke="onCompositionStart");Ke&&(Lo&&i.locale!=="ko"&&($i||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&$i&&(Me=Ta()):($t=ie,Vl="value"in $t?$t.value:$t.textContent,$i=!0)),nt=Tc(Z,Ke),0<nt.length&&(Ke=new Ua(Ke,e,null,i,ie),ue.push({event:Ke,listeners:nt}),Me?Ke.data=Me:(Me=is(i),Me!==null&&(Ke.data=Me)))),(Me=za?Ho(e,i):Ko(e,i))&&(Ke=Tc(Z,"onBeforeInput"),0<Ke.length&&(nt=new Ua("onBeforeInput","beforeinput",null,i,ie),ue.push({event:nt,listeners:Ke}),nt.data=Me)),dw(ue,e,Z,i,ie)}dg(ue,t)})}function zs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Tc(e,t){for(var i=t+"Capture",u=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=xr(e,i),c!=null&&u.unshift(zs(e,c,h)),c=xr(e,t),c!=null&&u.push(zs(e,c,h))),e.tag===3)return u;e=e.return}return[]}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yg(e,t,i,u,c){for(var h=t._reactName,E=[];i!==null&&i!==u;){var x=i,M=x.alternate,Z=x.stateNode;if(x=x.tag,M!==null&&M===u)break;x!==5&&x!==26&&x!==27||Z===null||(M=Z,c?(Z=xr(i,h),Z!=null&&E.unshift(zs(i,Z,M))):c||(Z=xr(i,h),Z!=null&&E.push(zs(i,Z,M)))),i=i.return}E.length!==0&&e.push({event:t,listeners:E})}var vw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(vw,`
`).replace(gw,"")}function vg(e,t){return t=pg(t),pg(e)===t}function xc(){}function St(e,t,i,u,c,h){switch(i){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||ii(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&ii(e,""+u);break;case"className":ni(e,"class",u);break;case"tabIndex":ni(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(e,i,u);break;case"style":Gu(e,u,h);break;case"data":if(t!=="object"){ni(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=Tr(""+u),e.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&St(e,t,"name",c.name,c,null),St(e,t,"formEncType",c.formEncType,c,null),St(e,t,"formMethod",c.formMethod,c,null),St(e,t,"formTarget",c.formTarget,c,null)):(St(e,t,"encType",c.encType,c,null),St(e,t,"method",c.method,c,null),St(e,t,"target",c.target,c,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=Tr(""+u),e.setAttribute(i,u);break;case"onClick":u!=null&&(e.onclick=xc);break;case"onScroll":u!=null&&lt("scroll",e);break;case"onScrollEnd":u!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}i=Tr(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""+u):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":u===!0?e.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,u):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(i,u):e.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(i):e.setAttribute(i,u);break;case"popover":lt("beforetoggle",e),lt("toggle",e),Ar(e,"popover",u);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ar(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Hf.get(i)||i,Ar(e,i,u))}}function sh(e,t,i,u,c,h){switch(i){case"style":Gu(e,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof u=="string"?ii(e,u):(typeof u=="number"||typeof u=="bigint")&&ii(e,""+u);break;case"onScroll":u!=null&&lt("scroll",e);break;case"onScrollEnd":u!=null&&lt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),h=e[et]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof u=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,u,c);break e}i in e?e[i]=u:u===!0?e.setAttribute(i,""):Ar(e,i,u)}}}function yn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var u=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var E=i[h];if(E!=null)switch(h){case"src":u=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:St(e,t,h,E,i,null)}}c&&St(e,t,"srcSet",i.srcSet,i,null),u&&St(e,t,"src",i.src,i,null);return;case"input":lt("invalid",e);var x=h=E=c=null,M=null,Z=null;for(u in i)if(i.hasOwnProperty(u)){var ie=i[u];if(ie!=null)switch(u){case"name":c=ie;break;case"type":E=ie;break;case"checked":M=ie;break;case"defaultChecked":Z=ie;break;case"value":h=ie;break;case"defaultValue":x=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,t));break;default:St(e,t,u,ie,i,null)}}Kl(e,h,x,M,Z,E,c,!1),vt(e);return;case"select":lt("invalid",e),u=E=h=null;for(c in i)if(i.hasOwnProperty(c)&&(x=i[c],x!=null))switch(c){case"value":h=x;break;case"defaultValue":E=x;break;case"multiple":u=x;default:St(e,t,c,x,i,null)}t=h,i=E,e.multiple=!!u,t!=null?Or(e,!!u,t,!1):i!=null&&Or(e,!!u,i,!0);return;case"textarea":lt("invalid",e),h=c=u=null;for(E in i)if(i.hasOwnProperty(E)&&(x=i[E],x!=null))switch(E){case"value":u=x;break;case"defaultValue":c=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:St(e,t,E,x,i,null)}Vi(e,u,c,h),vt(e);return;case"option":for(M in i)if(i.hasOwnProperty(M)&&(u=i[M],u!=null))switch(M){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:St(e,t,M,u,i,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(u=0;u<Ns.length;u++)lt(Ns[u],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(u=i[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:St(e,t,Z,u,i,null)}return;default:if(Xu(t)){for(ie in i)i.hasOwnProperty(ie)&&(u=i[ie],u!==void 0&&sh(e,t,ie,u,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(u=i[x],u!=null&&St(e,t,x,u,i,null))}function mw(e,t,i,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,E=null,x=null,M=null,Z=null,ie=null;for(P in i){var ue=i[P];if(i.hasOwnProperty(P)&&ue!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":M=ue;default:u.hasOwnProperty(P)||St(e,t,P,null,u,ue)}}for(var F in u){var P=u[F];if(ue=i[F],u.hasOwnProperty(F)&&(P!=null||ue!=null))switch(F){case"type":h=P;break;case"name":c=P;break;case"checked":Z=P;break;case"defaultChecked":ie=P;break;case"value":E=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,t));break;default:P!==ue&&St(e,t,F,P,u,ue)}}Hl(e,E,x,M,Z,ie,h,c);return;case"select":P=E=x=F=null;for(h in i)if(M=i[h],i.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":P=M;default:u.hasOwnProperty(h)||St(e,t,h,null,u,M)}for(c in u)if(h=u[c],M=i[c],u.hasOwnProperty(c)&&(h!=null||M!=null))switch(c){case"value":F=h;break;case"defaultValue":x=h;break;case"multiple":E=h;default:h!==M&&St(e,t,c,h,u,M)}t=x,i=E,u=P,F!=null?Or(e,!!i,F,!1):!!u!=!!i&&(t!=null?Or(e,!!i,t,!0):Or(e,!!i,i?[]:"",!1));return;case"textarea":P=F=null;for(x in i)if(c=i[x],i.hasOwnProperty(x)&&c!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:St(e,t,x,null,u,c)}for(E in u)if(c=u[E],h=i[E],u.hasOwnProperty(E)&&(c!=null||h!=null))switch(E){case"value":F=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&St(e,t,E,c,u,h)}Vu(e,F,P);return;case"option":for(var Ge in i)if(F=i[Ge],i.hasOwnProperty(Ge)&&F!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:St(e,t,Ge,null,u,F)}for(M in u)if(F=u[M],P=i[M],u.hasOwnProperty(M)&&F!==P&&(F!=null||P!=null))switch(M){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:St(e,t,M,F,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in i)F=i[qe],i.hasOwnProperty(qe)&&F!=null&&!u.hasOwnProperty(qe)&&St(e,t,qe,null,u,F);for(Z in u)if(F=u[Z],P=i[Z],u.hasOwnProperty(Z)&&F!==P&&(F!=null||P!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,t));break;default:St(e,t,Z,F,u,P)}return;default:if(Xu(t)){for(var Et in i)F=i[Et],i.hasOwnProperty(Et)&&F!==void 0&&!u.hasOwnProperty(Et)&&sh(e,t,Et,void 0,u,F);for(ie in u)F=u[ie],P=i[ie],!u.hasOwnProperty(ie)||F===P||F===void 0&&P===void 0||sh(e,t,ie,F,u,P);return}}for(var X in i)F=i[X],i.hasOwnProperty(X)&&F!=null&&!u.hasOwnProperty(X)&&St(e,t,X,null,u,F);for(ue in u)F=u[ue],P=i[ue],!u.hasOwnProperty(ue)||F===P||F==null&&P==null||St(e,t,ue,F,u,P)}var oh=null,ch=null;function kc(e){return e.nodeType===9?e:e.ownerDocument}function gg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dh=null;function bw(){var e=window.event;return e&&e.type==="popstate"?e===dh?!1:(dh=e,!0):(dh=null,!1)}var bg=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(Sw)}:bg;function Sw(e){setTimeout(function(){throw e})}function vl(e){return e==="head"}function wg(e,t){var i=t,u=0,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<u&&8>u){i=u;var E=e.ownerDocument;if(i&1&&Bs(E.documentElement),i&2&&Bs(E.body),i&4)for(i=E.head,Bs(i),E=i.firstChild;E;){var x=E.nextSibling,M=E.nodeName;E[Bl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||i.removeChild(E),E=x}}if(c===0){e.removeChild(h),Xs(t);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:u=i.charCodeAt(0)-48;else u=0;i=h}while(i);Xs(t)}function hh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":hh(i),sr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Ew(e,t,i,u){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Dr(e.nextSibling),e===null)break}return null}function Aw(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dr(e.nextSibling),e===null))return null;return e}function yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ow(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var u=function(){t(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ph=null;function Sg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Eg(e,t,i){switch(t=kc(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sr(e)}var vr=new Map,Ag=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ei=te.d;te.d={f:Tw,r:xw,D:kw,C:Dw,L:Cw,m:Rw,X:Mw,S:Uw,M:jw};function Tw(){var e=Ei.f(),t=_c();return e||t}function xw(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Gp(t):Ei.r(e)}var uu=typeof document>"u"?null:document;function Og(e,t,i){var u=uu;if(u&&typeof t=="string"&&t){var c=_n(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Ag.has(c)||(Ag.add(c),e={rel:e,crossOrigin:i,href:t},u.querySelector(c)===null&&(t=u.createElement("link"),yn(t,"link",e),Ot(t),u.head.appendChild(t)))}}function kw(e){Ei.D(e),Og("dns-prefetch",e,null)}function Dw(e,t){Ei.C(e,t),Og("preconnect",e,t)}function Cw(e,t,i){Ei.L(e,t,i);var u=uu;if(u&&e&&t){var c='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+_n(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+_n(i.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var h=c;switch(t){case"style":h=su(e);break;case"script":h=ou(e)}vr.has(h)||(e=m({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),vr.set(h,e),u.querySelector(c)!==null||t==="style"&&u.querySelector(Ls(h))||t==="script"&&u.querySelector(qs(h))||(t=u.createElement("link"),yn(t,"link",e),Ot(t),u.head.appendChild(t)))}}function Rw(e,t){Ei.m(e,t);var i=uu;if(i&&e){var u=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(e)+'"]',h=c;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ou(e)}if(!vr.has(h)&&(e=m({rel:"modulepreload",href:e},t),vr.set(h,e),i.querySelector(c)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(qs(h)))return}u=i.createElement("link"),yn(u,"link",e),Ot(u),i.head.appendChild(u)}}}function Uw(e,t,i){Ei.S(e,t,i);var u=uu;if(u&&e){var c=qi(u).hoistableStyles,h=su(e);t=t||"default";var E=c.get(h);if(!E){var x={loading:0,preload:null};if(E=u.querySelector(Ls(h)))x.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},i),(i=vr.get(h))&&vh(e,i);var M=E=u.createElement("link");Ot(M),yn(M,"link",e),M._p=new Promise(function(Z,ie){M.onload=Z,M.onerror=ie}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cc(E,t,u)}E={type:"stylesheet",instance:E,count:1,state:x},c.set(h,E)}}}function Mw(e,t){Ei.X(e,t);var i=uu;if(i&&e){var u=qi(i).hoistableScripts,c=ou(e),h=u.get(c);h||(h=i.querySelector(qs(c)),h||(e=m({src:e,async:!0},t),(t=vr.get(c))&&gh(e,t),h=i.createElement("script"),Ot(h),yn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function jw(e,t){Ei.M(e,t);var i=uu;if(i&&e){var u=qi(i).hoistableScripts,c=ou(e),h=u.get(c);h||(h=i.querySelector(qs(c)),h||(e=m({src:e,async:!0,type:"module"},t),(t=vr.get(c))&&gh(e,t),h=i.createElement("script"),Ot(h),yn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function Tg(e,t,i,u){var c=(c=ke.current)?Dc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=su(i.href),i=qi(c).hoistableStyles,u=i.get(t),u||(u={type:"style",instance:null,count:0,state:null},i.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=su(i.href);var h=qi(c).hoistableStyles,E=h.get(e);if(E||(c=c.ownerDocument||c,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,E),(h=c.querySelector(Ls(e)))&&!h._p&&(E.instance=h,E.state.loading=5),vr.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},vr.set(e,i),h||Nw(c,e,i,E.state))),t&&u===null)throw Error(a(528,""));return E}if(t&&u!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ou(i),i=qi(c).hoistableScripts,u=i.get(t),u||(u={type:"script",instance:null,count:0,state:null},i.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function su(e){return'href="'+_n(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Nw(e,t,i,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),yn(t,"link",i),Ot(t),e.head.appendChild(t))}function ou(e){return'[src="'+_n(e)+'"]'}function qs(e){return"script[async]"+e}function kg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+_n(i.href)+'"]');if(u)return t.instance=u,Ot(u),u;var c=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ot(u),yn(u,"style",c),Cc(u,i.precedence,e),t.instance=u;case"stylesheet":c=su(i.href);var h=e.querySelector(Ls(c));if(h)return t.state.loading|=4,t.instance=h,Ot(h),h;u=xg(i),(c=vr.get(c))&&vh(u,c),h=(e.ownerDocument||e).createElement("link"),Ot(h);var E=h;return E._p=new Promise(function(x,M){E.onload=x,E.onerror=M}),yn(h,"link",u),t.state.loading|=4,Cc(h,i.precedence,e),t.instance=h;case"script":return h=ou(i.src),(c=e.querySelector(qs(h)))?(t.instance=c,Ot(c),c):(u=i,(c=vr.get(h))&&(u=m({},i),gh(u,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ot(c),yn(c,"link",u),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,Cc(u,i.precedence,e));return t.instance}function Cc(e,t,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=u.length?u[u.length-1]:null,h=c,E=0;E<u.length;E++){var x=u[E];if(x.dataset.precedence===t)h=x;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function vh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rc=null;function Dg(e,t,i){if(Rc===null){var u=new Map,c=Rc=new Map;c.set(i,u)}else c=Rc,u=c.get(i),u||(u=new Map,c.set(i,u));if(u.has(e))return u;for(u.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[Bl]||h[Kt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var E=h.getAttribute(t)||"";E=e+E;var x=u.get(E);x?x.push(h):u.set(E,[h])}}return u}function Cg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function zw(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hs=null;function Bw(){}function Lw(e,t,i){if(Hs===null)throw Error(a(475));var u=Hs;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=su(i.href),h=e.querySelector(Ls(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Uc.bind(u),e.then(u,u)),t.state.loading|=4,t.instance=h,Ot(h);return}h=e.ownerDocument||e,i=xg(i),(c=vr.get(c))&&vh(i,c),h=h.createElement("link"),Ot(h);var E=h;E._p=new Promise(function(x,M){E.onload=x,E.onerror=M}),yn(h,"link",i),t.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(u.count++,t=Uc.bind(u),e.addEventListener("load",t),e.addEventListener("error",t))}}function qw(){if(Hs===null)throw Error(a(475));var e=Hs;return e.stylesheets&&e.count===0&&mh(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&mh(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mc=null;function mh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mc=new Map,t.forEach(Hw,e),Mc=null,Uc.call(e))}function Hw(e,t){if(!(t.state.loading&4)){var i=Mc.get(e);if(i)var u=i.get(null);else{i=new Map,Mc.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var E=c[h];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(i.set(E.dataset.precedence,E),u=E)}u&&i.set(null,u)}c=t.instance,E=c.getAttribute("data-precedence"),h=i.get(E)||u,h===u&&i.set(null,c),i.set(E,c),this.count++,u=Uc.bind(this),c.addEventListener("load",u),c.addEventListener("error",u),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ks={$$typeof:$,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Kw(e,t,i,u,c,h,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=u,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ug(e,t,i,u,c,h,E,x,M,Z,ie,ue){return e=new Kw(e,t,i,E,x,M,Z,ue),t=1,h===!0&&(t|=24),h=Qn(3,null,null,t),e.current=h,h.stateNode=e,t=Wf(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:u,isDehydrated:i,cache:t},rd(h),e}function Mg(e){return e?(e=Nn,e):Nn}function jg(e,t,i,u,c,h){c=Mg(c),u.context===null?u.context=c:u.pendingContext=c,u=rl(t),u.payload={element:i},h=h===void 0?null:h,h!==null&&(u.callback=h),i=il(e,u,t),i!==null&&(Pn(i,e,t),gs(i,e,t))}function Ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function bh(e,t){Ng(e,t),(e=e.alternate)&&Ng(e,t)}function zg(e){if(e.tag===13){var t=Nt(e,67108864);t!==null&&Pn(t,e,67108864),bh(e,67108864)}}var jc=!0;function Yw(e,t,i,u){var c=B.T;B.T=null;var h=te.p;try{te.p=2,_h(e,t,i,u)}finally{te.p=h,B.T=c}}function Vw(e,t,i,u){var c=B.T;B.T=null;var h=te.p;try{te.p=8,_h(e,t,i,u)}finally{te.p=h,B.T=c}}function _h(e,t,i,u){if(jc){var c=wh(u);if(c===null)uh(e,t,u,Nc,i),Lg(e,u);else if(Xw(c,e,t,i,u))u.stopPropagation();else if(Lg(e,u),t&4&&-1<Gw.indexOf(e)){for(;c!==null;){var h=Dn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var E=bn(h.pendingLanes);if(E!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var M=1<<31-Jt(E);x.entanglements[1]|=M,E&=~M}Vr(h),(mt&6)===0&&(mc=ln()+500,js(0))}}break;case 13:x=Nt(h,2),x!==null&&Pn(x,h,2),_c(),bh(h,2)}if(h=wh(u),h===null&&uh(e,t,u,Nc,i),h===c)break;c=h}c!==null&&u.stopPropagation()}else uh(e,t,u,null,i)}}function wh(e){return e=cr(e),Sh(e)}var Nc=null;function Sh(e){if(Nc=null,e=Yn(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=y(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nc=e,null}function Bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case xo:return 2;case ba:return 8;case kn:case ko:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Eh=!1,gl=null,ml=null,bl=null,Ys=new Map,Vs=new Map,_l=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lg(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function Gs(e,t,i,u,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:u,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Dn(t),t!==null&&zg(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Xw(e,t,i,u,c){switch(t){case"focusin":return gl=Gs(gl,e,t,i,u,c),!0;case"dragenter":return ml=Gs(ml,e,t,i,u,c),!0;case"mouseover":return bl=Gs(bl,e,t,i,u,c),!0;case"pointerover":var h=c.pointerId;return Ys.set(h,Gs(Ys.get(h)||null,e,t,i,u,c)),!0;case"gotpointercapture":return h=c.pointerId,Vs.set(h,Gs(Vs.get(h)||null,e,t,i,u,c)),!0}return!1}function qg(e){var t=Yn(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=y(i),t!==null){e.blockedOn=t,Li(e.priority,function(){if(i.tag===13){var u=Fn();u=Lu(u);var c=Nt(i,u);c!==null&&Pn(c,i,u),bh(i,u)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=wh(e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Gi=u,i.target.dispatchEvent(u),Gi=null}else return t=Dn(i),t!==null&&zg(t),e.blockedOn=i,!1;t.shift()}return!0}function Hg(e,t,i){zc(e)&&i.delete(t)}function Iw(){Eh=!1,gl!==null&&zc(gl)&&(gl=null),ml!==null&&zc(ml)&&(ml=null),bl!==null&&zc(bl)&&(bl=null),Ys.forEach(Hg),Vs.forEach(Hg)}function Bc(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Iw)))}var Lc=null;function Kg(e){Lc!==e&&(Lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var t=0;t<e.length;t+=3){var i=e[t],u=e[t+1],c=e[t+2];if(typeof u!="function"){if(Sh(u||i)===null)continue;break}var h=Dn(i);h!==null&&(e.splice(t,3),t-=3,Sd(h,{pending:!0,data:c,method:i.method,action:u},u,c))}}))}function Xs(e){function t(M){return Bc(M,e)}gl!==null&&Bc(gl,e),ml!==null&&Bc(ml,e),bl!==null&&Bc(bl,e),Ys.forEach(t),Vs.forEach(t);for(var i=0;i<_l.length;i++){var u=_l[i];u.blockedOn===e&&(u.blockedOn=null)}for(;0<_l.length&&(i=_l[0],i.blockedOn===null);)qg(i),i.blockedOn===null&&_l.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var c=i[u],h=i[u+1],E=c[et]||null;if(typeof h=="function")E||Kg(i);else if(E){var x=null;if(h&&h.hasAttribute("formAction")){if(c=h,E=h[et]||null)x=E.formAction;else if(Sh(c)!==null)continue}else x=E.action;typeof x=="function"?i[u+1]=x:(i.splice(u,3),u-=3),Kg(i)}}}function Ah(e){this._internalRoot=e}qc.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,u=Fn();jg(i,u,e,t,null,null)},qc.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jg(e.current,2,null,e,null,null),_c(),t[Rt]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ti();e={blockedOn:null,target:e,priority:t};for(var i=0;i<_l.length&&t!==0&&t<_l[i].priority;i++);_l.splice(i,0,e),i===0&&qg(e)}};var Yg=n.version;if(Yg!=="19.1.1")throw Error(a(527,Yg,"19.1.1"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=b(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Qw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Kn=Hc.inject(Qw),Ht=Hc}catch{}}return Zs.createRoot=function(e,t){if(!s(e))throw Error(a(299));var i=!1,u="",c=iv,h=lv,E=av,x=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=Ug(e,1,!1,null,null,i,u,c,h,E,x,null),e[Rt]=t.current,ah(e),new Ah(t)},Zs.hydrateRoot=function(e,t,i){if(!s(e))throw Error(a(299));var u=!1,c="",h=iv,E=lv,x=av,M=null,Z=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks),i.formState!==void 0&&(Z=i.formState)),t=Ug(e,1,!0,t,i??null,u,c,h,E,x,M,Z),t.context=Mg(null),i=t.current,u=Fn(),u=Lu(u),c=rl(u),c.callback=null,il(i,c,u),i=u,t.current.lanes=i,Bi(t,i),Vr(t),e[Rt]=t.current,ah(e),new qc(t)},Zs.version="19.1.1",Zs}var Pg;function iS(){if(Pg)return xh.exports;Pg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),xh.exports=rS(),xh.exports}var lS=iS(),$c={exports:{}},aS=$c.exports,Wg;function uS(){return Wg||(Wg=1,(function(r,n){(function(l,a){r.exports=a()})(aS,function(){var l=function(o,d){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(g[S]=_[S])})(o,d)},a=function(){return(a=Object.assign||function(o){for(var d,g=1,_=arguments.length;g<_;g++)for(var S in d=arguments[g])Object.prototype.hasOwnProperty.call(d,S)&&(o[S]=d[S]);return o}).apply(this,arguments)};function s(o,d,g){for(var _,S=0,T=d.length;S<T;S++)!_&&S in d||((_=_||Array.prototype.slice.call(d,0,S))[S]=d[S]);return o.concat(_||Array.prototype.slice.call(d))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Jw,y=Object.keys,p=Array.isArray;function b(o,d){return typeof d!="object"||y(d).forEach(function(g){o[g]=d[g]}),o}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var v=Object.getPrototypeOf,m={}.hasOwnProperty;function w(o,d){return m.call(o,d)}function A(o,d){typeof d=="function"&&(d=d(v(o))),(typeof Reflect>"u"?y:Reflect.ownKeys)(d).forEach(function(g){k(o,g,d[g])})}var O=Object.defineProperty;function k(o,d,g,_){O(o,d,b(g&&w(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},_))}function j(o){return{from:function(d){return o.prototype=Object.create(d.prototype),k(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var J=Object.getOwnPropertyDescriptor,ce=[].slice;function se(o,d,g){return ce.call(o,d,g)}function $(o,d){return d(o)}function _e(o){if(!o)throw new Error("Assertion Failed")}function ve(o){f.setImmediate?setImmediate(o):setTimeout(o,0)}function Ee(o,d){if(typeof d=="string"&&w(o,d))return o[d];if(!d)return o;if(typeof d!="string"){for(var g=[],_=0,S=d.length;_<S;++_){var T=Ee(o,d[_]);g.push(T)}return g}var D=d.indexOf(".");if(D!==-1){var C=o[d.substr(0,D)];return C==null?void 0:Ee(C,d.substr(D+1))}}function Te(o,d,g){if(o&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof d!="string"&&"length"in d){_e(typeof g!="string"&&"length"in g);for(var _=0,S=d.length;_<S;++_)Te(o,d[_],g[_])}else{var T,D,C=d.indexOf(".");C!==-1?(T=d.substr(0,C),(D=d.substr(C+1))===""?g===void 0?p(o)&&!isNaN(parseInt(T))?o.splice(T,1):delete o[T]:o[T]=g:Te(C=!(C=o[T])||!w(o,T)?o[T]={}:C,D,g)):g===void 0?p(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=g}}function Fe(o){var d,g={};for(d in o)w(o,d)&&(g[d]=o[d]);return g}var Ne=[].concat;function at(o){return Ne.apply([],o)}var Kn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(at([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(d){return d+o+"Array"})}))).filter(function(o){return f[o]}),pe=new Set(Kn.map(function(o){return f[o]})),Ue=null;function Ye(o){return Ue=new WeakMap,o=(function d(g){if(!g||typeof g!="object")return g;var _=Ue.get(g);if(_)return _;if(p(g)){_=[],Ue.set(g,_);for(var S=0,T=g.length;S<T;++S)_.push(d(g[S]))}else if(pe.has(g.constructor))_=g;else{var D,C=v(g);for(D in _=C===Object.prototype?{}:Object.create(C),Ue.set(g,_),g)w(g,D)&&(_[D]=d(g[D]))}return _})(o),Ue=null,o}var Xe={}.toString;function ze(o){return Xe.call(o).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof B=="symbol"?function(o){var d;return o!=null&&(d=o[B])&&d.apply(o)}:function(){return null};function oe(o,d){return d=o.indexOf(d),0<=d&&o.splice(d,1),0<=d}var Oe={};function R(o){var d,g,_,S;if(arguments.length===1){if(p(o))return o.slice();if(this===Oe&&typeof o=="string")return[o];if(S=te(o)){for(g=[];!(_=S.next()).done;)g.push(_.value);return g}if(o==null)return[o];if(typeof(d=o.length)!="number")return[o];for(g=new Array(d);d--;)g[d]=o[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var W=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ml=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Un=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ml),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fe(o,d){this.name=o,this.message=d}function xe(o,d){return o+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,_,S){return S.indexOf(g)===_}).join(`
`)}function Le(o,d,g,_){this.failures=d,this.failedKeys=_,this.successCount=g,this.message=xe(o,d)}function ke(o,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=xe(o,this.failures)}j(fe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(Le).from(fe),j(ke).from(fe);var yt=Un.reduce(function(o,d){return o[d]=d+"Error",o},{}),Ie=fe,Se=Un.reduce(function(o,d){var g=d+"Error";function _(S,T){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(T?`
 `+T:""),this.inner=T||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=le[d]||g,this.inner=null)}return j(_).from(Ie),o[d]=_,o},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var gt=Ml.reduce(function(o,d){return o[d+"Error"]=Se[d],o},{}),Ct=Un.reduce(function(o,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(o[d+"Error"]=Se[d]),o},{});function Be(){}function Pe(o){return o}function ut(o,d){return o==null||o===Pe?d:function(g){return d(o(g))}}function pt(o,d){return function(){o.apply(this,arguments),d.apply(this,arguments)}}function xn(o,d){return o===Be?d:function(){var g=o.apply(this,arguments);g!==void 0&&(arguments[0]=g);var _=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var T=d.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?pt(_,this.onsuccess):_),S&&(this.onerror=this.onerror?pt(S,this.onerror):S),T!==void 0?T:g}}function ln(o,d){return o===Be?d:function(){o.apply(this,arguments);var g=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?pt(g,this.onsuccess):g),_&&(this.onerror=this.onerror?pt(_,this.onerror):_)}}function lr(o,d){return o===Be?d:function(g){var _=o.apply(this,arguments);b(g,_);var S=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?pt(S,this.onsuccess):S),T&&(this.onerror=this.onerror?pt(T,this.onerror):T),_===void 0?g===void 0?void 0:g:b(_,g)}}function xo(o,d){return o===Be?d:function(){return d.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ba(o,d){return o===Be?d:function(){var g=o.apply(this,arguments);if(g&&typeof g.then=="function"){for(var _=this,S=arguments.length,T=new Array(S);S--;)T[S]=arguments[S];return g.then(function(){return d.apply(_,T)})}return d.apply(this,arguments)}}Ct.ModifyError=Le,Ct.DexieError=fe,Ct.BulkError=ke;var kn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ko(o){kn=o}var Ni={},Do=100,Kn=typeof Promise>"u"?[]:(function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,v(o),o];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,v(d),o]})(),Ml=Kn[0],Un=Kn[1],Kn=Kn[2],Un=Un&&Un.then,Ht=Ml&&Ml.constructor,ar=!!Kn,Jt=function(o,d){Er.push([o,d]),_a&&(queueMicrotask(qu),_a=!1)},Nu=!0,_a=!0,Pr=[],Wr=[],zi=Pe,bn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Be,pgp:!1,env:{},finalize:Be},Re=bn,Er=[],ei=0,jl=[];function Ae(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Re;if(typeof o!="function"){if(o!==Ni)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zu(this,this._value))}this._state=null,this._value=null,++d.ref,(function g(_,S){try{S(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var D=_._lib&&ti();T&&typeof T.then=="function"?g(_,function(C,N){T instanceof Ae?T._then(C,N):T.then(C,N)}):(_._state=!0,_._value=T,Bu(_)),D&&Li()}},zu.bind(null,_))}catch(T){zu(_,T)}})(this,o)}var Nl={get:function(){var o=Re,d=zl;function g(_,S){var T=this,D=!o.global&&(o!==Re||d!==zl),C=D&&!Dn(),N=new Ae(function(q,Y){wa(T,new Bi(Mr(_,o,D,C),Mr(S,o,D,C),q,Y,o))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return g.prototype=Ni,g},set:function(o){k(this,"then",o&&o.prototype===Ni?Nl:{get:function(){return o},set:Nl.set})}};function Bi(o,d,g,_,S){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=_,this.psd=S}function zu(o,d){var g,_;Wr.push(d),o._state===null&&(g=o._lib&&ti(),d=zi(d),o._state=!1,o._value=d,_=o,Pr.some(function(S){return S._value===_._value})||Pr.push(_),Bu(o),g&&Li())}function Bu(o){var d=o._listeners;o._listeners=[];for(var g=0,_=d.length;g<_;++g)wa(o,d[g]);var S=o._PSD;--S.ref||S.finalize(),ei===0&&(++ei,Jt(function(){--ei==0&&ur()},[]))}function wa(o,d){if(o._state!==null){var g=o._state?d.onFulfilled:d.onRejected;if(g===null)return(o._state?d.resolve:d.reject)(o._value);++d.psd.ref,++ei,Jt(Lu,[g,o,d])}else o._listeners.push(d)}function Lu(o,d,g){try{var _,S=d._value;!d._state&&Wr.length&&(Wr=[]),_=kn&&d._consoleTask?d._consoleTask.run(function(){return o(S)}):o(S),d._state||Wr.indexOf(S)!==-1||(function(T){for(var D=Pr.length;D;)if(Pr[--D]._value===T._value)return Pr.splice(D,1)})(d),g.resolve(_)}catch(T){g.reject(T)}finally{--ei==0&&ur(),--g.psd.ref||g.psd.finalize()}}function qu(){Ur(bn,function(){ti()&&Li()})}function ti(){var o=Nu;return _a=Nu=!1,o}function Li(){var o,d,g;do for(;0<Er.length;)for(o=Er,Er=[],g=o.length,d=0;d<g;++d){var _=o[d];_[0].apply(null,_[1])}while(0<Er.length);_a=Nu=!0}function ur(){var o=Pr;Pr=[],o.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var d=jl.slice(0),g=d.length;g;)d[--g]()}function Kt(o){return new Ae(Ni,!1,o)}function et(o,d){var g=Re;return function(){var _=ti(),S=Re;try{return Ot(g,!0),o.apply(this,arguments)}catch(T){d&&d(T)}finally{Ot(S,!1),_&&Li()}}}A(Ae.prototype,{then:Nl,_then:function(o,d){wa(this,new Bi(null,null,o,d,Re))},catch:function(o){if(arguments.length===1)return this.then(null,o);var d=o,g=arguments[1];return typeof d=="function"?this.then(null,function(_){return(_ instanceof d?g:Kt)(_)}):this.then(null,function(_){return(_&&_.name===d?g:Kt)(_)})},finally:function(o){return this.then(function(d){return Ae.resolve(o()).then(function(){return d})},function(d){return Ae.resolve(o()).then(function(){return Kt(d)})})},timeout:function(o,d){var g=this;return o<1/0?new Ae(function(_,S){var T=setTimeout(function(){return S(new Se.Timeout(d))},o);g.then(_,S).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),bn.env=Ku(),A(Ae,{all:function(){var o=R.apply(null,arguments).map(Rr);return new Ae(function(d,g){o.length===0&&d([]);var _=o.length;o.forEach(function(S,T){return Ae.resolve(S).then(function(D){o[T]=D,--_||d(o)},g)})})},resolve:function(o){return o instanceof Ae?o:o&&typeof o.then=="function"?new Ae(function(d,g){o.then(d,g)}):new Ae(Ni,!0,o)},reject:Kt,race:function(){var o=R.apply(null,arguments).map(Rr);return new Ae(function(d,g){o.map(function(_){return Ae.resolve(_).then(d,g)})})},PSD:{get:function(){return Re},set:function(o){return Re=o}},totalEchoes:{get:function(){return zl}},newPSD:sr,usePSD:Ur,scheduler:{get:function(){return Jt},set:function(o){Jt=o}},rejectionMapper:{get:function(){return zi},set:function(o){zi=o}},follow:function(o,d){return new Ae(function(g,_){return sr(function(S,T){var D=Re;D.unhandleds=[],D.onunhandled=T,D.finalize=pt(function(){var C,N=this;C=function(){N.unhandleds.length===0?S():T(N.unhandleds[0])},jl.push(function q(){C(),jl.splice(jl.indexOf(q),1)}),++ei,Jt(function(){--ei==0&&ur()},[])},D.finalize),o()},d,g,_)})}}),Ht&&(Ht.allSettled&&k(Ae,"allSettled",function(){var o=R.apply(null,arguments).map(Rr);return new Ae(function(d){o.length===0&&d([]);var g=o.length,_=new Array(g);o.forEach(function(S,T){return Ae.resolve(S).then(function(D){return _[T]={status:"fulfilled",value:D}},function(D){return _[T]={status:"rejected",reason:D}}).then(function(){return--g||d(_)})})})}),Ht.any&&typeof AggregateError<"u"&&k(Ae,"any",function(){var o=R.apply(null,arguments).map(Rr);return new Ae(function(d,g){o.length===0&&g(new AggregateError([]));var _=o.length,S=new Array(_);o.forEach(function(T,D){return Ae.resolve(T).then(function(C){return d(C)},function(C){S[D]=C,--_||g(new AggregateError(S))})})})}),Ht.withResolvers&&(Ae.withResolvers=Ht.withResolvers));var Rt={awaits:0,echoes:0,id:0},Hu=0,Sa=[],Ea=0,zl=0,Bl=0;function sr(o,d,g,_){var S=Re,T=Object.create(S);return T.parent=S,T.ref=0,T.global=!1,T.id=++Bl,bn.env,T.env=ar?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},d&&b(T,d),++S.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Ur(T,o,g,_),T.ref===0&&T.finalize(),_}function Yn(){return Rt.id||(Rt.id=++Hu),++Rt.awaits,Rt.echoes+=Do,Rt.id}function Dn(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*Do,!0)}function Rr(o){return Rt.echoes&&o&&o.constructor===Ht?(Yn(),o.then(function(d){return Dn(),d},function(d){return Dn(),jt(d)})):o}function qi(){var o=Sa[Sa.length-1];Sa.pop(),Ot(o,!1)}function Ot(o,d){var g,_=Re;(d?!Rt.echoes||Ea++&&o===Re:!Ea||--Ea&&o===Re)||queueMicrotask(d?(function(S){++zl,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),Sa.push(Re),Ot(S,!0)}).bind(null,o):qi),o!==Re&&(Re=o,_===bn&&(bn.env=Ku()),ar&&(g=bn.env.Promise,d=o.env,(_.global||o.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function Ku(){var o=f.Promise;return ar?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Ur(o,d,g,_,S){var T=Re;try{return Ot(o,!0),d(g,_,S)}finally{Ot(T,!1)}}function Mr(o,d,g,_){return typeof o!="function"?o:function(){var S=Re;g&&Yn(),Ot(d,!0);try{return o.apply(this,arguments)}finally{Ot(S,!1),_&&queueMicrotask(Dn)}}}function jr(o){Promise===Ht&&Rt.echoes===0?Ea===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Un).indexOf("[native code]")===-1&&(Yn=Dn=Be);var jt=Ae.reject,Nr="",or="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Co="String expected.",Ar=[],ni="__dbnames",Vn="readonly",Ll="readwrite";function zr(o,d){return o?d?function(){return o.apply(this,arguments)&&d.apply(this,arguments)}:o:d}var ri={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hi(o){return typeof o!="string"||/\./.test(o)?function(d){return d}:function(d){return d[o]===void 0&&o in d&&delete(d=Ye(d))[o],d}}function Aa(){throw Se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(o,d){try{var g=Yu(o),_=Yu(d);if(g!==_)return g==="Array"?1:_==="Array"?-1:g==="binary"?1:_==="binary"?-1:g==="string"?1:_==="string"?-1:g==="Date"?1:_!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<o?1:o<d?-1:0;case"binary":return(function(S,T){for(var D=S.length,C=T.length,N=D<C?D:C,q=0;q<N;++q)if(S[q]!==T[q])return S[q]<T[q]?-1:1;return D===C?0:D<C?-1:1})(Cn(o),Cn(d));case"Array":return(function(S,T){for(var D=S.length,C=T.length,N=D<C?D:C,q=0;q<N;++q){var Y=rt(S[q],T[q]);if(Y!==0)return Y}return D===C?0:D<C?-1:1})(o,d)}}catch{}return NaN}function Yu(o){var d=typeof o;return d!="object"?d:ArrayBuffer.isView(o)?"binary":(o=ze(o),o==="ArrayBuffer"?"binary":o)}function Cn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function ql(o,d,g){var _=o.schema.yProps;return _?(d&&0<g.numFailures&&(d=d.filter(function(S,T){return!g.failures[T]})),Promise.all(_.map(function(S){return S=S.updatesTable,d?o.db.table(S).where("k").anyOf(d).delete():o.db.table(S).clear()})).then(function(){return g})):g}var Ro=(vt.prototype._trans=function(o,d,g){var _=this._tx||Re.trans,S=this.name,T=kn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function D(q,Y,U){if(!U.schema[S])throw new Se.NotFound("Table "+S+" not part of transaction");return d(U.idbtrans,U)}var C=ti();try{var N=_&&_.db._novip===this.db._novip?_===Re.trans?_._promise(o,D,g):sr(function(){return _._promise(o,D,g)},{trans:_,transless:Re.transless||Re}):(function q(Y,U,V,z){if(Y.idbdb&&(Y._state.openComplete||Re.letThrough||Y._vip)){var H=Y._createTransaction(U,V,Y._dbSchema);try{H.create(),Y._state.PR1398_maxLoop=3}catch(K){return K.name===yt.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return q(Y,U,V,z)})):jt(K)}return H._promise(U,function(K,G){return sr(function(){return Re.trans=H,z(K,G,H)})}).then(function(K){if(U==="readwrite")try{H.idbtrans.commit()}catch{}return U==="readonly"?K:H._completion.then(function(){return K})})}if(Y._state.openComplete)return jt(new Se.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return jt(new Se.DatabaseClosed);Y.open().catch(Be)}return Y._state.dbReadyPromise.then(function(){return q(Y,U,V,z)})})(this.db,o,[this.name],D);return T&&(N._consoleTask=T,N=N.catch(function(q){return console.trace(q),jt(q)})),N}finally{C&&Li()}},vt.prototype.get=function(o,d){var g=this;return o&&o.constructor===Object?this.where(o).first(d):o==null?jt(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return g.core.get({trans:_,key:o}).then(function(S){return g.hook.reading.fire(S)})}).then(d)},vt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(p(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var d=y(o);if(d.length===1)return this.where(d[0]).equals(o[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&d.every(function(q){return 0<=C.keyPath.indexOf(q)})){for(var N=0;N<d.length;++N)if(d.indexOf(C.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(C,N){return C.keyPath.length-N.keyPath.length})[0];if(g&&this.db._maxKey!==Nr){var T=g.keyPath.slice(0,d.length);return this.where(T).equals(T.map(function(N){return o[N]}))}!g&&kn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var _=this.schema.idxByName;function S(C,N){return rt(C,N)===0}var D=d.reduce(function(U,N){var q=U[0],Y=U[1],U=_[N],V=o[N];return[q||U,q||!U?zr(Y,U&&U.multi?function(z){return z=Ee(z,N),p(z)&&z.some(function(H){return S(V,H)})}:function(z){return S(V,Ee(z,N))}):Y]},[null,null]),T=D[0],D=D[1];return T?this.where(T.name).equals(o[T.keyPath]).filter(D):g?this.filter(D):this.where(d).equals("")},vt.prototype.filter=function(o){return this.toCollection().and(o)},vt.prototype.count=function(o){return this.toCollection().count(o)},vt.prototype.offset=function(o){return this.toCollection().offset(o)},vt.prototype.limit=function(o){return this.toCollection().limit(o)},vt.prototype.each=function(o){return this.toCollection().each(o)},vt.prototype.toArray=function(o){return this.toCollection().toArray(o)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,p(o)?"[".concat(o.join("+"),"]"):o))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(o){var d,g=this.db,_=this.name;function S(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Aa&&((function(N,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function Y(){this.constructor=N}l(N,q),N.prototype=q===null?Object.create(q):(Y.prototype=q.prototype,new Y)})(S,d=o),Object.defineProperty(S.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),S.prototype.table=function(){return _},o=S);for(var T=new Set,D=o.prototype;D;D=v(D))Object.getOwnPropertyNames(D).forEach(function(N){return T.add(N)});function C(N){if(!N)return N;var q,Y=Object.create(o.prototype);for(q in N)if(!T.has(q))try{Y[q]=N[q]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),o},vt.prototype.defineClass=function(){return this.mapToClass(function(o){b(this,o)})},vt.prototype.add=function(o,d){var g=this,_=this.schema.primKey,S=_.auto,T=_.keyPath,D=o;return T&&S&&(D=Hi(T)(o)),this._trans("readwrite",function(C){return g.core.mutate({trans:C,type:"add",keys:d!=null?[d]:null,values:[D]})}).then(function(C){return C.numFailures?Ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(T)try{Te(o,T,C)}catch{}return C})},vt.prototype.update=function(o,d){return typeof o!="object"||p(o)?this.where(":id").equals(o).modify(d):(o=Ee(o,this.schema.primKey.keyPath),o===void 0?jt(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(d))},vt.prototype.put=function(o,d){var g=this,_=this.schema.primKey,S=_.auto,T=_.keyPath,D=o;return T&&S&&(D=Hi(T)(o)),this._trans("readwrite",function(C){return g.core.mutate({trans:C,type:"put",values:[D],keys:d!=null?[d]:null})}).then(function(C){return C.numFailures?Ae.reject(C.failures[0]):C.lastResult}).then(function(C){if(T)try{Te(o,T,C)}catch{}return C})},vt.prototype.delete=function(o){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[o]}).then(function(_){return ql(d,[o],_)}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})})},vt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"deleteRange",range:ri}).then(function(g){return ql(o,null,g)})}).then(function(d){return d.numFailures?Ae.reject(d.failures[0]):void 0})},vt.prototype.bulkGet=function(o){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:o,trans:g}).then(function(_){return _.map(function(S){return d.hook.reading.fire(S)})})})},vt.prototype.bulkAdd=function(o,d,g){var _=this,S=Array.isArray(d)?d:void 0,T=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(D){var q=_.schema.primKey,C=q.auto,q=q.keyPath;if(q&&S)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,q=q&&C?o.map(Hi(q)):o;return _.core.mutate({trans:D,type:"add",keys:S,values:q,wantResults:T}).then(function(H){var U=H.numFailures,V=H.results,z=H.lastResult,H=H.failures;if(U===0)return T?V:z;throw new ke("".concat(_.name,".bulkAdd(): ").concat(U," of ").concat(N," operations failed"),H)})})},vt.prototype.bulkPut=function(o,d,g){var _=this,S=Array.isArray(d)?d:void 0,T=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(D){var q=_.schema.primKey,C=q.auto,q=q.keyPath;if(q&&S)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,q=q&&C?o.map(Hi(q)):o;return _.core.mutate({trans:D,type:"put",keys:S,values:q,wantResults:T}).then(function(H){var U=H.numFailures,V=H.results,z=H.lastResult,H=H.failures;if(U===0)return T?V:z;throw new ke("".concat(_.name,".bulkPut(): ").concat(U," of ").concat(N," operations failed"),H)})})},vt.prototype.bulkUpdate=function(o){var d=this,g=this.core,_=o.map(function(D){return D.key}),S=o.map(function(D){return D.changes}),T=[];return this._trans("readwrite",function(D){return g.getMany({trans:D,keys:_,cache:"clone"}).then(function(C){var N=[],q=[];o.forEach(function(U,V){var z=U.key,H=U.changes,K=C[V];if(K){for(var G=0,I=Object.keys(H);G<I.length;G++){var ee=I[G],ne=H[ee];if(ee===d.schema.primKey.keyPath){if(rt(ne,z)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else Te(K,ee,ne)}T.push(V),N.push(z),q.push(K)}});var Y=N.length;return g.mutate({trans:D,type:"put",keys:N,values:q,updates:{keys:_,changeSpecs:S}}).then(function(U){var V=U.numFailures,z=U.failures;if(V===0)return Y;for(var H=0,K=Object.keys(z);H<K.length;H++){var G,I=K[H],ee=T[Number(I)];ee!=null&&(G=z[I],delete z[I],z[ee]=G)}throw new ke("".concat(d.name,".bulkUpdate(): ").concat(V," of ").concat(Y," operations failed"),z)})})})},vt.prototype.bulkDelete=function(o){var d=this,g=o.length;return this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"delete",keys:o}).then(function(S){return ql(d,o,S)})}).then(function(D){var S=D.numFailures,T=D.lastResult,D=D.failures;if(S===0)return T;throw new ke("".concat(d.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),D)})},vt);function vt(){}function Ki(o){function d(D,C){if(C){for(var N=arguments.length,q=new Array(N-1);--N;)q[N-1]=arguments[N];return g[D].subscribe.apply(null,q),o}if(typeof D=="string")return g[D]}var g={};d.addEventType=T;for(var _=1,S=arguments.length;_<S;++_)T(arguments[_]);return d;function T(D,C,N){if(typeof D!="object"){var q;C=C||xo;var Y={subscribers:[],fire:N=N||Be,subscribe:function(U){Y.subscribers.indexOf(U)===-1&&(Y.subscribers.push(U),Y.fire=C(Y.fire,U))},unsubscribe:function(U){Y.subscribers=Y.subscribers.filter(function(V){return V!==U}),Y.fire=Y.subscribers.reduce(C,N)}};return g[D]=d[D]=Y}y(q=D).forEach(function(U){var V=q[U];if(p(V))T(U,q[U][0],q[U][1]);else{if(V!=="asap")throw new Se.InvalidArgument("Invalid event config");var z=T(U,Pe,function(){for(var H=arguments.length,K=new Array(H);H--;)K[H]=arguments[H];z.subscribers.forEach(function(G){ve(function(){G.apply(null,K)})})})}})}}function Br(o,d){return j(d).from({prototype:o}),d}function Yi(o,d){return!(o.filter||o.algorithm||o.or)&&(d?o.justLimit:!o.replayFilter)}function _n(o,d){o.filter=zr(o.filter,d)}function Hl(o,d,g){var _=o.replayFilter;o.replayFilter=_?function(){return zr(_(),d())}:d,o.justLimit=g&&!_}function Kl(o,d){if(o.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(o.index);if(!g)throw new Se.Schema("KeyPath "+o.index+" on object store "+d.name+" is not indexed");return g}function Oa(o,d,g){var _=Kl(o,d.schema);return d.openCursor({trans:g,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:_,range:o.range}})}function Or(o,d,g,_){var S=o.replayFilter?zr(o.filter,o.replayFilter()):o.filter;if(o.or){var T={},D=function(C,N,q){var Y,U;S&&!S(N,q,function(V){return N.stop(V)},function(V){return N.fail(V)})||((U=""+(Y=N.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Y)),w(T,U)||(T[U]=!0,d(C,N,q)))};return Promise.all([o.or._iterate(D,g),Vu(Oa(o,_,g),o.algorithm,D,!o.keysOnly&&o.valueMapper)])}return Vu(Oa(o,_,g),zr(o.algorithm,S),d,!o.keysOnly&&o.valueMapper)}function Vu(o,d,g,_){var S=et(_?function(T,D,C){return g(_(T),D,C)}:g);return o.then(function(T){if(T)return T.start(function(){var D=function(){return T.continue()};d&&!d(T,function(C){return D=C},function(C){T.stop(C),D=Be},function(C){T.fail(C),D=Be})||S(T.value,T,function(C){return D=C}),D()})})}var Vi=(ii.prototype.execute=function(o){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(p(g))return s(s([],p(o)?o:[],!0),g).sort();if(typeof g=="number")return(Number(o)||0)+g;if(typeof g=="bigint")try{return BigInt(o)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var _=d.remove;if(p(_))return p(o)?o.filter(function(S){return!_.includes(S)}).sort():[];if(typeof _=="number")return Number(o)-_;if(typeof _=="bigint")try{return BigInt(o)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof o=="string"&&o.startsWith(g)?d.replacePrefix[1]+o.substring(g.length):o},ii);function ii(o){this["@@propmod"]=o}var qf=(st.prototype._read=function(o,d){var g=this._ctx;return g.error?g.table._trans(null,jt.bind(null,g.error)):g.table._trans("readonly",o).then(d)},st.prototype._write=function(o){var d=this._ctx;return d.error?d.table._trans(null,jt.bind(null,d.error)):d.table._trans("readwrite",o,"locked")},st.prototype._addAlgorithm=function(o){var d=this._ctx;d.algorithm=zr(d.algorithm,o)},st.prototype._iterate=function(o,d){return Or(this._ctx,o,d,this._ctx.table.core)},st.prototype.clone=function(o){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return o&&b(g,o),d._ctx=g,d},st.prototype.raw=function(){return this._ctx.valueMapper=null,this},st.prototype.each=function(o){var d=this._ctx;return this._read(function(g){return Or(d,o,g,d.table.core)})},st.prototype.count=function(o){var d=this;return this._read(function(g){var _=d._ctx,S=_.table.core;if(Yi(_,!0))return S.count({trans:g,query:{index:Kl(_,S.schema),range:_.range}}).then(function(D){return Math.min(D,_.limit)});var T=0;return Or(_,function(){return++T,!1},g,S).then(function(){return T})}).then(o)},st.prototype.sortBy=function(o,d){var g=o.split(".").reverse(),_=g[0],S=g.length-1;function T(N,q){return q?T(N[g[q]],q-1):N[_]}var D=this._ctx.dir==="next"?1:-1;function C(N,q){return rt(T(N,S),T(q,S))*D}return this.toArray(function(N){return N.sort(C)}).then(d)},st.prototype.toArray=function(o){var d=this;return this._read(function(g){var _=d._ctx;if(_.dir==="next"&&Yi(_,!0)&&0<_.limit){var S=_.valueMapper,T=Kl(_,_.table.core.schema);return _.table.core.query({trans:g,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(C){return C=C.result,S?C.map(S):C})}var D=[];return Or(_,function(C){return D.push(C)},g,_.table.core).then(function(){return D})},o)},st.prototype.offset=function(o){var d=this._ctx;return o<=0||(d.offset+=o,Yi(d)?Hl(d,function(){var g=o;return function(_,S){return g===0||(g===1?--g:S(function(){_.advance(g),g=0}),!1)}}):Hl(d,function(){var g=o;return function(){return--g<0}})),this},st.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Hl(this._ctx,function(){var d=o;return function(g,_,S){return--d<=0&&_(S),0<=d}},!0),this},st.prototype.until=function(o,d){return _n(this._ctx,function(g,_,S){return!o(g.value)||(_(S),d)}),this},st.prototype.first=function(o){return this.limit(1).toArray(function(d){return d[0]}).then(o)},st.prototype.last=function(o){return this.reverse().first(o)},st.prototype.filter=function(o){var d;return _n(this._ctx,function(g){return o(g.value)}),(d=this._ctx).isMatch=zr(d.isMatch,o),this},st.prototype.and=function(o){return this.filter(o)},st.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},st.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},st.prototype.desc=function(){return this.reverse()},st.prototype.eachKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){o(_.key,_)})},st.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},st.prototype.eachPrimaryKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){o(_.primaryKey,_)})},st.prototype.keys=function(o){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,S){g.push(S.key)}).then(function(){return g}).then(o)},st.prototype.primaryKeys=function(o){var d=this._ctx;if(d.dir==="next"&&Yi(d,!0)&&0<d.limit)return this._read(function(_){var S=Kl(d,d.table.core.schema);return d.table.core.query({trans:_,values:!1,limit:d.limit,query:{index:S,range:d.range}})}).then(function(_){return _.result}).then(o);d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,S){g.push(S.primaryKey)}).then(function(){return g}).then(o)},st.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},st.prototype.firstKey=function(o){return this.limit(1).keys(function(d){return d[0]}).then(o)},st.prototype.lastKey=function(o){return this.reverse().firstKey(o)},st.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var d={};return _n(this._ctx,function(S){var _=S.primaryKey.toString(),S=w(d,_);return d[_]=!0,!S}),this},st.prototype.modify=function(o){var d=this,g=this._ctx;return this._write(function(_){var S,T,D;D=typeof o=="function"?o:(S=y(o),T=S.length,function(I){for(var ee=!1,ne=0;ne<T;++ne){var re=S[ne],de=o[re],me=Ee(I,re);de instanceof Vi?(Te(I,re,de.execute(me)),ee=!0):me!==de&&(Te(I,re,de),ee=!0)}return ee});var C=g.table.core,U=C.schema.primaryKey,N=U.outbound,q=U.extractKey,Y=200,U=d.db._options.modifyChunkSize;U&&(Y=typeof U=="object"?U[C.name]||U["*"]||200:U);function V(I,re){var ne=re.failures,re=re.numFailures;H+=I-re;for(var de=0,me=y(ne);de<me.length;de++){var he=me[de];z.push(ne[he])}}var z=[],H=0,K=[],G=o===Gu;return d.clone().primaryKeys().then(function(I){function ee(re){var de=Math.min(Y,I.length-re),me=I.slice(re,re+de);return(G?Promise.resolve([]):C.getMany({trans:_,keys:me,cache:"immutable"})).then(function(he){var ye=[],ge=[],we=N?[]:null,be=G?me:[];if(!G)for(var je=0;je<de;++je){var Je=he[je],Ve={value:Ye(Je),primKey:I[re+je]};D.call(Ve,Ve.value,Ve)!==!1&&(Ve.value==null?be.push(I[re+je]):N||rt(q(Je),q(Ve.value))===0?(ge.push(Ve.value),N&&we.push(I[re+je])):(be.push(I[re+je]),ye.push(Ve.value)))}return Promise.resolve(0<ye.length&&C.mutate({trans:_,type:"add",values:ye}).then(function(Tt){for(var He in Tt.failures)be.splice(parseInt(He),1);V(ye.length,Tt)})).then(function(){return(0<ge.length||ne&&typeof o=="object")&&C.mutate({trans:_,type:"put",keys:we,values:ge,criteria:ne,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<re}).then(function(Tt){return V(ge.length,Tt)})}).then(function(){return(0<be.length||ne&&G)&&C.mutate({trans:_,type:"delete",keys:be,criteria:ne,isAdditionalChunk:0<re}).then(function(Tt){return ql(g.table,be,Tt)}).then(function(Tt){return V(be.length,Tt)})}).then(function(){return I.length>re+de&&ee(re+Y)})})}var ne=Yi(g)&&g.limit===1/0&&(typeof o!="function"||G)&&{index:g.index,range:g.range};return ee(0).then(function(){if(0<z.length)throw new Le("Error modifying one or more objects",z,H,K);return I.length})})})},st.prototype.delete=function(){var o=this._ctx,d=o.range;return!Yi(o)||o.table.schema.yProps||!o.isPrimKey&&d.type!==3?this.modify(Gu):this._write(function(g){var _=o.table.core.schema.primaryKey,S=d;return o.table.core.count({trans:g,query:{index:_,range:S}}).then(function(T){return o.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(N){var C=N.failures,N=N.numFailures;if(N)throw new Le("Could not delete some values",Object.keys(C).map(function(q){return C[q]}),T-N);return T-N})})})},st);function st(){}var Gu=function(o,d){return d.value=null};function Xu(o,d){return o<d?-1:o===d?0:1}function Hf(o,d){return d<o?-1:o===d?0:1}function Rn(o,d,g){return o=o instanceof ai?new o.Collection(o):o,o._ctx.error=new(g||TypeError)(d),o}function Tr(o){return new o.Collection(o,function(){return li("")}).limit(0)}function Gi(o,d,g,_){var S,T,D,C,N,q,Y,U=g.length;if(!g.every(function(H){return typeof H=="string"}))return Rn(o,Co);function V(H){S=H==="next"?function(G){return G.toUpperCase()}:function(G){return G.toLowerCase()},T=H==="next"?function(G){return G.toLowerCase()}:function(G){return G.toUpperCase()},D=H==="next"?Xu:Hf;var K=g.map(function(G){return{lower:T(G),upper:S(G)}}).sort(function(G,I){return D(G.lower,I.lower)});C=K.map(function(G){return G.upper}),N=K.map(function(G){return G.lower}),Y=(q=H)==="next"?"":_}V("next"),o=new o.Collection(o,function(){return cr(C[0],N[U-1]+_)}),o._ondirectionchange=function(H){V(H)};var z=0;return o._addAlgorithm(function(H,K,G){var I=H.key;if(typeof I!="string")return!1;var ee=T(I);if(d(ee,N,z))return!0;for(var ne=null,re=z;re<U;++re){var de=(function(me,he,ye,ge,we,be){for(var je=Math.min(me.length,ge.length),Je=-1,Ve=0;Ve<je;++Ve){var Tt=he[Ve];if(Tt!==ge[Ve])return we(me[Ve],ye[Ve])<0?me.substr(0,Ve)+ye[Ve]+ye.substr(Ve+1):we(me[Ve],ge[Ve])<0?me.substr(0,Ve)+ge[Ve]+ye.substr(Ve+1):0<=Je?me.substr(0,Je)+he[Je]+ye.substr(Je+1):null;we(me[Ve],Tt)<0&&(Je=Ve)}return je<ge.length&&be==="next"?me+ye.substr(me.length):je<me.length&&be==="prev"?me.substr(0,ye.length):Je<0?null:me.substr(0,Je)+ge[Je]+ye.substr(Je+1)})(I,ee,C[re],N[re],D,q);de===null&&ne===null?z=re+1:(ne===null||0<D(ne,de))&&(ne=de)}return K(ne!==null?function(){H.continue(ne+Y)}:G),!1}),o}function cr(o,d,g,_){return{type:2,lower:o,upper:d,lowerOpen:g,upperOpen:_}}function li(o){return{type:1,lower:o,upper:o}}var ai=(Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(o,d,g,_){g=g!==!1,_=_===!0;try{return 0<this._cmp(o,d)||this._cmp(o,d)===0&&(g||_)&&(!g||!_)?Tr(this):new this.Collection(this,function(){return cr(o,d,!g,!_)})}catch{return Rn(this,or)}},Yt.prototype.equals=function(o){return o==null?Rn(this,or):new this.Collection(this,function(){return li(o)})},Yt.prototype.above=function(o){return o==null?Rn(this,or):new this.Collection(this,function(){return cr(o,void 0,!0)})},Yt.prototype.aboveOrEqual=function(o){return o==null?Rn(this,or):new this.Collection(this,function(){return cr(o,void 0,!1)})},Yt.prototype.below=function(o){return o==null?Rn(this,or):new this.Collection(this,function(){return cr(void 0,o,!1,!0)})},Yt.prototype.belowOrEqual=function(o){return o==null?Rn(this,or):new this.Collection(this,function(){return cr(void 0,o)})},Yt.prototype.startsWith=function(o){return typeof o!="string"?Rn(this,Co):this.between(o,o+Nr,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Gi(this,function(d,g){return d.indexOf(g[0])===0},[o],Nr)},Yt.prototype.equalsIgnoreCase=function(o){return Gi(this,function(d,g){return d===g[0]},[o],"")},Yt.prototype.anyOfIgnoreCase=function(){var o=R.apply(Oe,arguments);return o.length===0?Tr(this):Gi(this,function(d,g){return g.indexOf(d)!==-1},o,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var o=R.apply(Oe,arguments);return o.length===0?Tr(this):Gi(this,function(d,g){return g.some(function(_){return d.indexOf(_)===0})},o,Nr)},Yt.prototype.anyOf=function(){var o=this,d=R.apply(Oe,arguments),g=this._cmp;try{d.sort(g)}catch{return Rn(this,or)}if(d.length===0)return Tr(this);var _=new this.Collection(this,function(){return cr(d[0],d[d.length-1])});_._ondirectionchange=function(T){g=T==="next"?o._ascending:o._descending,d.sort(g)};var S=0;return _._addAlgorithm(function(T,D,C){for(var N=T.key;0<g(N,d[S]);)if(++S===d.length)return D(C),!1;return g(N,d[S])===0||(D(function(){T.continue(d[S])}),!1)}),_},Yt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var o=R.apply(Oe,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Rn(this,or)}var d=o.reduce(function(g,_){return g?g.concat([[g[g.length-1][1],_]]):[[-1/0,_]]},null);return d.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(I,d){var g=this,_=this._cmp,S=this._ascending,T=this._descending,D=this._min,C=this._max;if(I.length===0)return Tr(this);if(!I.every(function(ee){return ee[0]!==void 0&&ee[1]!==void 0&&S(ee[0],ee[1])<=0}))return Rn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var N=!d||d.includeLowers!==!1,q=d&&d.includeUppers===!0,Y,U=S;function V(ee,ne){return U(ee[0],ne[0])}try{(Y=I.reduce(function(ee,ne){for(var re=0,de=ee.length;re<de;++re){var me=ee[re];if(_(ne[0],me[1])<0&&0<_(ne[1],me[0])){me[0]=D(me[0],ne[0]),me[1]=C(me[1],ne[1]);break}}return re===de&&ee.push(ne),ee},[])).sort(V)}catch{return Rn(this,or)}var z=0,H=q?function(ee){return 0<S(ee,Y[z][1])}:function(ee){return 0<=S(ee,Y[z][1])},K=N?function(ee){return 0<T(ee,Y[z][0])}:function(ee){return 0<=T(ee,Y[z][0])},G=H,I=new this.Collection(this,function(){return cr(Y[0][0],Y[Y.length-1][1],!N,!q)});return I._ondirectionchange=function(ee){U=ee==="next"?(G=H,S):(G=K,T),Y.sort(V)},I._addAlgorithm(function(ee,ne,re){for(var de,me=ee.key;G(me);)if(++z===Y.length)return ne(re),!1;return!H(de=me)&&!K(de)||(g._cmp(me,Y[z][1])===0||g._cmp(me,Y[z][0])===0||ne(function(){U===S?ee.continue(Y[z][0]):ee.continue(Y[z][1])}),!1)}),I},Yt.prototype.startsWithAnyOf=function(){var o=R.apply(Oe,arguments);return o.every(function(d){return typeof d=="string"})?o.length===0?Tr(this):this.inAnyRange(o.map(function(d){return[d,d+Nr]})):Rn(this,"startsWithAnyOf() only works with strings")},Yt);function Yt(){}function jn(o){return et(function(d){return Xi(d),o(d.target.error),!1})}function Xi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var xr="storagemutated",Gn="x-storagemutated-1",fr=Ki(null,xr),Yl=($t.prototype._lock=function(){return _e(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},$t.prototype._unlock=function(){if(_e(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Ur(o[1],o[0])}catch{}}return this},$t.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},$t.prototype.create=function(o){var d=this;if(!this.mode)return this;var g=this.db.idbdb,_=this.db._state.dbOpenError;if(_e(!this.idbtrans),!o&&!g)switch(_&&_.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(_);case"MissingAPIError":throw new Se.MissingAPI(_.message,_);default:throw new Se.OpenFailed(_)}if(!this.active)throw new Se.TransactionInactive;return _e(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=et(function(S){Xi(S),d._reject(o.error)}),o.onabort=et(function(S){Xi(S),d.active&&d._reject(new Se.Abort(o.error)),d.active=!1,d.on("abort").fire(S)}),o.oncomplete=et(function(){d.active=!1,d._resolve(),"mutatedParts"in o&&fr.storagemutated.fire(o.mutatedParts)}),this},$t.prototype._promise=function(o,d,g){var _=this;if(o==="readwrite"&&this.mode!=="readwrite")return jt(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return jt(new Se.TransactionInactive);if(this._locked())return new Ae(function(T,D){_._blockedFuncs.push([function(){_._promise(o,d,g).then(T,D)},Re])});if(g)return sr(function(){var T=new Ae(function(D,C){_._lock();var N=d(D,C,_);N&&N.then&&N.then(D,C)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var S=new Ae(function(T,D){var C=d(T,D,_);C&&C.then&&C.then(T,D)});return S._lib=!0,S},$t.prototype._root=function(){return this.parent?this.parent._root():this},$t.prototype.waitFor=function(o){var d,g=this._root(),_=Ae.resolve(o);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return _}):(g._waitingFor=_,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),(function T(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=T)})());var S=g._waitingFor;return new Ae(function(T,D){_.then(function(C){return g._waitingQueue.push(et(T.bind(null,C)))},function(C){return g._waitingQueue.push(et(D.bind(null,C)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},$t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},$t.prototype.table=function(o){var d=this._memoizedTables||(this._memoizedTables={});if(w(d,o))return d[o];var g=this.schema[o];if(!g)throw new Se.NotFound("Table "+o+" not part of transaction");return g=new this.db.Table(o,g,this),g.core=this.db.core.table(o),d[o]=g},$t);function $t(){}function Vl(o,d,g,_,S,T,D,C){return{name:o,keyPath:d,unique:g,multi:_,auto:S,compound:T,src:(g&&!D?"&":"")+(_?"*":"")+(S?"++":"")+Gl(d),type:C}}function Gl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Ta(o,d,g){return{name:o,primKey:d,indexes:g,mappedClass:null,idxByName:(_=function(S){return[S.name,S]},g.reduce(function(S,T,D){return D=_(T,D),D&&(S[D[0]]=D[1]),S},{}))};var _}var Lr=function(o){try{return o.only([[]]),Lr=function(){return[[]]},[[]]}catch{return Lr=function(){return Nr},Nr}};function Ii(o){return o==null?function(){}:typeof o=="string"?(d=o).split(".").length===1?function(g){return g[d]}:function(g){return Ee(g,d)}:function(g){return Ee(g,o)};var d}function Iu(o){return[].slice.call(o)}var wn=0;function Xn(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function xa(o,d,N){function _(G){if(G.type===3)return null;if(G.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=G.lower,H=G.upper,K=G.lowerOpen,G=G.upperOpen;return z===void 0?H===void 0?null:d.upperBound(H,!!G):H===void 0?d.lowerBound(z,!!K):d.bound(z,H,!!K,!!G)}function S(V){var z,H=V.name;return{name:H,schema:V,mutate:function(K){var G=K.trans,I=K.type,ee=K.keys,ne=K.values,re=K.range;return new Promise(function(de,me){de=et(de);var he=G.objectStore(H),ye=he.keyPath==null,ge=I==="put"||I==="add";if(!ge&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var we,be=(ee||ne||{length:1}).length;if(ee&&ne&&ee.length!==ne.length)throw new Error("Given keys array must have same length as given values array.");if(be===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function je(It){++Tt,Xi(It)}var Je=[],Ve=[],Tt=0;if(I==="deleteRange"){if(re.type===4)return de({numFailures:Tt,failures:Ve,results:[],lastResult:void 0});re.type===3?Je.push(we=he.clear()):Je.push(we=he.delete(_(re)))}else{var ye=ge?ye?[ne,ee]:[ne,null]:[ee,null],He=ye[0],Xt=ye[1];if(ge)for(var Nt=0;Nt<be;++Nt)Je.push(we=Xt&&Xt[Nt]!==void 0?he[I](He[Nt],Xt[Nt]):he[I](He[Nt])),we.onerror=je;else for(Nt=0;Nt<be;++Nt)Je.push(we=he[I](He[Nt])),we.onerror=je}function Fl(It){It=It.target.result,Je.forEach(function(Nn,ss){return Nn.error!=null&&(Ve[ss]=Nn.error)}),de({numFailures:Tt,failures:Ve,results:I==="delete"?ee:Je.map(function(Nn){return Nn.result}),lastResult:It})}we.onerror=function(It){je(It),Fl(It)},we.onsuccess=Fl})},getMany:function(K){var G=K.trans,I=K.keys;return new Promise(function(ee,ne){ee=et(ee);for(var re,de=G.objectStore(H),me=I.length,he=new Array(me),ye=0,ge=0,we=function(Je){Je=Je.target,he[Je._pos]=Je.result,++ge===ye&&ee(he)},be=jn(ne),je=0;je<me;++je)I[je]!=null&&((re=de.get(I[je]))._pos=je,re.onsuccess=we,re.onerror=be,++ye);ye===0&&ee(he)})},get:function(K){var G=K.trans,I=K.key;return new Promise(function(ee,ne){ee=et(ee);var re=G.objectStore(H).get(I);re.onsuccess=function(de){return ee(de.target.result)},re.onerror=jn(ne)})},query:(z=q,function(K){return new Promise(function(G,I){G=et(G);var ee,ne,re,ye=K.trans,de=K.values,me=K.limit,we=K.query,he=me===1/0?void 0:me,ge=we.index,we=we.range,ye=ye.objectStore(H),ge=ge.isPrimaryKey?ye:ye.index(ge.name),we=_(we);if(me===0)return G({result:[]});z?((he=de?ge.getAll(we,he):ge.getAllKeys(we,he)).onsuccess=function(be){return G({result:be.target.result})},he.onerror=jn(I)):(ee=0,ne=!de&&"openKeyCursor"in ge?ge.openKeyCursor(we):ge.openCursor(we),re=[],ne.onsuccess=function(be){var je=ne.result;return je?(re.push(de?je.value:je.primaryKey),++ee===me?G({result:re}):void je.continue()):G({result:re})},ne.onerror=jn(I))})}),openCursor:function(K){var G=K.trans,I=K.values,ee=K.query,ne=K.reverse,re=K.unique;return new Promise(function(de,me){de=et(de);var ge=ee.index,he=ee.range,ye=G.objectStore(H),ye=ge.isPrimaryKey?ye:ye.index(ge.name),ge=ne?re?"prevunique":"prev":re?"nextunique":"next",we=!I&&"openKeyCursor"in ye?ye.openKeyCursor(_(he),ge):ye.openCursor(_(he),ge);we.onerror=jn(me),we.onsuccess=et(function(be){var je,Je,Ve,Tt,He=we.result;He?(He.___id=++wn,He.done=!1,je=He.continue.bind(He),Je=(Je=He.continuePrimaryKey)&&Je.bind(He),Ve=He.advance.bind(He),Tt=function(){throw new Error("Cursor not stopped")},He.trans=G,He.stop=He.continue=He.continuePrimaryKey=He.advance=function(){throw new Error("Cursor not started")},He.fail=et(me),He.next=function(){var Xt=this,Nt=1;return this.start(function(){return Nt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},He.start=function(Xt){function Nt(){if(we.result)try{Xt()}catch(It){He.fail(It)}else He.done=!0,He.start=function(){throw new Error("Cursor behind last entry")},He.stop()}var Fl=new Promise(function(It,Nn){It=et(It),we.onerror=jn(Nn),He.fail=Nn,He.stop=function(ss){He.stop=He.continue=He.continuePrimaryKey=He.advance=Tt,It(ss)}});return we.onsuccess=et(function(It){we.onsuccess=Nt,Nt()}),He.continue=je,He.continuePrimaryKey=Je,He.advance=Ve,Nt(),Fl},de(He)):de(null)},me)})},count:function(K){var G=K.query,I=K.trans,ee=G.index,ne=G.range;return new Promise(function(re,de){var me=I.objectStore(H),he=ee.isPrimaryKey?me:me.index(ee.name),me=_(ne),he=me?he.count(me):he.count();he.onsuccess=et(function(ye){return re(ye.target.result)}),he.onerror=jn(de)})}}}var T,D,C,Y=(D=N,C=Iu((T=o).objectStoreNames),{schema:{name:T.name,tables:C.map(function(V){return D.objectStore(V)}).map(function(V){var z=V.keyPath,G=V.autoIncrement,H=p(z),K={},G={name:V.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:H,keyPath:z,autoIncrement:G,unique:!0,extractKey:Ii(z)},indexes:Iu(V.indexNames).map(function(I){return V.index(I)}).map(function(re){var ee=re.name,ne=re.unique,de=re.multiEntry,re=re.keyPath,de={name:ee,compound:p(re),keyPath:re,unique:ne,multiEntry:de,extractKey:Ii(re)};return K[Xn(re)]=de}),getIndexByKeyPath:function(I){return K[Xn(I)]}};return K[":id"]=G.primaryKey,z!=null&&(K[Xn(z)]=G.primaryKey),G})},hasGetAll:0<C.length&&"getAll"in D.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=Y.schema,q=Y.hasGetAll,Y=N.tables.map(S),U={};return Y.forEach(function(V){return U[V.name]=V}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(V){if(!U[V])throw new Error("Table '".concat(V,"' not found"));return U[V]},MIN_KEY:-1/0,MAX_KEY:Lr(d),schema:N}}function Xl(o,d,g,_){var S=g.IDBKeyRange;return g.indexedDB,{dbcore:(_=xa(d,S,_),o.dbcore.reduce(function(T,D){return D=D.create,a(a({},T),D(T))},_))}}function ka(o,_){var g=_.db,_=Xl(o._middlewares,g,o._deps,_);o.core=_.dbcore,o.tables.forEach(function(S){var T=S.name;o.core.schema.tables.some(function(D){return D.name===T})&&(S.core=o.core.table(T),o[T]instanceof o.Table&&(o[T].core=S.core))})}function Qi(o,d,g,_){g.forEach(function(S){var T=_[S];d.forEach(function(D){var C=(function N(q,Y){return J(q,Y)||(q=v(q))&&N(q,Y)})(D,S);(!C||"value"in C&&C.value===void 0)&&(D===o.Transaction.prototype||D instanceof o.Transaction?k(D,S,{get:function(){return this.table(S)},set:function(N){O(this,S,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):D[S]=new o.Table(S,T))})})}function Il(o,d){d.forEach(function(g){for(var _ in g)g[_]instanceof o.Table&&delete g[_]})}function Ql(o,d){return o._cfg.version-d._cfg.version}function Da(o,d,g,_){var S=o._dbSchema;g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Ta("$meta",jo("")[0],[]),o._storeNames.push("$meta"));var T=o._createTransaction("readwrite",o._storeNames,S);T.create(g),T._completion.catch(_);var D=T._reject.bind(T),C=Re.transless||Re;sr(function(){return Re.trans=T,Re.transless=C,d!==0?(ka(o,g),q=d,((N=T).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(Y){return Y??q}):Ae.resolve(q)).then(function(Y){return V=Y,z=T,H=g,K=[],Y=(U=o)._versions,G=U._dbSchema=Ca(0,U.idbdb,H),(Y=Y.filter(function(I){return I._cfg.version>=V})).length!==0?(Y.forEach(function(I){K.push(function(){var ee=G,ne=I._cfg.dbschema;Ra(U,ee,H),Ra(U,ne,H),G=U._dbSchema=ne;var re=Qu(ee,ne);re.add.forEach(function(ge){Zu(H,ge[0],ge[1].primKey,ge[1].indexes)}),re.change.forEach(function(ge){if(ge.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var we=H.objectStore(ge.name);ge.add.forEach(function(be){return Zi(we,be)}),ge.change.forEach(function(be){we.deleteIndex(be.name),Zi(we,be)}),ge.del.forEach(function(be){return we.deleteIndex(be)})});var de=I._cfg.contentUpgrade;if(de&&I._cfg.version>V){ka(U,H),z._memoizedTables={};var me=Fe(ne);re.del.forEach(function(ge){me[ge]=ee[ge]}),Il(U,[U.Transaction.prototype]),Qi(U,[U.Transaction.prototype],y(me),me),z.schema=me;var he,ye=W(de);return ye&&Yn(),re=Ae.follow(function(){var ge;(he=de(z))&&ye&&(ge=Dn.bind(null,null),he.then(ge,ge))}),he&&typeof he.then=="function"?Ae.resolve(he):re.then(function(){return he})}}),K.push(function(ee){var ne,re,de=I._cfg.dbschema;ne=de,re=ee,[].slice.call(re.db.objectStoreNames).forEach(function(me){return ne[me]==null&&re.db.deleteObjectStore(me)}),Il(U,[U.Transaction.prototype]),Qi(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),z.schema=U._dbSchema}),K.push(function(ee){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===I._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ne){return ne!=="$meta"})):ee.objectStore("$meta").put(I._cfg.version,"version"))})}),(function I(){return K.length?Ae.resolve(K.shift()(z.idbtrans)).then(I):Ae.resolve()})().then(function(){Mo(G,H)})):Ae.resolve();var U,V,z,H,K,G}).catch(D)):(y(S).forEach(function(Y){Zu(g,Y,S[Y].primKey,S[Y].indexes)}),ka(o,g),void Ae.follow(function(){return o.on.populate.fire(T)}).catch(D));var N,q})}function Uo(o,d){Mo(o._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=Ca(0,o.idbdb,d);Ra(o,o._dbSchema,d);for(var _=0,S=Qu(g,o._dbSchema).change;_<S.length;_++){var T=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var C=d.objectStore(D.name);D.add.forEach(function(N){kn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(N.src)),Zi(C,N)})})(S[_]);if(typeof T=="object")return T.value}}function Qu(o,d){var g,_={del:[],add:[],change:[]};for(g in o)d[g]||_.del.push(g);for(g in d){var S=o[g],T=d[g];if(S){var D={name:g,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||S.primKey.auto!==T.primKey.auto)D.recreate=!0,_.change.push(D);else{var C=S.idxByName,N=T.idxByName,q=void 0;for(q in C)N[q]||D.del.push(q);for(q in N){var Y=C[q],U=N[q];Y?Y.src!==U.src&&D.change.push(U):D.add.push(U)}(0<D.del.length||0<D.add.length||0<D.change.length)&&_.change.push(D)}}else _.add.push([g,T])}return _}function Zu(o,d,g,_){var S=o.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return _.forEach(function(T){return Zi(S,T)}),S}function Mo(o,d){y(o).forEach(function(g){d.db.objectStoreNames.contains(g)||(kn&&console.debug("Dexie: Creating missing table",g),Zu(d,g,o[g].primKey,o[g].indexes))})}function Zi(o,d){o.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Ca(o,d,g){var _={};return se(d.objectStoreNames,0).forEach(function(S){for(var T=g.objectStore(S),D=Vl(Gl(q=T.keyPath),q||"",!0,!1,!!T.autoIncrement,q&&typeof q!="string",!0),C=[],N=0;N<T.indexNames.length;++N){var Y=T.index(T.indexNames[N]),q=Y.keyPath,Y=Vl(Y.name,q,!!Y.unique,!!Y.multiEntry,!1,q&&typeof q!="string",!1);C.push(Y)}_[S]=Ta(S,D,C)}),_}function Ra(o,d,g){for(var _=g.db.objectStoreNames,S=0;S<_.length;++S){var T=_[S],D=g.objectStore(T);o._hasGetAll="getAll"in D;for(var C=0;C<D.indexNames.length;++C){var N=D.indexNames[C],q=D.index(N).keyPath,Y=typeof q=="string"?q:"["+se(q).join("+")+"]";!d[T]||(q=d[T].idxByName[Y])&&(q.name=N,delete d[T].idxByName[Y],d[T].idxByName[N]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function jo(o){return o.split(",").map(function(d,g){var T=d.split(":"),_=(S=T[1])===null||S===void 0?void 0:S.trim(),S=(d=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Vl(S,T||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),p(T),g===0,_)})}var Kf=(Ji.prototype._createTableSchema=Ta,Ji.prototype._parseIndexSyntax=jo,Ji.prototype._parseStoresSpec=function(o,d){var g=this;y(o).forEach(function(_){if(o[_]!==null){var S=g._parseIndexSyntax(o[_]),T=S.shift();if(!T)throw new Se.Schema("Invalid schema for table "+_+": "+o[_]);if(T.unique=!0,T.multi)throw new Se.Schema("Primary key cannot be multiEntry*");S.forEach(function(D){if(D.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),S=g._createTableSchema(_,T,S),d[_]=S}})},Ji.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,g):g;var g=d._versions,_={},S={};return g.forEach(function(T){b(_,T._cfg.storesSource),S=T._cfg.dbschema={},T._parseStoresSpec(_,S)}),d._dbSchema=S,Il(d,[d._allTables,d,d.Transaction.prototype]),Qi(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],y(S),S),d._storeNames=y(S),this},Ji.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ba(this._cfg.contentUpgrade||Be,o),this},Ji);function Ji(){}function Ua(o,d){var g=o._dbNamesDB;return g||(g=o._dbNamesDB=new In(ni,{addons:[],indexedDB:o,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Ju(o){return o&&typeof o.databases=="function"}function $u(o){return sr(function(){return Re.letThrough=!0,o()})}function Fu(o){return!("from"in o)}var an=function(o,d){if(!this){var g=new an;return o&&"d"in o&&b(g,o),g}b(this,arguments.length?{d:1,from:o,to:1<arguments.length?d:o}:{d:0})};function ui(o,d,g){var _=rt(d,g);if(!isNaN(_)){if(0<_)throw RangeError();if(Fu(o))return b(o,{from:d,to:g,d:1});var S=o.l,_=o.r;if(rt(g,o.from)<0)return S?ui(S,d,g):o.l={from:d,to:g,d:1,l:null,r:null},Pu(o);if(0<rt(d,o.to))return _?ui(_,d,g):o.r={from:d,to:g,d:1,l:null,r:null},Pu(o);rt(d,o.from)<0&&(o.from=d,o.l=null,o.d=_?_.d+1:1),0<rt(g,o.to)&&(o.to=g,o.r=null,o.d=o.l?o.l.d+1:1),g=!o.r,S&&!o.l&&Zl(o,S),_&&g&&Zl(o,_)}}function Zl(o,d){Fu(d)||(function g(_,N){var T=N.from,D=N.to,C=N.l,N=N.r;ui(_,T,D),C&&g(_,C),N&&g(_,N)})(o,d)}function No(o,d){var g=Ma(d),_=g.next();if(_.done)return!1;for(var S=_.value,T=Ma(o),D=T.next(S.from),C=D.value;!_.done&&!D.done;){if(rt(C.from,S.to)<=0&&0<=rt(C.to,S.from))return!0;rt(S.from,C.from)<0?S=(_=g.next(C.from)).value:C=(D=T.next(S.from)).value}return!1}function Ma(o){var d=Fu(o)?null:{s:0,n:o};return{next:function(g){for(var _=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,_)for(;d.n.l&&rt(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!_||rt(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Pu(o){var d,g,_=(((d=o.r)===null||d===void 0?void 0:d.d)||0)-(((g=o.l)===null||g===void 0?void 0:g.d)||0),S=1<_?"r":_<-1?"l":"";S&&(d=S=="r"?"l":"r",g=a({},o),_=o[S],o.from=_.from,o.to=_.to,o[S]=_[S],g[S]=_[d],(o[d]=g).d=zo(g)),o.d=zo(o)}function zo(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function ja(o,d){return y(d).forEach(function(g){o[g]?Zl(o[g],d[g]):o[g]=(function _(S){var T,D,C={};for(T in S)w(S,T)&&(D=S[T],C[T]=!D||typeof D!="object"||pe.has(D.constructor)?D:_(D));return C})(d[g])}),o}function Wu(o,d){return o.all||d.all||Object.keys(o).some(function(g){return d[g]&&No(d[g],o[g])})}A(an.prototype,((Un={add:function(o){return Zl(this,o),this},addKey:function(o){return ui(this,o,o),this},addKeys:function(o){var d=this;return o.forEach(function(g){return ui(d,g,g)}),this},hasKey:function(o){var d=Ma(this).next(o).value;return d&&rt(d.from,o)<=0&&0<=rt(d.to,o)}})[B]=function(){return Ma(this)},Un));var si={},es={},ts=!1;function Na(o){ja(es,o),ts||(ts=!0,setTimeout(function(){ts=!1,ns(es,!(es={}))},0))}function ns(o,d){d===void 0&&(d=!1);var g=new Set;if(o.all)for(var _=0,S=Object.values(si);_<S.length;_++)Bo(D=S[_],o,g,d);else for(var T in o){var D,C=/^idb\:\/\/(.*)\/(.*)\//.exec(T);C&&(T=C[1],C=C[2],(D=si["idb://".concat(T,"/").concat(C)])&&Bo(D,o,g,d))}g.forEach(function(N){return N()})}function Bo(o,d,g,_){for(var S=[],T=0,D=Object.entries(o.queries.query);T<D.length;T++){for(var C=D[T],N=C[0],q=[],Y=0,U=C[1];Y<U.length;Y++){var V=U[Y];Wu(d,V.obsSet)?V.subscribers.forEach(function(G){return g.add(G)}):_&&q.push(V)}_&&S.push([N,q])}if(_)for(var z=0,H=S;z<H.length;z++){var K=H[z],N=K[0],q=K[1];o.queries.query[N]=q}}function rs(o){var d=o._state,g=o._deps.indexedDB;if(d.isBeingOpened||o.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?jt(d.dbOpenError):o});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var _=d.openCanceller,S=Math.round(10*o.verno),T=!1;function D(){if(d.openCanceller!==_)throw new Se.DatabaseClosed("db.open() was cancelled")}function C(){return new Ae(function(V,z){if(D(),!g)throw new Se.MissingAPI;var H=o.name,K=d.autoSchema||!S?g.open(H):g.open(H,S);if(!K)throw new Se.MissingAPI;K.onerror=jn(z),K.onblocked=et(o._fireOnBlocked),K.onupgradeneeded=et(function(G){var I;Y=K.transaction,d.autoSchema&&!o._options.allowEmptyDB?(K.onerror=Xi,Y.abort(),K.result.close(),(I=g.deleteDatabase(H)).onsuccess=I.onerror=et(function(){z(new Se.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(Y.onerror=jn(z),G=G.oldVersion>Math.pow(2,62)?0:G.oldVersion,U=G<1,o.idbdb=K.result,T&&Uo(o,Y),Da(o,G/10,Y,z))},z),K.onsuccess=et(function(){Y=null;var G,I,ee,ne,re,de=o.idbdb=K.result,me=se(de.objectStoreNames);if(0<me.length)try{var he=de.transaction((ne=me).length===1?ne[0]:ne,"readonly");if(d.autoSchema)I=de,ee=he,(G=o).verno=I.version/10,ee=G._dbSchema=Ca(0,I,ee),G._storeNames=se(I.objectStoreNames,0),Qi(G,[G._allTables],y(ee),ee);else if(Ra(o,o._dbSchema,he),((re=Qu(Ca(0,(re=o).idbdb,he),re._dbSchema)).add.length||re.change.some(function(ye){return ye.add.length||ye.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),S=de.version+1,T=!0,V(C());ka(o,he)}catch{}Ar.push(o),de.onversionchange=et(function(ye){d.vcFired=!0,o.on("versionchange").fire(ye)}),de.onclose=et(function(ye){o.on("close").fire(ye)}),U&&(re=o._deps,he=H,de=re.indexedDB,re=re.IDBKeyRange,Ju(de)||he===ni||Ua(de,re).put({name:he}).catch(Be)),V()},z)}).catch(function(V){switch(V?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),C();break;case"VersionError":if(0<S)return S=0,C()}return Ae.reject(V)})}var N,q=d.dbReadyResolve,Y=null,U=!1;return Ae.race([_,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(V){function z(){return indexedDB.databases().finally(V)}N=setInterval(z,100),z()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(C)]).then(function(){return D(),d.onReadyBeingFired=[],Ae.resolve($u(function(){return o.on.ready.fire(o.vip)})).then(function V(){if(0<d.onReadyBeingFired.length){var z=d.onReadyBeingFired.reduce(ba,Be);return d.onReadyBeingFired=[],Ae.resolve($u(function(){return z(o.vip)})).then(V)}})}).finally(function(){d.openCanceller===_&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(V){d.dbOpenError=V;try{Y&&Y.abort()}catch{}return _===d.openCanceller&&o._close(),jt(V)}).finally(function(){d.openComplete=!0,q()}).then(function(){var V;return U&&(V={},o.tables.forEach(function(z){z.schema.indexes.forEach(function(H){H.name&&(V["idb://".concat(o.name,"/").concat(z.name,"/").concat(H.name)]=new an(-1/0,[[[]]]))}),V["idb://".concat(o.name,"/").concat(z.name,"/")]=V["idb://".concat(o.name,"/").concat(z.name,"/:dels")]=new an(-1/0,[[[]]])}),fr(xr).fire(V),ns(V,!0)),o})}function oi(o){function d(T){return o.next(T)}var g=S(d),_=S(function(T){return o.throw(T)});function S(T){return function(N){var C=T(N),N=C.value;return C.done?N:N&&typeof N.then=="function"?N.then(g,_):p(N)?Promise.all(N).then(g,_):g(N)}}return S(d)()}function za(o,d,g){for(var _=p(o)?o.slice():[o],S=0;S<g;++S)_.push(d);return _}var Lo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return a(a({},o),{table:function(d){var g=o.table(d),_=g.schema,S={},T=[];function D(U,V,z){var H=Xn(U),K=S[H]=S[H]||[],G=U==null?0:typeof U=="string"?1:U.length,I=0<V,I=a(a({},z),{name:I?"".concat(H,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:I,keyTail:V,keyLength:G,extractKey:Ii(U),unique:!I&&z.unique});return K.push(I),I.isPrimaryKey||T.push(I),1<G&&D(G===2?U[0]:U.slice(0,G-1),V+1,z),K.sort(function(ee,ne){return ee.keyTail-ne.keyTail}),I}d=D(_.primaryKey.keyPath,0,_.primaryKey),S[":id"]=[d];for(var C=0,N=_.indexes;C<N.length;C++){var q=N[C];D(q.keyPath,0,q)}function Y(U){var V,z=U.query.index;return z.isVirtual?a(a({},U),{query:{index:z.lowLevelIndex,range:(V=U.query.range,z=z.keyTail,{type:V.type===1?2:V.type,lower:za(V.lower,V.lowerOpen?o.MAX_KEY:o.MIN_KEY,z),lowerOpen:!0,upper:za(V.upper,V.upperOpen?o.MIN_KEY:o.MAX_KEY,z),upperOpen:!0})}}):U}return a(a({},g),{schema:a(a({},_),{primaryKey:d,indexes:T,getIndexByKeyPath:function(U){return(U=S[Xn(U)])&&U[0]}}),count:function(U){return g.count(Y(U))},query:function(U){return g.query(Y(U))},openCursor:function(U){var V=U.query.index,z=V.keyTail,H=V.isVirtual,K=V.keyLength;return H?g.openCursor(Y(U)).then(function(I){return I&&G(I)}):g.openCursor(U);function G(I){return Object.create(I,{continue:{value:function(ee){ee!=null?I.continue(za(ee,U.reverse?o.MAX_KEY:o.MIN_KEY,z)):U.unique?I.continue(I.key.slice(0,K).concat(U.reverse?o.MIN_KEY:o.MAX_KEY,z)):I.continue()}},continuePrimaryKey:{value:function(ee,ne){I.continuePrimaryKey(za(ee,o.MAX_KEY,z),ne)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var ee=I.key;return K===1?ee[0]:ee.slice(0,K)}},value:{get:function(){return I.value}}})}}})}})}};function Ba(o,d,g,_){return g=g||{},_=_||"",y(o).forEach(function(S){var T,D,C;w(d,S)?(T=o[S],D=d[S],typeof T=="object"&&typeof D=="object"&&T&&D?(C=ze(T))!==ze(D)?g[_+S]=d[S]:C==="Object"?Ba(T,D,g,_+S+"."):T!==D&&(g[_+S]=d[S]):T!==D&&(g[_+S]=d[S])):g[_+S]=void 0}),y(d).forEach(function(S){w(o,S)||(g[_+S]=d[S])}),g}function La(o,d){return d.type==="delete"?d.keys:d.keys||d.values.map(o.extractKey)}var qo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return a(a({},o),{table:function(d){var g=o.table(d),_=g.schema.primaryKey;return a(a({},g),{mutate:function(S){var T=Re.trans,D=T.table(d).hook,C=D.deleting,N=D.creating,q=D.updating;switch(S.type){case"add":if(N.fire===Be)break;return T._promise("readwrite",function(){return Y(S)},!0);case"put":if(N.fire===Be&&q.fire===Be)break;return T._promise("readwrite",function(){return Y(S)},!0);case"delete":if(C.fire===Be)break;return T._promise("readwrite",function(){return Y(S)},!0);case"deleteRange":if(C.fire===Be)break;return T._promise("readwrite",function(){return(function U(V,z,H){return g.query({trans:V,values:!1,query:{index:_,range:z},limit:H}).then(function(K){var G=K.result;return Y({type:"delete",keys:G,trans:V}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):G.length<H?{failures:[],numFailures:0,lastResult:void 0}:U(V,a(a({},z),{lower:G[G.length-1],lowerOpen:!0}),H)})})})(S.trans,S.range,1e4)},!0)}return g.mutate(S);function Y(U){var V,z,H,K=Re.trans,G=U.keys||La(_,U);if(!G)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?a(a({},U),{keys:G}):a({},U)).type!=="delete"&&(U.values=s([],U.values)),U.keys&&(U.keys=s([],U.keys)),V=g,H=G,((z=U).type==="add"?Promise.resolve([]):V.getMany({trans:z.trans,keys:H,cache:"immutable"})).then(function(I){var ee=G.map(function(ne,re){var de,me,he,ye=I[re],ge={onerror:null,onsuccess:null};return U.type==="delete"?C.fire.call(ge,ne,ye,K):U.type==="add"||ye===void 0?(de=N.fire.call(ge,ne,U.values[re],K),ne==null&&de!=null&&(U.keys[re]=ne=de,_.outbound||Te(U.values[re],_.keyPath,ne))):(de=Ba(ye,U.values[re]),(me=q.fire.call(ge,de,ne,ye,K))&&(he=U.values[re],Object.keys(me).forEach(function(we){w(he,we)?he[we]=me[we]:Te(he,we,me[we])}))),ge});return g.mutate(U).then(function(ne){for(var re=ne.failures,de=ne.results,me=ne.numFailures,ne=ne.lastResult,he=0;he<G.length;++he){var ye=(de||G)[he],ge=ee[he];ye==null?ge.onerror&&ge.onerror(re[he]):ge.onsuccess&&ge.onsuccess(U.type==="put"&&I[he]?U.values[he]:ye)}return{failures:re,results:de,numFailures:me,lastResult:ne}}).catch(function(ne){return ee.forEach(function(re){return re.onerror&&re.onerror(ne)}),Promise.reject(ne)})})}}})}})}};function is(o,d,g){try{if(!d||d.keys.length<o.length)return null;for(var _=[],S=0,T=0;S<d.keys.length&&T<o.length;++S)rt(d.keys[S],o[T])===0&&(_.push(g?Ye(d.values[S]):d.values[S]),++T);return _.length===o.length?_:null}catch{return null}}var $i={stack:"dbcore",level:-1,create:function(o){return{table:function(d){var g=o.table(d);return a(a({},g),{getMany:function(_){if(!_.cache)return g.getMany(_);var S=is(_.keys,_.trans._cache,_.cache==="clone");return S?Ae.resolve(S):g.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?Ye(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),g.mutate(_)}})}}}};function Ho(o,d){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Ko(o,d){switch(o){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yf={stack:"dbcore",level:0,name:"Observability",create:function(o){var d=o.schema.name,g=new an(o.MIN_KEY,o.MAX_KEY);return a(a({},o),{transaction:function(_,S,T){if(Re.subscr&&S!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return o.transaction(_,S,T)},table:function(_){var S=o.table(_),T=S.schema,D=T.primaryKey,U=T.indexes,C=D.extractKey,N=D.outbound,q=D.autoIncrement&&U.filter(function(z){return z.compound&&z.keyPath.includes(D.keyPath)}),Y=a(a({},S),{mutate:function(z){function H(we){return we="idb://".concat(d,"/").concat(_,"/").concat(we),ne[we]||(ne[we]=new an)}var K,G,I,ee=z.trans,ne=z.mutatedParts||(z.mutatedParts={}),re=H(""),de=H(":dels"),me=z.type,ge=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[La(D,z).filter(function(we){return we}),z.values]:[],he=ge[0],ye=ge[1],ge=z.trans._cache;return p(he)?(re.addKeys(he),(ge=me==="delete"||he.length===ye.length?is(he,ge):null)||de.addKeys(he),(ge||ye)&&(K=H,G=ge,I=ye,T.indexes.forEach(function(we){var be=K(we.name||"");function je(Ve){return Ve!=null?we.extractKey(Ve):null}function Je(Ve){return we.multiEntry&&p(Ve)?Ve.forEach(function(Tt){return be.addKey(Tt)}):be.addKey(Ve)}(G||I).forEach(function(Ve,Xt){var He=G&&je(G[Xt]),Xt=I&&je(I[Xt]);rt(He,Xt)!==0&&(He!=null&&Je(He),Xt!=null&&Je(Xt))})}))):he?(ye={from:(ye=he.lower)!==null&&ye!==void 0?ye:o.MIN_KEY,to:(ye=he.upper)!==null&&ye!==void 0?ye:o.MAX_KEY},de.add(ye),re.add(ye)):(re.add(g),de.add(g),T.indexes.forEach(function(we){return H(we.name).add(g)})),S.mutate(z).then(function(we){return!he||z.type!=="add"&&z.type!=="put"||(re.addKeys(we.results),q&&q.forEach(function(be){for(var je=z.values.map(function(He){return be.extractKey(He)}),Je=be.keyPath.findIndex(function(He){return He===D.keyPath}),Ve=0,Tt=we.results.length;Ve<Tt;++Ve)je[Ve][Je]=we.results[Ve];H(be.name).addKeys(je)})),ee.mutatedParts=ja(ee.mutatedParts||{},ne),we})}}),U=function(H){var K=H.query,H=K.index,K=K.range;return[H,new an((H=K.lower)!==null&&H!==void 0?H:o.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:o.MAX_KEY)]},V={get:function(z){return[D,new an(z.key)]},getMany:function(z){return[D,new an().addKeys(z.keys)]},count:U,query:U,openCursor:U};return y(V).forEach(function(z){Y[z]=function(H){var K=Re.subscr,G=!!K,I=Ho(Re,S)&&Ko(z,H)?H.obsSet={}:K;if(G){var ee=function(ye){return ye="idb://".concat(d,"/").concat(_,"/").concat(ye),I[ye]||(I[ye]=new an)},ne=ee(""),re=ee(":dels"),K=V[z](H),G=K[0],K=K[1];if((z==="query"&&G.isPrimaryKey&&!H.values?re:ee(G.name||"")).add(K),!G.isPrimaryKey){if(z!=="count"){var de=z==="query"&&N&&H.values&&S.query(a(a({},H),{values:!1}));return S[z].apply(this,arguments).then(function(ye){if(z==="query"){if(N&&H.values)return de.then(function(je){return je=je.result,ne.addKeys(je),ye});var ge=H.values?ye.result.map(C):ye.result;(H.values?ne:re).addKeys(ge)}else if(z==="openCursor"){var we=ye,be=H.values;return we&&Object.create(we,{key:{get:function(){return re.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var je=we.primaryKey;return re.addKey(je),je}},value:{get:function(){return be&&ne.addKey(we.primaryKey),we.value}}})}return ye})}re.add(g)}}return S[z].apply(this,arguments)}}),Y}})}};function ls(o,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var _=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===_?null:(d=a({},d),p(d.keys)&&(d.keys=d.keys.filter(function(S,T){return!(T in g.failures)})),"values"in d&&p(d.values)&&(d.values=d.values.filter(function(S,T){return!(T in g.failures)})),d)}function qa(o,d){return g=o,((_=d).lower===void 0||(_.lowerOpen?0<rt(g,_.lower):0<=rt(g,_.lower)))&&(o=o,(d=d).upper===void 0||(d.upperOpen?rt(o,d.upper)<0:rt(o,d.upper)<=0));var g,_}function Fi(o,d,V,_,S,T){if(!V||V.length===0)return o;var D=d.query.index,C=D.multiEntry,N=d.query.range,q=_.schema.primaryKey.extractKey,Y=D.extractKey,U=(D.lowLevelIndex||D).extractKey,V=V.reduce(function(z,H){var K=z,G=[];if(H.type==="add"||H.type==="put")for(var I=new an,ee=H.values.length-1;0<=ee;--ee){var ne,re=H.values[ee],de=q(re);I.hasKey(de)||(ne=Y(re),(C&&p(ne)?ne.some(function(we){return qa(we,N)}):qa(ne,N))&&(I.addKey(de),G.push(re)))}switch(H.type){case"add":var me=new an().addKeys(d.values?z.map(function(be){return q(be)}):z),K=z.concat(d.values?G.filter(function(be){return be=q(be),!me.hasKey(be)&&(me.addKey(be),!0)}):G.map(function(be){return q(be)}).filter(function(be){return!me.hasKey(be)&&(me.addKey(be),!0)}));break;case"put":var he=new an().addKeys(H.values.map(function(be){return q(be)}));K=z.filter(function(be){return!he.hasKey(d.values?q(be):be)}).concat(d.values?G:G.map(function(be){return q(be)}));break;case"delete":var ye=new an().addKeys(H.keys);K=z.filter(function(be){return!ye.hasKey(d.values?q(be):be)});break;case"deleteRange":var ge=H.range;K=z.filter(function(be){return!qa(q(be),ge)})}return K},o);return V===o?o:(V.sort(function(z,H){return rt(U(z),U(H))||rt(q(z),q(H))}),d.limit&&d.limit<1/0&&(V.length>d.limit?V.length=d.limit:o.length===d.limit&&V.length<d.limit&&(S.dirty=!0)),T?Object.freeze(V):V)}function Pi(o,d){return rt(o.lower,d.lower)===0&&rt(o.upper,d.upper)===0&&!!o.lowerOpen==!!d.lowerOpen&&!!o.upperOpen==!!d.upperOpen}function Vf(o,d){return(function(g,_,S,T){if(g===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=rt(g,_))===0){if(S&&T)return 0;if(S)return 1;if(T)return-1}return _})(o.lower,d.lower,o.lowerOpen,d.lowerOpen)<=0&&0<=(function(g,_,S,T){if(g===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=rt(g,_))===0){if(S&&T)return 0;if(S)return-1;if(T)return 1}return _})(o.upper,d.upper,o.upperOpen,d.upperOpen)}function Ha(o,d,g,_){o.subscribers.add(g),_.addEventListener("abort",function(){var S,T;o.subscribers.delete(g),o.subscribers.size===0&&(S=o,T=d,setTimeout(function(){S.subscribers.size===0&&oe(T,S)},3e3))})}var Yo={stack:"dbcore",level:0,name:"Cache",create:function(o){var d=o.schema.name;return a(a({},o),{transaction:function(g,_,S){var T,D,C=o.transaction(g,_,S);return _==="readwrite"&&(D=(T=new AbortController).signal,S=function(N){return function(){if(T.abort(),_==="readwrite"){for(var q=new Set,Y=0,U=g;Y<U.length;Y++){var V=U[Y],z=si["idb://".concat(d,"/").concat(V)];if(z){var H=o.table(V),K=z.optimisticOps.filter(function(be){return be.trans===C});if(C._explicit&&N&&C.mutatedParts)for(var G=0,I=Object.values(z.queries.query);G<I.length;G++)for(var ee=0,ne=(me=I[G]).slice();ee<ne.length;ee++)Wu((he=ne[ee]).obsSet,C.mutatedParts)&&(oe(me,he),he.subscribers.forEach(function(be){return q.add(be)}));else if(0<K.length){z.optimisticOps=z.optimisticOps.filter(function(be){return be.trans!==C});for(var re=0,de=Object.values(z.queries.query);re<de.length;re++)for(var me,he,ye,ge=0,we=(me=de[re]).slice();ge<we.length;ge++)(he=we[ge]).res!=null&&C.mutatedParts&&(N&&!he.dirty?(ye=Object.isFrozen(he.res),ye=Fi(he.res,he.req,K,H,he,ye),he.dirty?(oe(me,he),he.subscribers.forEach(function(be){return q.add(be)})):ye!==he.res&&(he.res=ye,he.promise=Ae.resolve({result:ye}))):(he.dirty&&oe(me,he),he.subscribers.forEach(function(be){return q.add(be)})))}}}q.forEach(function(be){return be()})}}},C.addEventListener("abort",S(!1),{signal:D}),C.addEventListener("error",S(!1),{signal:D}),C.addEventListener("complete",S(!0),{signal:D})),C},table:function(g){var _=o.table(g),S=_.schema.primaryKey;return a(a({},_),{mutate:function(T){var D=Re.trans;if(S.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return _.mutate(T);var C=si["idb://".concat(d,"/").concat(g)];return C?(D=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||La(S,T).some(function(N){return N==null}))?(C.optimisticOps.push(T),T.mutatedParts&&Na(T.mutatedParts),D.then(function(N){0<N.numFailures&&(oe(C.optimisticOps,T),(N=ls(0,T,N))&&C.optimisticOps.push(N),T.mutatedParts&&Na(T.mutatedParts))}),D.catch(function(){oe(C.optimisticOps,T),T.mutatedParts&&Na(T.mutatedParts)})):D.then(function(N){var q=ls(0,a(a({},T),{values:T.values.map(function(Y,U){var V;return N.failures[U]?Y:(Y=(V=S.keyPath)!==null&&V!==void 0&&V.includes(".")?Ye(Y):a({},Y),Te(Y,S.keyPath,N.results[U]),Y)})}),N);C.optimisticOps.push(q),queueMicrotask(function(){return T.mutatedParts&&Na(T.mutatedParts)})}),D):_.mutate(T)},query:function(T){if(!Ho(Re,_)||!Ko("query",T))return _.query(T);var D=((q=Re.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",U=Re,C=U.requery,N=U.signal,q=(function(H,K,G,I){var ee=si["idb://".concat(H,"/").concat(K)];if(!ee)return[];if(!(K=ee.queries[G]))return[null,!1,ee,null];var ne=K[(I.query?I.query.index.name:null)||""];if(!ne)return[null,!1,ee,null];switch(G){case"query":var re=ne.find(function(de){return de.req.limit===I.limit&&de.req.values===I.values&&Pi(de.req.query.range,I.query.range)});return re?[re,!0,ee,ne]:[ne.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=I.limit&&(!I.values||de.req.values)&&Vf(de.req.query.range,I.query.range)}),!1,ee,ne];case"count":return re=ne.find(function(de){return Pi(de.req.query.range,I.query.range)}),[re,!!re,ee,ne]}})(d,g,"query",T),Y=q[0],U=q[1],V=q[2],z=q[3];return Y&&U?Y.obsSet=T.obsSet:(U=_.query(T).then(function(H){var K=H.result;if(Y&&(Y.res=K),D){for(var G=0,I=K.length;G<I;++G)Object.freeze(K[G]);Object.freeze(K)}else H.result=Ye(K);return H}).catch(function(H){return z&&Y&&oe(z,Y),Promise.reject(H)}),Y={obsSet:T.obsSet,promise:U,subscribers:new Set,type:"query",req:T,dirty:!1},z?z.push(Y):(z=[Y],(V=V||(si["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=z)),Ha(Y,z,C,N),Y.promise.then(function(H){return{result:Fi(H.result,T,V?.optimisticOps,_,Y,D)}})}})}})}};function Jl(o,d){return new Proxy(o,{get:function(g,_,S){return _==="db"?d:Reflect.get(g,_,S)}})}var In=(Ut.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Se.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var d=this._versions,g=d.filter(function(_){return _._cfg.version===o})[0];return g||(g=new this.Version(o),d.push(g),d.sort(Ql),g.stores({}),this._state.autoSchema=!1,g)},Ut.prototype._whenReady=function(o){var d=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?o():new Ae(function(g,_){if(d._state.openComplete)return _(new Se.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void _(new Se.DatabaseClosed);d.open().catch(Be)}d._state.dbReadyPromise.then(g,_)}).then(o)},Ut.prototype.use=function(o){var d=o.stack,g=o.create,_=o.level,S=o.name;return S&&this.unuse({stack:d,name:S}),o=this._middlewares[d]||(this._middlewares[d]=[]),o.push({stack:d,create:g,level:_??10,name:S}),o.sort(function(T,D){return T.level-D.level}),this},Ut.prototype.unuse=function(o){var d=o.stack,g=o.name,_=o.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(S){return _?S.create!==_:!!g&&S.name!==g})),this},Ut.prototype.open=function(){var o=this;return Ur(bn,function(){return rs(o)})},Ut.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,d=Ar.indexOf(this);if(0<=d&&Ar.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Ae(function(g){o.dbReadyResolve=g}),o.openCanceller=new Ae(function(g,_){o.cancelOpen=_}))},Ut.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Se.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Se.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Ut.prototype.delete=function(o){var d=this;o===void 0&&(o={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ae(function(S,T){function D(){d.close(o);var C=d._deps.indexedDB.deleteDatabase(d.name);C.onsuccess=et(function(){var N,q,Y;N=d._deps,q=d.name,Y=N.indexedDB,N=N.IDBKeyRange,Ju(Y)||q===ni||Ua(Y,N).delete(q).catch(Be),S()}),C.onerror=jn(T),C.onblocked=d._fireOnBlocked}if(g)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(D):D()})},Ut.prototype.backendDB=function(){return this.idbdb},Ut.prototype.isOpen=function(){return this.idbdb!==null},Ut.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Ut.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ut.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ut.prototype,"tables",{get:function(){var o=this;return y(this._allTables).map(function(d){return o._allTables[d]})},enumerable:!1,configurable:!0}),Ut.prototype.transaction=function(){var o=(function(d,g,_){var S=arguments.length;if(S<2)throw new Se.InvalidArgument("Too few arguments");for(var T=new Array(S-1);--S;)T[S-1]=arguments[S];return _=T.pop(),[d,at(T),_]}).apply(this,arguments);return this._transaction.apply(this,o)},Ut.prototype._transaction=function(o,d,g){var _=this,S=Re.trans;S&&S.db===this&&o.indexOf("!")===-1||(S=null);var T,D,C=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(D=d.map(function(q){if(q=q instanceof _.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),o=="r"||o===Vn)T=Vn;else{if(o!="rw"&&o!=Ll)throw new Se.InvalidArgument("Invalid transaction mode: "+o);T=Ll}if(S){if(S.mode===Vn&&T===Ll){if(!C)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&D.forEach(function(q){if(S&&S.storeNames.indexOf(q)===-1){if(!C)throw new Se.SubTransaction("Table "+q+" not included in parent transaction.");S=null}}),C&&S&&!S.active&&(S=null)}}catch(q){return S?S._promise(null,function(Y,U){U(q)}):jt(q)}var N=(function q(Y,U,V,z,H){return Ae.resolve().then(function(){var K=Re.transless||Re,G=Y._createTransaction(U,V,Y._dbSchema,z);if(G.explicit=!0,K={trans:G,transless:K},z)G.idbtrans=z.idbtrans;else try{G.create(),G.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(ne){return ne.name===yt.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return q(Y,U,V,null,H)})):jt(ne)}var I,ee=W(H);return ee&&Yn(),K=Ae.follow(function(){var ne;(I=H.call(G,G))&&(ee?(ne=Dn.bind(null,null),I.then(ne,ne)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=oi(I)))},K),(I&&typeof I.then=="function"?Ae.resolve(I).then(function(ne){return G.active?ne:jt(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return I})).then(function(ne){return z&&G._resolve(),G._completion.then(function(){return ne})}).catch(function(ne){return G._reject(ne),jt(ne)})})}).bind(null,this,T,D,S,g);return S?S._promise(T,N,"lock"):Re.trans?Ur(Re.transless,function(){return _._whenReady(N)}):this._whenReady(N)},Ut.prototype.table=function(o){if(!w(this._allTables,o))throw new Se.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Ut);function Ut(o,d){var g=this;this._middlewares={},this.verno=0;var _=Ut.dependencies;this._options=d=a({addons:Ut.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},_=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,T,D,C,N,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Be,dbReadyPromise:null,cancelOpen:Be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};q.dbReadyPromise=new Ae(function(U){q.dbReadyResolve=U}),q.openCanceller=new Ae(function(U,V){q.cancelOpen=V}),this._state=q,this.name=o,this.on=Ki(this,"populate","blocked","versionchange","close",{ready:[ba,Be]}),this.once=function(U,V){var z=function(){for(var H=[],K=0;K<arguments.length;K++)H[K]=arguments[K];g.on(U).unsubscribe(z),V.apply(g,H)};return g.on(U,z)},this.on.ready.subscribe=$(this.on.ready.subscribe,function(U){return function(V,z){Ut.vip(function(){var H,K=g._state;K.openComplete?(K.dbOpenError||Ae.resolve().then(V),z&&U(V)):K.onReadyBeingFired?(K.onReadyBeingFired.push(V),z&&U(V)):(U(V),H=g,z||U(function G(){H.on.ready.unsubscribe(V),H.on.ready.unsubscribe(G)}))})}}),this.Collection=(S=this,Br(qf.prototype,function(I,G){this.db=S;var z=ri,H=null;if(G)try{z=G()}catch(ee){H=ee}var K=I._ctx,G=K.table,I=G.hook.reading.fire;this._ctx={table:G,index:K.index,isPrimKey:!K.index||G.schema.primKey.keyPath&&K.index===G.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:K.or,valueMapper:I!==Pe?I:null}})),this.Table=(T=this,Br(Ro.prototype,function(U,V,z){this.db=T,this._tx=z,this.name=U,this.schema=V,this.hook=T._allTables[U]?T._allTables[U].hook:Ki(null,{creating:[xn,Be],reading:[ut,Pe],updating:[lr,Be],deleting:[ln,Be]})})),this.Transaction=(D=this,Br(Yl.prototype,function(U,V,z,H,K){var G=this;U!=="readonly"&&V.forEach(function(I){I=(I=z[I])===null||I===void 0?void 0:I.yProps,I&&(V=V.concat(I.map(function(ee){return ee.updatesTable})))}),this.db=D,this.mode=U,this.storeNames=V,this.schema=z,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=Ki(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(I,ee){G._resolve=I,G._reject=ee}),this._completion.then(function(){G.active=!1,G.on.complete.fire()},function(I){var ee=G.active;return G.active=!1,G.on.error.fire(I),G.parent?G.parent._reject(I):ee&&G.idbtrans&&G.idbtrans.abort(),jt(I)})})),this.Version=(C=this,Br(Kf.prototype,function(U){this.db=C,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,Br(ai.prototype,function(U,V,z){if(this.db=N,this._ctx={table:U,index:V===":id"?null:V,or:z},this._cmp=this._ascending=rt,this._descending=function(H,K){return rt(K,H)},this._max=function(H,K){return 0<rt(H,K)?H:K},this._min=function(H,K){return rt(H,K)<0?H:K},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Lr(d.IDBKeyRange),this._createTransaction=function(U,V,z,H){return new g.Transaction(U,V,z,g._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),Ar.filter(function(V){return V.name===g.name&&V!==g&&!V._state.vcFired}).map(function(V){return V.on("versionchange").fire(U)})},this.use($i),this.use(Yo),this.use(Yf),this.use(Lo),this.use(qo);var Y=new Proxy(this,{get:function(U,V,z){if(V==="_vip")return!0;if(V==="table")return function(K){return Jl(g.table(K),Y)};var H=Reflect.get(U,V,z);return H instanceof Ro?Jl(H,Y):V==="tables"?H.map(function(K){return Jl(K,Y)}):V==="_createTransaction"?function(){return Jl(H.apply(this,arguments),Y)}:H}});this.vip=Y,_.forEach(function(U){return U(g)})}var $l,Un=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Vo=(as.prototype.subscribe=function(o,d,g){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:d,complete:g})},as.prototype[Un]=function(){return this},as);function as(o){this._subscribe=o}try{$l={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{$l={indexedDB:null,IDBKeyRange:null}}function Go(o){var d,g=!1,_=new Vo(function(S){var T=W(o),D,C=!1,N={},q={},Y={get closed(){return C},unsubscribe:function(){C||(C=!0,D&&D.abort(),U&&fr.storagemutated.unsubscribe(z))}};S.start&&S.start(Y);var U=!1,V=function(){return jr(H)},z=function(K){ja(N,K),Wu(q,N)&&V()},H=function(){var K,G,I;!C&&$l.indexedDB&&(N={},K={},D&&D.abort(),D=new AbortController,I=(function(ee){var ne=ti();try{T&&Yn();var re=sr(o,ee);return re=T?re.finally(Dn):re}finally{ne&&Li()}})(G={subscr:K,signal:D.signal,requery:V,querier:o,trans:null}),Promise.resolve(I).then(function(ee){g=!0,d=ee,C||G.signal.aborted||(N={},(function(ne){for(var re in ne)if(w(ne,re))return;return 1})(q=K)||U||(fr(xr,z),U=!0),jr(function(){return!C&&S.next&&S.next(ee)}))},function(ee){g=!1,["DatabaseClosedError","AbortError"].includes(ee?.name)||C||jr(function(){C||S.error&&S.error(ee)})}))};return setTimeout(V,0),Y});return _.hasValue=function(){return g},_.getValue=function(){return d},_}var ci=In;function us(o){var d=Bt;try{Bt=!0,fr.storagemutated.fire(o),ns(o,!0)}finally{Bt=d}}A(ci,a(a({},Ct),{delete:function(o){return new ci(o,{addons:[]}).delete()},exists:function(o){return new ci(o,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return d=ci.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(Ju(g)?Promise.resolve(g.databases()).then(function(_){return _.map(function(S){return S.name}).filter(function(S){return S!==ni})}):Ua(g,d).toCollection().primaryKeys()).then(o)}catch{return jt(new Se.MissingAPI)}var d,g},defineClass:function(){return function(o){b(this,o)}},ignoreTransaction:function(o){return Re.trans?Ur(Re.transless,o):o()},vip:$u,async:function(o){return function(){try{var d=oi(o.apply(this,arguments));return d&&typeof d.then=="function"?d:Ae.resolve(d)}catch(g){return jt(g)}}},spawn:function(o,d,g){try{var _=oi(o.apply(g,d||[]));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(S){return jt(S)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(o,d){return d=Ae.resolve(typeof o=="function"?ci.ignoreTransaction(o):o).timeout(d||6e4),Re.trans?Re.trans.waitFor(d):d},Promise:Ae,debug:{get:function(){return kn},set:function(o){ko(o)}},derive:j,extend:b,props:A,override:$,Events:Ki,on:fr,liveQuery:Go,extendObservabilitySet:ja,getByKeyPath:Ee,setByKeyPath:Te,delByKeyPath:function(o,d){typeof d=="string"?Te(o,d,void 0):"length"in d&&[].map.call(d,function(g){Te(o,g,void 0)})},shallowClone:Fe,deepClone:Ye,getObjectDiff:Ba,cmp:rt,asap:ve,minKey:-1/0,addons:[],connections:Ar,errnames:yt,dependencies:$l,cache:si,semVer:"4.2.0",version:"4.2.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,d,g){return o+d/Math.pow(10,2*g)})})),ci.maxKey=Lr(ci.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fr(xr,function(o){Bt||(o=new CustomEvent(Gn,{detail:o}),Bt=!0,dispatchEvent(o),Bt=!1)}),addEventListener(Gn,function(o){o=o.detail,Bt||us(o)}));var Wi,Bt=!1,el=function(){};return typeof BroadcastChannel<"u"&&((el=function(){(Wi=new BroadcastChannel(Gn)).onmessage=function(o){return o.data&&us(o.data)}})(),typeof Wi.unref=="function"&&Wi.unref(),fr(xr,function(o){Bt||Wi.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!In.disableBfCache&&o.persisted){kn&&console.debug("Dexie: handling persisted pagehide"),Wi?.close();for(var d=0,g=Ar;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!In.disableBfCache&&o.persisted&&(kn&&console.debug("Dexie: handling persisted pageshow"),el(),us({all:new an(-1/0,[[]])}))})),Ae.rejectionMapper=function(o,d){return!o||o instanceof fe||o instanceof TypeError||o instanceof SyntaxError||!o.name||!gt[o.name]?o:(d=new gt[o.name](d||o.message,o),"stack"in o&&k(d,"stack",{get:function(){return this.inner.stack}}),d)},ko(kn),a(In,Object.freeze({__proto__:null,Dexie:In,liveQuery:Go,Entity:Aa,cmp:rt,PropModification:Vi,replacePrefix:function(o,d){return new Vi({replacePrefix:[o,d]})},add:function(o){return new Vi({add:o})},remove:function(o){return new Vi({remove:o})},default:In,RangeSet:an,mergeRanges:Zl,rangesOverlap:No}),{default:In}),In})})($c)),$c.exports}var sS=uS();const Ph=v0(sS),em=Symbol.for("Dexie"),ot=globalThis[em]||(globalThis[em]=Ph);if(Ph.semVer!==ot.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ph.semVer} and ${ot.semVer}`);const{liveQuery:Ol,mergeRanges:hT,rangesOverlap:yT,RangeSet:oS,cmp:Ef,Entity:pT,PropModification:tm,replacePrefix:vT,add:gT,remove:mT,DexieYProvider:bT}=ot,Ci=Math.floor,Fc=Math.abs,g0=(r,n)=>r<n?r:n,Tu=(r,n)=>r>n?r:n,m0=r=>r!==0?r<0:1/r<0,nm=1,rm=2,Rh=4,Uh=8,so=32,ki=64,tr=128,Af=31,Wh=63,da=127,cS=2147483647,b0=Number.MAX_SAFE_INTEGER,fS=Number.isInteger||(r=>typeof r=="number"&&isFinite(r)&&Ci(r)===r),ha=()=>new Set,Mh=r=>r[r.length-1],dS=(r,n)=>{for(let l=0;l<n.length;l++)r.push(n[l])},Cl=Array.from,hS=Array.isArray,yS=r=>r.toLowerCase(),pS=/^\s*/g,vS=r=>r.replace(pS,""),gS=/([A-Z])/g,im=(r,n)=>vS(r.replace(gS,l=>`${n}${yS(l)}`)),mS=r=>{const n=unescape(encodeURIComponent(r)),l=n.length,a=new Uint8Array(l);for(let s=0;s<l;s++)a[s]=n.codePointAt(s);return a},oo=typeof TextEncoder<"u"?new TextEncoder:null,bS=r=>oo.encode(r),_S=oo?bS:mS;let eo=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});eo&&eo.decode(new Uint8Array).length===1&&(eo=null);class xu{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const ku=()=>new xu,wS=r=>{let n=r.cpos;for(let l=0;l<r.bufs.length;l++)n+=r.bufs[l].length;return n},er=r=>{const n=new Uint8Array(wS(r));let l=0;for(let a=0;a<r.bufs.length;a++){const s=r.bufs[a];n.set(s,l),l+=s.length}return n.set(new Uint8Array(r.cbuf.buffer,0,r.cpos),l),n},SS=(r,n)=>{const l=r.cbuf.length;l-r.cpos<n&&(r.bufs.push(new Uint8Array(r.cbuf.buffer,0,r.cpos)),r.cbuf=new Uint8Array(Tu(l,n)*2),r.cpos=0)},cn=(r,n)=>{const l=r.cbuf.length;r.cpos===l&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(l*2),r.cpos=0),r.cbuf[r.cpos++]=n},ey=cn,Ze=(r,n)=>{for(;n>da;)cn(r,tr|da&n),n=Ci(n/128);cn(r,da&n)},xy=(r,n)=>{const l=m0(n);for(l&&(n=-n),cn(r,(n>Wh?tr:0)|(l?ki:0)|Wh&n),n=Ci(n/64);n>0;)cn(r,(n>da?tr:0)|da&n),n=Ci(n/128)},ty=new Uint8Array(3e4),ES=ty.length/3,AS=(r,n)=>{if(n.length<ES){const l=oo.encodeInto(n,ty).written||0;Ze(r,l);for(let a=0;a<l;a++)cn(r,ty[a])}else pn(r,_S(n))},OS=(r,n)=>{const l=unescape(encodeURIComponent(n)),a=l.length;Ze(r,a);for(let s=0;s<a;s++)cn(r,l.codePointAt(s))},mr=oo&&oo.encodeInto?AS:OS,TS=(r,n)=>bo(r,er(n)),bo=(r,n)=>{const l=r.cbuf.length,a=r.cpos,s=g0(l-a,n.length),f=n.length-s;r.cbuf.set(n.subarray(0,s),a),r.cpos+=s,f>0&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(Tu(l*2,f)),r.cbuf.set(n.subarray(s)),r.cpos=f)},pn=(r,n)=>{Ze(r,n.byteLength),bo(r,n)},Of=(r,n)=>{SS(r,n);const l=new DataView(r.cbuf.buffer,r.cpos,n);return r.cpos+=n,l},xS=(r,n)=>Of(r,4).setFloat32(0,n,!1),kS=(r,n)=>Of(r,8).setFloat64(0,n,!1),DS=(r,n)=>Of(r,8).setBigInt64(0,n,!1),lm=(r,n)=>Of(r,8).setBigUint64(0,n,!1),am=new DataView(new ArrayBuffer(4)),CS=r=>(am.setFloat32(0,r),am.getFloat32(0)===r),Tl=(r,n)=>{switch(typeof n){case"string":cn(r,119),mr(r,n);break;case"number":fS(n)&&Fc(n)<=cS?(cn(r,125),xy(r,n)):CS(n)?(cn(r,124),xS(r,n)):(cn(r,123),kS(r,n));break;case"bigint":cn(r,122),DS(r,n);break;case"object":if(n===null)cn(r,126);else if(hS(n)){cn(r,117),Ze(r,n.length);for(let l=0;l<n.length;l++)Tl(r,n[l])}else if(n instanceof Uint8Array)cn(r,116),pn(r,n);else{cn(r,118);const l=Object.keys(n);Ze(r,l.length);for(let a=0;a<l.length;a++){const s=l[a];mr(r,s),Tl(r,n[s])}}break;case"boolean":cn(r,n?120:121);break;default:cn(r,127)}};class um extends xu{constructor(n){super(),this.w=n,this.s=null,this.count=0}write(n){this.s===n?this.count++:(this.count>0&&Ze(this,this.count-1),this.count=1,this.w(this,n),this.s=n)}}const sm=r=>{r.count>0&&(xy(r.encoder,r.count===1?r.s:-r.s),r.count>1&&Ze(r.encoder,r.count-2))};class Pc{constructor(){this.encoder=new xu,this.s=0,this.count=0}write(n){this.s===n?this.count++:(sm(this),this.count=1,this.s=n)}toUint8Array(){return sm(this),er(this.encoder)}}const om=r=>{if(r.count>0){const n=r.diff*2+(r.count===1?0:1);xy(r.encoder,n),r.count>1&&Ze(r.encoder,r.count-2)}};class jh{constructor(){this.encoder=new xu,this.s=0,this.count=0,this.diff=0}write(n){this.diff===n-this.s?(this.s=n,this.count++):(om(this),this.count=1,this.diff=n-this.s,this.s=n)}toUint8Array(){return om(this),er(this.encoder)}}class RS{constructor(){this.sarr=[],this.s="",this.lensE=new Pc}write(n){this.s+=n,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(n.length)}toUint8Array(){const n=new xu;return this.sarr.push(this.s),this.s="",mr(n,this.sarr.join("")),bo(n,this.lensE.toUint8Array()),er(n)}}const Rl=r=>new Error(r),Zr=()=>{throw Rl("Method unimplemented")},Jr=()=>{throw Rl("Unexpected case")},_0=Rl("Unexpected end of array"),w0=Rl("Integer out of Range");class Du{constructor(n){this.arr=n,this.pos=0}}const _o=r=>new Du(r),S0=r=>r.pos!==r.arr.length,US=(r,n)=>{const l=new Uint8Array(r.arr.buffer,r.pos+r.arr.byteOffset,n);return r.pos+=n,l},vn=r=>US(r,At(r)),gu=r=>r.arr[r.pos++],At=r=>{let n=0,l=1;const a=r.arr.length;for(;r.pos<a;){const s=r.arr[r.pos++];if(n=n+(s&da)*l,l*=128,s<tr)return n;if(n>b0)throw w0}throw _0},ky=r=>{let n=r.arr[r.pos++],l=n&Wh,a=64;const s=(n&ki)>0?-1:1;if((n&tr)===0)return s*l;const f=r.arr.length;for(;r.pos<f;){if(n=r.arr[r.pos++],l=l+(n&da)*a,a*=128,n<tr)return s*l;if(l>b0)throw w0}throw _0},MS=r=>{let n=At(r);if(n===0)return"";{let l=String.fromCodePoint(gu(r));if(--n<100)for(;n--;)l+=String.fromCodePoint(gu(r));else for(;n>0;){const a=n<1e4?n:1e4,s=r.arr.subarray(r.pos,r.pos+a);r.pos+=a,l+=String.fromCodePoint.apply(null,s),n-=a}return decodeURIComponent(escape(l))}},jS=r=>eo.decode(vn(r)),br=eo?jS:MS,Tf=(r,n)=>{const l=new DataView(r.arr.buffer,r.arr.byteOffset+r.pos,n);return r.pos+=n,l},NS=r=>Tf(r,4).getFloat32(0,!1),zS=r=>Tf(r,8).getFloat64(0,!1),BS=r=>Tf(r,8).getBigInt64(0,!1),cm=r=>Tf(r,8).getBigUint64(0,!1),LS=[r=>{},r=>null,ky,NS,zS,BS,r=>!1,r=>!0,br,r=>{const n=At(r),l={};for(let a=0;a<n;a++){const s=br(r);l[s]=xl(r)}return l},r=>{const n=At(r),l=[];for(let a=0;a<n;a++)l.push(xl(r));return l},vn],xl=r=>LS[127-gu(r)](r);class fm extends Du{constructor(n,l){super(n),this.reader=l,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),S0(this)?this.count=At(this)+1:this.count=-1),this.count--,this.s}}class Wc extends Du{constructor(n){super(n),this.s=0,this.count=0}read(){if(this.count===0){this.s=ky(this);const n=m0(this.s);this.count=1,n&&(this.s=-this.s,this.count=At(this)+2)}return this.count--,this.s}}class Nh extends Du{constructor(n){super(n),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const n=ky(this),l=n&1;this.diff=Ci(n/2),this.count=1,l&&(this.count=At(this)+2)}return this.s+=this.diff,this.count--,this.s}}class qS{constructor(n){this.decoder=new Wc(n),this.str=br(this.decoder),this.spos=0}read(){const n=this.spos+this.decoder.read(),l=this.str.slice(this.spos,n);return this.spos=n,l}}var ny=function(r,n){return ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(l[s]=a[s])},ny(r,n)};function Ri(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ny(r,n);function l(){this.constructor=r}r.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}function HS(r,n,l,a){function s(f){return f instanceof l?f:new l(function(y){y(f)})}return new(l||(l=Promise))(function(f,y){function p(m){try{v(a.next(m))}catch(w){y(w)}}function b(m){try{v(a.throw(m))}catch(w){y(w)}}function v(m){m.done?f(m.value):s(m.value).then(p,b)}v((a=a.apply(r,n||[])).next())})}function E0(r,n){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,s,f,y=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return y.next=p(0),y.throw=p(1),y.return=p(2),typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(v){return function(m){return b([v,m])}}function b(v){if(a)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(l=0)),l;)try{if(a=1,s&&(f=v[0]&2?s.return:v[0]?s.throw||((f=s.return)&&f.call(s),0):s.next)&&!(f=f.call(s,v[1])).done)return f;switch(s=0,f&&(v=[v[0]&2,f.value]),v[0]){case 0:case 1:f=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,s=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){l.label=v[1];break}if(v[0]===6&&l.label<f[1]){l.label=f[1],f=v;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(v);break}f[2]&&l.ops.pop(),l.trys.pop();continue}v=n.call(r,l)}catch(m){v=[6,m],s=0}finally{a=f=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function mu(r){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&r[n],a=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ya(r,n){var l=typeof Symbol=="function"&&r[Symbol.iterator];if(!l)return r;var a=l.call(r),s,f=[],y;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)f.push(s.value)}catch(p){y={error:p}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(y)throw y.error}}return f}function bu(r,n,l){if(l||arguments.length===2)for(var a=0,s=n.length,f;a<s;a++)(f||!(a in n))&&(f||(f=Array.prototype.slice.call(n,0,a)),f[a]=n[a]);return r.concat(f||Array.prototype.slice.call(n))}function hu(r){return this instanceof hu?(this.v=r,this):new hu(r)}function KS(r,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(r,n||[]),s,f=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",y),s[Symbol.asyncIterator]=function(){return this},s;function y(O){return function(k){return Promise.resolve(k).then(O,w)}}function p(O,k){a[O]&&(s[O]=function(j){return new Promise(function(J,ce){f.push([O,j,J,ce])>1||b(O,j)})},k&&(s[O]=k(s[O])))}function b(O,k){try{v(a[O](k))}catch(j){A(f[0][3],j)}}function v(O){O.value instanceof hu?Promise.resolve(O.value.v).then(m,w):A(f[0][2],O)}function m(O){b("next",O)}function w(O){b("throw",O)}function A(O,k){O(k),f.shift(),f.length&&b(f[0][0],f[0][1])}}function YS(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],l;return n?n.call(r):(r=typeof mu=="function"?mu(r):r[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=r[f]&&function(y){return new Promise(function(p,b){y=r[f](y),s(p,b,y.done,y.value)})}}function s(f,y,p,b){Promise.resolve(b).then(function(v){f({value:v,done:p})},y)}}function _t(r){return typeof r=="function"}function Dy(r){var n=function(a){Error.call(a),a.stack=new Error().stack},l=r(n);return l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l}var zh=Dy(function(r){return function(l){r(this),this.message=l?l.length+` errors occurred during unsubscription:
`+l.map(function(a,s){return s+1+") "+a.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=l}});function uf(r,n){if(r){var l=r.indexOf(n);0<=l&&r.splice(l,1)}}var Cu=(function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var n,l,a,s,f;if(!this.closed){this.closed=!0;var y=this._parentage;if(y)if(this._parentage=null,Array.isArray(y))try{for(var p=mu(y),b=p.next();!b.done;b=p.next()){var v=b.value;v.remove(this)}}catch(j){n={error:j}}finally{try{b&&!b.done&&(l=p.return)&&l.call(p)}finally{if(n)throw n.error}}else y.remove(this);var m=this.initialTeardown;if(_t(m))try{m()}catch(j){f=j instanceof zh?j.errors:[j]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var A=mu(w),O=A.next();!O.done;O=A.next()){var k=O.value;try{dm(k)}catch(j){f=f??[],j instanceof zh?f=bu(bu([],ya(f)),ya(j.errors)):f.push(j)}}}catch(j){a={error:j}}finally{try{O&&!O.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}}if(f)throw new zh(f)}},r.prototype.add=function(n){var l;if(n&&n!==this)if(this.closed)dm(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(l=this._finalizers)!==null&&l!==void 0?l:[]).push(n)}},r.prototype._hasParent=function(n){var l=this._parentage;return l===n||Array.isArray(l)&&l.includes(n)},r.prototype._addParent=function(n){var l=this._parentage;this._parentage=Array.isArray(l)?(l.push(n),l):l?[l,n]:n},r.prototype._removeParent=function(n){var l=this._parentage;l===n?this._parentage=null:Array.isArray(l)&&uf(l,n)},r.prototype.remove=function(n){var l=this._finalizers;l&&uf(l,n),n instanceof r&&n._removeParent(this)},r.EMPTY=(function(){var n=new r;return n.closed=!0,n})(),r})(),A0=Cu.EMPTY;function O0(r){return r instanceof Cu||r&&"closed"in r&&_t(r.remove)&&_t(r.add)&&_t(r.unsubscribe)}function dm(r){_t(r)?r():r.unsubscribe()}var VS={Promise:void 0},GS={setTimeout:function(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];return setTimeout.apply(void 0,bu([r,n],ya(l)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function T0(r){GS.setTimeout(function(){throw r})}function hm(){}function ef(r){r()}var Cy=(function(r){Ri(n,r);function n(l){var a=r.call(this)||this;return a.isStopped=!1,l?(a.destination=l,O0(l)&&l.add(a)):a.destination=QS,a}return n.create=function(l,a,s){return new _u(l,a,s)},n.prototype.next=function(l){this.isStopped||this._next(l)},n.prototype.error=function(l){this.isStopped||(this.isStopped=!0,this._error(l))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(l){this.destination.next(l)},n.prototype._error=function(l){try{this.destination.error(l)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n})(Cu),XS=(function(){function r(n){this.partialObserver=n}return r.prototype.next=function(n){var l=this.partialObserver;if(l.next)try{l.next(n)}catch(a){Kc(a)}},r.prototype.error=function(n){var l=this.partialObserver;if(l.error)try{l.error(n)}catch(a){Kc(a)}else Kc(n)},r.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(l){Kc(l)}},r})(),_u=(function(r){Ri(n,r);function n(l,a,s){var f=r.call(this)||this,y;return _t(l)||!l?y={next:l??void 0,error:a??void 0,complete:s??void 0}:y=l,f.destination=new XS(y),f}return n})(Cy);function Kc(r){T0(r)}function IS(r){throw r}var QS={closed:!0,next:hm,error:IS,complete:hm},Ry=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Ru(r){return r}function ZS(r){return r.length===0?Ru:r.length===1?r[0]:function(l){return r.reduce(function(a,s){return s(a)},l)}}var nn=(function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var l=new r;return l.source=this,l.operator=n,l},r.prototype.subscribe=function(n,l,a){var s=this,f=$S(n)?n:new _u(n,l,a);return ef(function(){var y=s,p=y.operator,b=y.source;f.add(p?p.call(f,b):b?s._subscribe(f):s._trySubscribe(f))}),f},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(l){n.error(l)}},r.prototype.forEach=function(n,l){var a=this;return l=ym(l),new l(function(s,f){var y=new _u({next:function(p){try{n(p)}catch(b){f(b),y.unsubscribe()}},error:f,complete:s});a.subscribe(y)})},r.prototype._subscribe=function(n){var l;return(l=this.source)===null||l===void 0?void 0:l.subscribe(n)},r.prototype[Ry]=function(){return this},r.prototype.pipe=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return ZS(n)(this)},r.prototype.toPromise=function(n){var l=this;return n=ym(n),new n(function(a,s){var f;l.subscribe(function(y){return f=y},function(y){return s(y)},function(){return a(f)})})},r.create=function(n){return new r(n)},r})();function ym(r){var n;return(n=r??VS.Promise)!==null&&n!==void 0?n:Promise}function JS(r){return r&&_t(r.next)&&_t(r.error)&&_t(r.complete)}function $S(r){return r&&r instanceof Cy||JS(r)&&O0(r)}function FS(r){return _t(r?.lift)}function ir(r){return function(n){if(FS(n))return n.lift(function(l){try{return r(l,this)}catch(a){this.error(a)}});throw new TypeError("Unable to lift unknown Observable type")}}function rr(r,n,l,a,s){return new PS(r,n,l,a,s)}var PS=(function(r){Ri(n,r);function n(l,a,s,f,y,p){var b=r.call(this,l)||this;return b.onFinalize=y,b.shouldUnsubscribe=p,b._next=a?function(v){try{a(v)}catch(m){l.error(m)}}:r.prototype._next,b._error=f?function(v){try{f(v)}catch(m){l.error(m)}finally{this.unsubscribe()}}:r.prototype._error,b._complete=s?function(){try{s()}catch(v){l.error(v)}finally{this.unsubscribe()}}:r.prototype._complete,b}return n.prototype.unsubscribe=function(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;r.prototype.unsubscribe.call(this),!a&&((l=this.onFinalize)===null||l===void 0||l.call(this))}},n})(Cy),WS=Dy(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),pa=(function(r){Ri(n,r);function n(){var l=r.call(this)||this;return l.closed=!1,l.currentObservers=null,l.observers=[],l.isStopped=!1,l.hasError=!1,l.thrownError=null,l}return n.prototype.lift=function(l){var a=new pm(this,this);return a.operator=l,a},n.prototype._throwIfClosed=function(){if(this.closed)throw new WS},n.prototype.next=function(l){var a=this;ef(function(){var s,f;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var y=mu(a.currentObservers),p=y.next();!p.done;p=y.next()){var b=p.value;b.next(l)}}catch(v){s={error:v}}finally{try{p&&!p.done&&(f=y.return)&&f.call(y)}finally{if(s)throw s.error}}}})},n.prototype.error=function(l){var a=this;ef(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=l;for(var s=a.observers;s.length;)s.shift().error(l)}})},n.prototype.complete=function(){var l=this;ef(function(){if(l._throwIfClosed(),!l.isStopped){l.isStopped=!0;for(var a=l.observers;a.length;)a.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var l;return((l=this.observers)===null||l===void 0?void 0:l.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(l){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,l)},n.prototype._subscribe=function(l){return this._throwIfClosed(),this._checkFinalizedStatuses(l),this._innerSubscribe(l)},n.prototype._innerSubscribe=function(l){var a=this,s=this,f=s.hasError,y=s.isStopped,p=s.observers;return f||y?A0:(this.currentObservers=null,p.push(l),new Cu(function(){a.currentObservers=null,uf(p,l)}))},n.prototype._checkFinalizedStatuses=function(l){var a=this,s=a.hasError,f=a.thrownError,y=a.isStopped;s?l.error(f):y&&l.complete()},n.prototype.asObservable=function(){var l=new nn;return l.source=this,l},n.create=function(l,a){return new pm(l,a)},n})(nn),pm=(function(r){Ri(n,r);function n(l,a){var s=r.call(this)||this;return s.destination=l,s.source=a,s}return n.prototype.next=function(l){var a,s;(s=(a=this.destination)===null||a===void 0?void 0:a.next)===null||s===void 0||s.call(a,l)},n.prototype.error=function(l){var a,s;(s=(a=this.destination)===null||a===void 0?void 0:a.error)===null||s===void 0||s.call(a,l)},n.prototype.complete=function(){var l,a;(a=(l=this.destination)===null||l===void 0?void 0:l.complete)===null||a===void 0||a.call(l)},n.prototype._subscribe=function(l){var a,s;return(s=(a=this.source)===null||a===void 0?void 0:a.subscribe(l))!==null&&s!==void 0?s:A0},n})(pa),Cr=(function(r){Ri(n,r);function n(l){var a=r.call(this)||this;return a._value=l,a}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(l){var a=r.prototype._subscribe.call(this,l);return!a.closed&&l.next(this._value),a},n.prototype.getValue=function(){var l=this,a=l.hasError,s=l.thrownError,f=l._value;if(a)throw s;return this._throwIfClosed(),f},n.prototype.next=function(l){r.prototype.next.call(this,this._value=l)},n})(pa),e1={now:function(){return Date.now()}},t1=(function(r){Ri(n,r);function n(l,a){return r.call(this)||this}return n.prototype.schedule=function(l,a){return this},n})(Cu),vm={setInterval:function(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];return setInterval.apply(void 0,bu([r,n],ya(l)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},n1=(function(r){Ri(n,r);function n(l,a){var s=r.call(this,l,a)||this;return s.scheduler=l,s.work=a,s.pending=!1,s}return n.prototype.schedule=function(l,a){var s;if(a===void 0&&(a=0),this.closed)return this;this.state=l;var f=this.id,y=this.scheduler;return f!=null&&(this.id=this.recycleAsyncId(y,f,a)),this.pending=!0,this.delay=a,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(y,this.id,a),this},n.prototype.requestAsyncId=function(l,a,s){return s===void 0&&(s=0),vm.setInterval(l.flush.bind(l,this),s)},n.prototype.recycleAsyncId=function(l,a,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return a;a!=null&&vm.clearInterval(a)},n.prototype.execute=function(l,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(l,a);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(l,a){var s=!1,f;try{this.work(l)}catch(y){s=!0,f=y||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),f},n.prototype.unsubscribe=function(){if(!this.closed){var l=this,a=l.id,s=l.scheduler,f=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,uf(f,this),a!=null&&(this.id=this.recycleAsyncId(s,a,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},n})(t1),gm=(function(){function r(n,l){l===void 0&&(l=r.now),this.schedulerActionCtor=n,this.now=l}return r.prototype.schedule=function(n,l,a){return l===void 0&&(l=0),new this.schedulerActionCtor(this,n).schedule(a,l)},r.now=e1.now,r})(),r1=(function(r){Ri(n,r);function n(l,a){a===void 0&&(a=gm.now);var s=r.call(this,l,a)||this;return s.actions=[],s._active=!1,s}return n.prototype.flush=function(l){var a=this.actions;if(this._active){a.push(l);return}var s;this._active=!0;do if(s=l.execute(l.state,l.delay))break;while(l=a.shift());if(this._active=!1,s){for(;l=a.shift();)l.unsubscribe();throw s}},n})(gm),Uy=new r1(n1),i1=Uy,x0=new nn(function(r){return r.complete()});function k0(r){return r&&_t(r.schedule)}function My(r){return r[r.length-1]}function l1(r){return _t(My(r))?r.pop():void 0}function wo(r){return k0(My(r))?r.pop():void 0}function a1(r,n){return typeof My(r)=="number"?r.pop():n}var jy=(function(r){return r&&typeof r.length=="number"&&typeof r!="function"});function D0(r){return _t(r?.then)}function C0(r){return _t(r[Ry])}function R0(r){return Symbol.asyncIterator&&_t(r?.[Symbol.asyncIterator])}function U0(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function u1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var M0=u1();function j0(r){return _t(r?.[M0])}function N0(r){return KS(this,arguments,function(){var l,a,s,f;return E0(this,function(y){switch(y.label){case 0:l=r.getReader(),y.label=1;case 1:y.trys.push([1,,9,10]),y.label=2;case 2:return[4,hu(l.read())];case 3:return a=y.sent(),s=a.value,f=a.done,f?[4,hu(void 0)]:[3,5];case 4:return[2,y.sent()];case 5:return[4,hu(s)];case 6:return[4,y.sent()];case 7:return y.sent(),[3,2];case 8:return[3,10];case 9:return l.releaseLock(),[7];case 10:return[2]}})})}function z0(r){return _t(r?.getReader)}function Sr(r){if(r instanceof nn)return r;if(r!=null){if(C0(r))return s1(r);if(jy(r))return o1(r);if(D0(r))return c1(r);if(R0(r))return B0(r);if(j0(r))return f1(r);if(z0(r))return d1(r)}throw U0(r)}function s1(r){return new nn(function(n){var l=r[Ry]();if(_t(l.subscribe))return l.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function o1(r){return new nn(function(n){for(var l=0;l<r.length&&!n.closed;l++)n.next(r[l]);n.complete()})}function c1(r){return new nn(function(n){r.then(function(l){n.closed||(n.next(l),n.complete())},function(l){return n.error(l)}).then(null,T0)})}function f1(r){return new nn(function(n){var l,a;try{for(var s=mu(r),f=s.next();!f.done;f=s.next()){var y=f.value;if(n.next(y),n.closed)return}}catch(p){l={error:p}}finally{try{f&&!f.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}n.complete()})}function B0(r){return new nn(function(n){h1(r,n).catch(function(l){return n.error(l)})})}function d1(r){return B0(N0(r))}function h1(r,n){var l,a,s,f;return HS(this,void 0,void 0,function(){var y,p;return E0(this,function(b){switch(b.label){case 0:b.trys.push([0,5,6,11]),l=YS(r),b.label=1;case 1:return[4,l.next()];case 2:if(a=b.sent(),!!a.done)return[3,4];if(y=a.value,n.next(y),n.closed)return[2];b.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return p=b.sent(),s={error:p},[3,11];case 6:return b.trys.push([6,,9,10]),a&&!a.done&&(f=l.return)?[4,f.call(l)]:[3,8];case 7:b.sent(),b.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function kl(r,n,l,a,s){a===void 0&&(a=0),s===void 0&&(s=!1);var f=n.schedule(function(){l(),s?r.add(this.schedule(null,a)):this.unsubscribe()},a);if(r.add(f),!s)return f}function L0(r,n){return n===void 0&&(n=0),ir(function(l,a){l.subscribe(rr(a,function(s){return kl(a,r,function(){return a.next(s)},n)},function(){return kl(a,r,function(){return a.complete()},n)},function(s){return kl(a,r,function(){return a.error(s)},n)}))})}function q0(r,n){return n===void 0&&(n=0),ir(function(l,a){a.add(r.schedule(function(){return l.subscribe(a)},n))})}function y1(r,n){return Sr(r).pipe(q0(n),L0(n))}function p1(r,n){return Sr(r).pipe(q0(n),L0(n))}function v1(r,n){return new nn(function(l){var a=0;return n.schedule(function(){a===r.length?l.complete():(l.next(r[a++]),l.closed||this.schedule())})})}function g1(r,n){return new nn(function(l){var a;return kl(l,n,function(){a=r[M0](),kl(l,n,function(){var s,f,y;try{s=a.next(),f=s.value,y=s.done}catch(p){l.error(p);return}y?l.complete():l.next(f)},0,!0)}),function(){return _t(a?.return)&&a.return()}})}function H0(r,n){if(!r)throw new Error("Iterable cannot be null");return new nn(function(l){kl(l,n,function(){var a=r[Symbol.asyncIterator]();kl(l,n,function(){a.next().then(function(s){s.done?l.complete():l.next(s.value)})},0,!0)})})}function m1(r,n){return H0(N0(r),n)}function b1(r,n){if(r!=null){if(C0(r))return y1(r,n);if(jy(r))return v1(r,n);if(D0(r))return p1(r,n);if(R0(r))return H0(r,n);if(j0(r))return g1(r,n);if(z0(r))return m1(r,n)}throw U0(r)}function nr(r,n){return n?b1(r,n):Sr(r)}function Di(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=wo(r);return nr(r,l)}function mm(r,n){var l=_t(r)?r:function(){return r},a=function(s){return s.error(l())};return new nn(a)}var _1=Dy(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function fa(r,n){return new Promise(function(l,a){var s=new _u({next:function(f){l(f),s.unsubscribe()},error:a,complete:function(){a(new _1)}});r.subscribe(s)})}function w1(r){return r instanceof Date&&!isNaN(r)}function Wn(r,n){return ir(function(l,a){var s=0;l.subscribe(rr(a,function(f){a.next(r.call(n,f,s++))}))})}var S1=Array.isArray;function E1(r,n){return S1(n)?r.apply(void 0,bu([],ya(n))):r(n)}function K0(r){return Wn(function(n){return E1(r,n)})}var A1=Array.isArray,O1=Object.getPrototypeOf,T1=Object.prototype,x1=Object.keys;function k1(r){if(r.length===1){var n=r[0];if(A1(n))return{args:n,keys:null};if(D1(n)){var l=x1(n);return{args:l.map(function(a){return n[a]}),keys:l}}}return{args:r,keys:null}}function D1(r){return r&&typeof r=="object"&&O1(r)===T1}function C1(r,n){return r.reduce(function(l,a,s){return l[a]=n[s],l},{})}function co(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=wo(r),a=l1(r),s=k1(r),f=s.args,y=s.keys;if(f.length===0)return nr([],l);var p=new nn(R1(f,l,y?function(b){return C1(y,b)}:Ru));return a?p.pipe(K0(a)):p}function R1(r,n,l){return l===void 0&&(l=Ru),function(a){bm(n,function(){for(var s=r.length,f=new Array(s),y=s,p=s,b=function(m){bm(n,function(){var w=nr(r[m],n),A=!1;w.subscribe(rr(a,function(O){f[m]=O,A||(A=!0,p--),p||a.next(l(f.slice()))},function(){--y||a.complete()}))},a)},v=0;v<s;v++)b(v)},a)}}function bm(r,n,l){r?kl(l,r,n):n()}function U1(r,n,l,a,s,f,y,p){var b=[],v=0,m=0,w=!1,A=function(){w&&!b.length&&!v&&n.complete()},O=function(j){return v<a?k(j):b.push(j)},k=function(j){v++;var J=!1;Sr(l(j,m++)).subscribe(rr(n,function(ce){n.next(ce)},function(){J=!0},void 0,function(){if(J)try{v--;for(var ce=function(){var se=b.shift();y||k(se)};b.length&&v<a;)ce();A()}catch(se){n.error(se)}}))};return r.subscribe(rr(n,O,function(){w=!0,A()})),function(){}}function So(r,n,l){return l===void 0&&(l=1/0),_t(n)?So(function(a,s){return Wn(function(f,y){return n(a,f,s,y)})(Sr(r(a,s)))},l):(typeof n=="number"&&(l=n),ir(function(a,s){return U1(a,s,r,l)}))}function Y0(r){return r===void 0&&(r=1/0),So(Ru,r)}function M1(){return Y0(1)}function _m(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return M1()(nr(r,wo(r)))}var j1=["addListener","removeListener"],N1=["addEventListener","removeEventListener"],z1=["on","off"];function Qr(r,n,l,a){if(_t(l)&&(a=l,l=void 0),a)return Qr(r,n,l).pipe(K0(a));var s=ya(q1(r)?N1.map(function(p){return function(b){return r[p](n,b,l)}}):B1(r)?j1.map(wm(r,n)):L1(r)?z1.map(wm(r,n)):[],2),f=s[0],y=s[1];if(!f&&jy(r))return So(function(p){return Qr(p,n,l)})(Sr(r));if(!f)throw new TypeError("Invalid event target");return new nn(function(p){var b=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return p.next(1<v.length?v:v[0])};return f(b),function(){return y(b)}})}function wm(r,n){return function(l){return function(a){return r[l](n,a)}}}function B1(r){return _t(r.addListener)&&_t(r.removeListener)}function L1(r){return _t(r.on)&&_t(r.off)}function q1(r){return _t(r.addEventListener)&&_t(r.removeEventListener)}function V0(r,n,l){r===void 0&&(r=0),l===void 0&&(l=i1);var a=-1;return n!=null&&(k0(n)?l=n:a=n),new nn(function(s){var f=w1(r)?+r-l.now():r;f<0&&(f=0);var y=0;return l.schedule(function(){s.closed||(s.next(y++),0<=a?this.schedule(void 0,a):s.complete())},f)})}function xf(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=wo(r),a=a1(r,1/0),s=r;return s.length?s.length===1?Sr(s[0]):Y0(a)(nr(s,l)):x0}function gr(r,n){return ir(function(l,a){var s=0;l.subscribe(rr(a,function(f){return r.call(n,f,s++)&&a.next(f)}))})}function ry(r){return ir(function(n,l){var a=null,s=!1,f;a=n.subscribe(rr(l,void 0,void 0,function(y){f=Sr(r(y,ry(r)(n))),a?(a.unsubscribe(),a=null,f.subscribe(l)):s=!0})),s&&(a.unsubscribe(),a=null,f.subscribe(l))})}function Sm(r,n){return n===void 0&&(n=Uy),ir(function(l,a){var s=null,f=null,y=null,p=function(){if(s){s.unsubscribe(),s=null;var v=f;f=null,a.next(v)}};function b(){var v=y+r,m=n.now();if(m<v){s=this.schedule(void 0,v-m),a.add(s);return}p()}l.subscribe(rr(a,function(v){f=v,y=n.now(),s||(s=n.schedule(b,r),a.add(s))},function(){p(),a.complete()},void 0,function(){f=s=null}))})}function fu(r){return r<=0?function(){return x0}:ir(function(n,l){var a=0;n.subscribe(rr(l,function(s){++a<=r&&(l.next(s),r<=a&&l.complete())}))})}function H1(r){return Wn(function(){return r})}function K1(r,n){return So(function(l,a){return Sr(r(l,a)).pipe(fu(1),H1(l))})}function G0(r,n){n===void 0&&(n=Uy);var l=V0(r,n);return K1(function(){return l})}function X0(r,n){return n===void 0&&(n=Ru),r=r??Y1,ir(function(l,a){var s,f=!0;l.subscribe(rr(a,function(y){var p=n(y);(f||!r(s,p))&&(f=!1,s=p,a.next(y))}))})}function Y1(r,n){return r===n}function V1(r){r===void 0&&(r={});var n=r.connector,l=n===void 0?function(){return new pa}:n,a=r.resetOnError,s=a===void 0?!0:a,f=r.resetOnComplete,y=f===void 0?!0:f,p=r.resetOnRefCountZero,b=p===void 0?!0:p;return function(v){var m,w,A,O=0,k=!1,j=!1,J=function(){w?.unsubscribe(),w=void 0},ce=function(){J(),m=A=void 0,k=j=!1},se=function(){var $=m;ce(),$?.unsubscribe()};return ir(function($,_e){O++,!j&&!k&&J();var ve=A=A??l();_e.add(function(){O--,O===0&&!j&&!k&&(w=Bh(se,b))}),ve.subscribe(_e),!m&&O>0&&(m=new _u({next:function(Ee){return ve.next(Ee)},error:function(Ee){j=!0,J(),w=Bh(ce,s,Ee),ve.error(Ee)},complete:function(){k=!0,J(),w=Bh(ce,y),ve.complete()}}),Sr($).subscribe(m))})(v)}}function Bh(r,n){for(var l=[],a=2;a<arguments.length;a++)l[a-2]=arguments[a];if(n===!0){r();return}if(n!==!1){var s=new _u({next:function(){s.unsubscribe(),r()}});return Sr(n.apply(void 0,bu([],ya(l)))).subscribe(s)}}function Em(r){return gr(function(n,l){return r<=l})}function I0(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var l=wo(r);return ir(function(a,s){(l?_m(r,a,l):_m(r,a)).subscribe(s)})}function An(r,n){return ir(function(l,a){var s=null,f=0,y=!1,p=function(){return y&&!s&&a.complete()};l.subscribe(rr(a,function(b){s?.unsubscribe();var v=0,m=f++;Sr(r(b,m)).subscribe(s=rr(a,function(w){return a.next(n?n(b,w,m,v++):w)},function(){s=null,p()}))},function(){y=!0,p()}))})}function iy(r,n,l){var a=_t(r)||n||l?{next:r,error:n,complete:l}:r;return a?ir(function(s,f){var y;(y=a.subscribe)===null||y===void 0||y.call(a);var p=!0;s.subscribe(rr(f,function(b){var v;(v=a.next)===null||v===void 0||v.call(a,b),f.next(b)},function(){var b;p=!1,(b=a.complete)===null||b===void 0||b.call(a),f.complete()},function(b){var v;p=!1,(v=a.error)===null||v===void 0||v.call(a,b),f.error(b)},function(){var b,v;p&&((b=a.unsubscribe)===null||b===void 0||b.call(a)),(v=a.finalize)===null||v===void 0||v.call(a)}))}):Ru}const Hn=()=>new Map,ly=r=>{const n=Hn();return r.forEach((l,a)=>{n.set(a,l)}),n},Ui=(r,n,l)=>{let a=r.get(n);return a===void 0&&r.set(n,a=l()),a},G1=(r,n)=>{const l=[];for(const[a,s]of r)l.push(n(s,a));return l},X1=(r,n)=>{for(const[l,a]of r)if(n(a,l))return!0;return!1};class I1{constructor(){this._observers=Hn()}on(n,l){return Ui(this._observers,n,ha).add(l),l}once(n,l){const a=(...s)=>{this.off(n,a),l(...s)};this.on(n,a)}off(n,l){const a=this._observers.get(n);a!==void 0&&(a.delete(l),a.size===0&&this._observers.delete(n))}emit(n,l){return Cl((this._observers.get(n)||Hn()).values()).forEach(a=>a(...l))}destroy(){this._observers=Hn()}}class Q1{constructor(){this._observers=Hn()}on(n,l){Ui(this._observers,n,ha).add(l)}once(n,l){const a=(...s)=>{this.off(n,a),l(...s)};this.on(n,a)}off(n,l){const a=this._observers.get(n);a!==void 0&&(a.delete(l),a.size===0&&this._observers.delete(n))}emit(n,l){return Cl((this._observers.get(n)||Hn()).values()).forEach(a=>a(...l))}destroy(){this._observers=Hn()}}const Z1=crypto.getRandomValues.bind(crypto),Q0=()=>Z1(new Uint32Array(1))[0],J1="10000000-1000-4000-8000"+-1e11,$1=()=>J1.replace(/[018]/g,r=>(r^Q0()&15>>r/4).toString(16)),sf=Date.now,Am=r=>new Promise(r);Promise.all.bind(Promise);const Om=r=>r===void 0?null:r;class F1{constructor(){this.map=new Map}setItem(n,l){this.map.set(n,l)}getItem(n){return this.map.get(n)}}let Z0=new F1,P1=!0;try{typeof localStorage<"u"&&localStorage&&(Z0=localStorage,P1=!1)}catch{}const W1=Z0,eE=Object.assign,J0=Object.keys,tE=(r,n)=>{for(const l in r)n(r[l],l)},Tm=r=>J0(r).length,xm=r=>J0(r).length,nE=r=>{for(const n in r)return!1;return!0},rE=(r,n)=>{for(const l in r)if(!n(r[l],l))return!1;return!0},$0=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),iE=(r,n)=>r===n||xm(r)===xm(n)&&rE(r,(l,a)=>(l!==void 0||$0(n,a))&&n[a]===l),lE=Object.freeze,F0=r=>{for(const n in r){const l=r[n];(typeof l=="object"||typeof l=="function")&&F0(r[n])}return lE(r)},km=Symbol("Equality"),Ny=(r,n,l=0)=>{try{for(;l<r.length;l++)r[l](...n)}finally{l<r.length&&Ny(r,n,l+1)}},to=(r,n)=>{if(r===n)return!0;if(r==null||n==null||r.constructor!==n.constructor)return!1;if(r[km]!=null)return r[km](n);switch(r.constructor){case ArrayBuffer:r=new Uint8Array(r),n=new Uint8Array(n);case Uint8Array:{if(r.byteLength!==n.byteLength)return!1;for(let l=0;l<r.length;l++)if(r[l]!==n[l])return!1;break}case Set:{if(r.size!==n.size)return!1;for(const l of r)if(!n.has(l))return!1;break}case Map:{if(r.size!==n.size)return!1;for(const l of r.keys())if(!n.has(l)||!to(r.get(l),n.get(l)))return!1;break}case Object:if(Tm(r)!==Tm(n))return!1;for(const l in r)if(!$0(r,l)||!to(r[l],n[l]))return!1;break;case Array:if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!to(r[l],n[l]))return!1;break;default:return!1}return!0},aE=(r,n)=>n.includes(r);var P0={};const fo=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Gr;const uE=()=>{if(Gr===void 0)if(fo){Gr=Hn();const r=process.argv;let n=null;for(let l=0;l<r.length;l++){const a=r[l];a[0]==="-"?(n!==null&&Gr.set(n,""),n=a):n!==null&&(Gr.set(n,a),n=null)}n!==null&&Gr.set(n,"")}else typeof location=="object"?(Gr=Hn(),(location.search||"?").slice(1).split("&").forEach(r=>{if(r.length!==0){const[n,l]=r.split("=");Gr.set(`--${im(n,"-")}`,l),Gr.set(`-${im(n,"-")}`,l)}})):Gr=Hn();return Gr},ay=r=>uE().has(r),of=r=>Om(fo?P0[r.toUpperCase().replaceAll("-","_")]:W1.getItem(r)),W0=r=>ay("--"+r)||of(r)!==null;W0("production");const sE=fo&&aE(P0.FORCE_COLOR,["true","1","2"]),oE=sE||!ay("--no-colors")&&!W0("no-color")&&(!fo||process.stdout.isTTY)&&(!fo||ay("--color")||of("COLORTERM")!==null||(of("TERM")||"").includes("color"));class cE{constructor(n,l){this.left=n,this.right=l}}const Ai=(r,n)=>new cE(r,n);typeof DOMParser<"u"&&new DOMParser;const fE=r=>G1(r,(n,l)=>`${l}:${n};`).join(""),Mi=Symbol,eb=Mi(),tb=Mi(),dE=Mi(),hE=Mi(),yE=Mi(),nb=Mi(),pE=Mi(),zy=Mi(),vE=Mi(),gE=r=>{r.length===1&&r[0]?.constructor===Function&&(r=r[0]());const n=[],l=[];let a=0;for(;a<r.length;a++){const s=r[a];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)n.push(s);else if(s.constructor===Object)break}for(a>0&&l.push(n.join(""));a<r.length;a++){const s=r[a];s instanceof Symbol||l.push(s)}return l},mE={[eb]:Ai("font-weight","bold"),[tb]:Ai("font-weight","normal"),[dE]:Ai("color","blue"),[yE]:Ai("color","green"),[hE]:Ai("color","grey"),[nb]:Ai("color","red"),[pE]:Ai("color","purple"),[zy]:Ai("color","orange"),[vE]:Ai("color","black")},bE=r=>{r.length===1&&r[0]?.constructor===Function&&(r=r[0]());const n=[],l=[],a=Hn();let s=[],f=0;for(;f<r.length;f++){const y=r[f],p=mE[y];if(p!==void 0)a.set(p.left,p.right);else{if(y===void 0)break;if(y.constructor===String||y.constructor===Number){const b=fE(a);f>0||b.length>0?(n.push("%c"+y),l.push(b)):n.push(y)}else break}}for(f>0&&(s=l,s.unshift(n.join("")));f<r.length;f++){const y=r[f];y instanceof Symbol||s.push(y)}return s},rb=oE?bE:gE,_E=(...r)=>{console.log(...rb(r)),ib.forEach(n=>n.print(r))},wE=(...r)=>{console.warn(...rb(r)),r.unshift(zy),ib.forEach(n=>n.print(r))},ib=ha(),lb=r=>({[Symbol.iterator](){return this},next:r}),SE=(r,n)=>lb(()=>{let l;do l=r.next();while(!l.done&&!n(l.value));return l}),Lh=(r,n)=>lb(()=>{const{done:l,value:a}=r.next();return{done:l,value:l?void 0:n(a)}});class ab{constructor(n,l){this.clock=n,this.len=l}}class kf{constructor(){this.clients=new Map}}const ub=(r,n,l)=>n.clients.forEach((a,s)=>{const f=r.doc.store.clients.get(s);if(f!=null){const y=f[f.length-1],p=y.id.clock+y.length;for(let b=0,v=a[b];b<a.length&&v.clock<p;v=a[++b])vb(r,f,v.clock,v.len,l)}}),EE=(r,n)=>{let l=0,a=r.length-1;for(;l<=a;){const s=Ci((l+a)/2),f=r[s],y=f.clock;if(y<=n){if(n<y+f.len)return s;l=s+1}else a=s-1}return null},sb=(r,n)=>{const l=r.clients.get(n.client);return l!==void 0&&EE(l,n.clock)!==null},By=r=>{r.clients.forEach(n=>{n.sort((s,f)=>s.clock-f.clock);let l,a;for(l=1,a=1;l<n.length;l++){const s=n[a-1],f=n[l];s.clock+s.len>=f.clock?s.len=Tu(s.len,f.clock+f.len-s.clock):(a<l&&(n[a]=f),a++)}n.length=a})},AE=r=>{const n=new kf;for(let l=0;l<r.length;l++)r[l].clients.forEach((a,s)=>{if(!n.clients.has(s)){const f=a.slice();for(let y=l+1;y<r.length;y++)dS(f,r[y].clients.get(s)||[]);n.clients.set(s,f)}});return By(n),n},cf=(r,n,l,a)=>{Ui(r.clients,n,()=>[]).push(new ab(l,a))},Ly=(r,n)=>{Ze(r.restEncoder,n.clients.size),Cl(n.clients.entries()).sort((l,a)=>a[0]-l[0]).forEach(([l,a])=>{r.resetDsCurVal(),Ze(r.restEncoder,l);const s=a.length;Ze(r.restEncoder,s);for(let f=0;f<s;f++){const y=a[f];r.writeDsClock(y.clock),r.writeDsLen(y.len)}})},OE=r=>{const n=new kf,l=At(r.restDecoder);for(let a=0;a<l;a++){r.resetDsCurVal();const s=At(r.restDecoder),f=At(r.restDecoder);if(f>0){const y=Ui(n.clients,s,()=>[]);for(let p=0;p<f;p++)y.push(new ab(r.readDsClock(),r.readDsLen()))}}return n},Dm=(r,n,l)=>{const a=new kf,s=At(r.restDecoder);for(let f=0;f<s;f++){r.resetDsCurVal();const y=At(r.restDecoder),p=At(r.restDecoder),b=l.clients.get(y)||[],v=fn(l,y);for(let m=0;m<p;m++){const w=r.readDsClock(),A=w+r.readDsLen();if(w<v){v<A&&cf(a,y,v,A-v);let O=$r(b,w),k=b[O];for(!k.deleted&&k.id.clock<w&&(b.splice(O+1,0,gf(n,k,w-k.id.clock)),O++);O<b.length&&(k=b[O++],k.id.clock<A);)k.deleted||(A<k.id.clock+k.length&&b.splice(O,0,gf(n,k,A-k.id.clock)),k.delete(n))}else cf(a,y,w,A-w)}}if(a.clients.size>0){const f=new Df;return Ze(f.restEncoder,0),Ly(f,a),f.toUint8Array()}return null},ob=Q0;class Uu extends I1{constructor({guid:n=$1(),collectionid:l=null,gc:a=!0,gcFilter:s=()=>!0,meta:f=null,autoLoad:y=!1,shouldLoad:p=!0}={}){super(),this.gc=a,this.gcFilter=s,this.clientID=ob(),this.guid=n,this.collectionid=l,this.share=new Map,this.store=new yb,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=p,this.autoLoad=y,this.meta=f,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Am(v=>{this.on("load",()=>{this.isLoaded=!0,v(this)})});const b=()=>Am(v=>{const m=w=>{(w===void 0||w===!0)&&(this.off("sync",m),v())};this.on("sync",m)});this.on("sync",v=>{v===!1&&this.isSynced&&(this.whenSynced=b()),this.isSynced=v===void 0||v===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=b()}load(){const n=this._item;n!==null&&!this.shouldLoad&&kt(n.parent.doc,l=>{l.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Cl(this.subdocs).map(n=>n.guid))}transact(n,l=null){return kt(this,n,l)}get(n,l=mn){const a=Ui(this.share,n,()=>{const f=new l;return f._integrate(this,null),f}),s=a.constructor;if(l!==mn&&s!==l)if(s===mn){const f=new l;f._map=a._map,a._map.forEach(y=>{for(;y!==null;y=y.left)y.parent=f}),f._start=a._start;for(let y=f._start;y!==null;y=y.right)y.parent=f;return f._length=a._length,this.share.set(n,f),f._integrate(this,null),f}else throw new Error(`Type with the name ${n} has already been defined with a different constructor`);return a}getArray(n=""){return this.get(n,pu)}getText(n=""){return this.get(n,Su)}getMap(n=""){return this.get(n,wu)}getXmlElement(n=""){return this.get(n,Eu)}getXmlFragment(n=""){return this.get(n,va)}toJSON(){const n={};return this.share.forEach((l,a)=>{n[a]=l.toJSON()}),n}destroy(){this.isDestroyed=!0,Cl(this.subdocs).forEach(l=>l.destroy());const n=this._item;if(n!==null){this._item=null;const l=n.content;l.doc=new Uu({guid:this.guid,...l.opts,shouldLoad:!1}),l.doc._item=n,kt(n.parent.doc,a=>{const s=l.doc;n.deleted||a.subdocsAdded.add(s),a.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class TE{constructor(n){this.dsCurrVal=0,this.restDecoder=n}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=At(this.restDecoder),this.dsCurrVal}readDsLen(){const n=At(this.restDecoder)+1;return this.dsCurrVal+=n,n}}class ho extends TE{constructor(n){super(n),this.keys=[],At(n),this.keyClockDecoder=new Nh(vn(n)),this.clientDecoder=new Wc(vn(n)),this.leftClockDecoder=new Nh(vn(n)),this.rightClockDecoder=new Nh(vn(n)),this.infoDecoder=new fm(vn(n),gu),this.stringDecoder=new qS(vn(n)),this.parentInfoDecoder=new fm(vn(n),gu),this.typeRefDecoder=new Wc(vn(n)),this.lenDecoder=new Wc(vn(n))}readLeftID(){return new yu(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new yu(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return xl(this.restDecoder)}readBuf(){return vn(this.restDecoder)}readJSON(){return xl(this.restDecoder)}readKey(){const n=this.keyClockDecoder.read();if(n<this.keys.length)return this.keys[n];{const l=this.stringDecoder.read();return this.keys.push(l),l}}}class xE{constructor(){this.restEncoder=ku()}toUint8Array(){return er(this.restEncoder)}resetDsCurVal(){}writeDsClock(n){Ze(this.restEncoder,n)}writeDsLen(n){Ze(this.restEncoder,n)}}class kE extends xE{writeLeftID(n){Ze(this.restEncoder,n.client),Ze(this.restEncoder,n.clock)}writeRightID(n){Ze(this.restEncoder,n.client),Ze(this.restEncoder,n.clock)}writeClient(n){Ze(this.restEncoder,n)}writeInfo(n){ey(this.restEncoder,n)}writeString(n){mr(this.restEncoder,n)}writeParentInfo(n){Ze(this.restEncoder,n?1:0)}writeTypeRef(n){Ze(this.restEncoder,n)}writeLen(n){Ze(this.restEncoder,n)}writeAny(n){Tl(this.restEncoder,n)}writeBuf(n){pn(this.restEncoder,n)}writeJSON(n){mr(this.restEncoder,JSON.stringify(n))}writeKey(n){mr(this.restEncoder,n)}}class cb{constructor(){this.restEncoder=ku(),this.dsCurrVal=0}toUint8Array(){return er(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(n){const l=n-this.dsCurrVal;this.dsCurrVal=n,Ze(this.restEncoder,l)}writeDsLen(n){n===0&&Jr(),Ze(this.restEncoder,n-1),this.dsCurrVal+=n}}class Df extends cb{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new jh,this.clientEncoder=new Pc,this.leftClockEncoder=new jh,this.rightClockEncoder=new jh,this.infoEncoder=new um(ey),this.stringEncoder=new RS,this.parentInfoEncoder=new um(ey),this.typeRefEncoder=new Pc,this.lenEncoder=new Pc}toUint8Array(){const n=ku();return Ze(n,0),pn(n,this.keyClockEncoder.toUint8Array()),pn(n,this.clientEncoder.toUint8Array()),pn(n,this.leftClockEncoder.toUint8Array()),pn(n,this.rightClockEncoder.toUint8Array()),pn(n,er(this.infoEncoder)),pn(n,this.stringEncoder.toUint8Array()),pn(n,er(this.parentInfoEncoder)),pn(n,this.typeRefEncoder.toUint8Array()),pn(n,this.lenEncoder.toUint8Array()),bo(n,er(this.restEncoder)),er(n)}writeLeftID(n){this.clientEncoder.write(n.client),this.leftClockEncoder.write(n.clock)}writeRightID(n){this.clientEncoder.write(n.client),this.rightClockEncoder.write(n.clock)}writeClient(n){this.clientEncoder.write(n)}writeInfo(n){this.infoEncoder.write(n)}writeString(n){this.stringEncoder.write(n)}writeParentInfo(n){this.parentInfoEncoder.write(n?1:0)}writeTypeRef(n){this.typeRefEncoder.write(n)}writeLen(n){this.lenEncoder.write(n)}writeAny(n){Tl(this.restEncoder,n)}writeBuf(n){pn(this.restEncoder,n)}writeJSON(n){Tl(this.restEncoder,n)}writeKey(n){const l=this.keyMap.get(n);l===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(n)):this.keyClockEncoder.write(l)}}const DE=(r,n,l,a)=>{a=Tu(a,n[0].id.clock);const s=$r(n,a);Ze(r.restEncoder,n.length-s),r.writeClient(l),Ze(r.restEncoder,a);const f=n[s];f.write(r,a-f.id.clock);for(let y=s+1;y<n.length;y++)n[y].write(r,0)},fb=(r,n,l)=>{const a=new Map;l.forEach((s,f)=>{fn(n,f)>s&&a.set(f,s)}),qy(n).forEach((s,f)=>{l.has(f)||a.set(f,0)}),Ze(r.restEncoder,a.size),Cl(a.entries()).sort((s,f)=>f[0]-s[0]).forEach(([s,f])=>{DE(r,n.clients.get(s),s,f)})},CE=(r,n)=>{const l=Hn(),a=At(r.restDecoder);for(let s=0;s<a;s++){const f=At(r.restDecoder),y=new Array(f),p=r.readClient();let b=At(r.restDecoder);l.set(p,{i:0,refs:y});for(let v=0;v<f;v++){const m=r.readInfo();switch(Af&m){case 0:{const w=r.readLen();y[v]=new _r(ft(p,b),w),b+=w;break}case 10:{const w=At(r.restDecoder);y[v]=new wr(ft(p,b),w),b+=w;break}default:{const w=(m&(ki|tr))===0,A=new tn(ft(p,b),null,(m&tr)===tr?r.readLeftID():null,null,(m&ki)===ki?r.readRightID():null,w?r.readParentInfo()?n.get(r.readString()):r.readLeftID():null,w&&(m&so)===so?r.readString():null,Bb(r,m));y[v]=A,b+=A.length}}}}return l},RE=(r,n,l)=>{const a=[];let s=Cl(l.keys()).sort((O,k)=>O-k);if(s.length===0)return null;const f=()=>{if(s.length===0)return null;let O=l.get(s[s.length-1]);for(;O.refs.length===O.i;)if(s.pop(),s.length>0)O=l.get(s[s.length-1]);else return null;return O};let y=f();if(y===null)return null;const p=new yb,b=new Map,v=(O,k)=>{const j=b.get(O);(j==null||j>k)&&b.set(O,k)};let m=y.refs[y.i++];const w=new Map,A=()=>{for(const O of a){const k=O.id.client,j=l.get(k);j?(j.i--,p.clients.set(k,j.refs.slice(j.i)),l.delete(k),j.i=0,j.refs=[]):p.clients.set(k,[O]),s=s.filter(J=>J!==k)}a.length=0};for(;;){if(m.constructor!==wr){const k=Ui(w,m.id.client,()=>fn(n,m.id.client))-m.id.clock;if(k<0)a.push(m),v(m.id.client,m.id.clock-1),A();else{const j=m.getMissing(r,n);if(j!==null){a.push(m);const J=l.get(j)||{refs:[],i:0};if(J.refs.length===J.i)v(j,fn(n,j)),A();else{m=J.refs[J.i++];continue}}else(k===0||k<m.length)&&(m.integrate(r,k),w.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(y!==null&&y.i<y.refs.length)m=y.refs[y.i++];else{if(y=f(),y===null)break;m=y.refs[y.i++]}}if(p.clients.size>0){const O=new Df;return fb(O,p,new Map),Ze(O.restEncoder,0),{missing:b,update:O.toUint8Array()}}return null},UE=(r,n)=>fb(r,n.doc.store,n.beforeState),ME=(r,n,l,a=new ho(r))=>kt(n,s=>{s.local=!1;let f=!1;const y=s.doc,p=y.store,b=CE(a,y),v=RE(s,p,b),m=p.pendingStructs;if(m){for(const[A,O]of m.missing)if(O<fn(p,A)){f=!0;break}if(v){for(const[A,O]of v.missing){const k=m.missing.get(A);(k==null||k>O)&&m.missing.set(A,O)}m.update=ff([m.update,v.update])}}else p.pendingStructs=v;const w=Dm(a,s,p);if(p.pendingDs){const A=new ho(_o(p.pendingDs));At(A.restDecoder);const O=Dm(A,s,p);w&&O?p.pendingDs=ff([w,O]):p.pendingDs=w||O}else p.pendingDs=w;if(f){const A=p.pendingStructs.update;p.pendingStructs=null,db(s.doc,A)}},l,!1),db=(r,n,l,a=ho)=>{const s=_o(n);ME(s,r,l,new a(s))};class jE{constructor(){this.l=[]}}const Cm=()=>new jE,Rm=(r,n)=>r.l.push(n),Um=(r,n)=>{const l=r.l,a=l.length;r.l=l.filter(s=>n!==s),a===r.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},hb=(r,n,l)=>Ny(r.l,[n,l]);class yu{constructor(n,l){this.client=n,this.clock=l}}const Yc=(r,n)=>r===n||r!==null&&n!==null&&r.client===n.client&&r.clock===n.clock,ft=(r,n)=>new yu(r,n),NE=r=>{for(const[n,l]of r.doc.share.entries())if(l===r)return n;throw Jr()},du=(r,n)=>n===void 0?!r.deleted:n.sv.has(r.id.client)&&(n.sv.get(r.id.client)||0)>r.id.clock&&!sb(n.ds,r.id),uy=(r,n)=>{const l=Ui(r.meta,uy,ha),a=r.doc.store;l.has(n)||(n.sv.forEach((s,f)=>{s<fn(a,f)&&Ul(r,ft(f,s))}),ub(r,n.ds,s=>{}),l.add(n))};class yb{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const qy=r=>{const n=new Map;return r.clients.forEach((l,a)=>{const s=l[l.length-1];n.set(a,s.id.clock+s.length)}),n},fn=(r,n)=>{const l=r.clients.get(n);if(l===void 0)return 0;const a=l[l.length-1];return a.id.clock+a.length},pb=(r,n)=>{let l=r.clients.get(n.id.client);if(l===void 0)l=[],r.clients.set(n.id.client,l);else{const a=l[l.length-1];if(a.id.clock+a.length!==n.id.clock)throw Jr()}l.push(n)},$r=(r,n)=>{let l=0,a=r.length-1,s=r[a],f=s.id.clock;if(f===n)return a;let y=Ci(n/(f+s.length-1)*a);for(;l<=a;){if(s=r[y],f=s.id.clock,f<=n){if(n<f+s.length)return y;l=y+1}else a=y-1;y=Ci((l+a)/2)}throw Jr()},zE=(r,n)=>{const l=r.clients.get(n.client);return l[$r(l,n.clock)]},qh=zE,sy=(r,n,l)=>{const a=$r(n,l),s=n[a];return s.id.clock<l&&s instanceof tn?(n.splice(a+1,0,gf(r,s,l-s.id.clock)),a+1):a},Ul=(r,n)=>{const l=r.doc.store.clients.get(n.client);return l[sy(r,l,n.clock)]},Mm=(r,n,l)=>{const a=n.clients.get(l.client),s=$r(a,l.clock),f=a[s];return l.clock!==f.id.clock+f.length-1&&f.constructor!==_r&&a.splice(s+1,0,gf(r,f,l.clock-f.id.clock+1)),f},BE=(r,n,l)=>{const a=r.clients.get(n.id.client);a[$r(a,n.id.clock)]=l},vb=(r,n,l,a,s)=>{if(a===0)return;const f=l+a;let y=sy(r,n,l),p;do p=n[y++],f<p.id.clock+p.length&&sy(r,n,f),s(p);while(y<n.length&&n[y].id.clock<f)};class LE{constructor(n,l,a){this.doc=n,this.deleteSet=new kf,this.beforeState=qy(n.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=l,this.meta=new Map,this.local=a,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const jm=(r,n)=>n.deleteSet.clients.size===0&&!X1(n.afterState,(l,a)=>n.beforeState.get(a)!==l)?!1:(By(n.deleteSet),UE(r,n),Ly(r,n.deleteSet),!0),Nm=(r,n,l)=>{const a=n._item;(a===null||a.id.clock<(r.beforeState.get(a.id.client)||0)&&!a.deleted)&&Ui(r.changed,n,ha).add(l)},tf=(r,n)=>{let l=r[n],a=r[n-1],s=n;for(;s>0;l=a,a=r[--s-1]){if(a.deleted===l.deleted&&a.constructor===l.constructor&&a.mergeWith(l)){l instanceof tn&&l.parentSub!==null&&l.parent._map.get(l.parentSub)===l&&l.parent._map.set(l.parentSub,a);continue}break}const f=n-s;return f&&r.splice(n+1-f,f),f},qE=(r,n,l)=>{for(const[a,s]of r.clients.entries()){const f=n.clients.get(a);for(let y=s.length-1;y>=0;y--){const p=s[y],b=p.clock+p.len;for(let v=$r(f,p.clock),m=f[v];v<f.length&&m.id.clock<b;m=f[++v]){const w=f[v];if(p.clock+p.len<=w.id.clock)break;w instanceof tn&&w.deleted&&!w.keep&&l(w)&&w.gc(n,!1)}}}},HE=(r,n)=>{r.clients.forEach((l,a)=>{const s=n.clients.get(a);for(let f=l.length-1;f>=0;f--){const y=l[f],p=g0(s.length-1,1+$r(s,y.clock+y.len-1));for(let b=p,v=s[b];b>0&&v.id.clock>=y.clock;v=s[b])b-=1+tf(s,b)}})},gb=(r,n)=>{if(n<r.length){const l=r[n],a=l.doc,s=a.store,f=l.deleteSet,y=l._mergeStructs;try{By(f),l.afterState=qy(l.doc.store),a.emit("beforeObserverCalls",[l,a]);const p=[];l.changed.forEach((b,v)=>p.push(()=>{(v._item===null||!v._item.deleted)&&v._callObserver(l,b)})),p.push(()=>{l.changedParentTypes.forEach((b,v)=>{v._dEH.l.length>0&&(v._item===null||!v._item.deleted)&&(b=b.filter(m=>m.target._item===null||!m.target._item.deleted),b.forEach(m=>{m.currentTarget=v,m._path=null}),b.sort((m,w)=>m.path.length-w.path.length),hb(v._dEH,b,l))})}),p.push(()=>a.emit("afterTransaction",[l,a])),Ny(p,[]),l._needFormattingCleanup&&iA(l)}finally{a.gc&&qE(f,s,a.gcFilter),HE(f,s),l.afterState.forEach((m,w)=>{const A=l.beforeState.get(w)||0;if(A!==m){const O=s.clients.get(w),k=Tu($r(O,A),1);for(let j=O.length-1;j>=k;)j-=1+tf(O,j)}});for(let m=y.length-1;m>=0;m--){const{client:w,clock:A}=y[m].id,O=s.clients.get(w),k=$r(O,A);k+1<O.length&&tf(O,k+1)>1||k>0&&tf(O,k)}if(!l.local&&l.afterState.get(a.clientID)!==l.beforeState.get(a.clientID)&&(_E(zy,eb,"[yjs] ",tb,nb,"Changed the client-id because another client seems to be using it."),a.clientID=ob()),a.emit("afterTransactionCleanup",[l,a]),a._observers.has("update")){const m=new kE;jm(m,l)&&a.emit("update",[m.toUint8Array(),l.origin,a,l])}if(a._observers.has("updateV2")){const m=new Df;jm(m,l)&&a.emit("updateV2",[m.toUint8Array(),l.origin,a,l])}const{subdocsAdded:p,subdocsLoaded:b,subdocsRemoved:v}=l;(p.size>0||v.size>0||b.size>0)&&(p.forEach(m=>{m.clientID=a.clientID,m.collectionid==null&&(m.collectionid=a.collectionid),a.subdocs.add(m)}),v.forEach(m=>a.subdocs.delete(m)),a.emit("subdocs",[{loaded:b,added:p,removed:v},a,l]),v.forEach(m=>m.destroy())),r.length<=n+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,r])):gb(r,n+1)}}},kt=(r,n,l=null,a=!0)=>{const s=r._transactionCleanups;let f=!1,y=null;r._transaction===null&&(f=!0,r._transaction=new LE(r,l,a),s.push(r._transaction),s.length===1&&r.emit("beforeAllTransactions",[r]),r.emit("beforeTransaction",[r._transaction,r]));try{y=n(r._transaction)}finally{if(f){const p=r._transaction===s[0];r._transaction=null,p&&gb(s,0)}}return y};function*KE(r){const n=At(r.restDecoder);for(let l=0;l<n;l++){const a=At(r.restDecoder),s=r.readClient();let f=At(r.restDecoder);for(let y=0;y<a;y++){const p=r.readInfo();if(p===10){const b=At(r.restDecoder);yield new wr(ft(s,f),b),f+=b}else if((Af&p)!==0){const b=(p&(ki|tr))===0,v=new tn(ft(s,f),null,(p&tr)===tr?r.readLeftID():null,null,(p&ki)===ki?r.readRightID():null,b?r.readParentInfo()?r.readString():r.readLeftID():null,b&&(p&so)===so?r.readString():null,Bb(r,p));yield v,f+=v.length}else{const b=r.readLen();yield new _r(ft(s,f),b),f+=b}}}}class mb{constructor(n,l){this.gen=KE(n),this.curr=null,this.done=!1,this.filterSkips=l,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===wr);return this.curr}}class YE{constructor(n){this.currClient=0,this.startClock=0,this.written=0,this.encoder=n,this.clientStructs=[]}}const bb=(r,n=cb,l=ho)=>{const a=new n,s=new mb(new l(_o(r)),!1);let f=s.curr;if(f!==null){let y=0,p=f.id.client,b=f.id.clock!==0,v=b?0:f.id.clock+f.length;for(;f!==null;f=s.next())p!==f.id.client&&(v!==0&&(y++,Ze(a.restEncoder,p),Ze(a.restEncoder,v)),p=f.id.client,v=0,b=f.id.clock!==0),f.constructor===wr&&(b=!0),b||(v=f.id.clock+f.length);v!==0&&(y++,Ze(a.restEncoder,p),Ze(a.restEncoder,v));const m=ku();return Ze(m,y),TS(m,a.restEncoder),a.restEncoder=m,a.toUint8Array()}else return Ze(a.restEncoder,0),a.toUint8Array()},VE=(r,n)=>{if(r.constructor===_r){const{client:l,clock:a}=r.id;return new _r(ft(l,a+n),r.length-n)}else if(r.constructor===wr){const{client:l,clock:a}=r.id;return new wr(ft(l,a+n),r.length-n)}else{const l=r,{client:a,clock:s}=l.id;return new tn(ft(a,s+n),null,ft(a,s+n-1),null,l.rightOrigin,l.parent,l.parentSub,l.content.splice(n))}},ff=(r,n=ho,l=Df)=>{if(r.length===1)return r[0];const a=r.map(m=>new n(_o(m)));let s=a.map(m=>new mb(m,!0)),f=null;const y=new l,p=new YE(y);for(;s=s.filter(A=>A.curr!==null),s.sort((A,O)=>{if(A.curr.id.client===O.curr.id.client){const k=A.curr.id.clock-O.curr.id.clock;return k===0?A.curr.constructor===O.curr.constructor?0:A.curr.constructor===wr?1:-1:k}else return O.curr.id.client-A.curr.id.client}),s.length!==0;){const m=s[0],w=m.curr.id.client;if(f!==null){let A=m.curr,O=!1;for(;A!==null&&A.id.clock+A.length<=f.struct.id.clock+f.struct.length&&A.id.client>=f.struct.id.client;)A=m.next(),O=!0;if(A===null||A.id.client!==w||O&&A.id.clock>f.struct.id.clock+f.struct.length)continue;if(w!==f.struct.id.client)Js(p,f.struct,f.offset),f={struct:A,offset:0},m.next();else if(f.struct.id.clock+f.struct.length<A.id.clock)if(f.struct.constructor===wr)f.struct.length=A.id.clock+A.length-f.struct.id.clock;else{Js(p,f.struct,f.offset);const k=A.id.clock-f.struct.id.clock-f.struct.length;f={struct:new wr(ft(w,f.struct.id.clock+f.struct.length),k),offset:0}}else{const k=f.struct.id.clock+f.struct.length-A.id.clock;k>0&&(f.struct.constructor===wr?f.struct.length-=k:A=VE(A,k)),f.struct.mergeWith(A)||(Js(p,f.struct,f.offset),f={struct:A,offset:0},m.next())}}else f={struct:m.curr,offset:0},m.next();for(let A=m.curr;A!==null&&A.id.client===w&&A.id.clock===f.struct.id.clock+f.struct.length&&A.constructor!==wr;A=m.next())Js(p,f.struct,f.offset),f={struct:A,offset:0}}f!==null&&(Js(p,f.struct,f.offset),f=null),GE(p);const b=a.map(m=>OE(m)),v=AE(b);return Ly(y,v),y.toUint8Array()},_b=r=>{r.written>0&&(r.clientStructs.push({written:r.written,restEncoder:er(r.encoder.restEncoder)}),r.encoder.restEncoder=ku(),r.written=0)},Js=(r,n,l)=>{r.written>0&&r.currClient!==n.id.client&&_b(r),r.written===0&&(r.currClient=n.id.client,r.encoder.writeClient(n.id.client),Ze(r.encoder.restEncoder,n.id.clock+l)),n.write(r.encoder,l),r.written++},GE=r=>{_b(r);const n=r.encoder.restEncoder;Ze(n,r.clientStructs.length);for(let l=0;l<r.clientStructs.length;l++){const a=r.clientStructs[l];Ze(n,a.written),bo(n,a.restEncoder)}},zm="You must not compute changes after the event-handler fired.";class Cf{constructor(n,l){this.target=n,this.currentTarget=n,this.transaction=l,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=XE(this.currentTarget,this.target))}deletes(n){return sb(this.transaction.deleteSet,n.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Rl(zm);const n=new Map,l=this.target;this.transaction.changed.get(l).forEach(s=>{if(s!==null){const f=l._map.get(s);let y,p;if(this.adds(f)){let b=f.left;for(;b!==null&&this.adds(b);)b=b.left;if(this.deletes(f))if(b!==null&&this.deletes(b))y="delete",p=Mh(b.content.getContent());else return;else b!==null&&this.deletes(b)?(y="update",p=Mh(b.content.getContent())):(y="add",p=void 0)}else if(this.deletes(f))y="delete",p=Mh(f.content.getContent());else return;n.set(s,{action:y,oldValue:p})}}),this._keys=n}return this._keys}get delta(){return this.changes.delta}adds(n){return n.id.clock>=(this.transaction.beforeState.get(n.id.client)||0)}get changes(){let n=this._changes;if(n===null){if(this.transaction.doc._transactionCleanups.length===0)throw Rl(zm);const l=this.target,a=ha(),s=ha(),f=[];if(n={added:a,deleted:s,delta:f,keys:this.keys},this.transaction.changed.get(l).has(null)){let p=null;const b=()=>{p&&f.push(p)};for(let v=l._start;v!==null;v=v.right)v.deleted?this.deletes(v)&&!this.adds(v)&&((p===null||p.delete===void 0)&&(b(),p={delete:0}),p.delete+=v.length,s.add(v)):this.adds(v)?((p===null||p.insert===void 0)&&(b(),p={insert:[]}),p.insert=p.insert.concat(v.content.getContent()),a.add(v)):((p===null||p.retain===void 0)&&(b(),p={retain:0}),p.retain+=v.length);p!==null&&p.retain===void 0&&b()}this._changes=n}return n}}const XE=(r,n)=>{const l=[];for(;n._item!==null&&n!==r;){if(n._item.parentSub!==null)l.unshift(n._item.parentSub);else{let a=0,s=n._item.parent._start;for(;s!==n._item&&s!==null;)!s.deleted&&s.countable&&(a+=s.length),s=s.right;l.unshift(a)}n=n._item.parent}return l},Tn=()=>{wE("Invalid access: Add Yjs type to a document before reading data.")},wb=80;let Hy=0;class IE{constructor(n,l){n.marker=!0,this.p=n,this.index=l,this.timestamp=Hy++}}const QE=r=>{r.timestamp=Hy++},Sb=(r,n,l)=>{r.p.marker=!1,r.p=n,n.marker=!0,r.index=l,r.timestamp=Hy++},ZE=(r,n,l)=>{if(r.length>=wb){const a=r.reduce((s,f)=>s.timestamp<f.timestamp?s:f);return Sb(a,n,l),a}else{const a=new IE(n,l);return r.push(a),a}},Rf=(r,n)=>{if(r._start===null||n===0||r._searchMarker===null)return null;const l=r._searchMarker.length===0?null:r._searchMarker.reduce((f,y)=>Fc(n-f.index)<Fc(n-y.index)?f:y);let a=r._start,s=0;for(l!==null&&(a=l.p,s=l.index,QE(l));a.right!==null&&s<n;){if(!a.deleted&&a.countable){if(n<s+a.length)break;s+=a.length}a=a.right}for(;a.left!==null&&s>n;)a=a.left,!a.deleted&&a.countable&&(s-=a.length);for(;a.left!==null&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(s-=a.length);return l!==null&&Fc(l.index-s)<a.parent.length/wb?(Sb(l,a,s),l):ZE(r._searchMarker,a,s)},yo=(r,n,l)=>{for(let a=r.length-1;a>=0;a--){const s=r[a];if(l>0){let f=s.p;for(f.marker=!1;f&&(f.deleted||!f.countable);)f=f.left,f&&!f.deleted&&f.countable&&(s.index-=f.length);if(f===null||f.marker===!0){r.splice(a,1);continue}s.p=f,f.marker=!0}(n<s.index||l>0&&n===s.index)&&(s.index=Tu(n,s.index+l))}},Uf=(r,n,l)=>{const a=r,s=n.changedParentTypes;for(;Ui(s,r,()=>[]).push(l),r._item!==null;)r=r._item.parent;hb(a._eH,l,n)};class mn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Cm(),this._dEH=Cm(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(n,l){this.doc=n,this._item=l}_copy(){throw Zr()}clone(){throw Zr()}_write(n){}get _first(){let n=this._start;for(;n!==null&&n.deleted;)n=n.right;return n}_callObserver(n,l){!n.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(n){Rm(this._eH,n)}observeDeep(n){Rm(this._dEH,n)}unobserve(n){Um(this._eH,n)}unobserveDeep(n){Um(this._dEH,n)}toJSON(){}}const Eb=(r,n,l)=>{r.doc??Tn(),n<0&&(n=r._length+n),l<0&&(l=r._length+l);let a=l-n;const s=[];let f=r._start;for(;f!==null&&a>0;){if(f.countable&&!f.deleted){const y=f.content.getContent();if(y.length<=n)n-=y.length;else{for(let p=n;p<y.length&&a>0;p++)s.push(y[p]),a--;n=0}}f=f.right}return s},Ab=r=>{r.doc??Tn();const n=[];let l=r._start;for(;l!==null;){if(l.countable&&!l.deleted){const a=l.content.getContent();for(let s=0;s<a.length;s++)n.push(a[s])}l=l.right}return n},po=(r,n)=>{let l=0,a=r._start;for(r.doc??Tn();a!==null;){if(a.countable&&!a.deleted){const s=a.content.getContent();for(let f=0;f<s.length;f++)n(s[f],l++,r)}a=a.right}},Ob=(r,n)=>{const l=[];return po(r,(a,s)=>{l.push(n(a,s,r))}),l},JE=r=>{let n=r._start,l=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(l===null){for(;n!==null&&n.deleted;)n=n.right;if(n===null)return{done:!0,value:void 0};l=n.content.getContent(),a=0,n=n.right}const s=l[a++];return l.length<=a&&(l=null),{done:!1,value:s}}}},Tb=(r,n)=>{r.doc??Tn();const l=Rf(r,n);let a=r._start;for(l!==null&&(a=l.p,n-=l.index);a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<a.length)return a.content.getContent()[n];n-=a.length}},df=(r,n,l,a)=>{let s=l;const f=r.doc,y=f.clientID,p=f.store,b=l===null?n._start:l.right;let v=[];const m=()=>{v.length>0&&(s=new tn(ft(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new ga(v)),s.integrate(r,0),v=[])};a.forEach(w=>{if(w===null)v.push(w);else switch(w.constructor){case Number:case Object:case Boolean:case Array:case String:v.push(w);break;default:switch(m(),w.constructor){case Uint8Array:case ArrayBuffer:s=new tn(ft(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new Eo(new Uint8Array(w))),s.integrate(r,0);break;case Uu:s=new tn(ft(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new Ao(w)),s.integrate(r,0);break;default:if(w instanceof mn)s=new tn(ft(y,fn(p,y)),s,s&&s.lastId,b,b&&b.id,n,null,new ji(w)),s.integrate(r,0);else throw new Error("Unexpected content type in insert operation")}}}),m()},xb=()=>Rl("Length exceeded!"),kb=(r,n,l,a)=>{if(l>n._length)throw xb();if(l===0)return n._searchMarker&&yo(n._searchMarker,l,a.length),df(r,n,null,a);const s=l,f=Rf(n,l);let y=n._start;for(f!==null&&(y=f.p,l-=f.index,l===0&&(y=y.prev,l+=y&&y.countable&&!y.deleted?y.length:0));y!==null;y=y.right)if(!y.deleted&&y.countable){if(l<=y.length){l<y.length&&Ul(r,ft(y.id.client,y.id.clock+l));break}l-=y.length}return n._searchMarker&&yo(n._searchMarker,s,a.length),df(r,n,y,a)},$E=(r,n,l)=>{let s=(n._searchMarker||[]).reduce((f,y)=>y.index>f.index?y:f,{index:0,p:n._start}).p;if(s)for(;s.right;)s=s.right;return df(r,n,s,l)},Db=(r,n,l,a)=>{if(a===0)return;const s=l,f=a,y=Rf(n,l);let p=n._start;for(y!==null&&(p=y.p,l-=y.index);p!==null&&l>0;p=p.right)!p.deleted&&p.countable&&(l<p.length&&Ul(r,ft(p.id.client,p.id.clock+l)),l-=p.length);for(;a>0&&p!==null;)p.deleted||(a<p.length&&Ul(r,ft(p.id.client,p.id.clock+a)),p.delete(r),a-=p.length),p=p.right;if(a>0)throw xb();n._searchMarker&&yo(n._searchMarker,s,-f+a)},hf=(r,n,l)=>{const a=n._map.get(l);a!==void 0&&a.delete(r)},Ky=(r,n,l,a)=>{const s=n._map.get(l)||null,f=r.doc,y=f.clientID;let p;if(a==null)p=new ga([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:p=new ga([a]);break;case Uint8Array:p=new Eo(a);break;case Uu:p=new Ao(a);break;default:if(a instanceof mn)p=new ji(a);else throw new Error("Unexpected content type")}new tn(ft(y,fn(f.store,y)),s,s&&s.lastId,null,null,n,l,p).integrate(r,0)},Yy=(r,n)=>{r.doc??Tn();const l=r._map.get(n);return l!==void 0&&!l.deleted?l.content.getContent()[l.length-1]:void 0},Cb=r=>{const n={};return r.doc??Tn(),r._map.forEach((l,a)=>{l.deleted||(n[a]=l.content.getContent()[l.length-1])}),n},Rb=(r,n)=>{r.doc??Tn();const l=r._map.get(n);return l!==void 0&&!l.deleted},FE=(r,n)=>{const l={};return r._map.forEach((a,s)=>{let f=a;for(;f!==null&&(!n.sv.has(f.id.client)||f.id.clock>=(n.sv.get(f.id.client)||0));)f=f.left;f!==null&&du(f,n)&&(l[s]=f.content.getContent()[f.length-1])}),l},Vc=r=>(r.doc??Tn(),SE(r._map.entries(),n=>!n[1].deleted));class PE extends Cf{}class pu extends mn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(n){const l=new pu;return l.push(n),l}_integrate(n,l){super._integrate(n,l),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new pu}clone(){const n=new pu;return n.insert(0,this.toArray().map(l=>l instanceof mn?l.clone():l)),n}get length(){return this.doc??Tn(),this._length}_callObserver(n,l){super._callObserver(n,l),Uf(this,n,new PE(this,n))}insert(n,l){this.doc!==null?kt(this.doc,a=>{kb(a,this,n,l)}):this._prelimContent.splice(n,0,...l)}push(n){this.doc!==null?kt(this.doc,l=>{$E(l,this,n)}):this._prelimContent.push(...n)}unshift(n){this.insert(0,n)}delete(n,l=1){this.doc!==null?kt(this.doc,a=>{Db(a,this,n,l)}):this._prelimContent.splice(n,l)}get(n){return Tb(this,n)}toArray(){return Ab(this)}slice(n=0,l=this.length){return Eb(this,n,l)}toJSON(){return this.map(n=>n instanceof mn?n.toJSON():n)}map(n){return Ob(this,n)}forEach(n){po(this,n)}[Symbol.iterator](){return JE(this)}_write(n){n.writeTypeRef(EA)}}const WE=r=>new pu;class eA extends Cf{constructor(n,l,a){super(n,l),this.keysChanged=a}}class wu extends mn{constructor(n){super(),this._prelimContent=null,n===void 0?this._prelimContent=new Map:this._prelimContent=new Map(n)}_integrate(n,l){super._integrate(n,l),this._prelimContent.forEach((a,s)=>{this.set(s,a)}),this._prelimContent=null}_copy(){return new wu}clone(){const n=new wu;return this.forEach((l,a)=>{n.set(a,l instanceof mn?l.clone():l)}),n}_callObserver(n,l){Uf(this,n,new eA(this,n,l))}toJSON(){this.doc??Tn();const n={};return this._map.forEach((l,a)=>{if(!l.deleted){const s=l.content.getContent()[l.length-1];n[a]=s instanceof mn?s.toJSON():s}}),n}get size(){return[...Vc(this)].length}keys(){return Lh(Vc(this),n=>n[0])}values(){return Lh(Vc(this),n=>n[1].content.getContent()[n[1].length-1])}entries(){return Lh(Vc(this),n=>[n[0],n[1].content.getContent()[n[1].length-1]])}forEach(n){this.doc??Tn(),this._map.forEach((l,a)=>{l.deleted||n(l.content.getContent()[l.length-1],a,this)})}[Symbol.iterator](){return this.entries()}delete(n){this.doc!==null?kt(this.doc,l=>{hf(l,this,n)}):this._prelimContent.delete(n)}set(n,l){return this.doc!==null?kt(this.doc,a=>{Ky(a,this,n,l)}):this._prelimContent.set(n,l),l}get(n){return Yy(this,n)}has(n){return Rb(this,n)}clear(){this.doc!==null?kt(this.doc,n=>{this.forEach(function(l,a,s){hf(n,s,a)})}):this._prelimContent.clear()}_write(n){n.writeTypeRef(AA)}}const tA=r=>new wu,El=(r,n)=>r===n||typeof r=="object"&&typeof n=="object"&&r&&n&&iE(r,n);class oy{constructor(n,l,a,s){this.left=n,this.right=l,this.index=a,this.currentAttributes=s}forward(){switch(this.right===null&&Jr(),this.right.content.constructor){case rn:this.right.deleted||Mu(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Bm=(r,n,l)=>{for(;n.right!==null&&l>0;){switch(n.right.content.constructor){case rn:n.right.deleted||Mu(n.currentAttributes,n.right.content);break;default:n.right.deleted||(l<n.right.length&&Ul(r,ft(n.right.id.client,n.right.id.clock+l)),n.index+=n.right.length,l-=n.right.length);break}n.left=n.right,n.right=n.right.right}return n},Gc=(r,n,l,a)=>{const s=new Map,f=a?Rf(n,l):null;if(f){const y=new oy(f.p.left,f.p,f.index,s);return Bm(r,y,l-f.index)}else{const y=new oy(null,n._start,0,s);return Bm(r,y,l)}},Ub=(r,n,l,a)=>{for(;l.right!==null&&(l.right.deleted===!0||l.right.content.constructor===rn&&El(a.get(l.right.content.key),l.right.content.value));)l.right.deleted||a.delete(l.right.content.key),l.forward();const s=r.doc,f=s.clientID;a.forEach((y,p)=>{const b=l.left,v=l.right,m=new tn(ft(f,fn(s.store,f)),b,b&&b.lastId,v,v&&v.id,n,null,new rn(p,y));m.integrate(r,0),l.right=m,l.forward()})},Mu=(r,n)=>{const{key:l,value:a}=n;a===null?r.delete(l):r.set(l,a)},Mb=(r,n)=>{for(;r.right!==null;){if(!(r.right.deleted||r.right.content.constructor===rn&&El(n[r.right.content.key]??null,r.right.content.value)))break;r.forward()}},jb=(r,n,l,a)=>{const s=r.doc,f=s.clientID,y=new Map;for(const p in a){const b=a[p],v=l.currentAttributes.get(p)??null;if(!El(v,b)){y.set(p,v);const{left:m,right:w}=l;l.right=new tn(ft(f,fn(s.store,f)),m,m&&m.lastId,w,w&&w.id,n,null,new rn(p,b)),l.right.integrate(r,0),l.forward()}}return y},Hh=(r,n,l,a,s)=>{l.currentAttributes.forEach((A,O)=>{s[O]===void 0&&(s[O]=null)});const f=r.doc,y=f.clientID;Mb(l,s);const p=jb(r,n,l,s),b=a.constructor===String?new Fr(a):a instanceof mn?new ji(a):new ma(a);let{left:v,right:m,index:w}=l;n._searchMarker&&yo(n._searchMarker,l.index,b.getLength()),m=new tn(ft(y,fn(f.store,y)),v,v&&v.lastId,m,m&&m.id,n,null,b),m.integrate(r,0),l.right=m,l.index=w,l.forward(),Ub(r,n,l,p)},Lm=(r,n,l,a,s)=>{const f=r.doc,y=f.clientID;Mb(l,s);const p=jb(r,n,l,s);e:for(;l.right!==null&&(a>0||p.size>0&&(l.right.deleted||l.right.content.constructor===rn));){if(!l.right.deleted)switch(l.right.content.constructor){case rn:{const{key:b,value:v}=l.right.content,m=s[b];if(m!==void 0){if(El(m,v))p.delete(b);else{if(a===0)break e;p.set(b,v)}l.right.delete(r)}else l.currentAttributes.set(b,v);break}default:a<l.right.length&&Ul(r,ft(l.right.id.client,l.right.id.clock+a)),a-=l.right.length;break}l.forward()}if(a>0){let b="";for(;a>0;a--)b+=`
`;l.right=new tn(ft(y,fn(f.store,y)),l.left,l.left&&l.left.lastId,l.right,l.right&&l.right.id,n,null,new Fr(b)),l.right.integrate(r,0),l.forward()}Ub(r,n,l,p)},Nb=(r,n,l,a,s)=>{let f=n;const y=Hn();for(;f&&(!f.countable||f.deleted);){if(!f.deleted&&f.content.constructor===rn){const v=f.content;y.set(v.key,v)}f=f.right}let p=0,b=!1;for(;n!==f;){if(l===n&&(b=!0),!n.deleted){const v=n.content;switch(v.constructor){case rn:{const{key:m,value:w}=v,A=a.get(m)??null;(y.get(m)!==v||A===w)&&(n.delete(r),p++,!b&&(s.get(m)??null)===w&&A!==w&&(A===null?s.delete(m):s.set(m,A))),!b&&!n.deleted&&Mu(s,v);break}}}n=n.right}return p},nA=(r,n)=>{for(;n&&n.right&&(n.right.deleted||!n.right.countable);)n=n.right;const l=new Set;for(;n&&(n.deleted||!n.countable);){if(!n.deleted&&n.content.constructor===rn){const a=n.content.key;l.has(a)?n.delete(r):l.add(a)}n=n.left}},rA=r=>{let n=0;return kt(r.doc,l=>{let a=r._start,s=r._start,f=Hn();const y=ly(f);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case rn:Mu(y,s.content);break;default:n+=Nb(l,a,s,f,y),f=ly(y),a=s;break}s=s.right}}),n},iA=r=>{const n=new Set,l=r.doc;for(const[a,s]of r.afterState.entries()){const f=r.beforeState.get(a)||0;s!==f&&vb(r,l.store.clients.get(a),f,s,y=>{!y.deleted&&y.content.constructor===rn&&y.constructor!==_r&&n.add(y.parent)})}kt(l,a=>{ub(r,r.deleteSet,s=>{if(s instanceof _r||!s.parent._hasFormatting||n.has(s.parent))return;const f=s.parent;s.content.constructor===rn?n.add(f):nA(a,s)});for(const s of n)rA(s)})},qm=(r,n,l)=>{const a=l,s=ly(n.currentAttributes),f=n.right;for(;l>0&&n.right!==null;){if(n.right.deleted===!1)switch(n.right.content.constructor){case ji:case ma:case Fr:l<n.right.length&&Ul(r,ft(n.right.id.client,n.right.id.clock+l)),l-=n.right.length,n.right.delete(r);break}n.forward()}f&&Nb(r,f,n.right,s,n.currentAttributes);const y=(n.left||n.right).parent;return y._searchMarker&&yo(y._searchMarker,n.index,-a+l),n};class lA extends Cf{constructor(n,l,a){super(n,l),this.childListChanged=!1,this.keysChanged=new Set,a.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const n={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=n}return this._changes}get delta(){if(this._delta===null){const n=this.target.doc,l=[];kt(n,a=>{const s=new Map,f=new Map;let y=this.target._start,p=null;const b={};let v="",m=0,w=0;const A=()=>{if(p!==null){let O=null;switch(p){case"delete":w>0&&(O={delete:w}),w=0;break;case"insert":(typeof v=="object"||v.length>0)&&(O={insert:v},s.size>0&&(O.attributes={},s.forEach((k,j)=>{k!==null&&(O.attributes[j]=k)}))),v="";break;case"retain":m>0&&(O={retain:m},nE(b)||(O.attributes=eE({},b))),m=0;break}O&&l.push(O),p=null}};for(;y!==null;){switch(y.content.constructor){case ji:case ma:this.adds(y)?this.deletes(y)||(A(),p="insert",v=y.content.getContent()[0],A()):this.deletes(y)?(p!=="delete"&&(A(),p="delete"),w+=1):y.deleted||(p!=="retain"&&(A(),p="retain"),m+=1);break;case Fr:this.adds(y)?this.deletes(y)||(p!=="insert"&&(A(),p="insert"),v+=y.content.str):this.deletes(y)?(p!=="delete"&&(A(),p="delete"),w+=y.length):y.deleted||(p!=="retain"&&(A(),p="retain"),m+=y.length);break;case rn:{const{key:O,value:k}=y.content;if(this.adds(y)){if(!this.deletes(y)){const j=s.get(O)??null;El(j,k)?k!==null&&y.delete(a):(p==="retain"&&A(),El(k,f.get(O)??null)?delete b[O]:b[O]=k)}}else if(this.deletes(y)){f.set(O,k);const j=s.get(O)??null;El(j,k)||(p==="retain"&&A(),b[O]=j)}else if(!y.deleted){f.set(O,k);const j=b[O];j!==void 0&&(El(j,k)?j!==null&&y.delete(a):(p==="retain"&&A(),k===null?delete b[O]:b[O]=k))}y.deleted||(p==="insert"&&A(),Mu(s,y.content));break}}y=y.right}for(A();l.length>0;){const O=l[l.length-1];if(O.retain!==void 0&&O.attributes===void 0)l.pop();else break}}),this._delta=l}return this._delta}}class Su extends mn{constructor(n){super(),this._pending=n!==void 0?[()=>this.insert(0,n)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Tn(),this._length}_integrate(n,l){super._integrate(n,l);try{this._pending.forEach(a=>a())}catch(a){console.error(a)}this._pending=null}_copy(){return new Su}clone(){const n=new Su;return n.applyDelta(this.toDelta()),n}_callObserver(n,l){super._callObserver(n,l);const a=new lA(this,n,l);Uf(this,n,a),!n.local&&this._hasFormatting&&(n._needFormattingCleanup=!0)}toString(){this.doc??Tn();let n="",l=this._start;for(;l!==null;)!l.deleted&&l.countable&&l.content.constructor===Fr&&(n+=l.content.str),l=l.right;return n}toJSON(){return this.toString()}applyDelta(n,{sanitize:l=!0}={}){this.doc!==null?kt(this.doc,a=>{const s=new oy(null,this._start,0,new Map);for(let f=0;f<n.length;f++){const y=n[f];if(y.insert!==void 0){const p=!l&&typeof y.insert=="string"&&f===n.length-1&&s.right===null&&y.insert.slice(-1)===`
`?y.insert.slice(0,-1):y.insert;(typeof p!="string"||p.length>0)&&Hh(a,this,s,p,y.attributes||{})}else y.retain!==void 0?Lm(a,this,s,y.retain,y.attributes||{}):y.delete!==void 0&&qm(a,s,y.delete)}}):this._pending.push(()=>this.applyDelta(n))}toDelta(n,l,a){this.doc??Tn();const s=[],f=new Map,y=this.doc;let p="",b=this._start;function v(){if(p.length>0){const w={};let A=!1;f.forEach((k,j)=>{A=!0,w[j]=k});const O={insert:p};A&&(O.attributes=w),s.push(O),p=""}}const m=()=>{for(;b!==null;){if(du(b,n)||l!==void 0&&du(b,l))switch(b.content.constructor){case Fr:{const w=f.get("ychange");n!==void 0&&!du(b,n)?(w===void 0||w.user!==b.id.client||w.type!=="removed")&&(v(),f.set("ychange",a?a("removed",b.id):{type:"removed"})):l!==void 0&&!du(b,l)?(w===void 0||w.user!==b.id.client||w.type!=="added")&&(v(),f.set("ychange",a?a("added",b.id):{type:"added"})):w!==void 0&&(v(),f.delete("ychange")),p+=b.content.str;break}case ji:case ma:{v();const w={insert:b.content.getContent()[0]};if(f.size>0){const A={};w.attributes=A,f.forEach((O,k)=>{A[k]=O})}s.push(w);break}case rn:du(b,n)&&(v(),Mu(f,b.content));break}b=b.right}v()};return n||l?kt(y,w=>{n&&uy(w,n),l&&uy(w,l),m()},"cleanup"):m(),s}insert(n,l,a){if(l.length<=0)return;const s=this.doc;s!==null?kt(s,f=>{const y=Gc(f,this,n,!a);a||(a={},y.currentAttributes.forEach((p,b)=>{a[b]=p})),Hh(f,this,y,l,a)}):this._pending.push(()=>this.insert(n,l,a))}insertEmbed(n,l,a){const s=this.doc;s!==null?kt(s,f=>{const y=Gc(f,this,n,!a);Hh(f,this,y,l,a||{})}):this._pending.push(()=>this.insertEmbed(n,l,a||{}))}delete(n,l){if(l===0)return;const a=this.doc;a!==null?kt(a,s=>{qm(s,Gc(s,this,n,!0),l)}):this._pending.push(()=>this.delete(n,l))}format(n,l,a){if(l===0)return;const s=this.doc;s!==null?kt(s,f=>{const y=Gc(f,this,n,!1);y.right!==null&&Lm(f,this,y,l,a)}):this._pending.push(()=>this.format(n,l,a))}removeAttribute(n){this.doc!==null?kt(this.doc,l=>{hf(l,this,n)}):this._pending.push(()=>this.removeAttribute(n))}setAttribute(n,l){this.doc!==null?kt(this.doc,a=>{Ky(a,this,n,l)}):this._pending.push(()=>this.setAttribute(n,l))}getAttribute(n){return Yy(this,n)}getAttributes(){return Cb(this)}_write(n){n.writeTypeRef(OA)}}const aA=r=>new Su;class Kh{constructor(n,l=()=>!0){this._filter=l,this._root=n,this._currentNode=n._start,this._firstCall=!0,n.doc??Tn()}[Symbol.iterator](){return this}next(){let n=this._currentNode,l=n&&n.content&&n.content.type;if(n!==null&&(!this._firstCall||n.deleted||!this._filter(l)))do if(l=n.content.type,!n.deleted&&(l.constructor===Eu||l.constructor===va)&&l._start!==null)n=l._start;else for(;n!==null;){const a=n.next;if(a!==null){n=a;break}else n.parent===this._root?n=null:n=n.parent._item}while(n!==null&&(n.deleted||!this._filter(n.content.type)));return this._firstCall=!1,n===null?{value:void 0,done:!0}:(this._currentNode=n,{value:n.content.type,done:!1})}}class va extends mn{constructor(){super(),this._prelimContent=[]}get firstChild(){const n=this._first;return n?n.content.getContent()[0]:null}_integrate(n,l){super._integrate(n,l),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new va}clone(){const n=new va;return n.insert(0,this.toArray().map(l=>l instanceof mn?l.clone():l)),n}get length(){return this.doc??Tn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(n){return new Kh(this,n)}querySelector(n){n=n.toUpperCase();const a=new Kh(this,s=>s.nodeName&&s.nodeName.toUpperCase()===n).next();return a.done?null:a.value}querySelectorAll(n){return n=n.toUpperCase(),Cl(new Kh(this,l=>l.nodeName&&l.nodeName.toUpperCase()===n))}_callObserver(n,l){Uf(this,n,new oA(this,l,n))}toString(){return Ob(this,n=>n.toString()).join("")}toJSON(){return this.toString()}toDOM(n=document,l={},a){const s=n.createDocumentFragment();return a!==void 0&&a._createAssociation(s,this),po(this,f=>{s.insertBefore(f.toDOM(n,l,a),null)}),s}insert(n,l){this.doc!==null?kt(this.doc,a=>{kb(a,this,n,l)}):this._prelimContent.splice(n,0,...l)}insertAfter(n,l){if(this.doc!==null)kt(this.doc,a=>{const s=n&&n instanceof mn?n._item:n;df(a,this,s,l)});else{const a=this._prelimContent,s=n===null?0:a.findIndex(f=>f===n)+1;if(s===0&&n!==null)throw Rl("Reference item not found");a.splice(s,0,...l)}}delete(n,l=1){this.doc!==null?kt(this.doc,a=>{Db(a,this,n,l)}):this._prelimContent.splice(n,l)}toArray(){return Ab(this)}push(n){this.insert(this.length,n)}unshift(n){this.insert(0,n)}get(n){return Tb(this,n)}slice(n=0,l=this.length){return Eb(this,n,l)}forEach(n){po(this,n)}_write(n){n.writeTypeRef(xA)}}const uA=r=>new va;class Eu extends va{constructor(n="UNDEFINED"){super(),this.nodeName=n,this._prelimAttrs=new Map}get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_integrate(n,l){super._integrate(n,l),this._prelimAttrs.forEach((a,s)=>{this.setAttribute(s,a)}),this._prelimAttrs=null}_copy(){return new Eu(this.nodeName)}clone(){const n=new Eu(this.nodeName),l=this.getAttributes();return tE(l,(a,s)=>{typeof a=="string"&&n.setAttribute(s,a)}),n.insert(0,this.toArray().map(a=>a instanceof mn?a.clone():a)),n}toString(){const n=this.getAttributes(),l=[],a=[];for(const p in n)a.push(p);a.sort();const s=a.length;for(let p=0;p<s;p++){const b=a[p];l.push(b+'="'+n[b]+'"')}const f=this.nodeName.toLocaleLowerCase(),y=l.length>0?" "+l.join(" "):"";return`<${f}${y}>${super.toString()}</${f}>`}removeAttribute(n){this.doc!==null?kt(this.doc,l=>{hf(l,this,n)}):this._prelimAttrs.delete(n)}setAttribute(n,l){this.doc!==null?kt(this.doc,a=>{Ky(a,this,n,l)}):this._prelimAttrs.set(n,l)}getAttribute(n){return Yy(this,n)}hasAttribute(n){return Rb(this,n)}getAttributes(n){return n?FE(this,n):Cb(this)}toDOM(n=document,l={},a){const s=n.createElement(this.nodeName),f=this.getAttributes();for(const y in f){const p=f[y];typeof p=="string"&&s.setAttribute(y,p)}return po(this,y=>{s.appendChild(y.toDOM(n,l,a))}),a!==void 0&&a._createAssociation(s,this),s}_write(n){n.writeTypeRef(TA),n.writeKey(this.nodeName)}}const sA=r=>new Eu(r.readKey());class oA extends Cf{constructor(n,l,a){super(n,a),this.childListChanged=!1,this.attributesChanged=new Set,l.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class yf extends wu{constructor(n){super(),this.hookName=n}_copy(){return new yf(this.hookName)}clone(){const n=new yf(this.hookName);return this.forEach((l,a)=>{n.set(a,l)}),n}toDOM(n=document,l={},a){const s=l[this.hookName];let f;return s!==void 0?f=s.createDom(this):f=document.createElement(this.hookName),f.setAttribute("data-yjs-hook",this.hookName),a!==void 0&&a._createAssociation(f,this),f}_write(n){n.writeTypeRef(kA),n.writeKey(this.hookName)}}const cA=r=>new yf(r.readKey());class pf extends Su{get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_copy(){return new pf}clone(){const n=new pf;return n.applyDelta(this.toDelta()),n}toDOM(n=document,l,a){const s=n.createTextNode(this.toString());return a!==void 0&&a._createAssociation(s,this),s}toString(){return this.toDelta().map(n=>{const l=[];for(const s in n.attributes){const f=[];for(const y in n.attributes[s])f.push({key:y,value:n.attributes[s][y]});f.sort((y,p)=>y.key<p.key?-1:1),l.push({nodeName:s,attrs:f})}l.sort((s,f)=>s.nodeName<f.nodeName?-1:1);let a="";for(let s=0;s<l.length;s++){const f=l[s];a+=`<${f.nodeName}`;for(let y=0;y<f.attrs.length;y++){const p=f.attrs[y];a+=` ${p.key}="${p.value}"`}a+=">"}a+=n.insert;for(let s=l.length-1;s>=0;s--)a+=`</${l[s].nodeName}>`;return a}).join("")}toJSON(){return this.toString()}_write(n){n.writeTypeRef(DA)}}const fA=r=>new pf;class Vy{constructor(n,l){this.id=n,this.length=l}get deleted(){throw Zr()}mergeWith(n){return!1}write(n,l,a){throw Zr()}integrate(n,l){throw Zr()}}const dA=0;class _r extends Vy{get deleted(){return!0}delete(){}mergeWith(n){return this.constructor!==n.constructor?!1:(this.length+=n.length,!0)}integrate(n,l){l>0&&(this.id.clock+=l,this.length-=l),pb(n.doc.store,this)}write(n,l){n.writeInfo(dA),n.writeLen(this.length-l)}getMissing(n,l){return null}}class Eo{constructor(n){this.content=n}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Eo(this.content)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeBuf(this.content)}getRef(){return 3}}const hA=r=>new Eo(r.readBuf());class vo{constructor(n){this.len=n}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new vo(this.len)}splice(n){const l=new vo(this.len-n);return this.len=n,l}mergeWith(n){return this.len+=n.len,!0}integrate(n,l){cf(n.deleteSet,l.id.client,l.id.clock,this.len),l.markDeleted()}delete(n){}gc(n){}write(n,l){n.writeLen(this.len-l)}getRef(){return 1}}const yA=r=>new vo(r.readLen()),zb=(r,n)=>new Uu({guid:r,...n,shouldLoad:n.shouldLoad||n.autoLoad||!1});class Ao{constructor(n){n._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=n;const l={};this.opts=l,n.gc||(l.gc=!1),n.autoLoad&&(l.autoLoad=!0),n.meta!==null&&(l.meta=n.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Ao(zb(this.doc.guid,this.opts))}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){this.doc._item=l,n.subdocsAdded.add(this.doc),this.doc.shouldLoad&&n.subdocsLoaded.add(this.doc)}delete(n){n.subdocsAdded.has(this.doc)?n.subdocsAdded.delete(this.doc):n.subdocsRemoved.add(this.doc)}gc(n){}write(n,l){n.writeString(this.doc.guid),n.writeAny(this.opts)}getRef(){return 9}}const pA=r=>new Ao(zb(r.readString(),r.readAny()));class ma{constructor(n){this.embed=n}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ma(this.embed)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeJSON(this.embed)}getRef(){return 5}}const vA=r=>new ma(r.readJSON());class rn{constructor(n,l){this.key=n,this.value=l}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new rn(this.key,this.value)}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){const a=l.parent;a._searchMarker=null,a._hasFormatting=!0}delete(n){}gc(n){}write(n,l){n.writeKey(this.key),n.writeJSON(this.value)}getRef(){return 6}}const gA=r=>new rn(r.readKey(),r.readJSON());class vf{constructor(n){this.arr=n}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new vf(this.arr)}splice(n){const l=new vf(this.arr.slice(n));return this.arr=this.arr.slice(0,n),l}mergeWith(n){return this.arr=this.arr.concat(n.arr),!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){const a=this.arr.length;n.writeLen(a-l);for(let s=l;s<a;s++){const f=this.arr[s];n.writeString(f===void 0?"undefined":JSON.stringify(f))}}getRef(){return 2}}const mA=r=>{const n=r.readLen(),l=[];for(let a=0;a<n;a++){const s=r.readString();s==="undefined"?l.push(void 0):l.push(JSON.parse(s))}return new vf(l)},bA=of("node_env")==="development";class ga{constructor(n){this.arr=n,bA&&F0(n)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ga(this.arr)}splice(n){const l=new ga(this.arr.slice(n));return this.arr=this.arr.slice(0,n),l}mergeWith(n){return this.arr=this.arr.concat(n.arr),!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){const a=this.arr.length;n.writeLen(a-l);for(let s=l;s<a;s++){const f=this.arr[s];n.writeAny(f)}}getRef(){return 8}}const _A=r=>{const n=r.readLen(),l=[];for(let a=0;a<n;a++)l.push(r.readAny());return new ga(l)};class Fr{constructor(n){this.str=n}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Fr(this.str)}splice(n){const l=new Fr(this.str.slice(n));this.str=this.str.slice(0,n);const a=this.str.charCodeAt(n-1);return a>=55296&&a<=56319&&(this.str=this.str.slice(0,n-1)+"",l.str=""+l.str.slice(1)),l}mergeWith(n){return this.str+=n.str,!0}integrate(n,l){}delete(n){}gc(n){}write(n,l){n.writeString(l===0?this.str:this.str.slice(l))}getRef(){return 4}}const wA=r=>new Fr(r.readString()),SA=[WE,tA,aA,sA,uA,cA,fA],EA=0,AA=1,OA=2,TA=3,xA=4,kA=5,DA=6;class ji{constructor(n){this.type=n}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ji(this.type._copy())}splice(n){throw Zr()}mergeWith(n){return!1}integrate(n,l){this.type._integrate(n.doc,l)}delete(n){let l=this.type._start;for(;l!==null;)l.deleted?l.id.clock<(n.beforeState.get(l.id.client)||0)&&n._mergeStructs.push(l):l.delete(n),l=l.right;this.type._map.forEach(a=>{a.deleted?a.id.clock<(n.beforeState.get(a.id.client)||0)&&n._mergeStructs.push(a):a.delete(n)}),n.changed.delete(this.type)}gc(n){let l=this.type._start;for(;l!==null;)l.gc(n,!0),l=l.right;this.type._start=null,this.type._map.forEach(a=>{for(;a!==null;)a.gc(n,!0),a=a.left}),this.type._map=new Map}write(n,l){this.type._write(n)}getRef(){return 7}}const CA=r=>new ji(SA[r.readTypeRef()](r)),gf=(r,n,l)=>{const{client:a,clock:s}=n.id,f=new tn(ft(a,s+l),n,ft(a,s+l-1),n.right,n.rightOrigin,n.parent,n.parentSub,n.content.splice(l));return n.deleted&&f.markDeleted(),n.keep&&(f.keep=!0),n.redone!==null&&(f.redone=ft(n.redone.client,n.redone.clock+l)),n.right=f,f.right!==null&&(f.right.left=f),r._mergeStructs.push(f),f.parentSub!==null&&f.right===null&&f.parent._map.set(f.parentSub,f),n.length=l,f};class tn extends Vy{constructor(n,l,a,s,f,y,p,b){super(n,b.getLength()),this.origin=a,this.left=l,this.right=s,this.rightOrigin=f,this.parent=y,this.parentSub=p,this.redone=null,this.content=b,this.info=this.content.isCountable()?rm:0}set marker(n){(this.info&Uh)>0!==n&&(this.info^=Uh)}get marker(){return(this.info&Uh)>0}get keep(){return(this.info&nm)>0}set keep(n){this.keep!==n&&(this.info^=nm)}get countable(){return(this.info&rm)>0}get deleted(){return(this.info&Rh)>0}set deleted(n){this.deleted!==n&&(this.info^=Rh)}markDeleted(){this.info|=Rh}getMissing(n,l){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=fn(l,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=fn(l,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===yu&&this.id.client!==this.parent.client&&this.parent.clock>=fn(l,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Mm(n,l,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ul(n,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===_r||this.right&&this.right.constructor===_r)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===tn?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===tn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===yu){const a=qh(l,this.parent);a.constructor===_r?this.parent=null:this.parent=a.content.type}return null}integrate(n,l){if(l>0&&(this.id.clock+=l,this.left=Mm(n,n.doc.store,ft(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(l),this.length-=l),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let a=this.left,s;if(a!==null)s=a.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const f=new Set,y=new Set;for(;s!==null&&s!==this.right;){if(y.add(s),f.add(s),Yc(this.origin,s.origin)){if(s.id.client<this.id.client)a=s,f.clear();else if(Yc(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&y.has(qh(n.doc.store,s.origin)))f.has(qh(n.doc.store,s.origin))||(a=s,f.clear());else break;s=s.right}this.left=a}if(this.left!==null){const a=this.left.right;this.right=a,this.left.right=this}else{let a;if(this.parentSub!==null)for(a=this.parent._map.get(this.parentSub)||null;a!==null&&a.left!==null;)a=a.left;else a=this.parent._start,this.parent._start=this;this.right=a}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(n)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),pb(n.doc.store,this),this.content.integrate(n,this),Nm(n,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(n)}else new _r(this.id,this.length).integrate(n,0)}get next(){let n=this.right;for(;n!==null&&n.deleted;)n=n.right;return n}get prev(){let n=this.left;for(;n!==null&&n.deleted;)n=n.left;return n}get lastId(){return this.length===1?this.id:ft(this.id.client,this.id.clock+this.length-1)}mergeWith(n){if(this.constructor===n.constructor&&Yc(n.origin,this.lastId)&&this.right===n&&Yc(this.rightOrigin,n.rightOrigin)&&this.id.client===n.id.client&&this.id.clock+this.length===n.id.clock&&this.deleted===n.deleted&&this.redone===null&&n.redone===null&&this.content.constructor===n.content.constructor&&this.content.mergeWith(n.content)){const l=this.parent._searchMarker;return l&&l.forEach(a=>{a.p===n&&(a.p=this,!this.deleted&&this.countable&&(a.index-=this.length))}),n.keep&&(this.keep=!0),this.right=n.right,this.right!==null&&(this.right.left=this),this.length+=n.length,!0}return!1}delete(n){if(!this.deleted){const l=this.parent;this.countable&&this.parentSub===null&&(l._length-=this.length),this.markDeleted(),cf(n.deleteSet,this.id.client,this.id.clock,this.length),Nm(n,l,this.parentSub),this.content.delete(n)}}gc(n,l){if(!this.deleted)throw Jr();this.content.gc(n),l?BE(n,this,new _r(this.id,this.length)):this.content=new vo(this.length)}write(n,l){const a=l>0?ft(this.id.client,this.id.clock+l-1):this.origin,s=this.rightOrigin,f=this.parentSub,y=this.content.getRef()&Af|(a===null?0:tr)|(s===null?0:ki)|(f===null?0:so);if(n.writeInfo(y),a!==null&&n.writeLeftID(a),s!==null&&n.writeRightID(s),a===null&&s===null){const p=this.parent;if(p._item!==void 0){const b=p._item;if(b===null){const v=NE(p);n.writeParentInfo(!0),n.writeString(v)}else n.writeParentInfo(!1),n.writeLeftID(b.id)}else p.constructor===String?(n.writeParentInfo(!0),n.writeString(p)):p.constructor===yu?(n.writeParentInfo(!1),n.writeLeftID(p)):Jr();f!==null&&n.writeString(f)}this.content.write(n,l)}}const Bb=(r,n)=>RA[n&Af](r),RA=[()=>{Jr()},yA,mA,hA,wA,vA,gA,CA,_A,pA,()=>{Jr()}],UA=10;class wr extends Vy{get deleted(){return!0}delete(){}mergeWith(n){return this.constructor!==n.constructor?!1:(this.length+=n.length,!0)}integrate(n,l){Jr()}write(n,l){n.writeInfo(UA),Ze(n.restEncoder,this.length-l)}getMissing(n,l){return null}}const Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},qb="__ $YJS$ __";Lb[qb]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Lb[qb]=!0;const Yh=new FinalizationRegistry(({cache:r,key:n})=>{delete r[n]});function Hb(r){var n,l;return(n=(l=r._novip)._docCache)!==null&&n!==void 0?n:l._docCache={cache:{},get size(){return Object.keys(this.cache).length},find(a,s,f){const y=Vh(a,s,f),p=this.cache[y];return p?p.deref():void 0},add(a){var s;const{parentTable:f,parentId:y,parentProp:p}=a.meta;if(!f||!p||y==null)throw new Error("Missing Dexie-related metadata in Y.Doc");const b=Vh(f,y,p),v=(s=this.cache[b])===null||s===void 0?void 0:s.deref();v&&Yh.unregister(v),this.cache[b]=new WeakRef(a),Yh.register(a,{cache:this.cache,key:b},a)},delete(a){Yh.unregister(a);const s=Vh(a.meta.parentTable,a.meta.parentId,a.meta.parentProp),f=this.cache[s];f?.deref()===a&&delete this.cache[s]}}}const no=new WeakSet;function cy(r){if(no.has(r))throw new Error(`Y.Doc ${r.meta.parentId} has been destroyed`)}function Vh(r,n,l){return`${r}[${n}].${l}`}function MA(r,n,l,a,s,f){let y=n.find(l,f,a);return y||(y=new Uu({meta:{db:r,updatesTable:s,parentProp:a,parentTable:l,parentId:f}}),n.add(y),y.on("destroy",()=>{no.add(y),n.delete(y)}),y)}const{getByKeyPath:_T}=ot;let Kb=null;function Hm(r){Kb=r}function jA(r,n,l,a,s,f){let y=0,p=!0;const b=Ol(()=>{cy(n);const w=l.table(s);return Promise.all([(y>0?w.where("i").between(y,1/0,!1).toArray().then(A=>A.filter(O=>Ef(O.k,f)===0)):w.where({k:f}).toArray()).then(A=>A),l.table(a).where(":id").equals(f).toArray()])}).subscribe(([w,A])=>{if(w.length>0&&(y=w[w.length-1].i),A.length===0){n.destroy();return}cy(n),w.length>0&&kt(n,()=>{w.forEach(O=>{try{Hm(O),db(n,O.u)}finally{Hm(null)}})},r,!1),p&&(p=!1,n.emit("load",[n]))},w=>{r.on("error").fire(w)}),v=(w,A)=>{A!==r&&l.table(s).add({k:f,u:w,f:1}).then(O=>{O===y-1&&++y}).catch(O=>{r.on("error").fire(O)})},m=()=>{b.unsubscribe(),n.off("updateV2",v),n.off("destroy",m)};return n.on("updateV2",v),n.on("destroy",m),m}function Yb(){}function NA(r,n){return r===Yb?n:function(){var l=r.apply(this,arguments);if(l&&typeof l.then=="function"){for(var a=this,s=arguments.length,f=new Array(s);s--;)f[s]=arguments[s];return l.then(function(){return n.apply(a,f)})}return n.apply(this,arguments)}}function zA(r,n){return r===Yb?n:function(){r.apply(this,arguments),n.apply(this,arguments)}}const $s=new WeakMap;function Km(){return ot.Events(null,"load","sync","error")}class On{static getOrCreateDocument(n,l,a,s){var f,y;const p=Hb(n),b=(y=(f=n.table(l).schema.yProps)===null||f===void 0?void 0:f.find(v=>v.prop===a))===null||y===void 0?void 0:y.updatesTable;if(!b)throw new Error(`Updates table for ${l}.${a} not found`);return MA(n,p,l,a,b,s)}static load(n,l){var a;let s=$s.get(n);return s?(++s.refCount,l?.gracePeriod!=null&&s.graceTimeout<l.gracePeriod&&(s.graceTimeout=l.gracePeriod),s.graceTimer&&(clearTimeout(s.graceTimer),s.graceTimer=null)):(s=new On(n),s.graceTimeout=(a=l?.gracePeriod)!==null&&a!==void 0?a:-1,$s.set(n,s)),s}static release(n){if(!n||no.has(n))return;const l=$s.get(n);l?--l.refCount<=0&&(l.graceTimeout<0?l._release():l.graceTimer||(l.graceTimer=setTimeout(()=>{l.graceTimer=null,l.refCount===0&&l._release()},l.graceTimeout))):n.destroy()}_release(){this.doc&&Promise.resolve(On.on("beforeunload").fire(this)).finally(()=>{var n;this.refCount===0&&((n=this.doc)===null||n===void 0||n.destroy())})}static for(n){return $s.get(n)}static get currentUpdateRow(){return Kb}get whenLoaded(){return this._whenLoaded||(this._whenLoaded=new Promise((n,l)=>{if(!this.doc){l(new Error("No Y.Doc associated with this provider"));return}this.doc.isLoaded?n():this._error?l(this._error):no.has(this.doc)?l(new ot.AbortError("Document was destroyed before loaded")):(this.on("load",n),this.on("error",l),this.doc.on("destroy",()=>l(new ot.AbortError("Document was destroyed before loaded"))))})),this._whenLoaded}get whenSynced(){return this._whenSynced||(this._whenSynced=new Promise((n,l)=>{if(!this.doc){l(new Error("No Y.Doc associated with this provider"));return}this.doc.isSynced?n():this._error?l(this._error):no.has(this.doc)?l(new ot.AbortError("Document was destroyed before synced")):(this.on("sync",n),this.on("error",l),this.doc.on("destroy",()=>l(new ot.AbortError("Document was destroyed before synced"))))})),this._whenSynced}constructor(n){this.refCount=1,this.cleanupHandlers=[],this.graceTimeout=-1,this.doc=null,this.destroyed=!1,this.on=Km(),this.doc=n,this.off=(y,p)=>{var b;return(b=this.on[y])===null||b===void 0?void 0:b.unsubscribe(p)},"dispose"in Symbol&&(this[Symbol.dispose]=()=>On.release(n)),n.on("load",()=>this.on("load").fire()),n.on("sync",y=>y!==!1&&this.on("sync").fire()),n.on("destroy",this.destroy.bind(this)),this.on("error",y=>{this._error=y});const{db:l,parentTable:a,parentId:s,updatesTable:f}=n.meta||{};if(!l||!a||!f)throw new Error("Missing Dexie-related metadata in Y.Doc. Documents need to be obtained through Y.Doc properties from dexie queries.");if(!l.table(a)||!l.table(f))throw new Error(`Table ${a} or ${f} not found in db`);cy(n),this.stopObserving=jA(this,n,l,a,f,s),On.on("new").fire(this)}destroy(){var n,l,a;console.debug(`Y.Doc ${(l=(n=this.doc)===null||n===void 0?void 0:n.meta)===null||l===void 0?void 0:l.parentId} was destroyed`),$s.delete(this.doc),this.doc=null,this.destroyed=!0,this.refCount=0,(a=this.stopObserving)===null||a===void 0||a.call(this),this.on=Km(),this.cleanupHandlers.forEach(s=>s())}addCleanupHandler(n){this.cleanupHandlers.push(typeof n=="function"?n:()=>n.unsubscribe())}}On.on=ot.Events(null,{new:[zA],beforeunload:[NA]});On.getDocCache=Hb;ot.DexieYProvider?On=ot.DexieYProvider||On:ot.DexieYProvider=On;const Gh=3e4;class BA extends Q1{constructor(n){super(),this.doc=n,this.clientID=n.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const l=sf();this.getLocalState()!==null&&Gh/2<=l-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const a=[];this.meta.forEach((s,f)=>{f!==this.clientID&&Gh<=l-s.lastUpdated&&this.states.has(f)&&a.push(f)}),a.length>0&&Vb(this,a,"timeout")},Ci(Gh/10)),n.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(n){const l=this.clientID,a=this.meta.get(l),s=a===void 0?0:a.clock+1,f=this.states.get(l);n===null?this.states.delete(l):this.states.set(l,n),this.meta.set(l,{clock:s,lastUpdated:sf()});const y=[],p=[],b=[],v=[];n===null?v.push(l):f==null?n!=null&&y.push(l):(p.push(l),to(f,n)||b.push(l)),(y.length>0||b.length>0||v.length>0)&&this.emit("change",[{added:y,updated:b,removed:v},"local"]),this.emit("update",[{added:y,updated:p,removed:v},"local"])}setLocalStateField(n,l){const a=this.getLocalState();a!==null&&this.setLocalState({...a,[n]:l})}getStates(){return this.states}}const Vb=(r,n,l)=>{const a=[];for(let s=0;s<n.length;s++){const f=n[s];if(r.states.has(f)){if(r.states.delete(f),f===r.clientID){const y=r.meta.get(f);r.meta.set(f,{clock:y.clock+1,lastUpdated:sf()})}a.push(f)}}a.length>0&&(r.emit("change",[{added:[],updated:[],removed:a},l]),r.emit("update",[{added:[],updated:[],removed:a},l]))},LA=(r,n,l=r.states)=>{const a=n.length,s=ku();Ze(s,a);for(let f=0;f<a;f++){const y=n[f],p=l.get(y)||null,b=r.meta.get(y).clock;Ze(s,y),Ze(s,b),mr(s,JSON.stringify(p))}return er(s)},qA=(r,n,l)=>{const a=_o(n),s=sf(),f=[],y=[],p=[],b=[],v=At(a);for(let m=0;m<v;m++){const w=At(a);let A=At(a);const O=JSON.parse(br(a)),k=r.meta.get(w),j=r.states.get(w),J=k===void 0?0:k.clock;(J<A||J===A&&O===null&&r.states.has(w))&&(O===null?w===r.clientID&&r.getLocalState()!=null?A++:r.states.delete(w):r.states.set(w,O),r.meta.set(w,{clock:A,lastUpdated:s}),k===void 0&&O!==null?f.push(w):k!==void 0&&O===null?b.push(w):O!==null&&(to(O,j)||p.push(w),y.push(w)))}(f.length>0||p.length>0||b.length>0)&&r.emit("change",[{added:f,updated:p,removed:b},l]),(f.length>0||y.length>0||b.length>0)&&r.emit("update",[{added:f,updated:y,removed:b},l])};function De(r,n,l,a){return new(l||(l=Promise))((function(s,f){function y(v){try{b(a.next(v))}catch(m){f(m)}}function p(v){try{b(a.throw(v))}catch(m){f(m)}}function b(v){var m;v.done?s(v.value):(m=v.value,m instanceof l?m:new l((function(w){w(m)}))).then(y,p)}b((a=a.apply(r,n||[])).next())}))}function HA(r){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&r[n],a=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(r){return this instanceof gn?(this.v=r,this):new gn(r)}function fy(r,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=l.apply(r,n||[]),f=[];return a={},y("next"),y("throw"),y("return"),a[Symbol.asyncIterator]=function(){return this},a;function y(w){s[w]&&(a[w]=function(A){return new Promise((function(O,k){f.push([w,A,O,k])>1||p(w,A)}))})}function p(w,A){try{(function(O){O.value instanceof gn?Promise.resolve(O.value.v).then(b,v):m(f[0][2],O)})(s[w](A))}catch(O){m(f[0][3],O)}}function b(w){p("next",w)}function v(w){p("throw",w)}function m(w,A){w(A),f.shift(),f.length&&p(f[0][0],f[0][1])}}function dy(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,l=r[Symbol.asyncIterator];return l?l.call(r):(r=HA(r),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=r[s]&&function(f){return new Promise((function(y,p){(function(b,v,m,w){Promise.resolve(w).then((function(A){b({value:A,done:m})}),v)})(y,p,(f=r[s](f)).done,f.value)}))}}}const KA={}.hasOwnProperty;function mf(r,n,l){if(r&&n!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(r)))if(typeof n!="string"&&"length"in n){(function(v){if(!v)throw new Error("Assertion Failed")})(typeof l!="string"&&"length"in l);for(var a=0,s=n.length;a<s;++a)mf(r,n[a],l[a])}else{var f=n.indexOf(".");if(f!==-1){var y=n.substr(0,f),p=n.substr(f+1);if(p==="")l===void 0?Array.isArray(r)?isNaN(parseInt(y))||r.splice(parseInt(y),1):delete r[y]:r[y]=l;else{var b=r[y];b&&(function(v,m){return KA.call(v,m)})(r,y)||(b=r[y]={}),mf(b,p,l)}}else l===void 0?Array.isArray(r)&&!isNaN(parseInt(n))?r.splice(n,1):delete r[n]:r[n]=l}}const Gb=typeof self<"u"&&typeof crypto<"u"?(r,n=crypto.getRandomValues.bind(crypto))=>{const l=new Uint8Array(r);return n(l),self.btoa(String.fromCharCode.apply(null,l))}:typeof Buffer<"u"?(r,n=YA)=>{const l=Buffer.alloc(r);return n(l),l.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function YA(r){for(let n=0;n<r.length;++n)r[n]=Math.floor(256*Math.random())}function Gy(r){return typeof r=="string"||!!(Array.isArray(r)&&r.some((n=>Gy(n)))&&r.every(Xb))}function Xb(r){return typeof r=="string"||typeof r=="number"||Array.isArray(r)&&r.every(Xb)}function VA(r,n,l){const a=r[n]||(r[n]={}),s=l.keys.map((f=>typeof f=="string"?f:JSON.stringify(f)));switch(l.type){case"insert":case"upsert":s.forEach(((f,y)=>{a[f]={type:"ups",val:l.values[y]}}));break;case"update":case"modify":s.forEach(((f,y)=>{const p=l.type==="update"?l.changeSpecs[y]:l.changeSpec,b=a[f];if(b)switch(b.type){case"ups":for(const[v,m]of Object.entries(p))mf(b.val,v,m);break;case"del":break;case"upd":Object.assign(b.mod,p)}else a[f]={type:"upd",mod:p}}));break;case"delete":s.forEach((f=>{a[f]={type:"del"}}))}return r}function Ym(r,n){for(const{table:l,muts:a}of n)for(const s of a)VA(r,l,s)}function GA(r){return fy(this,arguments,(function*(){var n,l,a,s;let f=0,y=new Uint8Array(4),p=0,b=[],v=0;try{for(var m,w=!0,A=dy(r);!(n=(m=yield gn(A.next())).done);w=!0){s=m.value,w=!1;const O=s,k=new DataView(O.buffer,O.byteOffset,O.byteLength);let j=0;for(;j<O.byteLength;)switch(f){case 0:if(j+4>O.byteLength){for(const J of O.slice(j)){if(p===4)break;y[p++]=J,++j}if(p<4)break}else if(p>0&&p<4)for(const J of O.slice(j,j+4-p))y[p++]=J,++j;case 1:v=p===4?new DataView(y.buffer,0,4).getUint32(0,!1):k.getUint32(j,!1),p?p=0:j+=4;case 2:if(j>=O.byteLength){f=2;break}if(j+v>O.byteLength)b.push(O.slice(j)),v-=O.byteLength-j,f=2,j=O.byteLength;else{if(b.length>0){const J=new Uint8Array(b.reduce(((se,$)=>se+$.byteLength),v));let ce=0;for(const se of b)J.set(se,ce),ce+=se.byteLength;J.set(O.slice(j,j+v),ce),b=[],yield yield gn(J)}else yield yield gn(O.slice(j,j+v));j+=v,f=0}}}}catch(O){l={error:O}}finally{try{w||n||!(a=A.return)||(yield gn(a.call(A)))}finally{if(l)throw l.error}}}))}function Ib(r,n){return De(this,void 0,void 0,(function*(){try{const l=yield navigator.serviceWorker.ready;if(n==="push"&&l.sync&&(yield l.sync.register(`dexie-cloud:${r.name}`)),!l.active)throw new Error("Failed to trigger sync - there's no active service worker");return void l.active.postMessage({type:"dexie-cloud-sync",dbName:r.name,purpose:n})}catch{}}))}function xi(r,n){r.cloud.usingServiceWorker?Ib(r,n):r.localSyncEvent.next({purpose:n})}const XA="fromBase64"in Uint8Array,IA="toBase64"in Uint8Array.prototype,Xy=typeof Buffer<"u"?r=>Buffer.from(r,"base64"):XA?r=>Uint8Array.fromBase64(r):r=>{const n=atob(r),l=n.length,a=new Uint8Array(l);for(var s=0;s<l;s++)a[s]=n.charCodeAt(s);return a},ju=typeof Buffer<"u"?r=>ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):Buffer.from(r).toString("base64"):IA?r=>(ArrayBuffer.isView(r)?r:new Uint8Array(r)).toBase64():r=>{const n=ArrayBuffer.isView(r)?r:new Uint8Array(r),l=[];for(let a=0,s=n.length;a<s;a+=4096){const f=n.subarray(a,a+4096);l.push(String.fromCharCode.apply(null,f))}return btoa(l.join(""))};class hy extends Error{constructor({title:n,message:l,messageCode:a,messageParams:s}){super(l),this.name="TokenErrorResponseError",this.title=n,this.messageCode=a,this.messageParams=s}}function Oo(r,n){return new Promise(((l,a)=>{const s=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},n),{onSubmit:f=>{r.next(void 0),l(f)},onCancel:()=>{r.next(void 0),a(new ot.AbortError("User cancelled"))}});r.next(s)}))}function yy(r,n,...l){return Oo(r,{type:"message-alert",title:n,alerts:l,fields:{},submitLabel:"OK",cancelLabel:null})}function Vm(r,n,l){return De(this,void 0,void 0,(function*(){let a=l||"";for(;!a||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(a);)a=(yield Oo(r,{type:"email",title:n,alerts:a?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return a}))}function Gm(r,n,l){return De(this,void 0,void 0,(function*(){const a=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:n}}];l&&a.push(l);const{otp:s}=yield Oo(r,{type:"otp",title:"Enter OTP",alerts:a,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return s}))}function Mf(r){return De(this,void 0,void 0,(function*(){var n,l,a;const s=yield r.getCurrentUser(),{accessToken:f,accessTokenExpiration:y,refreshToken:p,refreshTokenExpiration:b,claims:v}=s;if(!f)return null;if(((n=y?.getTime())!==null&&n!==void 0?n:1/0)>Date.now()&&(((l=s.license)===null||l===void 0?void 0:l.status)||"ok")==="ok")return s;if(!p)throw new Error("Refresh token missing");if(((a=b?.getTime())!==null&&a!==void 0?a:1/0)<=Date.now())throw new Error("Refresh token has expired");const m=yield jf(r.cloud.options.databaseUrl,s);return yield r.table("$logins").update(v.sub,{accessToken:m.accessToken,accessTokenExpiration:m.accessTokenExpiration,claims:m.claims,license:m.license,data:m.data}),m}))}function QA(r,n,l,a,s){return De(this,void 0,void 0,(function*(){return n.accessToken&&n.accessTokenExpiration.getTime()>Date.now()?n:n.refreshToken&&(!n.refreshTokenExpiration||n.refreshTokenExpiration.getTime()>Date.now())?yield jf(r,n):yield(function(f,y,p,b){return De(this,void 0,void 0,(function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:v,publicKey:m}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!v||!m)throw new Error("Could not generate RSA keypair");f.nonExportablePrivateKey=v;const w=(function(A){const O=ju(A);return(function(k){let j=`-----BEGIN PUBLIC KEY-----
`;for(;k.length>0;)j+=k.substring(0,64)+`
`,k=k.substring(64);return j+="-----END PUBLIC KEY-----",j})(O)})(yield crypto.subtle.exportKey("spki",m));f.publicKey=m;try{const A=yield y({public_key:w,hints:b});if(A.type==="error")throw new hy(A);if(A.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${A.type}`);return f.accessToken=A.accessToken,f.accessTokenExpiration=new Date(A.accessTokenExpiration),f.refreshToken=A.refreshToken,A.refreshTokenExpiration&&(f.refreshTokenExpiration=new Date(A.refreshTokenExpiration)),f.userId=A.claims.sub,f.email=A.claims.email,f.name=A.claims.name,f.claims=A.claims,f.license={type:A.userType,status:A.claims.license||"ok"},f.data=A.data,A.evalDaysLeft!=null&&(f.license.evalDaysLeft=A.evalDaysLeft),A.userValidUntil!=null&&(f.license.validUntil=new Date(A.userValidUntil)),A.alerts&&A.alerts.length>0&&(yield Oo(p,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:A.alerts})),f}catch(A){if(A instanceof hy)throw yield yy(p,A.title,{type:"error",messageCode:A.messageCode,message:A.message,messageParams:{}}),A;let O="We're having a problem authenticating right now.";throw A instanceof TypeError&&(O=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":ot.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield yy(p,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:O,messageParams:{}}).catch((()=>{}))),A}}))})(n,l,a,s)}))}function jf(r,n){return De(this,void 0,void 0,(function*(){if(!n.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!n.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const l=Date.now(),a="RSASSA-PKCS1-v1_5",s=new TextEncoder().encode(n.refreshToken+l),f=yield crypto.subtle.sign(a,n.nonExportablePrivateKey,s),y=ju(f),p={grant_type:"refresh_token",refresh_token:n.refreshToken,scopes:["ACCESS_DB"],signature:y,signing_algorithm:a,time_stamp:l},b=yield fetch(`${r}/token`,{body:JSON.stringify(p),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(b.status!==200)throw new Error(`RefreshToken: Status ${b.status} from ${r}/token`);const v=yield b.json();if(v.type==="error")throw new hy(v);return n.accessToken=v.accessToken,n.accessTokenExpiration=v.accessTokenExpiration?new Date(v.accessTokenExpiration):void 0,n.claims=v.claims,n.license={type:v.userType,status:v.claims.license||"ok"},v.evalDaysLeft!=null&&(n.license.evalDaysLeft=v.evalDaysLeft),v.userValidUntil!=null&&(n.license.validUntil=new Date(v.userValidUntil)),v.data&&(n.data=v.data),n}))}const Xm=new WeakMap;class Iy{constructor(n,l){Xm.set(this,n),Object.assign(this,l)}static load(n,l){return n.table("$logins").get(l).then((a=>new Iy(n,a||{userId:l,claims:{sub:l},lastLogin:new Date(0)})))}save(){return De(this,void 0,void 0,(function*(){Xm.get(this).table("$logins").put(this)}))}}const qn={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(qn),Object.freeze(qn.claims)}catch{}function Qb(r,n){return fa(nr(r).pipe(gr(n)))}function Zb(r){return De(this,void 0,void 0,(function*(){const n=yield py(r);if(n){if(!(yield(function(l,a,s){return De(this,void 0,void 0,(function*(){const f=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:a,numUnsyncedChanges:s.toString()}}];return yield Oo(l,{type:"logout-confirmation",title:"Confirm Logout",alerts:f,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then((()=>!0)).catch((()=>!1))}))})(r.cloud.userInteraction,r.cloud.currentUserId,n)))throw new Error("User cancelled logout due to unsynced changes");yield py(r,{deleteUnsyncedData:!0})}}))}function py(r){return De(this,arguments,void 0,(function*(n,{deleteUnsyncedData:l=!1}={}){const[a,s]=yield n.dx.transaction("rw",n.dx.tables,(f=>De(this,void 0,void 0,(function*(){const y=f.idbtrans;y.disableChangeTracking=!0,y.disableAccessControl=!0;const p=f.storeNames.filter((v=>v.endsWith("_mutations"))),b=(yield Promise.all(p.map((v=>f.table(v).count())))).reduce(((v,m)=>v+m),0);if(b>0&&!l)return[b,!1];n.$syncState.delete("syncState");for(const v of n.dx.tables)v.name!=="$jobs"&&v.name!=="$syncState"&&v.clear();return[b,!0]}))));return s&&(yield Qb(n.cloud.currentUser,(f=>f.userId===qn.userId)),yield n.cloud.sync({purpose:"pull",wait:!0})),a}))}class vy extends Error{constructor(n,l){super(l||`${n.status} ${n.statusText}`),this.httpStatus=n.status}get name(){return"HttpError"}}function Xc(r,...n){globalThis.console[r](...n)}function Xh(r,n){return De(this,void 0,void 0,(function*(){var l;const a=yield r.getCurrentUser(),s=a.userId;if(a.isLoggedIn&&(!n||!n.email&&!n.userId)){if((((l=a.license)===null||l===void 0?void 0:l.status)||"ok")==="ok"&&a.accessToken&&(!a.accessTokenExpiration||a.accessTokenExpiration.getTime()>Date.now()))return!1;if(a.refreshToken&&(!a.refreshTokenExpiration||a.refreshTokenExpiration.getTime()>Date.now()))return yield Mf(r),!1}const f=new Iy(r,{claims:{},lastLogin:new Date(0)});return yield QA(r.cloud.options.databaseUrl,f,r.cloud.options.fetchTokens||(function(y){const{userInteraction:p}=y.cloud;return function(b){return De(this,arguments,void 0,(function*({public_key:v,hints:m}){var w;let A;const O=(w=y.cloud.options)===null||w===void 0?void 0:w.databaseUrl;if(!O)throw new Error("No database URL given.");if(m?.grant_type==="demo")A={demo_user:yield Vm(p,"Enter a demo user email",m?.email||m?.userId),grant_type:"demo",scopes:["ACCESS_DB"],public_key:v};else if(m?.otpId&&m.otp)A={grant_type:"otp",otp_id:m.otpId,otp:m.otp,scopes:["ACCESS_DB"],public_key:v};else{const J=yield Vm(p,"Enter email address",m?.email);A=/@demo.local$/.test(J)?{demo_user:J,grant_type:"demo",scopes:["ACCESS_DB"],public_key:v}:{email:J,grant_type:"otp",scopes:["ACCESS_DB"]}}const k=yield fetch(`${O}/token`,{body:JSON.stringify(A),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(k.status!==200){const J=yield k.text();throw yield yy(p,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:J,messageParams:{}}).catch((()=>{})),new vy(k,J)}const j=yield k.json();if(j.type==="tokens"||j.type==="error")return j;if(A.grant_type==="otp"&&"email"in A){if(j.type!=="otp-sent")throw new Error(`Unexpected response from ${O}/token`);const J=yield Gm(p,A.email),ce=Object.assign(Object.assign({},A),{otp:J||"",otp_id:j.otp_id,public_key:v});let se=yield fetch(`${O}/token`,{body:JSON.stringify(ce),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;se.status===401;){const $=yield se.text();ce.otp=yield Gm(p,A.email,{type:"error",messageCode:"INVALID_OTP",message:$,messageParams:{}}),se=yield fetch(`${O}/token`,{body:JSON.stringify(ce),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(se.status!==200){const $=yield se.text();throw new vy(se,$)}return yield se.json()}throw new Error(`Unexpected response from ${O}/token`)}))}})(r),r.cloud.userInteraction,n),s!==qn.userId&&f.userId!==s&&(yield Zb(r)),yield(function(y,p){return De(this,void 0,void 0,(function*(){const b=y.table("$logins");yield y.transaction("rw",b,(v=>De(this,void 0,void 0,(function*(){const m=yield b.toArray();yield Promise.all(m.filter((w=>w.userId!==p.userId&&w.isLoggedIn)).map((w=>(w.isLoggedIn=!1,b.put(w))))),p.isLoggedIn=!0,p.lastLogin=new Date;try{yield p.save()}catch(w){try{w.name==="DataCloneError"&&(Xc("debug","Login context property names:",Object.keys(p)),Xc("debug","Login context property names:",Object.keys(p)),Xc("debug","Login context:",p),Xc("debug","Login context JSON:",JSON.stringify(p)))}catch{}throw w}})))),yield Qb(y.cloud.currentUser,(v=>v.userId===p.userId))}))})(r,f),xi(r,"pull"),f.userId!==s}))}const gy={},ro=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;ro&&ro.ready.then((r=>gy.registration=r)),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",(r=>{var n,l;!((l=(n=r.data)===null||n===void 0?void 0:n.type)===null||l===void 0)&&l.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((a=>{var s;return a.id!==((s=r.source)===null||s===void 0?void 0:s.id)&&a.postMessage(r.data)}))}));class Ih{constructor(n){this.name=n}subscribe(n){if(!ro)return()=>{};const l=a=>{var s;((s=a.data)===null||s===void 0?void 0:s.type)===`sw-broadcast-${this.name}`&&n(a.data.message)};return ro.addEventListener("message",l),()=>ro.removeEventListener("message",l)}postMessage(n){var l;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach((a=>a.postMessage({type:`sw-broadcast-${this.name}`,message:n}))):gy.registration&&((l=gy.registration.active)===null||l===void 0||l.postMessage({type:`sw-broadcast-${this.name}`,message:n}))}}const Fs=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class Ic extends nn{constructor(n){const l=typeof BroadcastChannel>"u"?new Ih(n):new BroadcastChannel(n);super((a=>{function s(p){a.next(p.detail)}function f(p){a.next(p.data)}let y;(function(p,b){Fs.has(p)?Fs.get(p).push(b):Fs.set(p,[b])})(`lbc-${n}`,s);try{l instanceof Ih?y=l.subscribe((p=>a.next(p))):l.addEventListener("message",f)}catch{}return()=>{(function(p,b){const v=Fs.get(p);if(v){const m=v.indexOf(b);m!==-1&&v.splice(m,1)}})(`lbc-${n}`,s),l instanceof Ih?y():l.removeEventListener("message",f)}})),this.name=n,this.bc=l}next(n){this.bc.postMessage(n),(function(l){const a=Fs.get(l.type);a&&a.forEach((s=>{try{s(l)}catch{}}))})(new CustomEvent(`lbc-${this.name}`,{detail:n}))}}function my(r){return De(this,arguments,void 0,(function*({realms:n,inviteRealms:l}){const a=JSON.stringify([...n.map((y=>({realmId:y,accepted:!0}))),...l.map((y=>({realmId:y,accepted:!1})))].sort(((y,p)=>y.realmId<p.realmId?-1:y.realmId>p.realmId?1:0))),s=new TextEncoder().encode(a),f=yield crypto.subtle.digest("SHA-1",s);return ju(f)}))}function nf(r){return Object.entries(r.cloud.schema||{}).filter((([,{markedForSync:n}])=>n)).map((([n])=>r.tables.filter((({name:l})=>l===n))[0])).filter((n=>n))}function Qy(r){return`$${r}_mutations`}function Jb(r){var n;const l=(n=/^\$(.*)_mutations$/.exec(r))===null||n===void 0?void 0:n[1];if(!l)throw new Error(`Given mutationTable ${r} is not correct`);return l}const ZA=[].concat;function Zy(r){return ZA.apply([],r)}function by(r,n){return De(this,arguments,void 0,(function*(l,a,{since:s={},limit:f=1/0}={}){const y=Zy(yield Promise.all(l.map((m=>De(this,void 0,void 0,(function*(){const w=Jb(m.name),A=s[w];let O=A?m.where("rev").above(A):m;return f<1/0&&(O=O.limit(f)),(yield O.toArray()).map((k=>({table:w,mut:k})))})))))).sort(((m,w)=>m.mut.txid===w.mut.txid?m.mut.opNo-w.mut.opNo:m.mut.ts-w.mut.ts)),p=[];let b=null,v=null;for(const{table:m,mut:w}of y)b&&b.table===m&&v===w.txid?b.muts.push(w):(b={table:m,muts:[w]},v=w.txid,p.push(b));return p}))}function $b(r){const n=new Uint8Array(r);if(typeof crypto<"u")crypto.getRandomValues(n);else for(let l=0;l<r;l++)n[l]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(n).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,n));throw new Error("No btoa or Buffer available")}const{toString:JA}={},Im={replace:function(r){const n=Object.keys(r);let l=null;for(let s=0,f=n.length;s<f;++s)n[s][0]==="$"&&(l=l||[],l.push(n[s]));if(!l)return r;const a={...r};for(const s of l)delete a[s];for(const s of l)a["$"+s]=r[s];return a}};function Fb(...r){const n=r.reduce(((a,s)=>({...a,...s})),r.reduce(((a,s)=>({...s,...a})),{})),l=new WeakMap;return{stringify(a,s,f){return JSON.stringify(a,(function(p){const b=this[p],v=(function(m){const w=typeof m;switch(typeof m){case"object":case"function":{if(m===null)return null;const O=Object.getPrototypeOf(m);if(!O)return Im;let k=l.get(O);if(k!==void 0)return k;const j=(A=m,JA.call(A).slice(8,-1)),J=Object.entries(n).find((([ce,se])=>{var $,_e;return(_e=($=se?.test)===null||$===void 0?void 0:$.call(se,m,j))!==null&&_e!==void 0?_e:ce===j}));return k=J?.[1],k||(k=Array.isArray(m)?null:typeof m=="function"?n.function||null:Im),l.set(O,k),k}default:return n[w]}var A})(b);return v?v.replace(b,s,n):b}),f)},parse(a,s){const f=[];return JSON.parse(a,(function(y,p){const b=p?.$t;if(b){const m=n[b];p=m?m.revive(p,s,n):p}let v=f[f.length-1];if(v&&v[0]===p){p={...p};for(const m of v[1])delete p[m];for(const[m,w]of Object.entries(v[2]))p[m]=w;f.pop()}if(p===void 0||y[0]==="$"&&y!=="$t"){let m,w;v=f[f.length-1],v&&v[0]===this?(m=v[1],w=v[2]):f.push([this,m=[],w={}]),y[0]==="$"&&y!=="$t"?(m.push(y),w[y.substr(1)]=p):w[y]=void 0}return p}))}}}const $A={Blob:{test:(r,n)=>n==="Blob",replace:(r,n)=>{const l=n.length;return n.push(r),{$t:"Blob",mimeType:r.type,i:l}},revive:({i:r,mimeType:n},l)=>new Blob([l[r]],{type:n})}};var FA={number:{replace:r=>{switch(!0){case isNaN(r):return{$t:"number",v:"NaN"};case r===1/0:return{$t:"number",v:"Infinity"};case r===-1/0:return{$t:"number",v:"-Infinity"};default:return r}},revive:({v:r})=>Number(r)}};const PA={bigint:{replace:r=>({$t:"bigint",v:""+r}),revive:r=>BigInt(r.v)}};var WA={Date:{replace:r=>({$t:"Date",v:isNaN(r.getTime())?"NaN":r.toISOString()}),revive:({v:r})=>new Date(r==="NaN"?NaN:Date.parse(r))}},eO={Set:{replace:r=>({$t:"Set",v:Array.from(r.entries())}),revive:({v:r})=>new Set(r)}},tO={Map:{replace:r=>({$t:"Map",v:Array.from(r.entries())}),revive:({v:r})=>new Map(r)}};const nO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var rO=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce(((r,n)=>({...r,[n]:{replace:(l,a,s)=>({$t:n,v:s.ArrayBuffer.replace(l.byteOffset===0&&l.byteLength===l.buffer.byteLength?l.buffer:l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength),a,s).v}),revive:({v:l},a,s)=>{const f=nO[n];return f&&new f(s.ArrayBuffer.revive({v:l},a,s))}}})),{});function Pb(r){return(function(n){for(var l="",a=0,s=n.length;a<s;a++)l+=Wb[n[a]];return l})(ju(r))}function iO(r){return Xy((function(n){if(typeof n!="string")throw new Error("invalid decoder input: "+n);for(var l="",a=0,s=n.length;a<s;a++)l+=_y[n[a]];return l})(r))}const _y={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},Wb={};for(const r of Object.keys(_y))Wb[_y[r]]=r;var lO={ArrayBuffer:{replace:r=>({$t:"ArrayBuffer",v:Pb(r)}),revive:({v:r})=>{const n=iO(r);return n.buffer.byteLength===n.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}}};class Qh{constructor(n,l){this.buf=n,this.type=l}}function e_(r){const n=new XMLHttpRequest;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.open("GET",URL.createObjectURL(r),!1),n.send(),n.status!==200&&n.status!==0)throw new Error("Bad Blob access: "+n.status);return n.responseText}function t_(r){const n=new Uint8Array(r.length);for(let l=0;l<r.length;++l)n[l]=r.charCodeAt(l);return n.buffer}var aO={Blob:{test:(r,n)=>n==="Blob"||r instanceof Qh,replace:r=>({$t:"Blob",v:ju(r instanceof Qh?r.buf:t_(e_(r))),type:r.type}),revive:({type:r,v:n})=>{const l=Xy(n);return typeof Blob!==void 0?new Blob([l]):new Qh(l.buffer,r)}}};const n_={...FA,...PA,...WA,...eO,...tO,...rO,...lO,...aO};function Qm(r){return new Promise(((n,l)=>{const a=new FileReader;a.onabort=s=>l(new Error("file read aborted")),a.onerror=s=>l(s.target.error),a.onload=s=>n(s.target.result),a.readAsArrayBuffer(r)}))}var uO={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}},sO={File:{test:(r,n)=>n==="File",replace:r=>({$t:"File",v:ju(t_(e_(r))),type:r.type,name:r.name,lastModified:new Date(r.lastModified).toISOString()}),revive:({type:r,v:n,name:l,lastModified:a})=>{const s=Xy(n);return new File([s],l,{type:r,lastModified:new Date(a).getTime()})}}};const oO=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class Zm{toString(){return this.v}constructor(n){this.v=n}}const cO=oO?{}:{bigint:{test:r=>r instanceof Zm,replace:r=>Object.assign({$t:"bigint"},r),revive:({v:r})=>new Zm(r)}},r_=Object.assign(Object.assign(Object.assign(Object.assign({},uO),cO),sO),{PropModification:{test:r=>r instanceof tm,replace:r=>Object.assign({$t:"PropModification"},r["@@propmod"]),revive:r=>{var n=(function(l,a){var s={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&a.indexOf(f)<0&&(s[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(f=Object.getOwnPropertySymbols(l);y<f.length;y++)a.indexOf(f[y])<0&&Object.prototype.propertyIsEnumerable.call(l,f[y])&&(s[f[y]]=l[f[y]])}return s})(r,["$t"]);return new tm(n)}}}),go=Fb(n_,r_),fO=(function(...r){const n=Fb(n_,$A,...r);return{toBinary(l){const[a,s]=this.stringify(l),f=new ArrayBuffer(4);return new DataView(f).setUint32(0,a.size),new Blob([f,a,s])},stringify(l){const a=[],s=n.stringify(l,a);return[new Blob(a.map((y=>{const p=new ArrayBuffer(4);return new DataView(p).setUint32(0,"byteLength"in y?y.byteLength:y.size),new Blob([p,y])}))),s]},async parse(l,a){let s=0;const f=[],y=await Qm(a),p=new DataView(y);for(;s<y.byteLength;){const b=p.getUint32(s);s+=4;const v=y.slice(s,s+b);s+=b,f.push(v)}return n.parse(l,f)},async fromBinary(l){const a=new DataView(await Qm(l.slice(0,4))).getUint32(0),s=l.slice(4,a+4),f=await(function(y){return new Promise(((p,b)=>{const v=new FileReader;v.onabort=m=>b(new Error("file read aborted")),v.onerror=m=>b(m.target.error),v.onload=m=>p(m.target.result),v.readAsText(y)}))})(l.slice(a+4));return await this.parse(f,s)}}})(r_);function dO(r,n,l){const a=[];for(let s of l){const{table:f,muts:y}=s,p=r.tables.find((m=>m.name===f));if(!p)throw new Error(`Internal error: table ${f} not found in DBCore schema`);const{primaryKey:b}=p;let v=s;y.forEach(((m,w)=>{const A=!b.outbound&&(m.type==="upsert"||m.type==="insert");m.keys.forEach(((O,k)=>{if(Array.isArray(O)){v===s&&(v=Jm(s,A));const j=v.muts[w],J=JSON.stringify(O);j.keys[k]=J}else if(O[0]==="#"){v===s&&(v=Jm(s,A));const j=v.muts[w];if(!n.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const J=`${O}:${n.userId}`;j.keys[k]=J,A&&ot.setByKeyPath(j.values[k],b.keyPath,J)}}))})),a.push(v)}return a}function Jm(r,n){return Object.assign(Object.assign({},r),{muts:n?r.muts.map((l=>l.type!=="insert"&&l.type!=="upsert"||!l.values?Object.assign(Object.assign({},l),{keys:l.keys.slice()}):Object.assign(Object.assign({},l),{keys:l.keys.slice(),values:l.values.slice()}))):r.muts.map((l=>Object.assign(Object.assign({},l),{keys:l.keys.slice()})))})}let wy=new WeakMap;function i_(r){return De(this,void 0,void 0,(function*(){var n,l;const a=((l=(n=wy.get(r))===null||n===void 0?void 0:n.getTime())!==null&&l!==void 0?l:0)-Date.now();a>0&&(yield new Promise((s=>setTimeout(s,a))))}))}function hO(r,n,l,a,s,f,y,p,b){return De(this,void 0,void 0,(function*(){const v={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},m=yield Mf(s),w=m?.accessToken;w&&(v.Authorization=`Bearer ${w}`);const A={v:2,dbID:l?.remoteDbId,clientIdentity:p,schema:y||{},lastPull:l?{serverRevision:l.serverRevision,yServerRevision:l.yServerRevision,realms:l.realms,inviteRealms:l.inviteRealms}:void 0,baseRevs:a,changes:dO(s.dx.core.schema,b,r),y:n,dxcv:s.cloud.version};s.syncStateChangedEvent.next({phase:"pushing"});const O=go.stringify(A),k=yield fetch(`${f}/sync`,{method:"post",headers:v,credentials:"include",body:O});if(s.syncStateChangedEvent.next({phase:"pulling"}),(function(j,J){const ce=J.headers.get("Ratelimit-Limit"),se=J.headers.get("Ratelimit-Remaining"),$=J.headers.get("Ratelimit-Reset");if(ce&&se&&$){const _e=Number(ce),ve=Math.max(0,Number(se)),Ee=Number($);if(ve<_e/2){const Te=Math.ceil(Ee/(ve+1));wy.set(j,new Date(Date.now()+1e3*Te))}else wy.delete(j)}})(s,k),!k.ok)throw new vy(k);if(k.headers.get("content-type")==="application/x-bison")return fO.fromBinary(yield k.blob());{const j=yield k.text();return go.parse(j)}}))}function Ps(r){if(r?.cancelled)throw new ot.AbortError("Operation was cancelled")}let vu=!1;function l_(r,n,l,a){return De(this,void 0,void 0,(function*(){yield r.$baseRevs.bulkPut(Object.keys(n).filter((s=>n[s].markedForSync)).map((s=>({tableName:s,clientRev:(l[s]||0)+1,serverRev:a})))),yield r.$baseRevs.where("tableName").noneOf(Object.keys(n).filter((s=>n[s].markedForSync))).delete()}))}function Sy(r,n={}){for(const{table:l,muts:a}of r){const s=a.length>0?a[a.length-1].rev:null;n[l]=s||n[l]||0}return n}function yO(r,n,l){return De(this,void 0,void 0,(function*(){const a=yield r.bulkGet(n),s=[],f=[];n.forEach(((y,p)=>{const b=a[p];if(b){for(const[v,m]of Object.entries(l[p]))if(v===r.schema.primKey.keyPath){if(Ef(m,y)!==0)throw new Error("Cannot change primary key")}else ot.setByKeyPath(b,v,m);s.push(y),f.push(b)}})),yield r.schema.primKey.keyPath==null?r.bulkPut(f,s):r.bulkPut(f)}))}function a_(r,n){return De(this,void 0,void 0,(function*(){for(const{table:l,muts:a}of r){if(!n.dx._allTables[l])continue;const s=n.table(l),{primaryKey:f}=s.core.schema,y=p=>{switch(p[0]){case"[":if(p.endsWith("]"))try{return JSON.parse(p)}catch{}return p;case"#":return p.endsWith(":"+n.cloud.currentUserId)?p.substr(0,p.length-n.cloud.currentUserId.length-1):p;default:return p}};for(const p of a){const b=p.keys.map(y);switch(p.type){case"insert":f.outbound?yield s.bulkAdd(p.values,b):(b.forEach(((v,m)=>{ot.setByKeyPath(p.values[m],f.keyPath,v)})),yield s.bulkAdd(p.values));break;case"upsert":f.outbound?yield s.bulkPut(p.values,b):(b.forEach(((v,m)=>{ot.setByKeyPath(p.values[m],f.keyPath,v)})),yield s.bulkPut(p.values));break;case"modify":b.length===1?yield s.update(b[0],p.changeSpec):yield s.where(":id").anyOf(b).modify(p.changeSpec);break;case"update":yield yO(s,b,p.changeSpecs);break;case"delete":yield s.bulkDelete(b)}}}}))}typeof self<"u"&&typeof navigator<"u"&&(vu=navigator.onLine,self.addEventListener("online",(()=>vu=!0)),self.addEventListener("offline",(()=>vu=!1)));const Dl="dexie-cloud-syncer";function u_(r,n){return r.where("i").between(n,1/0,!0).toArray()}function io(r,n,l){var a,s,f;if(!r.dx._allTables[n])return;const y=(f=(s=(a=r.table(n))===null||a===void 0?void 0:a.schema.yProps)===null||s===void 0?void 0:s.find((p=>p.prop===l)))===null||f===void 0?void 0:f.updatesTable;return y&&r.dx._allTables[y]?r.table(y):void 0}function s_(r,n){return De(this,void 0,void 0,(function*(){var l;const a={};let s,f=!1;for(const y of r)try{switch(y.type){case"u-s":{const p=io(n,y.table,y.prop);if(p){const b={k:y.k,u:y.u};y.r&&(b.r=y.r,s=y.r),a[p.name]=yield p.add(b)}break}case"u-ack":{const p=io(n,y.table,y.prop);p&&(yield n.transaction("rw",p,(b=>De(this,void 0,void 0,(function*(){let v=yield b.table(p.name).get(Dl);yield b.table(p.name).put(Object.assign(Object.assign({},v||{i:Dl}),{unsentFrom:Math.max(v?.unsentFrom||1,y.i+1)}))})))));break}case"u-reject":{const p=io(n,y.table,y.prop);if(!p)break;const b=(l=yield p.get(y.i))===null||l===void 0?void 0:l.k;if(b!=null){yield n.transaction("rw",p,(m=>(m.idbtrans._rejecting_y_ypdate=!0,p.where("i").aboveOrEqual(y.i).filter((w=>Ef(w.k,b)===0&&(1&(w.f||0))==1)).delete())));const v=On.getDocCache(n.dx).find(y.table,b,y.prop);v&&v.destroy()}break}case"in-sync":{const p=On.getDocCache(n.dx).find(y.table,y.k,y.prop);p&&!p.isSynced&&p.emit("sync",[!0,p]);break}case"y-complete-sync-done":s=y.yServerRev;break;case"outdated-server-rev":f=!0}}catch{}return{receivedUntils:a,resyncNeeded:f,yServerRevision:s}}))}const pO=1,vO=2,gO=3;function mO(r,n,l){return De(this,arguments,void 0,(function*(a,s,{yDownloadedRealms:f,realms:y}){if(f&&y&&y.every((m=>f[m]==="*")))return;const p=yield Mf(a),b={"Content-Type":"application/json",Accept:"application/octet-stream"};p&&(b.Authorization=`Bearer ${p.accessToken}`);const v=yield fetch(`${s}/y/download`,{body:go.stringify({downloadedRealms:f||{}}),method:"POST",headers:b,credentials:"include"});if(!v.ok)throw new Error(`Failed to download Yjs documents from server. Status: ${v.status}`);yield(async function(m,...w){var A,O,k;let j=m();for(let $=0;$<w.length;$++)j=w[$](j);try{for(var J,ce=!0,se=dy(j);!(A=(J=await se.next()).done);ce=!0)J.value,ce=!1}catch($){O={error:$}}finally{try{ce||A||!(k=se.return)||await k.call(se)}finally{if(O)throw O.error}}})((function(m){return function(){return fy(this,arguments,(function*(){if(!m.body)throw new Error("Response body is not readable");const w=m.body.getReader();try{for(;;){const{done:A,value:O}=yield gn(w.read());if(A)return yield gn(void 0);yield yield gn(O)}}finally{w.releaseLock()}}))}})(v),GA,(function(m){return fy(this,arguments,(function*(){var w,A,O,k;let j=null,J=null,ce=null,se=[];function $(Te){return De(this,void 0,void 0,(function*(){const Fe=se[se.length-1];if(se.length>0){if(!j||!J||!ce)throw new Error(`Protocol error from ${s}/y/download`);const Ne=io(a,J,ce);Ne&&(yield Ne.bulkAdd(se)),se=[]}j&&(J&&ce&&Fe||Te)&&(yield a.$syncState.update("syncState",(Ne=>{const at=Ne.yDownloadedRealms||{};at[j]=Te?"*":{tbl:J,prop:ce,key:Fe.k},Ne.yDownloadedRealms=at})))}))}try{try{for(var _e,ve=!0,Ee=dy(m);!(w=(_e=yield gn(Ee.next())).done);ve=!0){k=_e.value,ve=!1;const Te=new Du(k);for(;S0(Te);)switch(gu(Te)){case pO:yield gn($(!0)),j=br(Te);break;case vO:yield gn($(!1)),J=br(Te),ce=br(Te);break;case gO:{const Fe=xl(Te),Ne=vn(Te);se.push({k:Fe,u:Ne});break}}yield gn($(!1))}}catch(Te){A={error:Te}}finally{try{ve||w||!(O=Ee.return)||(yield gn(O.call(Ee)))}finally{if(A)throw A.error}}yield gn($(!0))}catch(Te){throw Te instanceof ot.DexieError||(yield gn($(!1))),Te}}))}))}))}const o_="currentSyncWorker";function Nf(r,n,l,a){return c_(r,n,l,a).then((s=>(a?.justCheckIfNeeded||r.syncStateChangedEvent.next({phase:"in-sync"}),s))).catch((s=>De(this,void 0,void 0,(function*(){return a?.justCheckIfNeeded?Promise.reject(s):vu&&a?.retryImmediatelyOnFetchError&&s?.name==="TypeError"&&/fetch/.test(s?.message)?(r.syncStateChangedEvent.next({phase:"error",error:s}),yield new Promise((f=>setTimeout(f,500))),yield Nf(r,n,l,Object.assign(Object.assign({},a),{retryImmediatelyOnFetchError:!1}))):(yield r.$syncState.update("syncState",{timestamp:new Date,error:""+s}),r.syncStateChangedEvent.next({phase:vu?"error":"offline",error:new Error(""+s?.message||s)}),Promise.reject(s))}))))}function c_(r,n,l){return De(this,arguments,void 0,(function*(a,s,f,{isInitialSync:y,cancelToken:p,justCheckIfNeeded:b,purpose:v}={isInitialSync:!1}){var m;if(!(!((m=a.cloud.options)===null||m===void 0)&&m.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:w}=s,A=yield a.getCurrentUser(),O=A.isLoggedIn?nf(a):[],k=O.map((B=>a.table(Qy(B.name)))),j=yield a.getPersistedSyncState(),J=A.isLoggedIn,ce=J?(function(B,te){const oe=te?.syncedTables||[];return nf(B).filter((Oe=>!oe.includes(Oe.name)))})(a,j):[];Ps(p);const se=ce.length>0;if(se){if(b)return!0;yield a.transaction("rw",ce,(B=>De(this,void 0,void 0,(function*(){B.idbtrans.disableChangeTracking=!0,B.idbtrans.disableAccessControl=!0,yield(function(te,oe,Oe){return De(this,void 0,void 0,(function*(){const R=new Set(Oe||[]);for(const W of te)W.name==="members"?yield W.toCollection().modify((le=>{R.has(le.realmId)||le.userId&&le.userId!==qn.userId||(le.userId=oe.userId)})):W.name==="roles"||(W.name==="realms"?yield W.toCollection().modify((le=>{R.has(le.realmId)||le.owner!==void 0&&le.owner!==qn.userId||(le.owner=oe.userId)})):yield W.toCollection().modify((le=>{le.realmId&&R.has(le.realmId)||(le.owner&&le.owner!==qn.userId||(le.owner=oe.userId),le.realmId&&le.realmId!==qn.userId||(le.realmId=oe.userId))})))}))})(ce,A,j?.realms)})))),Ps(p)}const[$,_e,ve,{yMessages:Ee,lastUpdateIds:Te}]=yield a.transaction("r",a.tables,(()=>De(this,void 0,void 0,(function*(){const B=yield a.getPersistedSyncState();let te=yield a.$baseRevs.toArray();te=te.filter((R=>O.some((W=>W.name===R.tableName))));let oe=yield by(k,a);const Oe=yield(function(R,W){return De(this,void 0,void 0,(function*(){const le=[],fe={};for(const xe of W)if(xe.schema.yProps)for(const Le of xe.schema.yProps){const ke=R.table(Le.updatesTable),yt=yield ke.get(Dl),Ie=yt?.unsentFrom||1,Se=yt?.receivedUntil||0,gt=Math.min(Ie,Se+1),Ct=yield u_(ke,gt);Ct.length>0&&(fe[ke.name]=Ct[Ct.length-1].i);const Be={};for(const Pe of Ct){const ut=(1&(Pe.f||0))==1;if(ut&&Pe.i<Ie)continue;const pt=JSON.stringify(Pe.k)+"/"+ut;let xn=Be[pt];xn?(xn.u.push(Pe.u),xn.i=Math.max(Pe.i,xn.i)):(Be[pt]=xn={i:Pe.i,k:Pe.k,isLocal:ut,u:[]},xn.u.push(Pe.u))}for(const{k:Pe,isLocal:ut,u:pt,i:xn}of Object.values(Be)){const ln=pt.length===1?pt[0]:ff(pt);if(ut)le.push({type:"u-c",table:xe.name,prop:Le.prop,k:Pe,u:ln,i:xn});else{const lr=bb(ln);le.push({type:"sv",table:xe.name,prop:Le.prop,k:Pe,sv:lr})}}}return{yMessages:le,lastUpdateIds:fe}}))})(a,O);if(Ps(p),se){const R=[...j?.realms||[],...j?.inviteRealms||[]],W=yield(function(le,fe,xe,Le){return De(this,void 0,void 0,(function*(){const ke=`upload-${$b(8)}`;if(fe.isLoggedIn&&le.length>0){const yt=new Set(Le||[]);return(yield Promise.all(le.map((Ie=>De(this,void 0,void 0,(function*(){const{extractKey:Se}=Ie.core.schema.primaryKey;if(!Se)return{table:Ie.name,muts:[]};const gt=xe[Ie.name],Ct=gt?.generatedGlobalId?Ie.filter((Pe=>{return Se(Pe),!yt.has(Pe.realmId||"")&&(ut=Se(Pe),!(pt=gt?.idPrefix)||typeof ut=="string"&&ut.startsWith(pt));var ut,pt})):Ie.filter((Pe=>{const ut=Se(Pe);return!yt.has(Pe.realmId||"")&&Gy(ut)})),Be=yield Ct.toArray();if(Be.length>0){const Pe={type:"upsert",values:Be,keys:Be.map(Se),userId:fe.userId,txid:ke};return{table:Ie.name,muts:[Pe]}}return{table:Ie.name,muts:[]}})))))).filter((Ie=>Ie.muts.length>0))}return[]}))})(ce,A,f,R);return Ps(p),oe=oe.concat(W),[oe,B,te,Oe]}return[oe,B,te,Oe]})))),Fe=$.some((B=>B.muts.some((te=>te.keys.length>0))))||Ee.some((B=>B.type==="u-c"));if(b)return Fe;if(v==="push"&&!Fe)return!1;const Ne=Sy($,_e?.latestRevisions),at=_e?.clientIdentity||Gb(16);Ps(p);const pe=yield hO($,Ee,_e,ve,a,w,f,at,A),{done:Ue,newSyncState:Ye}=yield a.transaction("rw",a.tables,(B=>De(this,void 0,void 0,(function*(){B.idbtrans.disableChangeTracking=!0,B.idbtrans.disableAccessControl=!0;for(const W of Object.keys(f))pe.schema[W]&&(f[W]=pe.schema[W]);yield a.$syncState.put(f,"schema");const te=yield by(k,a,{since:Ne});for(const W of k){const le=Jb(W.name);if(te.some((fe=>fe.table===le&&fe.muts.length>0))){if(Ne[le]){const fe=Ne[le]||0;yield Promise.all([W.where("rev").belowOrEqual(fe).delete(),a.$baseRevs.where(":id").between([le,-1/0],[le,fe+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([W.clear(),a.$baseRevs.where({tableName:le}).delete()])}Sy(te,Ne),yield l_(a,f,Ne,pe.serverRevision);const oe=yield a.getPersistedSyncState();yield(function(W,le,fe){return De(this,void 0,void 0,(function*(){const xe=new Set,Le=new Set,ke=fe?fe.realms:[],yt=fe?fe.inviteRealms:[],Ie=new Set(le.realms),Se=new Set(le.realms.concat(le.inviteRealms));for(const gt of ke)Ie.has(gt)||(Le.add(gt),Se.has(gt)||xe.add(gt));for(const gt of yt.concat(ke))Se.has(gt)||xe.add(gt);if(xe.size>0||Le.size>0){const gt=nf(W);for(const Ct of gt){let Be=["realms","members","roles"].includes(Ct.name)?xe:Le;Be.size!==0&&(Ct.schema.indexes.some((Pe=>Pe.keyPath==="realmId"||Array.isArray(Pe.keyPath)&&Pe.keyPath[0]==="realmId"))?yield Ct.where("realmId").anyOf([...Be]).delete():yield Ct.filter((Pe=>!!Pe?.realmId&&Be.has(Pe.realmId))).delete())}}if(Le.size>0&&fe?.yDownloadedRealms)for(const gt of Le)delete fe.yDownloadedRealms[gt]}))})(a,pe,oe);const Oe=oe||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:at};J&&(Oe.syncedTables=O.map((W=>W.name)).concat(ce.map((W=>W.name)))),Oe.latestRevisions=Ne,Oe.remoteDbId=pe.dbId,Oe.initiallySynced=!0,Oe.realms=pe.realms,Oe.inviteRealms=pe.inviteRealms,Oe.serverRevision=pe.serverRevision,Oe.yServerRevision=pe.serverRevision,Oe.timestamp=new Date,delete Oe.error;const R=f_(pe.changes,te);if(yield a_(R,a),pe.yMessages){const{receivedUntils:W,resyncNeeded:le,yServerRevision:fe}=yield s_(pe.yMessages,a);fe&&(Oe.yServerRevision=fe),yield(function(xe,Le,ke){return De(this,void 0,void 0,(function*(){var yt,Ie,Se,gt,Ct;const Be={};for(const[ut,pt]of Object.entries(xe))(yt=Be[ut])!==null&&yt!==void 0||(Be[ut]={}),Be[ut].unsentFrom=pt+1;for(const[ut,pt]of Object.entries(Le))(Ie=Be[ut])!==null&&Ie!==void 0||(Be[ut]={}),Be[ut].receivedUntil=pt;const Pe=Object.values(ke.dx._dbSchema).filter((ut=>ut.yProps)).map((ut=>ut.yProps.map((pt=>pt.updatesTable)))).flat();for(const ut of Pe){const pt=Be[ut],xn=(Se=pt?.unsentFrom)!==null&&Se!==void 0?Se:1,ln=(Ct=(gt=pt?.receivedUntil)!==null&&gt!==void 0?gt:(yield ke.table(ut).where("i").between(1,1/0).reverse().limit(1).primaryKeys())[0])!==null&&Ct!==void 0?Ct:0;yield ke.transaction("rw",ut,(()=>De(this,void 0,void 0,(function*(){const lr=yield ke.table(ut).get(Dl);lr?(lr.unsentFrom=Math.max(xn,lr.unsentFrom||1),lr.receivedUntil=Math.max(ln,lr.receivedUntil||0),yield ke.table(ut).put(lr)):yield ke.table(ut).add({i:Dl,unsentFrom:xn,receivedUntil:ln})}))))}}))})(Te,W,a),le&&(Oe.yDownloadedRealms={})}return a.$syncState.put(Oe,"syncState"),{done:te.length===0,newSyncState:Oe}}))));if(!Ue)return yield i_(a),yield c_(a,s,f,{isInitialSync:y,cancelToken:p});const Xe=Object.values(f).some((B=>{var te;return(te=B.yProps)===null||te===void 0?void 0:te.length})),ze=!!pe.yMessages;if(Xe&&ze)try{yield mO(a,w,Ye)}catch{}return a.syncCompleteEvent.next(),!1}))}function f_(r,n){const l={};Ym(l,r);const a={};return Ym(a,n),(function(s,f){var y,p,b;for(const[v,m]of Object.entries(f))for(const[w,A]of Object.entries(m))switch(A.type){case"ups":{const O=(y=s[v])===null||y===void 0?void 0:y[w];if(O)switch(O.type){case"ups":case"upd":delete s[v][w]}}break;case"del":(p=s[v])===null||p===void 0||delete p[w];break;case"upd":{const O=(b=s[v])===null||b===void 0?void 0:b[w];if(O)switch(O.type){case"ups":for(const[k,j]of Object.entries(A.mod))mf(O.val,k,j);break;case"del":break;case"upd":for(const k of Object.keys(A.mod))delete O.mod[k]}break}}})(l,a),(function(s,f=""){f||(f=Gb(16));const y={};for(const[b,v]of Object.entries(s))for(const[m,w]of Object.entries(v)){const A=y[b]||(y[b]={});(A[w.type]||(A[w.type]=[])).push(Object.assign({key:m},w))}const p=[];for(const[b,v]of Object.entries(y)){const m={table:b,muts:[]};for(const[w,A]of Object.entries(v))switch(w){case"ups":{const O={type:"upsert",keys:A.map((k=>k.key)),values:A.map((k=>k.val)),txid:f};m.muts.push(O);break}case"upd":{const O={type:"update",keys:A.map((k=>k.key)),changeSpecs:A.map((k=>k.mod)),txid:f};m.muts.push(O);break}case"del":{const O={type:"delete",keys:A.map((k=>k.key)),txid:f};m.muts.push(O);break}}p.push(m)}return p})(l)}const bO=10,_O=1e4,wO=1e3;function SO(r){const n=[],l=new Cr(!0),a=new Cr(null);let s=!1,f=new Array(bO).fill(0);return a.subscribe((()=>De(this,void 0,void 0,(function*(){if(!s&&n.length>0){s=!0,f.shift(),f.push(Date.now()),l.next(!1);try{yield(function(){return De(this,void 0,void 0,(function*(){for(var y,p,b,v,m,w;n.length>0;){const A=n.shift();try{yield fa(r.cloud.syncState.pipe(gr((({phase:k})=>k==="in-sync"||k==="error"))));const O=r.cloud.persistedSyncState.value;if(!A)continue;switch(A.type){case"token-expired":const k=r.cloud.currentUser.value,j=yield jf(r.cloud.options.databaseUrl,k);yield r.table("$logins").update(k.userId,{accessToken:j.accessToken,accessTokenExpiration:j.accessTokenExpiration,claims:j.claims,license:j.license,data:j.data});break;case"realm-added":!((y=O?.realms)===null||y===void 0)&&y.includes(A.realm)||!((p=O?.inviteRealms)===null||p===void 0)&&p.includes(A.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((b=O?.realms)===null||b===void 0)&&b.includes(A.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((v=O?.realms)===null||v===void 0)&&v.includes(A.realm)||!((m=O?.inviteRealms)===null||m===void 0)&&m.includes(A.realm))&&(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield r.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((w=r.cloud.syncState.value)===null||w===void 0?void 0:w.phase)==="error"){xi(r,"pull");break}yield r.transaction("rw",r.dx.tables,(J=>De(this,void 0,void 0,(function*(){J.idbtrans.disableChangeTracking=!0,J.idbtrans.disableAccessControl=!0;const[ce,se,$]=yield Promise.all([r.getSchema(),r.getPersistedSyncState(),r.getCurrentUser()]);if(!se||!ce||!$)return;if(A.baseRev!==se.serverRevision)return void(typeof A.baseRev!="string"||typeof se.serverRevision!="bigint"&&typeof se.serverRevision!="object"||xi(r,"pull"));if((yield ot.waitFor(my(se)))!==A.realmSetHash)return void xi(r,"pull");let _e=[];if($.isLoggedIn){const ve=nf(r).map((Ee=>r.table(Qy(Ee.name))));_e=yield by(ve,r)}if(A.changes.length>0){const ve=f_(A.changes,_e);yield a_(ve,r)}se.latestRevisions=Sy(_e,se.latestRevisions),se.serverRevision=A.newRev,yield l_(r,ce,se.latestRevisions,A.newRev),yield r.$syncState.put(se,"syncState")}))))}}catch{}}}))})()}finally{f[f.length-1]-f[0]<_O&&(yield new Promise((y=>setTimeout(y,wO)))),s=!1,l.next(!0)}}})))),{enqueue:function(y){n.push(y),a.next(null)},readyToServe:l}}const $m=new WeakMap,Qc={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let EO=0;function Oi(r){"vip"in r&&(r=r.vip);let n=$m.get(r.cloud);if(!n){const l=new pa;let a=new Ic(`syncstatechanged-${r.name}`),s=new Ic(`synccomplete-${r.name}`);l.id=++EO;let f=!1;n={get name(){return r.name},close:()=>r.close(),transaction:r.transaction.bind(r),table:r.table.bind(r),get tables(){return r.tables},cloud:r.cloud,get $jobs(){return r.table("$jobs")},get $syncState(){return r.table("$syncState")},get $baseRevs(){return r.table("$baseRevs")},get $logins(){return r.table("$logins")},get realms(){return r.realms},get members(){return r.members},get roles(){return r.roles},get initiallySynced(){return f},localSyncEvent:l,get syncStateChangedEvent(){return a},get syncCompleteEvent(){return s},dx:r},Object.assign(n,{getCurrentUser:()=>n.$logins.toArray().then((p=>p.find((b=>b.isLoggedIn))||qn)),getPersistedSyncState:()=>n.$syncState.get("syncState"),getSchema:()=>n.$syncState.get("schema").then((p=>{if(p)for(const v of n.tables)v.schema.primKey&&v.schema.primKey.keyPath&&p[v.name]&&(p[v.name].primaryKey=typeof(b=v.schema.primKey.keyPath)=="string"?b:b?"["+[].join.call(b,"+")+"]":"");var b;return p})),getOptions:()=>n.$syncState.get("options"),setInitiallySynced(p){f=p},reconfigure(){a=new Ic(`syncstatechanged-${r.name}`),s=new Ic(`synccomplete-${r.name}`)}}),n.messageConsumer=SO(n),n.messageProducer=new pa,$m.set(r.cloud,n)}return n}const AO=typeof InstallTrigger<"u",d_=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),OO=d_?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,TO=d_&&OO<=605||AO,xO=typeof self<"u"&&"clients"in self&&!self.document,{toString:kO}={};function Fm(r){return kO.call(r).slice(8,-1)}function Zh(r,n){var l;return n.type==="delete"?n.keys:((l=n.keys)===null||l===void 0?void 0:l.slice())||n.values.map(r.extractKey)}const DO=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let Ti=0;function h_(r,n){const l=new Uint8Array(18),a=new Uint8Array(l.buffer,0,6),s=Date.now();Ti>=s?++Ti:Ti=s,a[0]=Ti/1099511627776,a[1]=Ti/4294967296,a[2]=Ti/16777216,a[3]=Ti/65536,a[4]=Ti/256,a[5]=Ti;const f=new Uint8Array(l.buffer,6);return crypto.getRandomValues(f),r+Pb(new Uint8Array(l.buffer))+(n||"")}function CO(r){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:n=>Object.assign(Object.assign({},n),{table:l=>{const a=n.table(l);return Object.assign(Object.assign({},a),{mutate:s=>{var f,y;const p=s.trans;if(p.mode==="versionchange"&&(p.disableChangeTracking=!0,p.disableAccessControl=!0),p.disableChangeTracking)return a.mutate(s);if(s.type==="add"||s.type==="put"){const b=(f=r.cloud.schema)===null||f===void 0?void 0:f[l];if(b?.generatedGlobalId){if(!((y=r.cloud.options)===null||y===void 0)&&y.databaseUrl&&!r.initiallySynced){const v=Zh(a.schema.primaryKey,s);return a.getMany({keys:v,trans:s.trans,cache:"immutable"}).then((m=>{if(m.length<v.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return a.mutate(s)}))}return(function(v,m){let w=null;const A=Zh(a.schema.primaryKey,v);return A.forEach(((O,k)=>{if(O===void 0){const j=v.values[k].realmId||r.cloud.currentUserId,J=j.substr(j.length-3);A[k]=h_(m,J),a.schema.primaryKey.outbound||(w||(w=v.values.slice()),w[k]=ot.deepClone(w[k]),ot.setByKeyPath(w[k],a.schema.primaryKey.keyPath,A[k]))}else if(typeof O!="string"||!O.startsWith(m)&&!O.startsWith("#"+m))throw new ot.ConstraintError(`The ID "${O}" is not valid for table "${l}". Primary '@' keys requires the key to be prefixed with "${m}" (or "#${m}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)})),a.mutate(Object.assign(Object.assign({},v),{keys:A,values:w||v.values}))})(s,b.idPrefix)}b?.markedForSync&&Zh(a.schema.primaryKey,s).forEach(((v,m)=>{if(!Gy(v)){const w=Array.isArray(v)?v.map(Fm).join(","):Fm(v);throw new ot.ConstraintError(`Invalid primary key type ${w} for table ${l}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}}))}return a.mutate(s)}})}})}}let RO=0;function Ws(r,n){return function(l){const{readers:a,writers:s}=l.trans[n]||(l.trans[n]={writers:[],readers:[]}),f=s.length,y=(f>0?s[f-1].then((()=>r(l)),(()=>r(l))):r(l)).finally((()=>{a.splice(a.indexOf(y))}));return a.push(y),y}}function UO(r,n){return function(l){const{readers:a,writers:s}=l.trans[n]||(l.trans[n]={writers:[],readers:[]});let f=(s.length>0?s[s.length-1].then((()=>r(l)),(()=>r(l))):a.length>0?(y=a,new Promise((p=>{y.length===0&&p([]);let b=y.length;const v=new Array(b);y.forEach(((m,w)=>Promise.resolve(m).then((A=>v[w]={status:"fulfilled",value:A}),(A=>v[w]={status:"rejected",reason:A})).then((()=>--b||p(v)))))}))).then((()=>r(l))):r(l)).finally((()=>{s.shift()}));var y;return s.push(f),f}}const cu=new Cr(new Set);function mo(r){var n,l,a,s;return((n=r.cloud.options)===null||n===void 0?void 0:n.disableEagerSync)||((a=(l=r.cloud.currentUser.value)===null||l===void 0?void 0:l.license)===null||a===void 0?void 0:a.status)!=="ok"||!(!((s=r.cloud.options)===null||s===void 0)&&s.databaseUrl)}function MO({currentUserObservable:r,db:n}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:l=>{const a=new Set(l.schema.tables.map((y=>y.name))),s=l.schema.tables.filter((y=>!/^\$/.test(y.name))),f=new Map;for(const y of s){const p=`$${y.name}_mutations`;a.has(p)&&f.set(y.name,l.table(p))}return Object.assign(Object.assign({},l),{transaction:(y,p)=>{let b;if(p==="readwrite"){const v=y.filter((m=>{var w,A;return(A=(w=n.cloud.schema)===null||w===void 0?void 0:w[m])===null||A===void 0?void 0:A.markedForSync})).map((m=>Qy(m)));b=l.transaction([...y,...v],p)}else b=l.transaction(y,p);if(p==="readwrite"){b.txid=$b(16),b.opCount=0,b.currentUser=r.value,cu.value.add(b),cu.next(cu.value);const v=()=>{b.removeEventListener("complete",m),b.removeEventListener("error",v),b.removeEventListener("abort",v),cu.value.delete(b),cu.next(cu.value)},m=()=>{b.mutationsAdded&&!mo(n)&&xi(n,"push"),v()};b.addEventListener("complete",m),b.addEventListener("error",v),b.addEventListener("abort",v)}return b},table:y=>{const p=l.table(y);if(/^\$/.test(y))return y.endsWith("_mutations")?Object.assign(Object.assign({},p),{mutate:w=>(w.type!=="add"&&w.type!=="put"||(w.trans.mutationsAdded=!0),p.mutate(w))}):y==="$logins"?Object.assign(Object.assign({},p),{mutate:w=>p.mutate(w).then((A=>(w.trans.mutationsAdded=!0,A))).catch((A=>Promise.reject(A)))}):p;const{schema:b}=p,v=f.get(y);return v?(function(w){const A="$lock"+ ++RO;return Object.assign(Object.assign({},w),{count:Ws(w.count,A),get:Ws(w.get,A),getMany:Ws(w.getMany,A),openCursor:Ws(w.openCursor,A),query:Ws(w.query,A),mutate:UO(w.mutate,A)})})(Object.assign(Object.assign({},p),{mutate:w=>{var A,O,k;const j=w.trans;return j.txid?j.disableChangeTracking?p.mutate(w):!((O=(A=n.cloud.schema)===null||A===void 0?void 0:A[y])===null||O===void 0)&&O.markedForSync&&(!((k=j.currentUser)===null||k===void 0)&&k.isLoggedIn)?w.type==="deleteRange"?p.query({query:{range:w.range,index:b.primaryKey},trans:w.trans,values:!1}).then((J=>m({type:"delete",keys:J.result,trans:w.trans,criteria:{index:null,range:w.range}}))):m(w):p.mutate(w):p.mutate(w)}})):p;function m(w){var A,O;const k=w.trans,j=(O=(A=n.cloud.options)===null||A===void 0?void 0:A.unsyncedProperties)===null||O===void 0?void 0:O[y],{txid:J,currentUser:{userId:ce}}=k,{type:se}=w,$=++k.opCount;function _e(ve){if(!j)return ve;let Ee=ve;for(const Te of Object.keys(ve))j.some((Fe=>Te===Fe||Te.startsWith(Fe+".")))&&(Ee===ve&&(Ee=Object.assign({},ve)),delete Ee[Te]);return Ee}return p.mutate(w).then((ve=>{var Ee;const{numFailures:Te,failures:Fe}=ve;let Ne=se==="delete"?w.keys:ve.results,at="values"in w?w.values:[],pe="changeSpec"in w?w.changeSpec:void 0,Ue="updates"in w?w.updates:void 0;if(Te&&(Ne=Ne.filter(((B,te)=>!Fe[te])),at=at.filter(((B,te)=>!Fe[te]))),j){if(at=at.map((B=>{const te=Object.assign({},B);for(const oe of j)delete te[oe];return te})),pe&&(pe=_e(pe),Object.keys(pe).length===0))return ve;if(Ue){let B=Ue.changeSpecs.map(_e),te={keys:[],changeSpecs:[]};const oe=new oS;let Oe=!1;for(let R=0,W=B.length;R<W;++R)Object.keys(B[R]).length>0?(te.keys.push(Ue.keys[R]),te.changeSpecs.push(B[R]),oe.addKey(Ue.keys[R])):Oe=!0;if(Ue=te,Oe){let R=[],W=[];for(let le=0,fe=Ne.length;le<fe;++le)oe.hasKey(Ne[le])&&(R.push(Ne[le]),W.push(at[le]));Ne=R,at=W}}}const Ye=Date.now();let Xe="criteria"in w&&w.criteria?Object.assign(Object.assign({},w.criteria),{index:w.criteria.index===b.primaryKey.keyPath?null:w.criteria.index}):void 0;if(j&&Xe?.index){const B=(Ee=b.indexes.find((te=>te.name===Xe.index)))===null||Ee===void 0?void 0:Ee.keyPath;(B?typeof B=="string"?[B]:B:[]).some((te=>j?.includes(te)))&&(Xe=void 0)}const ze=w.type==="delete"?{type:"delete",ts:Ye,opNo:$,keys:Ne,criteria:Xe,txid:J,userId:ce}:w.type==="add"?{type:"insert",ts:Ye,opNo:$,keys:Ne,txid:J,userId:ce,values:at}:Xe&&pe?{type:"modify",ts:Ye,opNo:$,keys:Ne,criteria:Xe,changeSpec:pe,txid:J,userId:ce}:pe?{type:"update",ts:Ye,opNo:$,keys:Ne,changeSpecs:Ne.map((()=>pe)),txid:J,userId:ce}:Ue?{type:"update",ts:Ye,opNo:$,keys:Ue.keys,changeSpecs:Ue.changeSpecs,txid:J,userId:ce}:{type:"upsert",ts:Ye,opNo:$,keys:Ne,values:at,txid:J,userId:ce};return"isAdditionalChunk"in w&&w.isAdditionalChunk&&(ze.isAdditionalChunk=!0),Ne.length>0||Xe?v.mutate({type:"add",trans:k,values:[ze]}).then((()=>(k.mutationsAdded=!0,ve))):ve}))}}})}}}function jO(r,n){return function(l,a){var s;const f=Object.assign(Object.assign({},Qc),l);Object.keys(Qc).forEach((v=>{const m=f[v];if(m==null)throw new Error(`Cannot delete table ${v} as it is needed for access control of Dexie Cloud`);if(!l[v])return;const w=m.split(",").map((k=>k.trim())),A=Qc[v].split(",").map((k=>k.trim())),O=new Set(w.map((k=>k.replace(/([&*]|\+\+)/g,""))));if(w[0]!==A[0])throw new Error(`Cannot override primary key of table ${v}. Please declare it as {${v}: ${JSON.stringify(Qc[v])}`);for(let k=1;k<A.length;++k){const j=A[k];O.has(j.replace(/([&*]|\+\+)/g,""))||(f[v]+=`,${j}`)}}));const y=n.cloud.schema||(n.cloud.schema={}),p=new Set;Object.keys(f).forEach((v=>{const m=f[v],w=y[v]||(y[v]={});m!=null?(/^\@/.test(m)&&(f[v]=f[v].substr(1),w.generatedGlobalId=!0,w.idPrefix=(function(A,O){let k=A[0].toLocaleLowerCase();for(let se=1,$=A.length;se<$&&k.length<3;++se)(DO.test(A[se])||(j=A[se])>="A"&&j<="Z")&&(k+=A[se].toLowerCase());for(var j,J,ce;O.has(k);){if(/\d/g.test(k)){if(k=k.substr(0,k.length-1)+(k[k.length-1]+1),!(k.length>3))continue;k=k.substr(0,3)}else if(k.length<3){k+="2";continue}let se=1,$=k;for(;O.has($)&&se<8;)J=k,$=(1&(ce=se)?J[0].toUpperCase():J[0].toLowerCase())+(2&ce?J[1].toUpperCase():J[1].toLowerCase())+(4&ce?J[2].toUpperCase():J[2].toLowerCase()),++se;if(se<8)k=$;else{let _e=k.charCodeAt(2)+1&127;k=k.substr(0,2)+String.fromCharCode(_e)}}return k})(v,p),p.add(w.idPrefix)),/^\$/.test(v)||(f[`$${v}_mutations`]="++rev",w.markedForSync=!0),w.deleted&&(w.deleted=!1)):(w.deleted=!0,w.markedForSync=!1,f[`$${v}_mutations`]=null)}));const b=r.call(this,f,a);for(const[v,m]of Object.entries(a))if(!((s=m.yProps)===null||s===void 0)&&s.length){const w=y[v];w&&(w.yProps=m.yProps.map((A=>A.prop)))}return b}}function y_(r,n,l){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(r.name+"|"+n,(()=>l())):l()}const lo=new Cr(!0),Ey=new Cr(!0);lo.pipe(An((r=>r?Di(!0):Di(!1).pipe(G0(2e4)))),X0()).subscribe(Ey);const p_=typeof document<"u"?Qr(document,"visibilitychange"):Di({}),NO=p_.pipe(gr((()=>document.visibilityState==="hidden"))),zO=p_.pipe(gr((()=>document.visibilityState==="visible"))),v_=typeof window<"u"?xf(zO,Qr(window,"mousedown"),Qr(window,"mousemove"),Qr(window,"keydown"),Qr(window,"wheel"),Qr(window,"touchmove")):Di({});typeof document<"u"&&xf(Di(!0),NO,v_).pipe(Wn((()=>document.visibilityState==="visible")),iy((r=>{lo.value!==r&&lo.next(r)})),An((r=>r?Di(0).pipe(G0(16e4),iy((()=>lo.next(!1)))):Di(0)))).subscribe((()=>{}));class BO extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}const g_=new WeakMap,Pm=new WeakMap;function m_(r){let n=Pm.get(r);return n||(n=new pa,Pm.set(r,n)),n}class LO extends nn{constructor(n,l,a,s,f,y,p,b){super((v=>new HO(n,l,a,s,f,b,v,y,p)))}}let qO=0;class HO extends Cu{constructor(n,l,a,s,f,y,p,b,v){super((()=>this.teardown())),this.id=++qO,this.subscriptions=new Set,this.reconnecting=!1,this.db=n,this.databaseUrl=n.cloud.options.databaseUrl,this.rev=l,this.yrev=a,this.realmSetHash=s,this.clientIdentity=f,this.user=y,this.subscriber=p,this.lastUserActivity=new Date,this.messageProducer=b,this.webSocketStatus=v,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null;for(const n of this.subscriptions)n.unsubscribe();this.subscriptions.clear()}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch((()=>{})).then((()=>this.reconnecting=!1))}}connect(){return De(this,void 0,void 0,(function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;const n=this.user.accessTokenExpiration;if(n&&n<new Date)return void this.subscriber.error(new BO);this.webSocketStatus.next("connecting"),this.pinger=setInterval((()=>De(this,void 0,void 0,(function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout((()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())}),2e4)}catch{this.reconnect()}else this.reconnect()}))),3e4);const l=new URL(this.databaseUrl);l.protocol=l.protocol==="http:"?"ws":"wss";const a=new URLSearchParams;if(this.subscriber.closed)return;a.set("v","2"),this.rev&&a.set("rev",this.rev),this.yrev&&a.set("yrev",this.yrev),a.set("realmsHash",this.realmSetHash),a.set("clientId",this.clientIdentity),a.set("dxcv",this.db.cloud.version),this.user.accessToken&&a.set("token",this.user.accessToken);const s=this.ws=new WebSocket(`${l}/changes?${a}`);s.binaryType="arraybuffer",s.onclose=f=>{this.pinger&&this.reconnect()},s.onmessage=f=>{if(this.pinger){this.lastServerActivity=new Date;try{const y=typeof f.data=="string"?go.parse(f.data):(function(p){const b=new Du(p),v=br(b);if(v==="outdated-server-rev")return{type:v};if(v==="y-complete-sync-done")return{type:v,yServerRev:br(b)};const m=br(b),w=br(b);switch(v){case"u-ack":case"u-reject":return{type:v,table:m,prop:w,i:Number(cm(b))};default:{const A=xl(b);switch(v){case"in-sync":case"doc-close":return{type:v,table:m,prop:w,k:A};case"aware":return{type:v,table:m,prop:w,k:A,u:vn(b)};case"doc-open":return{type:v,table:m,prop:w,k:A,serverRev:xl(b),sv:xl(b)};case"sv":return{type:v,table:m,prop:w,k:A,sv:vn(b)};case"u-c":return{type:v,table:m,prop:w,k:A,u:vn(b),i:Number(cm(b))};case"u-s":return{type:v,table:m,prop:w,k:A,u:vn(b),r:b.pos<b.arr.length&&br(b)||void 0};default:throw new TypeError(`Unknown message type: ${v}`)}}}})(new Uint8Array(f.data));if(y.type==="error")throw new Error(`Error message from dexie-cloud: ${y.error}`);if(y.type==="aware"){const p=On.getDocCache(this.db.dx).find(y.table,y.k,y.prop);if(p){const b=(v=>g_.get(v))(p);b&&qA(b,y.u,"server")}}else if(y.type!=="pong")if(y.type==="doc-open"){const p=On.getDocCache(this.db.dx).find(y.table,y.k,y.prop);p&&m_(p).next()}else y.type==="u-ack"||y.type==="u-reject"||y.type==="u-s"||y.type==="in-sync"||y.type==="outdated-server-rev"||y.type==="y-complete-sync-done"?s_([y],this.db).then((p=>De(this,[p],void 0,(function*({resyncNeeded:b,yServerRevision:v,receivedUntils:m}){if(v&&(yield this.db.$syncState.update("syncState",{yServerRevision:v})),y.type==="u-s"&&m){const w=io(this.db,y.table,y.prop);if(w){const A=m[w.name];A&&(yield w.update(Dl,{receivedUntil:A}))}}b&&(yield this.db.cloud.sync({purpose:"pull",wait:!0}))})))):this.subscriber.next(y)}catch(y){this.subscriber.error(y)}}};try{let f=!1;yield new Promise(((y,p)=>{s.onopen=b=>{f=!0,y(null)},s.onerror=b=>{if(f)this.reconnect();else{const v=b.error||new Error("WebSocket Error");this.subscriber.error(v),this.webSocketStatus.next("error"),p(v)}}})),this.subscriptions.add(this.messageProducer.subscribe((y=>{var p,b;this.closed||(y.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),y.type==="ready"?(this.rev=y.rev,(p=this.ws)===null||p===void 0||p.send(go.stringify(y))):(b=this.ws)===null||b===void 0||b.send((function(v){const m=new xu;switch(mr(m,v.type),"table"in v&&mr(m,v.table),"prop"in v&&mr(m,v.prop),v.type){case"u-ack":case"u-reject":lm(m,BigInt(v.i));break;case"outdated-server-rev":break;case"y-complete-sync-done":mr(m,v.yServerRev);break;default:switch(Tl(m,v.k),v.type){case"aware":pn(m,v.u);break;case"doc-open":Tl(m,v.serverRev),Tl(m,v.sv);break;case"doc-close":break;case"sv":pn(m,v.sv);break;case"u-c":pn(m,v.u),lm(m,BigInt(v.i));break;case"u-s":pn(m,v.u),mr(m,v.r||"")}}return er(m)})(y)))}))),this.user.isLoggedIn&&!mo(this.db)&&this.subscriptions.add((function(y){const p=Zy(y.tables.filter((b=>{var v,m;return((m=(v=y.cloud.schema)===null||v===void 0?void 0:v[b.name])===null||m===void 0?void 0:m.markedForSync)&&b.schema.yProps})).map((b=>b.schema.yProps.map((v=>({table:b.name,ydocProp:v.prop,updatesTable:v.updatesTable}))))));return xf(...p.map((({table:b,ydocProp:v,updatesTable:m})=>{const w=y.table(m);return nr(w.get(Dl)).pipe(An((A=>{let O=A?.unsentFrom||1;return nr(Ol((()=>De(this,void 0,void 0,(function*(){return(yield u_(w,O)).filter((k=>k.f&&1&k.f)).map((k=>({type:"u-c",table:b,prop:v,k:k.k,u:k.u,i:k.i})))}))))).pipe(iy((k=>{k.length>0&&(O=k.at(-1).i+1)})))})))}))).pipe(So((b=>b)))})(this.db).subscribe(this.db.messageProducer))}catch{this.pauseUntil=new Date(Date.now()+6e4)}}))}}class KO extends Error{constructor(n){super(n==="expired"?"License expired":n==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",n&&(this.license=n)}}function YO(r){return De(this,void 0,void 0,(function*(){var n;yield(n=3e3,new Promise((l=>setTimeout(l,n)))),yield fa(v_)}))}function Wm(r){return De(this,void 0,void 0,(function*(){var n;return!(!(!((n=r.cloud.options)===null||n===void 0)&&n.databaseUrl)||!r.cloud.schema)&&(yield Nf(r,r.cloud.options,r.cloud.schema,{justCheckIfNeeded:!0}))}))}const Zc=new WeakMap;function b_(r,n,l,a){const s=Zc.get(r);if(s){if(s.pull||a?.purpose==="push")return s.promise;{let y=!1;const p=r.cloud.syncState.subscribe((b=>{b.phase==="pulling"&&(y=!0)}));return s.promise.then((()=>{p.unsubscribe()})).catch((b=>(p.unsubscribe(),Promise.reject(b)))).then((()=>{if(!y)return b_(r,n,l,a)}))}}const f=(function(){return De(this,void 0,void 0,(function*(){try{yield i_(r),yield y_(r,o_,(()=>Nf(r,n,l,a))),Zc.delete(r)}catch(y){throw Zc.delete(r),y}}))})();return Zc.set(r,{promise:f,pull:a?.purpose!=="push"}),f}const VO=1e3;function GO(r,n,l){let a=null,s={cancelled:!1},f=0,y=0;function p(A=1){setTimeout((()=>{const O=b?"pull":"push";y=Date.now(),b_(r,n,l,{cancelToken:s,retryImmediatelyOnFetchError:!0,purpose:O}).then((()=>{if(s.cancelled)w();else if(b||v)return b=!1,v=!1,p();m=!1,f=0,y=0})).catch((k=>{if(s.cancelled)w(),m=!1,f=0,y=0;else if(A<5){const j=[0,20,40,300,900][A]*VO;f=Date.now()+j,y=0,setTimeout((()=>p(A+1)),j)}else m=!1,f=0,y=0}))}),0)}let b=!1,v=!1,m=!1;const w=()=>{s.cancelled=!0,a&&a.unsubscribe()};return{start:()=>{a=r.localSyncEvent.subscribe((({purpose:A})=>{(O=>{s.cancelled||(O==="pull"&&(b=!0),O==="push"&&(v=!0),m?f||y>0&&Date.now():(m=!0,p()))})(A||"pull")}))},stop:w}}function Jh(r,n){if(r&&n&&n.unsyncedTables)for(const l of n.unsyncedTables)r[l]&&(r[l].markedForSync=!1)}var zf,We,__,ao,e0,bf={},w_=[],XO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Al(r,n){for(var l in n)r[l]=n[l];return r}function S_(r){var n=r.parentNode;n&&n.removeChild(r)}function Wt(r,n,l){var a,s,f,y={};for(f in n)f=="key"?a=n[f]:f=="ref"?s=n[f]:y[f]=n[f];if(arguments.length>2&&(y.children=arguments.length>3?zf.call(arguments,2):l),typeof r=="function"&&r.defaultProps!=null)for(f in r.defaultProps)y[f]===void 0&&(y[f]=r.defaultProps[f]);return rf(r,y,a,s,null)}function rf(r,n,l,a,s){var f={type:r,props:n,key:l,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++__};return s==null&&We.vnode!=null&&We.vnode(f),f}function Au(r){return r.children}function uo(r,n){this.props=r,this.context=n}function Ou(r,n){if(n==null)return r.__?Ou(r.__,r.__.__k.indexOf(r)+1):null;for(var l;n<r.__k.length;n++)if((l=r.__k[n])!=null&&l.__e!=null)return l.__e;return typeof r.type=="function"?Ou(r):null}function E_(r){var n,l;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,n=0;n<r.__k.length;n++)if((l=r.__k[n])!=null&&l.__e!=null){r.__e=r.__c.base=l.__e;break}return E_(r)}}function t0(r){(!r.__d&&(r.__d=!0)&&ao.push(r)&&!_f.__r++||e0!==We.debounceRendering)&&((e0=We.debounceRendering)||setTimeout)(_f)}function _f(){for(var r;_f.__r=ao.length;)r=ao.sort((function(n,l){return n.__v.__b-l.__v.__b})),ao=[],r.some((function(n){var l,a,s,f,y,p;n.__d&&(y=(f=(l=n).__v).__e,(p=l.__P)&&(a=[],(s=Al({},f)).__v=f.__v+1,Jy(p,f,s,l.__n,p.ownerSVGElement!==void 0,f.__h!=null?[y]:null,a,y??Ou(f),f.__h),x_(a,f),f.__e!=y&&E_(f)))}))}function A_(r,n,l,a,s,f,y,p,b,v){var m,w,A,O,k,j,J,ce=a&&a.__k||w_,se=ce.length;for(l.__k=[],m=0;m<n.length;m++)if((O=l.__k[m]=(O=n[m])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?rf(null,O,null,null,O):Array.isArray(O)?rf(Au,{children:O},null,null,null):O.__b>0?rf(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=l,O.__b=l.__b+1,(A=ce[m])===null||A&&O.key==A.key&&O.type===A.type)ce[m]=void 0;else for(w=0;w<se;w++){if((A=ce[w])&&O.key==A.key&&O.type===A.type){ce[w]=void 0;break}A=null}Jy(r,O,A=A||bf,s,f,y,p,b,v),k=O.__e,(w=O.ref)&&A.ref!=w&&(J||(J=[]),A.ref&&J.push(A.ref,null,O),J.push(w,O.__c||k,O)),k!=null?(j==null&&(j=k),typeof O.type=="function"&&O.__k===A.__k?O.__d=b=O_(O,b,r):b=T_(r,O,A,ce,k,b),typeof l.type=="function"&&(l.__d=b)):b&&A.__e==b&&b.parentNode!=r&&(b=Ou(A))}for(l.__e=j,m=se;m--;)ce[m]!=null&&(typeof l.type=="function"&&ce[m].__e!=null&&ce[m].__e==l.__d&&(l.__d=Ou(a,m+1)),D_(ce[m],ce[m]));if(J)for(m=0;m<J.length;m++)k_(J[m],J[++m],J[++m])}function O_(r,n,l){for(var a,s=r.__k,f=0;s&&f<s.length;f++)(a=s[f])&&(a.__=r,n=typeof a.type=="function"?O_(a,n,l):T_(l,a,a,s,a.__e,n));return n}function T_(r,n,l,a,s,f){var y,p,b;if(n.__d!==void 0)y=n.__d,n.__d=void 0;else if(l==null||s!=f||s.parentNode==null)e:if(f==null||f.parentNode!==r)r.appendChild(s),y=null;else{for(p=f,b=0;(p=p.nextSibling)&&b<a.length;b+=2)if(p==s)break e;r.insertBefore(s,f),y=f}return y!==void 0?y:s.nextSibling}function n0(r,n,l){n[0]==="-"?r.setProperty(n,l):r[n]=l==null?"":typeof l!="number"||XO.test(n)?l:l+"px"}function Jc(r,n,l,a,s){var f;e:if(n==="style")if(typeof l=="string")r.style.cssText=l;else{if(typeof a=="string"&&(r.style.cssText=a=""),a)for(n in a)l&&n in l||n0(r.style,n,"");if(l)for(n in l)a&&l[n]===a[n]||n0(r.style,n,l[n])}else if(n[0]==="o"&&n[1]==="n")f=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in r?n.toLowerCase().slice(2):n.slice(2),r.l||(r.l={}),r.l[n+f]=l,l?a||r.addEventListener(n,f?i0:r0,f):r.removeEventListener(n,f?i0:r0,f);else if(n!=="dangerouslySetInnerHTML"){if(s)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in r)try{r[n]=l??"";break e}catch{}typeof l=="function"||(l!=null&&(l!==!1||n[0]==="a"&&n[1]==="r")?r.setAttribute(n,l):r.removeAttribute(n))}}function r0(r){this.l[r.type+!1](We.event?We.event(r):r)}function i0(r){this.l[r.type+!0](We.event?We.event(r):r)}function Jy(r,n,l,a,s,f,y,p,b){var v,m,w,A,O,k,j,J,ce,se,$,_e,ve,Ee=n.type;if(n.constructor!==void 0)return null;l.__h!=null&&(b=l.__h,p=n.__e=l.__e,n.__h=null,f=[p]),(v=We.__b)&&v(n);try{e:if(typeof Ee=="function"){if(J=n.props,ce=(v=Ee.contextType)&&a[v.__c],se=v?ce?ce.props.value:v.__:a,l.__c?j=(m=n.__c=l.__c).__=m.__E:("prototype"in Ee&&Ee.prototype.render?n.__c=m=new Ee(J,se):(n.__c=m=new uo(J,se),m.constructor=Ee,m.render=QO),ce&&ce.sub(m),m.props=J,m.state||(m.state={}),m.context=se,m.__n=a,w=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),Ee.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Al({},m.__s)),Al(m.__s,Ee.getDerivedStateFromProps(J,m.__s))),A=m.props,O=m.state,w)Ee.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(Ee.getDerivedStateFromProps==null&&J!==A&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(J,se),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(J,m.__s,se)===!1||n.__v===l.__v){m.props=J,m.state=m.__s,n.__v!==l.__v&&(m.__d=!1),m.__v=n,n.__e=l.__e,n.__k=l.__k,n.__k.forEach((function(Te){Te&&(Te.__=n)})),m.__h.length&&y.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(J,m.__s,se),m.componentDidUpdate!=null&&m.__h.push((function(){m.componentDidUpdate(A,O,k)}))}if(m.context=se,m.props=J,m.__v=n,m.__P=r,$=We.__r,_e=0,"prototype"in Ee&&Ee.prototype.render)m.state=m.__s,m.__d=!1,$&&$(n),v=m.render(m.props,m.state,m.context);else do m.__d=!1,$&&$(n),v=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++_e<25);m.state=m.__s,m.getChildContext!=null&&(a=Al(Al({},a),m.getChildContext())),w||m.getSnapshotBeforeUpdate==null||(k=m.getSnapshotBeforeUpdate(A,O)),ve=v!=null&&v.type===Au&&v.key==null?v.props.children:v,A_(r,Array.isArray(ve)?ve:[ve],n,l,a,s,f,y,p,b),m.base=n.__e,n.__h=null,m.__h.length&&y.push(m),j&&(m.__E=m.__=null),m.__e=!1}else f==null&&n.__v===l.__v?(n.__k=l.__k,n.__e=l.__e):n.__e=IO(l.__e,n,l,a,s,f,y,b);(v=We.diffed)&&v(n)}catch(Te){n.__v=null,(b||f!=null)&&(n.__e=p,n.__h=!!b,f[f.indexOf(p)]=null),We.__e(Te,n,l)}}function x_(r,n){We.__c&&We.__c(n,r),r.some((function(l){try{r=l.__h,l.__h=[],r.some((function(a){a.call(l)}))}catch(a){We.__e(a,l.__v)}}))}function IO(r,n,l,a,s,f,y,p){var b,v,m,w=l.props,A=n.props,O=n.type,k=0;if(O==="svg"&&(s=!0),f!=null){for(;k<f.length;k++)if((b=f[k])&&"setAttribute"in b==!!O&&(O?b.localName===O:b.nodeType===3)){r=b,f[k]=null;break}}if(r==null){if(O===null)return document.createTextNode(A);r=s?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,A.is&&A),f=null,p=!1}if(O===null)w===A||p&&r.data===A||(r.data=A);else{if(f=f&&zf.call(r.childNodes),v=(w=l.props||bf).dangerouslySetInnerHTML,m=A.dangerouslySetInnerHTML,!p){if(f!=null)for(w={},k=0;k<r.attributes.length;k++)w[r.attributes[k].name]=r.attributes[k].value;(m||v)&&(m&&(v&&m.__html==v.__html||m.__html===r.innerHTML)||(r.innerHTML=m&&m.__html||""))}if((function(j,J,ce,se,$){var _e;for(_e in ce)_e==="children"||_e==="key"||_e in J||Jc(j,_e,null,ce[_e],se);for(_e in J)$&&typeof J[_e]!="function"||_e==="children"||_e==="key"||_e==="value"||_e==="checked"||ce[_e]===J[_e]||Jc(j,_e,J[_e],ce[_e],se)})(r,A,w,s,p),m)n.__k=[];else if(k=n.props.children,A_(r,Array.isArray(k)?k:[k],n,l,a,s&&O!=="foreignObject",f,y,f?f[0]:l.__k&&Ou(l,0),p),f!=null)for(k=f.length;k--;)f[k]!=null&&S_(f[k]);p||("value"in A&&(k=A.value)!==void 0&&(k!==r.value||O==="progress"&&!k||O==="option"&&k!==w.value)&&Jc(r,"value",k,w.value,!1),"checked"in A&&(k=A.checked)!==void 0&&k!==r.checked&&Jc(r,"checked",k,w.checked,!1))}return r}function k_(r,n,l){try{typeof r=="function"?r(n):r.current=n}catch(a){We.__e(a,l)}}function D_(r,n,l){var a,s;if(We.unmount&&We.unmount(r),(a=r.ref)&&(a.current&&a.current!==r.__e||k_(a,null,n)),(a=r.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(f){We.__e(f,n)}a.base=a.__P=null}if(a=r.__k)for(s=0;s<a.length;s++)a[s]&&D_(a[s],n,typeof r.type!="function");l||r.__e==null||S_(r.__e),r.__e=r.__d=void 0}function QO(r,n,l){return this.constructor(r,l)}function l0(r,n,l){var a,s,f;We.__&&We.__(r,n),s=(a=!1)?null:n.__k,f=[],Jy(n,r=n.__k=Wt(Au,null,[r]),s||bf,bf,n.ownerSVGElement!==void 0,s?null:n.firstChild?zf.call(n.childNodes):null,f,s?s.__e:n.firstChild,a),x_(f,r)}zf=w_.slice,We={__e:function(r,n,l,a){for(var s,f,y;n=n.__;)if((s=n.__c)&&!s.__)try{if((f=s.constructor)&&f.getDerivedStateFromError!=null&&(s.setState(f.getDerivedStateFromError(r)),y=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,a||{}),y=s.__d),y)return s.__E=s}catch(p){r=p}throw r}},__=0,uo.prototype.setState=function(r,n){var l;l=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Al({},this.state),typeof r=="function"&&(r=r(Al({},l),this.props)),r&&Al(l,r),r!=null&&this.__v&&(n&&this.__h.push(n),t0(this))},uo.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),t0(this))},uo.prototype.render=Au,ao=[],_f.__r=0;const Xr={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function ZO({children:r,className:n}){return Wt("div",{className:n},Wt("div",{style:Xr.Darken}),Wt("div",{style:Xr.DialogOuter},Wt("div",{style:Xr.DialogInner},r)))}var Bf,en,$h,a0,wf=0,C_=[],lf=[],u0=We.__b,s0=We.__r,o0=We.diffed,c0=We.__c,f0=We.unmount;function $y(r,n){We.__h&&We.__h(en,r,wf||n),wf=0;var l=en.__H||(en.__H={__:[],__h:[]});return r>=l.__.length&&l.__.push({__V:lf}),l.__[r]}function JO(r){return wf=1,(function(n,l,a){var s=$y(Bf++,2);if(s.t=n,!s.__c&&(s.__=[h0(void 0,l),function(y){var p=s.__N?s.__N[0]:s.__[0],b=s.t(p,y);p!==b&&(s.__N=[b,s.__[1]],s.__c.setState({}))}],s.__c=en,!en.u)){en.u=!0;var f=en.shouldComponentUpdate;en.shouldComponentUpdate=function(y,p,b){if(!s.__c.__H)return!0;var v=s.__c.__H.__.filter((function(w){return w.__c}));if(v.every((function(w){return!w.__N})))return!f||f.call(this,y,p,b);var m=!1;return v.forEach((function(w){if(w.__N){var A=w.__[0];w.__=w.__N,w.__N=void 0,A!==w.__[0]&&(m=!0)}})),!!m&&(!f||f.call(this,y,p,b))}}return s.__N||s.__})(h0,r)}function $O(r){return wf=5,(function(n,l){var a=$y(Bf++,7);return R_(a.__H,l)?(a.__V=n(),a.i=l,a.__h=n,a.__V):a.__})((function(){return{current:r}}),[])}function FO(){for(var r;r=C_.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(af),r.__H.__h.forEach(Ay),r.__H.__h=[]}catch(n){r.__H.__h=[],We.__e(n,r.__v)}}We.__b=function(r){en=null,u0&&u0(r)},We.__r=function(r){s0&&s0(r),Bf=0;var n=(en=r.__c).__H;n&&($h===en?(n.__h=[],en.__h=[],n.__.forEach((function(l){l.__N&&(l.__=l.__N),l.__V=lf,l.__N=l.i=void 0}))):(n.__h.forEach(af),n.__h.forEach(Ay),n.__h=[])),$h=en},We.diffed=function(r){o0&&o0(r);var n=r.__c;n&&n.__H&&(n.__H.__h.length&&(C_.push(n)!==1&&a0===We.requestAnimationFrame||((a0=We.requestAnimationFrame)||function(l){var a,s=function(){clearTimeout(f),d0&&cancelAnimationFrame(a),setTimeout(l)},f=setTimeout(s,100);d0&&(a=requestAnimationFrame(s))})(FO)),n.__H.__.forEach((function(l){l.i&&(l.__H=l.i),l.__V!==lf&&(l.__=l.__V),l.i=void 0,l.__V=lf}))),$h=en=null},We.__c=function(r,n){n.some((function(l){try{l.__h.forEach(af),l.__h=l.__h.filter((function(a){return!a.__||Ay(a)}))}catch(a){n.some((function(s){s.__h&&(s.__h=[])})),n=[],We.__e(a,l.__v)}})),c0&&c0(r,n)},We.unmount=function(r){f0&&f0(r);var n,l=r.__c;l&&l.__H&&(l.__H.__.forEach((function(a){try{af(a)}catch(s){n=s}})),n&&We.__e(n,l.__v))};var d0=typeof requestAnimationFrame=="function";function af(r){var n=en,l=r.__c;typeof l=="function"&&(r.__c=void 0,l()),en=n}function Ay(r){var n=en;r.__c=r.__(),en=n}function R_(r,n){return!r||r.length!==n.length||n.some((function(l,a){return l!==r[a]}))}function h0(r,n){return typeof n=="function"?n(r):n}function PO({message:r,messageCode:n,messageParams:l}){return r.replace(/\{\w+\}/gi,(a=>l[a.substring(1,a.length-1)]))}function WO({title:r,type:n,alerts:l,fields:a,submitLabel:s,cancelLabel:f,onCancel:y,onSubmit:p}){const[b,v]=JO({}),m=$O(null);return(function(w,A){var O=$y(Bf++,4);!We.__s&&R_(O.__H,A)&&(O.__=w,O.i=A,en.__h.push(O))})((()=>{var w;return(w=m.current)===null||w===void 0?void 0:w.focus()}),[]),Wt(ZO,{className:"dxc-login-dlg"},Wt(Au,null,Wt("h3",{style:Xr.WindowHeader},r),l.map((w=>Wt("p",{style:Xr.Alert[w.type]},PO(w)))),Wt("form",{onSubmit:w=>{w.preventDefault(),p(b)}},Object.entries(a).map((([w,{type:A,label:O,placeholder:k}],j)=>Wt("label",{style:Xr.Label,key:j},O?`${O}: `:"",Wt("input",{ref:j===0?m:void 0,type:A,name:w,autoComplete:"on",style:Xr.Input,autoFocus:!0,placeholder:k,value:b[w]||"",onInput:J=>{var ce;const se=(function(_e,ve){switch(_e){case"email":return ve.toLowerCase();case"otp":return ve.toUpperCase();default:return ve}})(A,(ce=J.target)===null||ce===void 0?void 0:ce.value);let $=Object.assign(Object.assign({},b),{[w]:se});v($),A==="otp"&&se?.trim().length===8&&p($)}})))))),Wt("div",{style:Xr.ButtonsDiv},Wt(Au,null,Wt("button",{type:"submit",style:Xr.Button,onClick:()=>p(b)},s),f&&Wt("button",{style:Xr.Button,onClick:y},f))))}class y0 extends uo{constructor(n){super(n),this.observer=l=>this.setState({userInteraction:l}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=nr(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(n,{userInteraction:l}){return l?Wt(WO,Object.assign({},l)):null}}function To(r){const n=new WeakMap;return l=>{let a=n.get(l);return a||(a=r(l),n.set(l,a)),a}}const Sf=To((r=>new Cr(qn)));function Lf(r,n){let l=n,a=nr(r).pipe(Wn((f=>l=f)),V1({resetOnRefCountZero:()=>V0(1e3)}));const s=new nn((f=>{let y=!1;const p=a.subscribe({next(b){y=!0,f.next(b)},error(b){f.error(b)},complete(){f.complete()}});return y||p.closed||f.next(l),p}));return s.getValue=()=>l,s}const U_=To((r=>Lf(Ol((()=>r.roles.where({realmId:"rlm-public"}).toArray().then((n=>{const l={};for(const a of n.slice().sort(((s,f)=>(s.sortOrder||0)-(f.sortOrder||0))))l[a.name]=a;return l})))),{}))),M_=To((r=>Lf(Sf(r._novip).pipe(An((n=>Ol((()=>r.transaction("r","realms","members",(()=>Promise.all([r.members.where({userId:n.userId}).toArray(),r.realms.toArray(),n.userId]).then((([l,a,s])=>({selfMembers:l,realms:a,userId:s})))))))))),{selfMembers:[],realms:[],get userId(){return r.cloud.currentUserId}})));function eT(...r){return r.length===0?{}:r.reduce(((l,a)=>{const s=Object.assign({},l);for(const[f,y]of Object.entries(a))if(f in s&&s[f]){if(s[f]==="*")continue;if(y==="*")s[f]="*";else if(Array.isArray(y)&&Array.isArray(s[f])){const p=s,b=p[f];p[f]=[...new Set([...b,...y])]}else if(typeof y=="object"&&y&&typeof s[f]=="object"){const p=s[f];for(const[b,v]of Object.entries(y))p[b]!=="*"&&(v==="*"?p[b]="*":Array.isArray(p[b])&&Array.isArray(v)&&(p[b]=[...new Set([...p[b],...v])]))}}else s[f]=a[f];return s}))}const j_=To((r=>(function(n,l){let a;const s=n.pipe(Wn((f=>a=l(f))));return s.getValue=()=>a!==void 0?a:a=l(n.getValue()),s})(Lf(co([M_(r._novip),U_(r._novip)]).pipe(Wn((([{selfMembers:n,realms:l,userId:a},s])=>({selfMembers:n,realms:l,userId:a,globalRoles:s})))),{selfMembers:[],realms:[],userId:qn.userId,globalRoles:{}}),(({selfMembers:n,realms:l,userId:a,globalRoles:s})=>l.map((y=>{const p=n.filter((m=>m.realmId===y.realmId)),b=p.map((m=>m.permissions)).filter((m=>m)),v=Zy(p.map((m=>m.roles)).filter((m=>m))).map((m=>s[m])).filter((m=>m)).map((m=>m.permissions));return Object.assign(Object.assign({},y),{permissions:y.owner===a?{manage:"*"}:eT(...b,...v)})})).reduce(((y,p)=>Object.assign(Object.assign({},y),{[p.realmId]:p})),{[a]:{realmId:a,owner:a,name:a,permissions:{manage:"*"}}})))));class p0{constructor(n,l,a){this.permissions=n||{},this.tableName=l,this.isOwner=a}add(...n){var l;return this.permissions.manage==="*"||!!(!((l=this.permissions.manage)===null||l===void 0)&&l.includes(this.tableName))||this.permissions.add==="*"||!!n.every((a=>{var s;return(s=this.permissions.add)===null||s===void 0?void 0:s.includes(a)}))}update(...n){var l,a;if(this.isOwner||this.permissions.manage==="*"||!((l=this.permissions.manage)===null||l===void 0)&&l.includes(this.tableName))return!0;if(this.permissions.update==="*")return n.every((f=>f!=="owner"));const s=(a=this.permissions.update)===null||a===void 0?void 0:a[this.tableName];return s==="*"?n.every((f=>f!=="owner")):n.every((f=>s?.some((y=>y===f||y==="*"&&f!=="owner"))))}delete(){var n;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))}}const tT=To((r=>{const n=Sf(r._novip).pipe(An((s=>Ol((()=>r.members.where({email:s.email||""}).toArray()))))),l=j_(r._novip),a=M_(r._novip);return Lf(co([n,a,l]).pipe(Wn((([s,f,y])=>{const p=(m,w)=>Object.assign(Object.assign({},m),{[w.id]:Object.assign(Object.assign({},w),{realm:y[w.realmId]})}),b=s.reduce(p,{}),v=f.selfMembers.reduce(p,b);return Object.values(v).filter((m=>!m.accepted)).map((m=>Object.assign(Object.assign({},m),{accept(){return De(this,void 0,void 0,(function*(){yield r.members.update(m.id,{accepted:new Date})}))},reject(){return De(this,void 0,void 0,(function*(){yield r.members.update(m.id,{rejected:new Date})}))}})))}))),[])}));function nT(r){return n=>{var l;const a=n.doc;if(!a)throw new Error("Internal error: DexieYProvider.createYHandler called without a doc. This is unexpected.");const{parentTable:s}=a.meta||{};if(!(!((l=r.cloud.schema)===null||l===void 0)&&l[s].markedForSync))return;let f;Object.defineProperty(n,"awareness",{get:()=>f||(f=(function(y,p,b){const{parentTable:v,parentId:m,parentProp:w,updatesTable:A}=p.meta,O=new BA(p),k=m_(p);return O.on("update",(({added:j,updated:J,removed:ce},se)=>{const $=j.concat(J).concat(ce),_e=y.cloud.currentUser.value;if(se!=="server"&&_e.isLoggedIn&&!mo(y)){const ve=LA(O,$);y.messageProducer.next({type:"aware",table:v,prop:w,k:p.meta.parentId,u:ve}),b.destroyed&&y.messageProducer.next({type:"doc-close",table:v,prop:w,k:p.meta.parentId})}})),O.on("destroy",(()=>{Vb(O,[p.clientID],"provider destroyed")})),De(this,void 0,void 0,(function*(){if(b.destroyed)return;let j=!1,J=1;const ce=co([y.cloud.webSocketStatus,k.pipe(I0(null))]).subscribe((([$])=>{if(b.destroyed)return;j=$==="connected";const _e=y.cloud.currentUser.value;$==="connected"&&_e.isLoggedIn&&!mo(y)&&(++J,se().catch((ve=>{})))}));function se(){return De(this,void 0,void 0,(function*(){const $=J,_e=y.table(A),ve=y.$syncState,[Ee,Te]=yield y.transaction("r",ve,_e,(()=>De(this,void 0,void 0,(function*(){const at=yield _e.get(Dl),pe=yield ve.get("syncState");return[at?.receivedUntil||0,pe?.yServerRevision||pe?.serverRevision]}))));if(b.destroyed||J!==$||!j)return;const Fe={type:"doc-open",table:v,prop:w,k:m,serverRev:Te},Ne=yield _e.where("i").between(Ee,1/0,!1).filter((at=>Ef(at.k,m)===0&&(1&(at.f||0))==0)).toArray();if(!b.destroyed&&J===$&&j){if(Ne.length>0){const at=ff(Ne.map((Ue=>Ue.u))),pe=bb(at);Fe.sv=pe}y.messageProducer.next(Fe)}}))}b.addCleanupHandler(ce)})),O})(r,a,n),g_.set(a,f),f)})}}const rT={nameSuffix:!0};function Oy(r){const n=r.name,l=Sf(r),a=[];let s=!1,f=null;r.on("ready",(m=>De(this,void 0,void 0,(function*(){try{yield(function(w){return De(this,void 0,void 0,(function*(){var A,O,k,j,J,ce,se;y=!1;const $=Oi(w);typeof window<"u"&&typeof document<"u"&&(!((A=$.cloud.options)===null||A===void 0)&&A.customLoginGui||a.push((function(pe){let Ue=!1;const Ye=document.createElement("div");return document.body?(document.body.appendChild(Ye),l0(Wt(y0,{db:pe.vip}),Ye)):addEventListener("DOMContentLoaded",(()=>{Ue||(document.body.appendChild(Ye),l0(Wt(y0,{db:pe.vip}),Ye))})),{unsubscribe(){try{Ye.remove()}catch{}Ue=!0},get closed(){return Ue}}})(w))),$.cloud.isServiceWorkerDB||a.push((function(pe){let Ue=pe.cloud.webSocketStatus.value;const Ye=pe.cloud.webSocketStatus.pipe(An((Xe=>{const ze=Ue;Ue=Xe;const B=Di(Xe);switch(Xe){case"disconnected":return lo.value?B.pipe(Sm(500)):B;case"connecting":return ze==="not-started"||ze==="error"?B:B.pipe(Sm(4e3));default:return B}})));return co([Ye,pe.syncStateChangedEvent.pipe(I0({phase:"initial"})),Sf(pe.dx._novip),Ey]).pipe(Wn((([Xe,ze,B,te])=>{var oe;if(!((oe=B.license)===null||oe===void 0)&&oe.status&&B.license.status!=="ok")return{phase:"offline",status:"offline",license:B.license.status};let{phase:Oe,error:R,progress:W}=ze,le=Xe;return Oe==="error"&&(le="error"),Xe==="not-started"&&(Oe!=="pushing"&&Oe!=="pulling"||(le="connecting")),pe.cloud.syncState.value.phase!=="error"||ze.phase!=="pushing"&&ze.phase!=="pulling"||(le="connecting"),te||(le="disconnected"),{phase:Oe,error:R,progress:W,status:vu?le:"offline",license:"ok"}})))})($).subscribe(w.cloud.syncState)),a.push($.syncCompleteEvent.subscribe(b)),$.tables.every((pe=>pe.core))||(function(){throw new ot.SchemaError("Version increment needed to allow dexie-cloud change tracking")})();const _e="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[ve,Ee]=yield $.transaction("rw",$.$syncState,(()=>De(this,void 0,void 0,(function*(){var pe,Ue;const{options:Ye,schema:Xe}=$.cloud,[ze,B,te]=yield Promise.all([$.getOptions(),$.getSchema(),$.getPersistedSyncState()]);if(s){if(!ze||JSON.stringify(ze)!==JSON.stringify(Ye)){if(!Ye)throw new Error("Internal error");const oe=Object.assign({},Ye);delete oe.fetchTokens,delete oe.awarenessProtocol,yield $.$syncState.put(oe,"options")}}else $.cloud.options=ze||null;if(!((pe=$.cloud.options)===null||pe===void 0)&&pe.tryUseServiceWorker&&"serviceWorker"in navigator&&_e.length>0&&!TO?$.cloud.usingServiceWorker=!0:(!((Ue=$.cloud.options)===null||Ue===void 0)&&Ue.tryUseServiceWorker&&$.cloud.isServiceWorkerDB,$.cloud.usingServiceWorker=!1),Jh(Xe,$.cloud.options),Jh(B,$.cloud.options),Xe){if(!B||JSON.stringify(B)!==JSON.stringify(Xe)){const oe=B||{};for(const[Oe,R]of Object.entries(Xe)){const W=oe[Oe];W?(W.markedForSync=R.markedForSync,R.deleted=W.deleted,W.generatedGlobalId=R.generatedGlobalId):oe[Oe]=Object.assign({},R)}yield $.$syncState.put(oe,"schema"),Object.assign(Xe,oe)}}else $.cloud.schema=B||null;return[te?.initiallySynced,te?.realms]}))));if(ve&&$.setInitiallySynced(!0),(function(pe){var Ue,Ye;for(const Xe of pe.tables)if(!((Ye=(Ue=pe.cloud.schema)===null||Ue===void 0?void 0:Ue[Xe.name])===null||Ye===void 0)&&Ye.markedForSync){if(Xe.schema.primKey.auto)throw new ot.SchemaError(`Table ${Xe.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Xe.name)}]}) to blacklist it from sync`);if(!Xe.schema.primKey.keyPath)throw new ot.SchemaError(`Table ${Xe.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(Xe.name)}]}) to blacklist it from sync`)}})($),p(),!$.cloud.isServiceWorkerDB){a.push(Ol((()=>$.getCurrentUser())).subscribe(l)),a.push(Ol((()=>$.getPersistedSyncState())).subscribe($.cloud.persistedSyncState)),yield fa(co([l.pipe(Em(1),fu(1)),$.cloud.persistedSyncState.pipe(Em(1),fu(1))]));const pe=nT($);On.on.new.subscribe(pe),$.dx.once("close",(()=>{On.on.new.unsubscribe(pe)}))}let Te=!1;const Fe=yield $.getCurrentUser(),Ne=(O=$.cloud.options)===null||O===void 0?void 0:O.requireAuth;Ne&&($.cloud.isServiceWorkerDB?yield fa(l.pipe(gr((pe=>!!pe.isLoggedIn)),fu(1))):typeof Ne=="object"?(!Fe.isLoggedIn||Ne.userId&&Fe.userId!==Ne.userId||Ne.email&&Fe.email!==Ne.email)&&(Te=yield Xh($,Ne)):Fe.isLoggedIn||(Te=yield Xh($))),!Fe.isLoggedIn||Ee&&Ee.includes(Fe.userId)||(Te=!0),f&&f.stop(),f=null,p();const at=((k=$.cloud.options)===null||k===void 0?void 0:k.databaseUrl)&&(!ve||Te);at&&(yield(function(pe,Ue,Ye){return De(this,void 0,void 0,(function*(){yield y_(pe,o_,(()=>Nf(pe,Ue,Ye,{isInitialSync:!0})))}))})($,$.cloud.options,$.cloud.schema),$.setInitiallySynced(!0)),p(),$.cloud.usingServiceWorker&&(!((j=$.cloud.options)===null||j===void 0)&&j.databaseUrl)?(at||Ib($,"push").catch((()=>{})),(function(pe){return De(this,void 0,void 0,(function*(){var Ue;try{const{periodicSync:Ye}=yield navigator.serviceWorker.ready;if(Ye)try{yield Ye.register(`dexie-cloud:${pe.name}`,(Ue=pe.cloud.options)===null||Ue===void 0?void 0:Ue.periodicSync)}catch{}}catch{}}))})($).catch((()=>{}))):!((J=$.cloud.options)===null||J===void 0)&&J.databaseUrl&&$.cloud.schema&&!$.cloud.isServiceWorkerDB&&(f=GO($,$.cloud.options,$.cloud.schema),f.start(),at||xi($,"push")),p(),$.cloud.isServiceWorkerDB||a.push(Qr(self,"online").subscribe((()=>{$.syncStateChangedEvent.next({phase:"not-in-sync"}),mo($)||xi($,"push")})),Qr(self,"offline").subscribe((()=>{$.syncStateChangedEvent.next({phase:"offline"})}))),!(!((ce=$.cloud.options)===null||ce===void 0)&&ce.databaseUrl)||!((se=$.cloud.options)===null||se===void 0)&&se.disableWebSocket||xO||a.push((function(pe){var Ue;if(!(!((Ue=pe.cloud.options)===null||Ue===void 0)&&Ue.databaseUrl))throw new Error("No database URL to connect WebSocket to");const Ye=pe.messageConsumer.readyToServe.pipe(gr((ze=>ze)),An((()=>pe.getPersistedSyncState())),gr((ze=>ze&&ze.serverRevision)),An((ze=>De(this,void 0,void 0,(function*(){return{type:"ready",rev:ze.serverRevision,realmSetHash:yield my(ze)}}))))),Xe=xf(Ye,pe.messageProducer);return(function ze(){return pe.cloud.persistedSyncState.pipe(gr((B=>B?.serverRevision)),fu(1),An((B=>pe.cloud.currentUser.pipe(Wn((te=>[te,B]))))),An((([B,te])=>Ey.pipe(Wn((oe=>[oe?B:null,te]))))),An((([B,te])=>B?.isLoggedIn&&!te?.realms.includes(B.userId)?pe.cloud.persistedSyncState.pipe(gr((oe=>oe?.realms.includes(B.userId)||!1)),fu(1),Wn((oe=>[B,oe]))):new Cr([B,te]))),An((B=>De(this,[B],void 0,(function*([te,oe]){return[te,yield my(oe)]})))),X0((([B,te],[oe,Oe])=>B===oe&&te===Oe)),An((([B,te])=>{var oe;return!((oe=pe.cloud.persistedSyncState)===null||oe===void 0)&&oe.value?B?new LO(pe,pe.cloud.persistedSyncState.value.serverRevision,pe.cloud.persistedSyncState.value.yServerRevision,te,pe.cloud.persistedSyncState.value.clientIdentity,Xe,pe.cloud.webSocketStatus,B):nr([]):ze()})),ry((B=>B?.name==="TokenExpiredError"?Di(!0).pipe(An((()=>De(this,void 0,void 0,(function*(){const te=yield pe.getCurrentUser(),oe=yield jf(pe.cloud.options.databaseUrl,te);yield pe.table("$logins").update(te.userId,{accessToken:oe.accessToken,accessTokenExpiration:oe.accessTokenExpiration,claims:oe.claims,license:oe.license,data:oe.data})})))),An((()=>ze()))):mm((()=>B)))),ry((B=>(pe.cloud.webSocketStatus.next("error"),B instanceof KO?mm((()=>B)):nr(YO()).pipe(An((()=>ze())))))))})().subscribe({next:ze=>{ze&&pe.messageConsumer.enqueue(ze)},error:ze=>{},complete:()=>{}})})($))}))})(m)}catch{}}))),!0);let y=!1;function p(){if(y)throw new ot.DatabaseClosedError}r.once("close",(()=>{a.forEach((m=>m.unsubscribe())),a.splice(0,a.length),y=!0,f&&f.stop(),f=null,l.next(qn)}));const b=new pa;var v;r.cloud={version:"4.2.0",options:Object.assign({},rT),schema:null,get currentUserId(){return l.value.userId||qn.userId},currentUser:l,syncState:new Cr({phase:"initial",status:"not-started"}),events:{syncComplete:b},persistedSyncState:new Cr(void 0),userInteraction:new Cr(void 0),webSocketStatus:new Cr("not-started"),login(m){return De(this,void 0,void 0,(function*(){const w=Oi(r);yield w.cloud.sync(),yield Xh(w,m)}))},invites:tT(r),roles:U_(r),configure(m){m=r.cloud.options=Object.assign(Object.assign({},r.cloud.options),m),s=!0,m.databaseUrl&&m.nameSuffix&&(r.name=`${n}-${(function(w){const A=new URL(w);return A.pathname==="/"?A.hostname.split(".")[0]:A.pathname.split("/")[1]})(m.databaseUrl)}`,Oi(r).reconfigure()),Jh(r.cloud.schema,r.cloud.options)},logout(){return De(this,arguments,void 0,(function*({force:m}={}){m?yield py(Oi(r),{deleteUnsyncedData:!0}):yield Zb(Oi(r))}))},sync(){return De(this,arguments,void 0,(function*({wait:m,purpose:w}={wait:!0,purpose:"push"}){var A;m===void 0&&(m=!0);const O=Oi(r);if((((A=O.cloud.currentUser.value.license)===null||A===void 0?void 0:A.status)||"ok")!=="ok"&&(yield Mf(O)),w==="pull"){const k=O.cloud.persistedSyncState.value;if(xi(O,w),m){const j=yield fa(O.cloud.persistedSyncState.pipe(gr((J=>J?.timestamp!=null&&(!k||J.timestamp>k.timestamp)))));if(j?.error)throw new Error("Sync error: "+j.error)}}else if(yield Wm(O)){const k=O.cloud.persistedSyncState.value;xi(O,w),m&&(yield fa(nr(Ol((()=>De(this,void 0,void 0,(function*(){const j=yield Wm(O),J=yield O.getPersistedSyncState();if(J?.timestamp!==k?.timestamp&&J?.error)throw new Error("Sync error: "+J.error);return j}))))).pipe(gr((j=>!j)))))}}))},permissions:(m,w)=>(function(A,O,k){if(!O)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:j,realmId:J}=O;if(!k){if(typeof O.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");k=O.table()}const ce=j_(A),se=_e=>{const ve=_e[J||A.cloud.currentUserId];return ve?new p0(ve.permissions,k,J===void 0||J===A.cloud.currentUserId||j===A.cloud.currentUserId):new p0({},k,!j||j===A.cloud.currentUserId)},$=ce.pipe(Wn(se));return $.getValue=()=>se(ce.getValue()),$})(r._novip,m,w)},r.Version.prototype._parseStoresSpec=ot.override(r.Version.prototype._parseStoresSpec,(m=>jO(m,r))),r.Table.prototype.newId=function({colocateWith:m}={}){const w=m&&m.substr(m.length-3);return h_(r.cloud.schema[this.name].idPrefix||"",w)},r.Table.prototype.idPrefix=function(){var m,w;return((w=(m=this.db.cloud.schema)===null||m===void 0?void 0:m[this.name])===null||w===void 0?void 0:w.idPrefix)||""},r.use(MO({currentUserObservable:r.cloud.currentUser,db:Oi(r)})),r.use((v=Oi(r),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:m=>Object.assign(Object.assign({},m),{table:w=>{const A=m.table(w);return Object.assign(Object.assign({},A),{mutate:O=>{var k,j,J,ce,se,$;const _e=O.trans;if(_e.disableChangeTracking)return A.mutate(O);const ve=(j=(k=_e.currentUser)===null||k===void 0?void 0:k.userId)!==null&&j!==void 0?j:qn.userId;if(!((ce=(J=v.cloud.schema)===null||J===void 0?void 0:J[w])===null||ce===void 0)&&ce.markedForSync&&(O.type==="add"||O.type==="put")){if(w==="members")for(const Ee of O.values)typeof Ee.email=="string"&&(Ee.email=Ee.email.trim().toLowerCase());for(const Ee of O.values){Ee.owner||(Ee.owner=ve),Ee.realmId||(Ee.realmId=ve);const Te=($=(se=A.schema.primaryKey).extractKey)===null||$===void 0?void 0:$.call(se,Ee);typeof Te=="string"&&Te[0]==="#"&&O.type==="put"&&(delete O.criteria,delete O.changeSpec,delete O.updates,Ee.$ts=Date.now())}}return A.mutate(O)}})}})})),r.use(CO(Oi(r)))}Oy.version="4.2.0",ot.Cloud=Oy;const Fh={serviceUrl:"https://dexie.cloud",databaseUrl:"https://zlorat9py.dexie.cloud",dbUrl:"https://zlorat9py.dexie.cloud"},iT={quotes:"@id, text, author, tag"},lT={};class aT extends ot{constructor(){super("manthra",{addons:[Oy],autoOpen:!0}),this.version(1).stores(iT),lT?.VITE_DEXIE_CLOUD_URL??Fh.databaseUrl??Fh.dbUrl?(this.cloud.configure(Fh),this.cloud.sync()):console.warn("Dexie Cloud database URL not configured")}}const Sl=new aT;window.db=Sl;function uT({open:r,onClose:n}){const[l,a]=Ir.useState(""),[s,f]=Ir.useState(""),[y,p]=Ir.useState(""),b=async v=>{v.preventDefault();try{await Sl.quotes.put({text:l,author:s,tag:y}),a(""),f(""),p(""),n?.()}catch(m){console.error("Failed to save quote",m)}};return r?Qe.jsx("div",{className:"upsert",children:Qe.jsxs("form",{onSubmit:b,children:[Qe.jsx("div",{children:Qe.jsxs("label",{children:["Quote",Qe.jsx("br",{}),Qe.jsx("textarea",{value:l,onChange:v=>a(v.target.value),required:!0})]})}),Qe.jsx("div",{children:Qe.jsxs("label",{children:["Author",Qe.jsx("br",{}),Qe.jsx("input",{value:s,onChange:v=>f(v.target.value)})]})}),Qe.jsx("div",{children:Qe.jsxs("label",{children:["Tags (comma separated)",Qe.jsx("br",{}),Qe.jsx("input",{value:y,onChange:v=>p(v.target.value)})]})}),Qe.jsxs("div",{children:[Qe.jsx("button",{type:"submit",children:"Save"}),Qe.jsx("button",{type:"button",onClick:n,children:"Cancel"})]})]})}):null}function sT(){const r=Ir.useRef(null),[n,l]=Ir.useState(!1),[a,s]=Ir.useState(!1),[f,y]=Ir.useState(""),p=async w=>{const A=w.target.files?.[0];if(A)try{const O=await A.text(),k=JSON.parse(O);Array.isArray(k)&&await Sl.quotes.bulkPut(k)}catch(O){console.error("Import failed",O)}finally{w.target.value=""}},b=async()=>{const w=await Sl.quotes.toArray(),A=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),O=URL.createObjectURL(A),k=document.createElement("a");k.href=O,k.download="quotes.json",k.click(),URL.revokeObjectURL(O)},v=async()=>{try{await Sl.cloud.login()}catch(w){console.error("Login failed",w)}},m=async()=>{try{await Sl.cloud.logout()}catch(w){console.error("Logout failed",w)}};return Ir.useEffect(()=>{const w=Sl.cloud.currentUser.subscribe(A=>{A.userId?(l(!0),y(A.name||A.email||"User")):(l(!1),y(""))});return()=>w.unsubscribe()},[]),Qe.jsxs("footer",{children:[" 2024 manthra",Qe.jsx("button",{onClick:()=>s(!0),children:"Add a Quote"}),n?Qe.jsxs(Qe.Fragment,{children:[Qe.jsx("span",{children:f}),Qe.jsx("button",{onClick:m,children:"Logout"})]}):Qe.jsx(Qe.Fragment,{children:Qe.jsx("button",{onClick:v,children:"Login"})}),Qe.jsx("button",{onClick:()=>r.current?.click(),children:"Import"}),Qe.jsx("input",{type:"file",accept:"application/json",ref:r,style:{display:"none"},onChange:p}),Qe.jsx("button",{onClick:b,children:"Export"}),Qe.jsx(uT,{open:a,onClose:()=>s(!1)})]})}function oT(r,n,l){var a,s;typeof r=="function"?(a=n||[],s=l):(a=[],s=n);var f=Qs.useRef({hasResult:!1,result:s,error:null}),y=Qs.useReducer(function(v){return v+1},0);y[0];var p=y[1],b=Qs.useMemo(function(){var v=typeof r=="function"?r():r;if(!v||typeof v.subscribe!="function")throw r===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!f.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")f.current.result=v.getValue(),f.current.hasResult=!0;else{var m=v.subscribe(function(w){f.current.result=w,f.current.hasResult=!0});typeof m=="function"?m():m.unsubscribe()}return v},a);if(Qs.useDebugValue(f.current.result),Qs.useEffect(function(){var v=b.subscribe(function(m){var w=f.current;(w.error!==null||w.result!==m)&&(w.error=null,w.result=m,w.hasResult=!0,p())},function(m){var w=f.current;w.error!==m&&(w.error=m,p())});return typeof v=="function"?v:v.unsubscribe.bind(v)},a),f.current.error)throw f.current.error;return f.current.result}function cT(r,n,l){return oT(function(){return ot.liveQuery(r)},[],l)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(r){var n=ot.DexieYProvider;n&&n.release(r)});function fT(){const r=cT(()=>Sl.quotes.toArray());return Qe.jsx("main",{children:Qe.jsx("ul",{children:r&&r.map(n=>Qe.jsxs("li",{children:[Qe.jsxs("blockquote",{children:['"',n.text,'"']}),n.author&&Qe.jsx("span",{className:"author",children:n.author})]},n.id))})})}function dT(){return Qe.jsxs(Qe.Fragment,{children:[Qe.jsx("header",{children:"manthra"}),Qe.jsx(fT,{}),Qe.jsx(sT,{})]})}lS.createRoot(document.getElementById("root")).render(Qe.jsx(Ir.StrictMode,{children:Qe.jsx(dT,{})}));

var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((exports=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.iterator;function p(e){return typeof e!=`object`||!e?null:(e=f&&e[f]||e[`@@iterator`],typeof e==`function`?e:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function v(){}v.prototype=_.prototype;function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}var b=y.prototype=new v;b.constructor=y,h(b,_.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function ee(e,n,r,i,a,o){return r=o.ref,{$$typeof:t,type:e,key:n,ref:r===void 0?null:r,props:o}}function te(e,t){return ee(e.type,t,void 0,void 0,void 0,e.props)}function ne(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function re(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ie=/\/+/g;function ae(e,t){return typeof e==`object`&&e&&e.key!=null?re(``+e.key):t.toString(36)}function oe(){}function se(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(oe,oe):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function w(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,w(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ae(e,0):a,x(o)?(i=``,c!=null&&(i=c.replace(ie,`$&/`)+`/`),w(o,r,i,``,function(e){return e})):o!=null&&(ne(o)&&(o=te(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ie,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(x(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ae(a,u),c+=w(a,r,i,s,o);else if(u=p(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ae(a,u++),c+=w(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return w(se(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ce(e,t,n){if(e==null)return e;var r=[],i=0;return w(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function le(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ue=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)};function T(){}exports.Children={map:ce,forEach:function(e,t,n){ce(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ce(e,function(){t++}),t},toArray:function(e){return ce(e,function(e){return e})||[]},only:function(e){if(!ne(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}},exports.Component=_,exports.Fragment=r,exports.Profiler=a,exports.PureComponent=y,exports.StrictMode=i,exports.Suspense=l,exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,exports.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},exports.cache=function(e){return function(){return e.apply(null,arguments)}},exports.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=h({},e.props),i=e.key,a=void 0;if(t!=null)for(o in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=``+t.key),t)!C.call(t,o)||o===`key`||o===`__self`||o===`__source`||o===`ref`&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];r.children=s}return ee(e.type,i,void 0,void 0,a,r)},exports.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},exports.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)C.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ee(e,a,void 0,void 0,null,i)},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:c,render:e}},exports.isValidElement=ne,exports.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:le}},exports.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},exports.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(T,ue)}catch(e){ue(e)}finally{S.T=t}},exports.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},exports.use=function(e){return S.H.use(e)},exports.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},exports.useCallback=function(e,t){return S.H.useCallback(e,t)},exports.useContext=function(e){return S.H.useContext(e)},exports.useDebugValue=function(){},exports.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},exports.useEffect=function(e,t,n){var r=S.H;if(typeof n==`function`)throw Error(`useEffect CRUD overload is not enabled in this build of React.`);return r.useEffect(e,t)},exports.useId=function(){return S.H.useId()},exports.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},exports.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},exports.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},exports.useMemo=function(e,t){return S.H.useMemo(e,t)},exports.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},exports.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},exports.useRef=function(e){return S.H.useRef(e)},exports.useState=function(e){return S.H.useState(e)},exports.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},exports.useTransition=function(){return S.H.useTransition()},exports.version=`19.1.1`})),u=o(((exports,t)=>{t.exports=l()})),d=o((exports=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(exports.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;exports.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();exports.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,ie());else{var t=n(l);t!==null&&se(x,t.startTime-e)}}var S=!1,C=-1,ee=5,te=-1;function ne(){return g?!0:!(exports.unstable_now()-te<ee)}function re(){if(g=!1,S){var t=exports.unstable_now();te=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=exports.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&se(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ie():S=!1}}}var ie;if(typeof y==`function`)ie=function(){y(re)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){_(re,0)};function se(t,n){C=_(function(){t(exports.unstable_now())},n)}exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):ee=0<e?Math.floor(1e3/e):5},exports.unstable_getCurrentPriorityLevel=function(){return f},exports.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},exports.unstable_requestPaint=function(){g=!0},exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},exports.unstable_scheduleCallback=function(r,i,a){var o=exports.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,se(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,ie()))),r},exports.unstable_shouldYield=ne,exports.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((exports,t)=>{t.exports=d()})),p=o((exports=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,exports.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},exports.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},exports.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},exports.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},exports.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},exports.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},exports.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},exports.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},exports.requestFormReset=function(e){i.d.r(e)},exports.unstable_batchedUpdates=function(e,t){return e(t)},exports.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},exports.useFormStatus=function(){return s.H.useHostTransitionStatus()},exports.version=`19.1.1`})),m=o(((exports,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((exports=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(o(e)!==e)throw Error(i(188))}function l(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return c(a),e;if(s===r)return c(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,u=a.child;u;){if(u===n){l=!0,n=a,r=s;break}if(u===r){l=!0,r=a,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=a;break}if(u===r){l=!0,r=s,n=a;break}u=u.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),_=Symbol.for(`react.portal`),v=Symbol.for(`react.fragment`),y=Symbol.for(`react.strict_mode`),b=Symbol.for(`react.profiler`),x=Symbol.for(`react.provider`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),ee=Symbol.for(`react.forward_ref`),te=Symbol.for(`react.suspense`),ne=Symbol.for(`react.suspense_list`),re=Symbol.for(`react.memo`),ie=Symbol.for(`react.lazy`),ae=Symbol.for(`react.activity`),oe=Symbol.for(`react.memo_cache_sentinel`),se=Symbol.iterator;function w(e){return typeof e!=`object`||!e?null:(e=se&&e[se]||e[`@@iterator`],typeof e==`function`?e:null)}var ce=Symbol.for(`react.client.reference`);function le(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case v:return`Fragment`;case b:return`Profiler`;case y:return`StrictMode`;case te:return`Suspense`;case ne:return`SuspenseList`;case ae:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case _:return`Portal`;case C:return(e.displayName||`Context`)+`.Provider`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case ee:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case re:return t=e.displayName||null,t===null?le(e.type)||`Memo`:t;case ie:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function me(e){return{current:e}}function he(e){0>pe||(e.current=fe[pe],fe[pe]=null,pe--)}function D(e,t){pe++,fe[pe]=e.current,e.current=t}var ge=me(null),_e=me(null),O=me(null),ve=me(null);function ye(e,t){switch(D(O,t),D(_e,e),D(ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=Wd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}he(ge),D(ge,e)}function k(){he(ge),he(_e),he(O)}function be(e){e.memoizedState!==null&&D(ve,e);var t=ge.current,n=Wd(t,e.type);t!==n&&(D(_e,e),D(ge,n))}function xe(e){_e.current===e&&(he(ge),he(_e)),ve.current===e&&(he(ve),Zf._currentValue=de)}var Se=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Te=t.unstable_shouldYield,Ee=t.unstable_requestPaint,De=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,je=t.unstable_NormalPriority,A=t.unstable_LowPriority,Me=t.unstable_IdlePriority,Ne=t.log,Pe=t.unstable_setDisableYieldValue,Fe=null,Ie=null;function Le(e){if(typeof Ne==`function`&&Pe(e),Ie&&typeof Ie.setStrictMode==`function`)try{Ie.setStrictMode(Fe,e)}catch{}}var j=Math.clz32?Math.clz32:ze,Re=Math.log,M=Math.LN2;function ze(e){return e>>>=0,e===0?32:31-(Re(e)/M|0)|0}var Be=256,Ve=4194304;function N(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function He(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=N(n))):i=N(o):i=N(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=N(n))):i=N(o)):i=N(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ue(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function We(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var e=Be;return Be<<=1,!(Be&4194048)&&(Be=256),e}function Ke(){var e=Ve;return Ve<<=1,!(Ve&62914560)&&(Ve=4194304),e}function qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Je(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-j(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Xe(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-j(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function Ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-j(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $e(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function et(){var e=E.p;return e===0?(e=window.event,e===void 0?32:fp(e.type)):e}function tt(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var nt=Math.random().toString(36).slice(2),rt=`__reactFiber$`+nt,it=`__reactProps$`+nt,at=`__reactContainer$`+nt,ot=`__reactEvents$`+nt,P=`__reactListeners$`+nt,st=`__reactHandles$`+nt,ct=`__reactResources$`+nt,lt=`__reactMarker$`+nt;function ut(e){delete e[rt],delete e[it],delete e[ot],delete e[P],delete e[st]}function dt(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[at]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uf(e);e!==null;){if(n=e[rt])return n;e=uf(e)}return t}e=n,n=e.parentNode}return null}function ft(e){if(e=e[rt]||e[at]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function pt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function mt(e){var t=e[ct];return t||=e[ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function F(e){e[lt]=!0}var ht=new Set,gt={};function _t(e,t){vt(e,t),vt(e+`Capture`,t)}function vt(e,t){for(gt[e]=t,e=0;e<t.length;e++)ht.add(t[e])}var yt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),bt={},xt={};function St(e){return Se.call(xt,e)?!0:Se.call(bt,e)?!1:yt.test(e)?xt[e]=!0:(bt[e]=!0,!1)}function Ct(e,t,n){if(St(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function wt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Tt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}var I,Et;function Dt(e){if(I===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||``,Et=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+I+e+Et}var L=!1;function Ot(e,t){if(!e||L)return``;L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{L=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Dt(n):``}function kt(e){switch(e.tag){case 26:case 27:case 5:return Dt(e.type);case 16:return Dt(`Lazy`);case 13:return Dt(`Suspense`);case 19:return Dt(`SuspenseList`);case 0:case 15:return Ot(e.type,!1);case 11:return Ot(e.type.render,!1);case 1:return Ot(e.type,!0);case 31:return Dt(`Activity`);default:return``}}function At(e){try{var t=``;do t+=kt(e),e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function jt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Mt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Nt(e){var t=Mt(e)?`checked`:`value`,n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=``+e[t];if(!e.hasOwnProperty(t)&&n!==void 0&&typeof n.get==`function`&&typeof n.set==`function`){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pt(e){e._valueTracker||=Nt(e)}function Ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Mt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function It(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Lt=/[\n"\\]/g;function Rt(e){return e.replace(Lt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function zt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+jt(t)):e.value!==``+jt(t)&&(e.value=``+jt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Vt(e,o,jt(n)):Vt(e,o,jt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+jt(s):e.removeAttribute(`name`)}function Bt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null))return;n=n==null?``:``+jt(n),t=t==null?n:``+jt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o)}function Vt(e,t,n){t===`number`&&It(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function R(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+jt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ht(e,t,n){if(t!=null&&(t=``+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+jt(n)}function Ut(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=jt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r)}function Wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Kt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Gt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function qt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Kt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Kt(e,o,t[o])}function Jt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Yt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zt(e){return Xt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}var Qt=null;function $t(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var en=null,tn=null;function nn(e){var t=ft(e);if(t&&(e=t.stateNode)){var n=e[it]||null;a:switch(e=t.stateNode,t.type){case`input`:if(zt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Rt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[it]||null;if(!a)throw Error(i(90));zt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ft(r)}break a;case`textarea`:Ht(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&R(e,!!n.multiple,t,!1)}}}var rn=!1;function an(e,t,n){if(rn)return e(t,n);rn=!0;try{return e(t)}finally{if(rn=!1,(en!==null||tn!==null)&&(Su(),en&&(t=en,e=tn,tn=en=null,nn(t),e)))for(t=0;t<e.length;t++)nn(e[t])}}function on(e,t){var n=e.stateNode;if(n===null)return null;var r=n[it]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var sn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),cn=!1;if(sn)try{var ln={};Object.defineProperty(ln,`passive`,{get:function(){cn=!0}}),window.addEventListener(`test`,ln,ln),window.removeEventListener(`test`,ln,ln)}catch{cn=!1}var un=null,dn=null,fn=null;function pn(){if(fn)return fn;var e,t=dn,n=t.length,r,i=`value`in un?un.value:un.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return fn=i.slice(e,1<r?1-r:void 0)}function mn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hn(){return!0}function gn(){return!1}function _n(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?hn:gn,this.isPropagationStopped=gn,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=_n(vn),bn=p({},vn,{view:0,detail:0}),xn=_n(bn),Sn,Cn,wn,Tn=p({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==wn&&(wn&&e.type===`mousemove`?(Sn=e.screenX-wn.screenX,Cn=e.screenY-wn.screenY):Cn=Sn=0,wn=e),Sn)},movementY:function(e){return`movementY`in e?e.movementY:Cn}}),En=_n(Tn),Dn=p({},Tn,{dataTransfer:0}),On=_n(Dn),kn=p({},bn,{relatedTarget:0}),An=_n(kn),jn=p({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=_n(jn),Nn=p({},vn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),Pn=_n(Nn),Fn=p({},vn,{data:0}),In=_n(Fn),Ln={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Rn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},zn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zn[e])?!!t[e]:!1}function Vn(){return Bn}var Hn=p({},bn,{key:function(e){if(e.key){var t=Ln[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=mn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Rn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return e.type===`keypress`?mn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?mn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),Un=_n(Hn),Wn=p({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=_n(Wn),Kn=p({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),qn=_n(Kn),Jn=p({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yn=_n(Jn),Xn=p({},Tn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zn=_n(Xn),Qn=p({},vn,{newState:0,oldState:0}),$n=_n(Qn),er=[9,13,27,32],tr=sn&&`CompositionEvent`in window,nr=null;sn&&`documentMode`in document&&(nr=document.documentMode);var rr=sn&&`TextEvent`in window&&!nr,ir=sn&&(!tr||nr&&8<nr&&11>=nr),ar=` `,or=!1;function sr(e,t){switch(e){case`keyup`:return er.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function cr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var lr=!1;function ur(e,t){switch(e){case`compositionend`:return cr(t);case`keypress`:return t.which===32?(or=!0,ar):null;case`textInput`:return e=t.data,e===ar&&or?null:e;default:return null}}function dr(e,t){if(lr)return e===`compositionend`||!tr&&sr(e,t)?(e=pn(),fn=dn=un=null,lr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return ir&&t.locale!==`ko`?null:t.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!fr[e.type]:t===`textarea`}function mr(e,t,n,r){en?tn?tn.push(r):tn=[r]:en=r,t=kd(t,`onChange`),0<t.length&&(n=new yn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var hr=null,gr=null;function _r(e){Sd(e,0)}function vr(e){var t=pt(e);if(Ft(t))return e}function yr(e,t){if(e===`change`)return t}var br=!1;if(sn){var xr;if(sn){var Sr=`oninput`in document;if(!Sr){var Cr=document.createElement(`div`);Cr.setAttribute(`oninput`,`return;`),Sr=typeof Cr.oninput==`function`}xr=Sr}else xr=!1;br=xr&&(!document.documentMode||9<document.documentMode)}function wr(){hr&&(hr.detachEvent(`onpropertychange`,Tr),gr=hr=null)}function Tr(e){if(e.propertyName===`value`&&vr(gr)){var t=[];mr(t,gr,e,$t(e)),an(_r,t)}}function Er(e,t,n){e===`focusin`?(wr(),hr=t,gr=n,hr.attachEvent(`onpropertychange`,Tr)):e===`focusout`&&wr()}function Dr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return vr(gr)}function Or(e,t){if(e===`click`)return vr(t)}function kr(e,t){if(e===`input`||e===`change`)return vr(t)}function Ar(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var jr=typeof Object.is==`function`?Object.is:Ar;function Mr(e,t){if(jr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Se.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function Nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pr(e,t){var n=Nr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Nr(n)}}function Fr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=It(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=It(e.document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Rr=sn&&`documentMode`in document&&11>=document.documentMode,zr=null,Br=null,Vr=null,Hr=!1;function Ur(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hr||zr==null||zr!==It(r)||(r=zr,`selectionStart`in r&&Lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Mr(Vr,r)||(Vr=r,r=kd(Br,`onSelect`),0<r.length&&(t=new yn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Gr={animationend:Wr(`Animation`,`AnimationEnd`),animationiteration:Wr(`Animation`,`AnimationIteration`),animationstart:Wr(`Animation`,`AnimationStart`),transitionrun:Wr(`Transition`,`TransitionRun`),transitionstart:Wr(`Transition`,`TransitionStart`),transitioncancel:Wr(`Transition`,`TransitionCancel`),transitionend:Wr(`Transition`,`TransitionEnd`)},Kr={},qr={};sn&&(qr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),`TransitionEvent`in window||delete Gr.transitionend.transition);function Jr(e){if(Kr[e])return Kr[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qr)return Kr[e]=t[n];return e}var Yr=Jr(`animationend`),Xr=Jr(`animationiteration`),Zr=Jr(`animationstart`),Qr=Jr(`transitionrun`),$r=Jr(`transitionstart`),ei=Jr(`transitioncancel`),ti=Jr(`transitionend`),ni=new Map,ri=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ri.push(`scrollEnd`);function ii(e,t){ni.set(e,t),_t(t,[e])}var ai=new WeakMap;function oi(e,t){if(typeof e==`object`&&e){var n=ai.get(e);return n===void 0?(t={value:e,source:t,stack:At(t)},ai.set(e,t),t):n}return{value:e,source:t,stack:At(t)}}var si=[],ci=0,li=0;function ui(){for(var e=ci,t=li=ci=0;t<e;){var n=si[t];si[t++]=null;var r=si[t];si[t++]=null;var i=si[t];si[t++]=null;var a=si[t];if(si[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&mi(n,i,a)}}function di(e,t,n,r){si[ci++]=e,si[ci++]=t,si[ci++]=n,si[ci++]=r,li|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function fi(e,t,n,r){return di(e,t,n,r),hi(e)}function pi(e,t){return di(e,null,null,t),hi(e)}function mi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-j(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function hi(e){if(50<pu)throw pu=0,mu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gi={};function _i(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,n,r){return new _i(e,t,n,r)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,t){var n=e.alternate;return n===null?(n=vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Si(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)yi(e)&&(s=1);else if(typeof e==`string`)s=Hf(e,n,ge.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ae:return e=vi(31,n,t,a),e.elementType=ae,e.lanes=o,e;case v:return Ci(n.children,a,o,t);case y:s=8,a|=24;break;case b:return e=vi(12,n,t,a|2),e.elementType=b,e.lanes=o,e;case te:return e=vi(13,n,t,a),e.elementType=te,e.lanes=o,e;case ne:return e=vi(19,n,t,a),e.elementType=ne,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case x:case C:s=10;break a;case S:s=9;break a;case ee:s=11;break a;case re:s=14;break a;case ie:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=vi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ci(e,t,n,r){return e=vi(7,e,r,t),e.lanes=n,e}function wi(e,t,n){return e=vi(6,e,null,t),e.lanes=n,e}function Ti(e,t,n){return t=vi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ei=[],Di=0,Oi=null,ki=0,Ai=[],ji=0,Mi=null,Ni=1,Pi=``;function Fi(e,t){Ei[Di++]=ki,Ei[Di++]=Oi,Oi=e,ki=t}function Ii(e,t,n){Ai[ji++]=Ni,Ai[ji++]=Pi,Ai[ji++]=Mi,Mi=e;var r=Ni;e=Pi;var i=32-j(r)-1;r&=~(1<<i),n+=1;var a=32-j(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ni=1<<32-j(t)+i|n<<i|r,Pi=a+e}else Ni=1<<a|n<<i|r,Pi=e}function Li(e){e.return!==null&&(Fi(e,1),Ii(e,1,0))}function Ri(e){for(;e===Oi;)Oi=Ei[--Di],Ei[Di]=null,ki=Ei[--Di],Ei[Di]=null;for(;e===Mi;)Mi=Ai[--ji],Ai[ji]=null,Pi=Ai[--ji],Ai[ji]=null,Ni=Ai[--ji],Ai[ji]=null}var zi=null,z=null,B=!1,Bi=null,Vi=!1,Hi=Error(i(519));function Ui(e){var t=Error(i(418,``));throw Yi(oi(t,e)),Hi}function Wi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[rt]=e,t[it]=r,n){case`dialog`:Z(`cancel`,t),Z(`close`,t);break;case`iframe`:case`object`:case`embed`:Z(`load`,t);break;case`video`:case`audio`:for(n=0;n<xd.length;n++)Z(xd[n],t);break;case`source`:Z(`error`,t);break;case`img`:case`image`:case`link`:Z(`error`,t),Z(`load`,t);break;case`details`:Z(`toggle`,t);break;case`input`:Z(`invalid`,t),Bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Pt(t);break;case`select`:Z(`invalid`,t);break;case`textarea`:Z(`invalid`,t),Ut(t,r.value,r.defaultValue,r.children),Pt(t)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Fd(t.textContent,n)?(r.popover!=null&&(Z(`beforetoggle`,t),Z(`toggle`,t)),r.onScroll!=null&&Z(`scroll`,t),r.onScrollEnd!=null&&Z(`scrollend`,t),r.onClick!=null&&(t.onclick=Id),t=!0):t=!1,t||Ui(e)}function Gi(e){for(zi=e.return;zi;)switch(zi.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:zi=zi.return}}function Ki(e){if(e!==zi)return!1;if(!B)return Gi(e),B=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Gd(e.type,e.memoizedProps)),n=!n),n&&z&&Ui(e),Gi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));a:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n===`/$`){if(t===0){z=cf(e.nextSibling);break a}t--}else n!==`$`&&n!==`$!`&&n!==`$?`||t++;e=e.nextSibling}z=null}}else t===27?(t=z,$d(e.type)?(e=lf,lf=null,z=e):z=t):z=zi?cf(e.stateNode.nextSibling):null;return!0}function qi(){z=zi=null,B=!1}function Ji(){var e=Bi;return e!==null&&(eu===null?eu=e:eu.push.apply(eu,e),Bi=null),e}function Yi(e){Bi===null?Bi=[e]:Bi.push(e)}var Xi=me(null),Zi=null,Qi=null;function $i(e,t,n){D(Xi,t._currentValue),t._currentValue=n}function ea(e){e._currentValue=Xi.current,he(Xi)}function ta(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function na(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ta(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ta(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ra(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;jr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ve.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Zf]:e.push(Zf))}a=a.return}e!==null&&na(t,e,n,r),t.flags|=262144}function ia(e){for(e=e.firstContext;e!==null;){if(!jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){Zi=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function oa(e){return ca(Zi,e)}function sa(e,t){return Zi===null&&aa(e),ca(e,t)}function ca(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qi===null){if(e===null)throw Error(i(308));Qi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qi=Qi.next=t;return n}var la=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ua=t.unstable_scheduleCallback,da=t.unstable_NormalPriority,fa={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pa(){return{controller:new la,data:new Map,refCount:0}}function ma(e){e.refCount--,e.refCount===0&&ua(da,function(){e.controller.abort()})}var ha=null,ga=0,_a=0,va=null;function ya(e,t){if(ha===null){var n=ha=[];ga=0,_a=pd(),va={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ga++,t.then(ba,ba),t}function ba(){if(--ga===0&&ha!==null){va!==null&&(va.status=`fulfilled`);var e=ha;ha=null,_a=0,va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Sa=T.S;T.S=function(e,t){typeof t==`object`&&t&&typeof t.then==`function`&&ya(e,t),Sa!==null&&Sa(e,t)};var Ca=me(null);function wa(){var e=Ca.current;return e===null?Vl.pooledCache:e}function Ta(e,t){t===null?D(Ca,Ca.current):D(Ca,t.pool)}function Ea(){var e=wa();return e===null?null:{parent:fa._currentValue,pool:e}}var Da=Error(i(460)),Oa=Error(i(474)),ka=Error(i(542)),Aa={then:function(){}};function ja(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ma(){}function Na(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ma,Ma),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ia(e),e;default:if(typeof t.status==`string`)t.then(Ma,Ma);else{if(e=Vl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ia(e),e}throw Pa=t,Da}}var Pa=null;function Fa(){if(Pa===null)throw Error(i(459));var e=Pa;return Pa=null,e}function Ia(e){if(e===Da||e===ka)throw Error(i(483))}var La=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function V(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=hi(e),mi(e,null,n),t}return di(e,r,t,n),hi(e)}function Va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ze(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ua=!1;function Wa(){if(Ua){var e=va;if(e!==null)throw e}}function Ga(e,t,n,r){Ua=!1;var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,m=f!==s.lane;if(m?(J&f)===f:(r&f)===f){f!==0&&f===_a&&(Ua=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,f);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h==`function`?h.call(_,d,f):h,f==null)break a;d=p({},d,f);break a;case 2:La=!0}}f=s.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Jl|=o,e.lanes=o,e.memoizedState=d}}function Ka(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function qa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ka(n[e],t)}var Ja=me(null),Ya=me(0);function Xa(e,t){e=Kl,D(Ya,e),D(Ja,t),Kl=e|t.baseLanes}function Za(){D(Ya,Kl),D(Ja,Ja.current)}function Qa(){Kl=Ya.current,he(Ja),he(Ya)}var $a=0,H=null,U=null,eo=null,to=!1,no=!1,ro=!1,io=0,ao=0,W=null,oo=0;function so(){throw Error(i(321))}function co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function lo(e,t,n,r,i,a){return $a=a,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?Os:ks,ro=!1,a=n(r,i),ro=!1,no&&(a=fo(t,n,r,i)),uo(e),a}function uo(e){T.H=Ds;var t=U!==null&&U.next!==null;if($a=0,eo=U=H=null,to=!1,ao=0,W=null,t)throw Error(i(300));e===null||uc||(e=e.dependencies,e!==null&&ia(e)&&(uc=!0))}function fo(e,t,n,r){H=e;var a=0;do{if(no&&(W=null),ao=0,no=!1,25<=a)throw Error(i(301));if(a+=1,eo=U=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}T.H=As,o=t(n,r)}while(no);return o}function po(){var e=T.H,t=e.useState()[0];return t=typeof t.then==`function`?bo(t):t,e=e.useState()[0],(U===null?null:U.memoizedState)!==e&&(H.flags|=1024),t}function mo(){var e=io!==0;return io=0,e}function ho(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function go(e){if(to){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}to=!1}$a=0,eo=U=H=null,no=!1,ao=io=0,W=null}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eo===null?H.memoizedState=eo=e:eo=eo.next=e,eo}function vo(){if(U===null){var e=H.alternate;e=e===null?null:e.memoizedState}else e=U.next;var t=eo===null?H.memoizedState:eo.next;if(t!==null)eo=t,U=e;else{if(e===null)throw H.alternate===null?Error(i(467)):Error(i(310));U=e,e={memoizedState:U.memoizedState,baseState:U.baseState,baseQueue:U.baseQueue,queue:U.queue,next:null},eo===null?H.memoizedState=eo=e:eo=eo.next=e}return eo}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var t=ao;return ao+=1,W===null&&(W=[]),e=Na(W,e,t),t=H,(eo===null?t.memoizedState:eo.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?Os:ks),e}function xo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return bo(e);if(e.$$typeof===C)return oa(e)}throw Error(i(438,String(e)))}function So(e){var t=null,n=H.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=H.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=yo(),H.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oe;return t.index++,n}function Co(e,t){return typeof t==`function`?t(e):t}function wo(e){var t=vo();return To(t,U,e)}function To(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?($a&f)===f:(J&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===_a&&(d=!0);else if(($a&p)===p){u=u.next,p===_a&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,H.lanes|=p,Jl|=p;f=u.action,ro&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,H.lanes|=f,Jl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!jr(o,e.memoizedState)&&(uc=!0,d&&(n=va,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Eo(e){var t=vo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);jr(o,t.memoizedState)||(uc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(e,t,n){var r=H,a=vo(),o=B;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!jr((U||a).memoizedState,n);s&&(a.memoizedState=n,uc=!0),a=a.queue;var c=Ao.bind(null,r,a,e);if(Zo(2048,8,c,[e]),a.getSnapshot!==t||s||eo!==null&&eo.memoizedState.tag&1){if(r.flags|=2048,qo(9,Jo(),ko.bind(null,r,a,n,t),null),Vl===null)throw Error(i(349));o||$a&124||Oo(r,t,n)}return n}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t=yo(),H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Ao(e,t,n){return n(function(){jo(t)&&Mo(e)})}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function Mo(e){var t=pi(e,2);t!==null&&_u(t,e,2)}function No(e){var t=_o();if(typeof e==`function`){var n=e;if(e=n(),ro){Le(!0);try{n()}finally{Le(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t}function Po(e,t,n,r){return e.baseState=n,To(e,U,typeof r==`function`?r:Co)}function Fo(e,t,n,r,a){if(ws(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};T.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Io(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Io(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,o={};T.T=o;try{var s=n(i,r),c=T.S;c!==null&&c(o,s),Lo(e,t,s)}catch(n){zo(e,t,n)}finally{T.T=a}}else try{a=n(i,r),Lo(e,t,a)}catch(n){zo(e,t,n)}}function Lo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Ro(e,t,n)},function(n){return zo(e,t,n)}):Ro(e,t,n)}function Ro(e,t,n){t.status=`fulfilled`,t.value=n,Bo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Io(e,n)))}function zo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Bo(t),t=t.next;while(t!==r)}e.action=null}function Bo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vo(e,t){return t}function Ho(e,t){if(B){var n=Vl.formState;if(n!==null){a:{var r=H;if(B){if(z){b:{for(var i=z,a=Vi;i.nodeType!==8;){if(!a){i=null;break b}if(i=cf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){z=cf(i.nextSibling),r=i.data===`F!`;break a}}Ui(r)}r=!1}r&&(t=n[0])}}return n=_o(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},n.queue=r,n=xs.bind(null,H,r),r.dispatch=n,r=No(!1),a=Cs.bind(null,H,!1,r.queue),r=_o(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Fo.bind(null,H,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Uo(e){var t=vo();return Wo(t,U,e)}function Wo(e,t,n){if(t=To(e,t,Vo)[0],e=wo(Co)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=bo(t)}catch(e){throw e===Da?ka:e}else r=t;t=vo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(H.flags|=2048,qo(9,Jo(),Go.bind(null,i,n),null)),[r,a,e]}function Go(e,t){e.action=t}function Ko(e){var t=vo(),n=U;if(n!==null)return Wo(t,n,e);vo(),t=t.memoizedState,n=vo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function qo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=H.updateQueue,t===null&&(t=yo(),H.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jo(){return{destroy:void 0,resource:void 0}}function Yo(){return vo().memoizedState}function Xo(e,t,n,r){var i=_o();r=r===void 0?null:r,H.flags|=e,i.memoizedState=qo(1|t,Jo(),n,r)}function Zo(e,t,n,r){var i=vo();r=r===void 0?null:r;var a=i.memoizedState.inst;U!==null&&r!==null&&co(r,U.memoizedState.deps)?i.memoizedState=qo(t,a,n,r):(H.flags|=e,i.memoizedState=qo(1|t,a,n,r))}function Qo(e,t){Xo(8390656,8,e,t)}function $o(e,t){Zo(2048,8,e,t)}function es(e,t){return Zo(4,2,e,t)}function ts(e,t){return Zo(4,4,e,t)}function ns(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rs(e,t,n){n=n==null?null:n.concat([e]),Zo(4,4,ns.bind(null,t,e),n)}function os(){}function ss(e,t){var n=vo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cs(e,t){var n=vo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&co(t,r[1]))return r[0];if(r=e(),ro){Le(!0);try{e()}finally{Le(!1)}}return n.memoizedState=[r,t],r}function ls(e,t,n){return n===void 0||$a&1073741824?e.memoizedState=t:(e.memoizedState=n,e=gu(),H.lanes|=e,Jl|=e,n)}function us(e,t,n,r){return jr(n,t)?n:Ja.current===null?$a&42?(e=gu(),H.lanes|=e,Jl|=e,t):(uc=!0,e.memoizedState=n):(e=ls(e,n,r),jr(e,t)||(uc=!0),e)}function ds(e,t,n,r,i){var a=E.p;E.p=a!==0&&8>a?a:8;var o=T.T,s={};T.T=s,Cs(e,!1,t,n);try{var c=i(),l=T.S;if(l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`){var u=xa(c,r);Ss(e,t,u,hu(e))}else Ss(e,t,r,hu(e))}catch(n){Ss(e,t,{then:function(){},status:`rejected`,reason:n},hu())}finally{E.p=a,T.T=o}}function fs(){}function ps(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=ms(e).queue;ds(e,a,t,de,n===null?fs:function(){return hs(e),n(r)})}function ms(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hs(e){var t=ms(e).next.queue;Ss(e,t,{},hu())}function gs(){return oa(Zf)}function _s(){return vo().memoizedState}function vs(){return vo().memoizedState}function ys(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hu();e=V(n);var r=Ba(t,e,n);r!==null&&(_u(r,t,n),Va(r,t,n)),t={cache:pa()},e.payload=t;return}t=t.return}}function bs(e,t,n){var r=hu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ws(e)?Ts(t,n):(n=fi(e,t,n,r),n!==null&&(_u(n,e,r),Es(n,t,r)))}function xs(e,t,n){var r=hu();Ss(e,t,n,r)}function Ss(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ws(e))Ts(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,jr(s,o))return di(e,t,i,0),Vl===null&&ui(),!1}catch{}if(n=fi(e,t,i,r),n!==null)return _u(n,e,r),Es(n,t,r),!0}return!1}function Cs(e,t,n,r){if(r={lane:2,revertLane:pd(),action:r,hasEagerState:!1,eagerState:null,next:null},ws(e)){if(t)throw Error(i(479))}else t=fi(e,n,r,2),t!==null&&_u(t,e,2)}function ws(e){var t=e.alternate;return e===H||t!==null&&t===H}function Ts(e,t){no=to=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Es(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ze(e,n)}}var Ds={readContext:oa,use:xo,useCallback:so,useContext:so,useEffect:so,useImperativeHandle:so,useLayoutEffect:so,useInsertionEffect:so,useMemo:so,useReducer:so,useRef:so,useState:so,useDebugValue:so,useDeferredValue:so,useTransition:so,useSyncExternalStore:so,useId:so,useHostTransitionStatus:so,useFormState:so,useActionState:so,useOptimistic:so,useMemoCache:so,useCacheRefresh:so},Os={readContext:oa,use:xo,useCallback:function(e,t){return _o().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:Qo,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),Xo(4194308,4,ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){Xo(4,2,e,t)},useMemo:function(e,t){var n=_o();t=t===void 0?null:t;var r=e();if(ro){Le(!0);try{e()}finally{Le(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=_o();if(n!==void 0){var i=n(t);if(ro){Le(!0);try{n(t)}finally{Le(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=bs.bind(null,H,e),[r.memoizedState,e]},useRef:function(e){var t=_o();return e={current:e},t.memoizedState=e},useState:function(e){e=No(e);var t=e.queue,n=xs.bind(null,H,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:os,useDeferredValue:function(e,t){var n=_o();return ls(n,e,t)},useTransition:function(){var e=No(!1);return e=ds.bind(null,H,e.queue,!0,!1),_o().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=H,a=_o();if(B){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Vl===null)throw Error(i(349));J&124||Oo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Qo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,qo(9,Jo(),ko.bind(null,r,o,n,t),null),n},useId:function(){var e=_o(),t=Vl.identifierPrefix;if(B){var n=Pi,r=Ni;n=(r&~(1<<32-j(r)-1)).toString(32)+n,t=`«`+t+`R`+n,n=io++,0<n&&(t+=`H`+n.toString(32)),t+=`»`}else n=oo++,t=`«`+t+`r`+n.toString(32)+`»`;return e.memoizedState=t},useHostTransitionStatus:gs,useFormState:Ho,useActionState:Ho,useOptimistic:function(e){var t=_o();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cs.bind(null,H,!0,n),n.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return _o().memoizedState=ys.bind(null,H)}},ks={readContext:oa,use:xo,useCallback:ss,useContext:oa,useEffect:$o,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:cs,useReducer:wo,useRef:Yo,useState:function(){return wo(Co)},useDebugValue:os,useDeferredValue:function(e,t){var n=vo();return us(n,U.memoizedState,e,t)},useTransition:function(){var e=wo(Co)[0],t=vo().memoizedState;return[typeof e==`boolean`?e:bo(e),t]},useSyncExternalStore:Do,useId:_s,useHostTransitionStatus:gs,useFormState:Uo,useActionState:Uo,useOptimistic:function(e,t){var n=vo();return Po(n,U,e,t)},useMemoCache:So,useCacheRefresh:vs},As={readContext:oa,use:xo,useCallback:ss,useContext:oa,useEffect:$o,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:cs,useReducer:Eo,useRef:Yo,useState:function(){return Eo(Co)},useDebugValue:os,useDeferredValue:function(e,t){var n=vo();return U===null?ls(n,e,t):us(n,U.memoizedState,e,t)},useTransition:function(){var e=Eo(Co)[0],t=vo().memoizedState;return[typeof e==`boolean`?e:bo(e),t]},useSyncExternalStore:Do,useId:_s,useHostTransitionStatus:gs,useFormState:Ko,useActionState:Ko,useOptimistic:function(e,t){var n=vo();return U===null?(n.baseState=e,[e,n.queue.dispatch]):Po(n,U,e,t)},useMemoCache:So,useCacheRefresh:vs},js=null,Ms=0;function Ns(e){var t=Ms;return Ms+=1,js===null&&(js=[]),Na(js,e,t)}function Ps(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Fs(e,t){throw t.$$typeof===h?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Is(e){var t=e._init;return t(e._payload)}function Ls(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=bi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=wi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===v?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ie&&Is(i)===t.type)?(t=a(t,n.props),Ps(t,n),t.return=e,t):(t=Si(n.type,n.key,n.props,null,e.mode,r),Ps(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ti(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Ci(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=wi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=Si(t.type,t.key,t.props,null,e.mode,n),Ps(n,t),n.return=e,n;case _:return t=Ti(t,e.mode,n),t.return=e,t;case ie:var r=t._init;return t=r(t._payload),f(e,t,n)}if(ue(t)||w(t))return t=Ci(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ns(t),n);if(t.$$typeof===C)return f(e,sa(e,t),n);Fs(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case ie:return i=n._init,n=i(n._payload),p(e,t,n,r)}if(ue(n)||w(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ns(n),r);if(n.$$typeof===C)return p(e,t,sa(e,n),r);Fs(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case _:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ie:var a=r._init;return r=a(r._payload),m(e,t,n,r,i)}if(ue(r)||w(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ns(r),i);if(r.$$typeof===C)return m(e,t,n,sa(t,r),i);Fs(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),B&&Fi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return B&&Fi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),B&&Fi(i,h),l}function y(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),B&&Fi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return B&&Fi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),B&&Fi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===v&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===v){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ie&&Is(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ps(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===v?(c=Ci(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Si(o.type,o.key,o.props,null,e.mode,c),Ps(c,o),c.return=e,e=c)}return s(e);case _:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ti(o,e.mode,c),c.return=e,e=c}return s(e);case ie:return l=o._init,o=l(o._payload),b(e,r,o,c)}if(ue(o))return h(e,r,o,c);if(w(o)){if(l=w(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),y(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ns(o),c);if(o.$$typeof===C)return b(e,r,sa(e,o),c);Fs(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=wi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ms=0;var i=b(e,t,n,r);return js=null,i}catch(t){if(t===Da||t===ka)throw t;var a=vi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Rs=Ls(!0),zs=Ls(!1),Bs=me(null),Vs=null;function Hs(e){var t=e.alternate;D(Ks,Ks.current&1),D(Bs,e),Vs===null&&(t===null||Ja.current!==null||t.memoizedState!==null)&&(Vs=e)}function Us(e){if(e.tag===22){if(D(Ks,Ks.current),D(Bs,e),Vs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Vs=e)}}else Ws(e)}function Ws(){D(Ks,Ks.current),D(Bs,Bs.current)}function Gs(e){he(Bs),Vs===e&&(Vs=null),he(Ks)}var Ks=me(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===`$?`||af(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Js(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ys={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=V(r);i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(_u(t,e,r),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=V(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(_u(t,e,r),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=V(n);r.tag=2,t!=null&&(r.callback=t),t=Ba(e,r,n),t!==null&&(_u(t,e,n),Va(t,e,n))}};function Xs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,a):!0}function Zs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function Qs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}var $s=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)};function ec(e){$s(e)}function tc(e){console.error(e)}function nc(e){$s(e)}function rc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ic(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ac(e,t,n){return n=V(n),n.tag=3,n.payload={element:null},n.callback=function(){rc(e,t)},n}function oc(e){return e=V(e),e.tag=3,e}function sc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ic(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){ic(t,n,r),typeof i!=`function`&&(au===null?au=new Set([this]):au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function cc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&ra(t,n,a,!0),n=Bs.current,n!==null){switch(n.tag){case 13:return Vs===null?Ou():n.alternate===null&&ql===0&&(ql=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Aa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),qu(e,r,a)),!1;case 22:return n.flags|=65536,r===Aa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),qu(e,r,a)),!1}throw Error(i(435,n.tag))}return qu(e,r,a),Ou(),!1}if(B)return t=Bs.current,t===null?(r!==Hi&&(t=Error(i(423),{cause:r}),Yi(oi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=oi(r,n),a=ac(e.stateNode,r,a),Ha(e,a),ql!==4&&(ql=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Hi&&(e=Error(i(422),{cause:r}),Yi(oi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=oi(o,n),$l===null?$l=[o]:$l.push(o),ql!==4&&(ql=2),t===null)return!0;r=oi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ac(n.stateNode,r,e),Ha(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(au===null||!au.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=oc(a),sc(a,e,n,r),Ha(n,a),!1}n=n.return}while(n!==null);return!1}var lc=Error(i(461)),uc=!1;function dc(e,t,n,r){t.child=e===null?zs(t,null,n,r):Rs(t,e.child,n,r)}function fc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return aa(t),r=lo(e,t,n,o,a,i),s=mo(),e!==null&&!uc?(ho(e,t,i),Mc(e,t,i)):(B&&s&&Li(t),t.flags|=1,dc(e,t,r,i),t.child)}function pc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!yi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,mc(e,t,a,r,i)):(e=Si(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Nc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Mr:n,n(o,r)&&e.ref===t.ref)return Mc(e,t,i)}return t.flags|=1,e=bi(a,r),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(uc=!1,t.pendingProps=r=a,Nc(e,i))e.flags&131072&&(uc=!0);else return t.lanes=e.lanes,Mc(e,t,i)}return vc(e,t,n,r,i)}function hc(e,t,n){var r=t.pendingProps,i=r.children,a=e===null?null:e.memoizedState;if(r.mode===`hidden`){if(t.flags&128){if(r=a===null?n:a.baseLanes|n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return gc(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ta(t,a===null?null:a.cachePool),a===null?Za():Xa(t,a),Us(t);else return t.lanes=t.childLanes=536870912,gc(e,t,a===null?n:a.baseLanes|n,n)}else a===null?(e!==null&&Ta(t,null),Za(),Ws(t)):(Ta(t,a.cachePool),Xa(t,a),Ws(t),t.memoizedState=null);return dc(e,t,i,n),t.child}function gc(e,t,n,r){var i=wa();return i=i===null?null:{parent:fa._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Ta(t,null),Za(),Us(t),e!==null&&ra(e,t,r,!0),null}function _c(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vc(e,t,n,r,i){return aa(t),n=lo(e,t,n,r,void 0,i),r=mo(),e!==null&&!uc?(ho(e,t,i),Mc(e,t,i)):(B&&r&&Li(t),t.flags|=1,dc(e,t,n,i),t.child)}function yc(e,t,n,r,i,a){return aa(t),t.updateQueue=null,n=fo(t,r,n,i),uo(e),r=mo(),e!==null&&!uc?(ho(e,t,a),Mc(e,t,a)):(B&&r&&Li(t),t.flags|=1,dc(e,t,n,a),t.child)}function bc(e,t,n,r,i){if(aa(t),t.stateNode===null){var a=gi,o=n.contextType;typeof o==`object`&&o&&(a=oa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ys,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ra(t),o=n.contextType,a.context=typeof o==`object`&&o?oa(o):gi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Js(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ys.enqueueReplaceState(a,a.state,null),Ga(t,r,a,i),Wa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Qs(n,s);a.props=c;var l=a.context,u=n.contextType;o=gi,typeof u==`object`&&u&&(o=oa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Zs(t,a,r,o),La=!1;var f=t.memoizedState;a.state=f,Ga(t,r,a,i),Wa(),l=t.memoizedState,s||f!==l||La?(typeof d==`function`&&(Js(t,n,d,r),l=t.memoizedState),(c=La||Xs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,za(e,t),o=t.memoizedProps,u=Qs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=gi,typeof l==`object`&&l&&(c=oa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Zs(t,a,r,c),La=!1,f=t.memoizedState,a.state=f,Ga(t,r,a,i),Wa();var p=t.memoizedState;o!==d||f!==p||La||e!==null&&e.dependencies!==null&&ia(e.dependencies)?(typeof s==`function`&&(Js(t,n,s,r),p=t.memoizedState),(u=La||Xs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ia(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,_c(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Rs(t,e.child,null,i),t.child=Rs(t,null,n,i)):dc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Mc(e,t,i),e}function xc(e,t,n,r){return qi(),t.flags|=256,dc(e,t,n,r),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:Ea()}}function wc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Zl),e}function Tc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(Ks.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(B){if(a?Hs(t):Ws(t),B){var c=z,l;if(l=c){c:{for(l=c,c=Vi;l.nodeType!==8;){if(!c){c=null;break c}if(l=cf(l.nextSibling),l===null){c=null;break c}}c=l}c===null?l=!1:(t.memoizedState={dehydrated:c,treeContext:Mi===null?null:{id:Ni,overflow:Pi},retryLane:536870912,hydrationErrors:null},l=vi(18,null,null,0),l.stateNode=c,l.return=t,t.child=l,zi=t,z=null,l=!0)}l||Ui(t)}if(c=t.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return af(c)?t.lanes=32:t.lanes=536870912,null;Gs(t)}return c=r.children,r=r.fallback,a?(Ws(t),a=t.mode,c=Dc({mode:`hidden`,children:c},a),r=Ci(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,a=t.child,a.memoizedState=Cc(n),a.childLanes=wc(e,s,n),t.memoizedState=Sc,r):(Hs(t),Ec(t,c))}if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Hs(t),t.flags&=-257,t=Oc(e,t,n)):t.memoizedState===null?(Ws(t),a=r.fallback,c=t.mode,r=Dc({mode:`visible`,children:r.children},c),a=Ci(a,c,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Rs(t,e.child,null,n),r=t.child,r.memoizedState=Cc(n),r.childLanes=wc(e,s,n),t.memoizedState=Sc,t=a):(Ws(t),t.child=e.child,t.flags|=128,t=null);else if(Hs(t),af(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Yi({value:r,source:null,stack:null}),t=Oc(e,t,n)}else if(uc||ra(e,t,n,!1),s=(n&e.childLanes)!==0,uc||s){if(s=Vl,s!==null&&(r=n&-n,r=r&42?1:Qe(r),r=(r&(s.suspendedLanes|n))===0?r:0,r!==0&&r!==l.retryLane))throw l.retryLane=r,pi(e,r),_u(s,e,r),lc;c.data===`$?`||Ou(),t=Oc(e,t,n)}else c.data===`$?`?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,z=cf(c.nextSibling),zi=t,B=!0,Bi=null,Vi=!1,e!==null&&(Ai[ji++]=Ni,Ai[ji++]=Pi,Ai[ji++]=Mi,Ni=e.id,Pi=e.overflow,Mi=t),t=Ec(t,r.children),t.flags|=4096);return t}return a?(Ws(t),a=r.fallback,c=t.mode,l=e.child,u=l.sibling,r=bi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(a=Ci(a,c,n,null),a.flags|=2):a=bi(u,a),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c===null?c=Cc(n):(l=c.cachePool,l===null?l=Ea():(u=fa._currentValue,l=l.parent===u?l:{parent:u,pool:u}),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=wc(e,s,n),t.memoizedState=Sc,r):(Hs(t),n=e.child,e=n.sibling,n=bi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ec(e,t){return t=Dc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Dc(e,t){return e=vi(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Oc(e,t,n){return Rs(t,e.child,null,n),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ta(e.return,t,n)}function Ac(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function jc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(dc(e,t,r.children,n),r=Ks.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(D(Ks,r),i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ac(t,!1,i,n,a);break;case`backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ac(t,!0,n,null,a);break;case`together`:Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=bi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ia(e))):!0}function Pc(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),$i(t,fa,e.memoizedState.cache),qi();break;case 27:case 5:be(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Hs(t),e=Mc(e,t,n),e===null?null:e.sibling):Tc(e,t,n):(Hs(t),t.flags|=128,null);Hs(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(ra(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return jc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),D(Ks,Ks.current),r)break;return null;case 22:case 23:return t.lanes=0,hc(e,t,n);case 24:$i(t,fa,e.memoizedState.cache)}return Mc(e,t,n)}function G(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)uc=!0;else{if(!Nc(e,n)&&!(t.flags&128))return uc=!1,Pc(e,t,n);uc=!!(e.flags&131072)}else uc=!1,B&&t.flags&1048576&&Ii(t,ki,t.index);switch(t.lanes=0,t.tag){case 16:a:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r==`function`)yi(r)?(e=Qs(r,e),t.tag=1,t=bc(null,t,r,e,n)):(t.tag=0,t=vc(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===ee){t.tag=11,t=fc(null,t,r,e,n);break a}else if(a===re){t.tag=14,t=pc(null,t,r,e,n);break a}}throw t=le(r)||r,Error(i(306,t,``))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Qs(r,t.pendingProps),bc(e,t,r,a,n);case 3:a:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,za(e,t),Ga(t,r,null,n);var s=t.memoizedState;if(r=s.cache,$i(t,fa,r),r!==o.cache&&na(t,[fa],n,!0),Wa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=xc(e,t,r,n);break a}else if(r!==a){a=oi(Error(i(424)),t),Yi(a),t=xc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(z=cf(e.firstChild),zi=t,B=!0,Bi=null,Vi=!0,n=zs(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(qi(),r===a){t=Mc(e,t,n);break a}dc(e,t,r,n)}t=t.child}return t;case 26:return _c(e,t),e===null?(n=Of(t.type,null,t.pendingProps,null))?t.memoizedState=n:B||(n=t.type,e=t.pendingProps,r=Hd(O.current).createElement(n),r[rt]=t,r[it]=e,Rd(r,n,e),F(r),t.stateNode=r):t.memoizedState=Of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&B&&(r=t.stateNode=df(t.type,t.pendingProps,O.current),zi=t,Vi=!0,a=z,$d(t.type)?(lf=a,z=cf(r.firstChild)):z=a),dc(e,t,t.pendingProps.children,n),_c(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&B&&((a=r=z)&&(r=nf(r,t.type,t.pendingProps,Vi),r===null?a=!1:(t.stateNode=r,zi=t,z=cf(r.firstChild),Vi=!1,a=!0)),a||Ui(t)),be(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Gd(a,o)?r=null:s!==null&&Gd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=lo(e,t,po,null,null,n),Zf._currentValue=a),_c(e,t),dc(e,t,r,n),t.child;case 6:return e===null&&B&&((e=n=z)&&(n=rf(n,t.pendingProps,Vi),n===null?e=!1:(t.stateNode=n,zi=t,z=null,e=!0)),e||Ui(t)),null;case 13:return Tc(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rs(t,null,r,n):dc(e,t,r,n),t.child;case 11:return fc(e,t,t.type,t.pendingProps,n);case 7:return dc(e,t,t.pendingProps,n),t.child;case 8:return dc(e,t,t.pendingProps.children,n),t.child;case 12:return dc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,$i(t,t.type,r.value),dc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,aa(t),a=oa(a),r=r(a),t.flags|=1,dc(e,t,r,n),t.child;case 14:return pc(e,t,t.type,t.pendingProps,n);case 15:return mc(e,t,t.type,t.pendingProps,n);case 19:return jc(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Dc(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=bi(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return hc(e,t,n);case 24:return aa(t),r=oa(fa),e===null?(a=wa(),a===null&&(a=Vl,o=pa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ra(t),$i(t,fa,a)):((e.lanes&n)!==0&&(za(e,t),Ga(t,null,null,n),Wa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,$i(t,fa,r),r!==a.cache&&na(t,[fa],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),$i(t,fa,r))),dc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Fc(e){e.flags|=4}function Ic(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Uf(t)){if(t=Bs.current,t!==null&&((J&4194048)===J?Vs!==null:(J&62914560)!==J&&!(J&536870912)||t!==Vs))throw Pa=Aa,Oa;e.flags|=8192}}function Lc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ke(),e.lanes|=t,Ql|=t)}function Rc(e,t){if(!B)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bc(e,t,n){var r=t.pendingProps;switch(Ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zc(t),null;case 1:return zc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ea(fa),k(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ki(t)?Fc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji())),zc(t),null;case 26:return n=t.memoizedState,e===null?(Fc(t),n===null?(zc(t),t.flags&=-16777217):(zc(t),Ic(t,n))):n?n===e.memoizedState?(zc(t),t.flags&=-16777217):(Fc(t),zc(t),Ic(t,n)):(e.memoizedProps!==r&&Fc(t),zc(t),t.flags&=-16777217),null;case 27:xe(t),n=O.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}e=ge.current,Ki(t)?Wi(t,e):(e=df(a,r,n),t.stateNode=e,Fc(t))}return zc(t),null;case 5:if(xe(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}if(e=ge.current,Ki(t))Wi(t,e);else{switch(a=Hd(O.current),e){case 1:e=a.createElementNS(`http://www.w3.org/2000/svg`,n);break;case 2:e=a.createElementNS(`http://www.w3.org/1998/Math/MathML`,n);break;default:switch(n){case`svg`:e=a.createElementNS(`http://www.w3.org/2000/svg`,n);break;case`math`:e=a.createElementNS(`http://www.w3.org/1998/Math/MathML`,n);break;case`script`:e=a.createElement(`div`),e.innerHTML=`<script><\/script>`,e=e.removeChild(e.firstChild);break;case`select`:e=typeof r.is==`string`?a.createElement(`select`,{is:r.is}):a.createElement(`select`),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is==`string`?a.createElement(n,{is:r.is}):a.createElement(n)}}e[rt]=t,e[it]=r;a:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break a;for(;a.sibling===null;){if(a.return===null||a.return===t)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;a:switch(Rd(e,n,r),n){case`button`:case`input`:case`select`:case`textarea`:e=!!r.autoFocus;break a;case`img`:e=!0;break a;default:e=!1}e&&Fc(t)}}return zc(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Fc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=O.current,Ki(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=zi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[rt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Fd(e.nodeValue,n)),e||Ui(t)}else e=Hd(e).createTextNode(r),e[rt]=t,t.stateNode=e}return zc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ki(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[rt]=t}else qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zc(t),a=!1}else a=Ji(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Gs(t),t):(Gs(t),null)}if(Gs(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Lc(t,t.updateQueue),zc(t),null;case 4:return k(),e===null&&Td(t.stateNode.containerInfo),zc(t),null;case 10:return ea(t.type),zc(t),null;case 19:if(he(Ks),a=t.memoizedState,a===null)return zc(t),null;if(r=(t.flags&128)!=0,o=a.rendering,o===null)if(r)Rc(a,!1);else{if(ql!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qs(e),o!==null){for(t.flags|=128,Rc(a,!1),e=o.updateQueue,t.updateQueue=e,Lc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xi(n,e),n=n.sibling;return D(Ks,Ks.current&1|2),t.child}e=e.sibling}a.tail!==null&&De()>ru&&(t.flags|=128,r=!0,Rc(a,!1),t.lanes=4194304)}else{if(!r)if(e=qs(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Lc(t,e),Rc(a,!0),a.tail===null&&a.tailMode===`hidden`&&!o.alternate&&!B)return zc(t),null}else 2*De()-a.renderingStartTime>ru&&n!==536870912&&(t.flags|=128,r=!0,Rc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e===null?t.child=o:e.sibling=o,a.last=o)}return a.tail===null?(zc(t),null):(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=De(),t.sibling=null,e=Ks.current,D(Ks,r?e&1|2:e&1),t);case 22:case 23:return Gs(t),Qa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(zc(t),t.subtreeFlags&6&&(t.flags|=8192)):zc(t),n=t.updateQueue,n!==null&&Lc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&he(Ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ea(fa),zc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Vc(e,t){switch(Ri(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(fa),k(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xe(t),null;case 13:if(Gs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(Ks),null;case 4:return k(),null;case 10:return ea(t.type),null;case 22:case 23:return Gs(t),Qa(),e!==null&&he(Ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ea(fa),null;case 25:return null;default:return null}}function Hc(e,t){switch(Ri(t),t.tag){case 3:ea(fa),k();break;case 26:case 27:case 5:xe(t);break;case 4:k();break;case 13:Gs(t);break;case 19:he(Ks);break;case 10:ea(t.type);break;case 22:case 23:Gs(t),Qa(),e!==null&&he(Ca);break;case 24:ea(fa)}}function Uc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Ku(t,t.return,e)}}function Wc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Ku(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Ku(t,t.return,e)}}function Gc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{qa(t,n)}catch(t){Ku(e,e.return,t)}}}function Kc(e,t,n){n.props=Qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ku(e,t,n)}}function qc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Ku(e,t,n)}}function Jc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Ku(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Ku(e,t,n)}else n.current=null}function Yc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Ku(e,e.return,t)}}function Xc(e,t,n){try{var r=e.stateNode;zd(r,e.type,n,t),r[it]=t}catch(t){Ku(e,e.return,t)}}function Zc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$d(e.type)||e.tag===4}function Qc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Zc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$d(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Id));else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Rd(t,r,n),t[rt]=e,t[it]=n}catch(t){Ku(e,e.return,t)}}var nl=!1,rl=!1,il=!1,al=typeof WeakSet==`function`?WeakSet:Set,ol=null;function sl(e,t){if(e=e.containerInfo,Bd=ap,e=Ir(e),Lr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},ap=!1,ol=t;ol!==null;)if(t=ol,e=t.child,t.subtreeFlags&1024&&e!==null)e.return=t,ol=e;else for(;ol!==null;){switch(t=ol,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Qs(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ku(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:tf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ol=e;break}ol=t.return}}function cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&Uc(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Ku(n,n.return,e)}else{var i=Qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ku(n,n.return,e)}}r&64&&Gc(n),r&512&&qc(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{qa(e,t)}catch(e){Ku(n,n.return,e)}}break;case 27:t===null&&r&4&&tl(n);case 26:case 5:Sl(e,n),t===null&&r&4&&Yc(n),r&512&&qc(n,n.return);break;case 12:Sl(e,n);break;case 13:Sl(e,n),r&4&&ml(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xu.bind(null,n),sf(e,n))));break;case 22:if(r=n.memoizedState!==null||nl,!r){t=t!==null&&t.memoizedState!==null||rl,i=nl;var a=rl;nl=r,(rl=t)&&!a?wl(e,n,(n.subtreeFlags&8772)!=0):Sl(e,n),nl=i,rl=a}break;case 30:break;default:Sl(e,n)}}function ll(e){var t=e.alternate;t!==null&&(e.alternate=null,ll(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ut(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;n!==null;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(Ie&&typeof Ie.onCommitFiberUnmount==`function`)try{Ie.onCommitFiberUnmount(Fe,n)}catch{}switch(n.tag){case 26:rl||Jc(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rl||Jc(n,t);var r=ul,i=dl;$d(n.type)&&(ul=n.stateNode,dl=!1),fl(e,t,n),ff(n.stateNode),ul=r,dl=i;break;case 5:rl||Jc(n,t);case 6:if(r=ul,i=dl,ul=null,fl(e,t,n),ul=r,dl=i,ul!==null)if(dl)try{(ul.nodeType===9?ul.body:ul.nodeName===`HTML`?ul.ownerDocument.body:ul).removeChild(n.stateNode)}catch(e){Ku(n,t,e)}else try{ul.removeChild(n.stateNode)}catch(e){Ku(n,t,e)}break;case 18:ul!==null&&(dl?(e=ul,ef(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),jp(e)):ef(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:rl||Wc(2,n,t),rl||Wc(4,n,t),fl(e,t,n);break;case 1:rl||(Jc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Kc(n,t,r)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:rl=(r=rl)||n.memoizedState!==null,fl(e,t,n),rl=r;break;default:fl(e,t,n)}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jp(e)}catch(e){Ku(t,t.return,e)}}function hl(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new al),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new al),t;default:throw Error(i(435,e.tag))}}function gl(e,t){var n=hl(e);t.forEach(function(t){var r=Zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if($d(c.type)){ul=c.stateNode,dl=!1;break a}break;case 5:ul=c.stateNode,dl=!1;break a;case 3:case 4:ul=c.stateNode.containerInfo,dl=!0;break a}c=c.return}if(ul===null)throw Error(i(160));pl(o,s,a),ul=null,dl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)yl(t,e),t=t.sibling}var vl=null;function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_l(t,e),bl(e),r&4&&(Wc(3,e,e.return),Uc(3,e),Wc(5,e,e.return));break;case 1:_l(t,e),bl(e),r&512&&(rl||n===null||Jc(n,n.return)),r&64&&nl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=vl;if(_l(t,e),bl(e),r&512&&(rl||n===null||Jc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[lt]||o[rt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Rd(o,r,n),o[rt]=e,F(o),r=o;break a;case`link`:var s=Bf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Rd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Bf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Rd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[rt]=e,F(o),r=o}e.stateNode=r}else Vf(a,e.type,e.stateNode);else e.stateNode=Ff(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Vf(a,e.type,e.stateNode):Ff(a,r,e.memoizedProps))}break;case 27:_l(t,e),bl(e),r&512&&(rl||n===null||Jc(n,n.return)),n!==null&&r&4&&Xc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_l(t,e),bl(e),r&512&&(rl||n===null||Jc(n,n.return)),e.flags&32){a=e.stateNode;try{Wt(a,``)}catch(t){Ku(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xc(e,a,n===null?a:n.memoizedProps)),r&1024&&(il=!0);break;case 6:if(_l(t,e),bl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Ku(e,e.return,t)}}break;case 3:if(zf=null,a=vl,vl=hf(t.containerInfo),_l(t,e),vl=a,bl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jp(t.containerInfo)}catch(t){Ku(e,e.return,t)}il&&(il=!1,xl(e));break;case 4:r=vl,vl=hf(e.stateNode.containerInfo),_l(t,e),bl(e),vl=r;break;case 12:_l(t,e),bl(e);break;case 13:_l(t,e),bl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nu=De()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=nl,d=rl;if(nl=u||a,rl=d||l,_l(t,e),rl=d,nl=u,bl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||nl||rl||Cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Ku(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Ku(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gl(e,n))));break;case 19:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 30:break;case 21:break;default:_l(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Zc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode,o=Qc(e);el(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Wt(s,``),n.flags&=-33);var c=Qc(e);el(e,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Qc(e);$c(e,u,l);break;default:throw Error(i(161))}}catch(t){Ku(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cl(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wc(4,t,t.return),Cl(t);break;case 1:Jc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Kc(t,t.return,n),Cl(t);break;case 27:ff(t.stateNode);case 26:case 5:Jc(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wl(i,a,n),Uc(4,a);break;case 1:if(wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Ku(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ka(c[i],s)}catch(e){Ku(r,r.return,e)}}n&&o&64&&Gc(a),qc(a,a.return);break;case 27:tl(a);case 26:case 5:wl(i,a,n),n&&r===null&&o&4&&Yc(a),qc(a,a.return);break;case 12:wl(i,a,n);break;case 13:wl(i,a,n),n&&o&4&&ml(i,a);break;case 22:a.memoizedState===null&&wl(i,a,n),qc(a,a.return);break;case 30:break;default:wl(i,a,n)}t=t.sibling}}function Tl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ma(n))}function El(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e))}function Dl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ol(e,t,n,r),t=t.sibling}function Ol(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,n,r),i&2048&&Uc(9,t);break;case 1:Dl(e,t,n,r);break;case 3:Dl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e)));break;case 12:if(i&2048){Dl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Ku(t,t.return,e)}}else Dl(e,t,n,r);break;case 13:Dl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Dl(e,t,n,r):(a._visibility|=2,kl(e,t,n,r,(t.subtreeFlags&10256)!=0)):a._visibility&2?Dl(e,t,n,r):Al(e,t),i&2048&&Tl(o,t);break;case 24:Dl(e,t,n,r),i&2048&&El(t.alternate,t);break;default:Dl(e,t,n,r)}}function kl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:kl(a,o,s,c,i),Uc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,kl(a,o,s,c,i)):u._visibility&2?kl(a,o,s,c,i):Al(a,o),i&&l&2048&&Tl(o.alternate,o);break;case 24:kl(a,o,s,c,i),i&&l&2048&&El(o.alternate,o);break;default:kl(a,o,s,c,i)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Al(n,r),i&2048&&Tl(r.alternate,r);break;case 24:Al(n,r),i&2048&&El(r.alternate,r);break;default:Al(n,r)}t=t.sibling}}var jl=8192;function Ml(e){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 26:Ml(e),e.flags&jl&&e.memoizedState!==null&&Gf(vl,e.memoizedState,e.memoizedProps);break;case 5:Ml(e);break;case 3:case 4:var t=vl;vl=hf(e.stateNode.containerInfo),Ml(e),vl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jl,jl=16777216,Ml(e),jl=t):Ml(e));break;default:Ml(e)}}function Pl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ol=r,Rl(r,e)}Pl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Wc(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):Fl(e);break;default:Fl(e)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ol=r,Rl(r,e)}Pl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wc(8,t,t.return),Ll(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function Rl(e,t){for(;ol!==null;){var n=ol;switch(n.tag){case 0:case 11:case 15:Wc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ma(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ol=r;else a:for(n=e;ol!==null;){r=ol;var i=r.sibling,a=r.return;if(ll(r),r===n){ol=null;break a}if(i!==null){i.return=a,ol=i;break a}ol=a}}}var zl={getCacheForType:function(e){var t=oa(fa),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Bl=typeof WeakMap==`function`?WeakMap:Map,K=0,Vl=null,q=null,J=0,Y=0,Hl=null,Ul=!1,Wl=!1,Gl=!1,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,Zl=0,Ql=0,$l=null,eu=null,tu=!1,nu=0,ru=1/0,iu=null,au=null,ou=0,su=null,cu=null,lu=0,uu=0,du=null,fu=null,pu=0,mu=null;function hu(){if(K&2&&J!==0)return J&-J;if(T.T!==null){var e=_a;return e===0?pd():e}return et()}function gu(){Zl===0&&(Zl=!(J&536870912)||B?Ge():536870912);var e=Bs.current;return e!==null&&(e.flags|=32),Zl}function _u(e,t,n){(e===Vl&&(Y===2||Y===9)||e.cancelPendingCommit!==null)&&(wu(e,0),xu(e,J,Zl,!1)),Je(e,n),(!(K&2)||e!==Vl)&&(e===Vl&&(!(K&2)&&(Yl|=n),ql===4&&xu(e,J,Zl,!1)),ad(e))}function vu(e,t,n){if(K&6)throw Error(i(327));var r=!n&&(t&124)==0&&(t&e.expiredLanes)===0||Ue(e,t),a=r?ju(e,t):ku(e,t,!0),o=r;do{if(a===0){Wl&&!r&&xu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!bu(n)){a=ku(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=$l;var l=c.current.memoizedState.isDehydrated;if(l&&(wu(c,s).flags|=256),s=ku(c,s,!1),s!==2){if(Gl&&!l){c.errorRecoveryDisabledLanes|=o,Yl|=o,a=4;break a}o=eu,eu=a,o!==null&&(eu===null?eu=o:eu.push.apply(eu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){wu(e,0),xu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:xu(r,t,Zl,!Ul);break a;case 2:eu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=nu+300-De(),10<a)){if(xu(r,t,Zl,!Ul),He(r,0,!0)!==0)break a;r.timeoutHandle=Jd(yu.bind(null,r,n,eu,iu,tu,t,Zl,Yl,Ql,Ul,o,2,-0,0),a);break a}yu(r,n,eu,iu,tu,t,Zl,Yl,Ql,Ul,o,0,-0,0)}}break}while(1);ad(e)}function yu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)==16785408)&&(Wf={stylesheets:null,count:0,unsuspend:$},Nl(t),d=Kf(),d!==null)){e.cancelPendingCommit=d(Ru.bind(null,e,t,a,n,r,i,o,s,c,u,1,f,p)),xu(e,a,o,!l);return}Ru(e,t,a,n,r,i,o,s,c)}function bu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t,n,r){t&=~Xl,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-j(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Xe(e,n,t)}function Su(){return K&6?!0:(od(0,!1),!1)}function Cu(){if(q!==null){if(Y===0)var e=q.return;else e=q,Qi=Zi=null,go(e),js=null,Ms=0,e=q;for(;e!==null;)Hc(e.alternate,e),e=e.return;q=null}}function wu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cu(),Vl=e,q=n=bi(e.current,null),J=t,Y=0,Hl=null,Ul=!1,Wl=Ue(e,t),Gl=!1,Ql=Zl=Xl=Yl=Jl=ql=0,eu=$l=null,tu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-j(r),a=1<<i;t|=e[i],r&=~a}return Kl=t,ui(),n}function Tu(e,t){H=null,T.H=Ds,t===Da||t===ka?(t=Fa(),Y=3):t===Oa?(t=Fa(),Y=4):Y=t===lc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Hl=t,q===null&&(ql=1,rc(e,oi(t,e.current)))}function Eu(){var e=T.H;return T.H=Ds,e===null?Ds:e}function Du(){var e=T.A;return T.A=zl,e}function Ou(){ql=4,Ul||(J&4194048)!==J&&Bs.current!==null||(Wl=!0),!(Jl&134217727)&&!(Yl&134217727)||Vl===null||xu(Vl,J,Zl,!1)}function ku(e,t,n){var r=K;K|=2;var i=Eu(),a=Du();(Vl!==e||J!==t)&&(iu=null,wu(e,t)),t=!1;var o=ql;a:do try{if(Y!==0&&q!==null){var s=q,c=Hl;switch(Y){case 8:Cu(),o=6;break a;case 3:case 2:case 9:case 6:Bs.current===null&&(t=!0);var l=Y;if(Y=0,Hl=null,Fu(e,s,c,l),n&&Wl){o=0;break a}break;default:l=Y,Y=0,Hl=null,Fu(e,s,c,l)}}Au(),o=ql;break}catch(t){Tu(e,t)}while(1);return t&&e.shellSuspendCounter++,Qi=Zi=null,K=r,T.H=i,T.A=a,q===null&&(Vl=null,J=0,ui()),o}function Au(){for(;q!==null;)Nu(q)}function ju(e,t){var n=K;K|=2;var r=Eu(),a=Du();Vl!==e||J!==t?(iu=null,ru=De()+500,wu(e,t)):Wl=Ue(e,t);a:do try{if(Y!==0&&q!==null){t=q;var o=Hl;b:switch(Y){case 1:Y=0,Hl=null,Fu(e,t,o,1);break;case 2:case 9:if(ja(o)){Y=0,Hl=null,Pu(t);break}t=function(){Y!==2&&Y!==9||Vl!==e||(Y=7),ad(e)},o.then(t,t);break a;case 3:Y=7;break a;case 4:Y=5;break a;case 7:ja(o)?(Y=0,Hl=null,Pu(t)):(Y=0,Hl=null,Fu(e,t,o,7));break;case 5:var s=null;switch(q.tag){case 26:s=q.memoizedState;case 5:case 27:var c=q;if(!s||Uf(s)){Y=0,Hl=null;var l=c.sibling;if(l!==null)q=l;else{var u=c.return;u===null?q=null:(q=u,Iu(u))}break b}}Y=0,Hl=null,Fu(e,t,o,5);break;case 6:Y=0,Hl=null,Fu(e,t,o,6);break;case 8:Cu(),ql=6;break a;default:throw Error(i(462))}}Mu();break}catch(t){Tu(e,t)}while(1);return Qi=Zi=null,T.H=r,T.A=a,K=n,q===null?(Vl=null,J=0,ui(),ql):0}function Mu(){for(;q!==null&&!Te();)Nu(q)}function Nu(e){var t=G(e.alternate,e,Kl);e.memoizedProps=e.pendingProps,t===null?Iu(e):q=t}function Pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=yc(n,t,t.pendingProps,t.type,void 0,J);break;case 11:t=yc(n,t,t.pendingProps,t.type.render,t.ref,J);break;case 5:go(t);default:Hc(n,t),t=q=xi(t,Kl),t=G(n,t,Kl)}e.memoizedProps=e.pendingProps,t===null?Iu(e):q=t}function Fu(e,t,n,r){Qi=Zi=null,go(t),js=null,Ms=0;var i=t.return;try{if(cc(e,i,t,n,J)){ql=1,rc(e,oi(n,e.current)),q=null;return}}catch(t){if(i!==null)throw q=i,t;ql=1,rc(e,oi(n,e.current)),q=null;return}t.flags&32768?(B||r===1?e=!0:Wl||J&536870912?e=!1:(Ul=e=!0,(r===2||r===9||r===3||r===6)&&(r=Bs.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lu(t,e)):Iu(t)}function Iu(e){var t=e;do{if(t.flags&32768){Lu(t,Ul);return}e=t.return;var n=Bc(t.alternate,t,Kl);if(n!==null){q=n;return}if(t=t.sibling,t!==null){q=t;return}q=t=e}while(t!==null);ql===0&&(ql=5)}function Lu(e,t){do{var n=Vc(e.alternate,e);if(n!==null){n.flags&=32767,q=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){q=e;return}q=e=n}while(e!==null);ql=6,q=null}function Ru(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Uu();while(ou!==0);if(K&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=li,Ye(e,n,o,s,c,l),e===Vl&&(q=Vl=null,J=0),cu=t,su=e,lu=n,uu=o,du=a,fu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qu(je,function(){return Wu(!0),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=T.T,T.T=null,a=E.p,E.p=2,s=K,K|=4;try{sl(e,t,n)}finally{K=s,E.p=a,T.T=r}}ou=1,zu(),Bu(),Vu()}}function zu(){if(ou===1){ou=0;var e=su,t=cu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=K;K|=4;try{yl(t,e);var a=Vd,o=Ir(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Fr(s.ownerDocument.documentElement,s)){if(c!==null&&Lr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Pr(s,h),v=Pr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ap=!!Bd,Vd=Bd=null}finally{K=i,E.p=r,T.T=n}}e.current=t,ou=2}}function Bu(){if(ou===2){ou=0;var e=su,t=cu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=K;K|=4;try{cl(e,t.alternate,t)}finally{K=i,E.p=r,T.T=n}}ou=3}}function Vu(){if(ou===4||ou===3){ou=0,Ee();var e=su,t=cu,n=lu,r=fu;t.subtreeFlags&10256||t.flags&10256?ou=5:(ou=0,cu=su=null,Hu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(au=null),$e(n),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot==`function`)try{Ie.onCommitFiberRoot(Fe,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=T.T,i=E.p,E.p=2,T.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{T.T=t,E.p=i}}lu&3&&Uu(),ad(e),i=e.pendingLanes,n&4194090&&i&42?e===mu?pu++:(pu=0,mu=e):pu=0,od(0,!1)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ma(t)))}function Uu(e){return zu(),Bu(),Vu(),Wu(e)}function Wu(){if(ou!==5)return!1;var e=su,t=uu;uu=0;var n=$e(lu),r=T.T,a=E.p;try{E.p=32>n?32:n,T.T=null,n=du,du=null;var o=su,s=lu;if(ou=0,cu=su=null,lu=0,K&6)throw Error(i(331));var c=K;if(K|=4,Il(o.current),Ol(o,o.current,s,n),K=c,od(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot==`function`)try{Ie.onPostCommitFiberRoot(Fe,o)}catch{}return!0}finally{E.p=a,T.T=r,Hu(e,t)}}function Gu(e,t,n){t=oi(n,t),t=ac(e.stateNode,t,2),e=Ba(e,t,2),e!==null&&(Je(e,2),ad(e))}function Ku(e,t,n){if(e.tag===3)Gu(e,e,n);else for(;t!==null;){if(t.tag===3){Gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(au===null||!au.has(r))){e=oi(n,e),n=oc(2),r=Ba(t,n,2),r!==null&&(sc(n,r,t,e),Je(r,2),ad(r));break}}t=t.return}}function qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Gl=!0,i.add(n),e=Ju.bind(null,e,t,n),t.then(e,e))}function Ju(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vl===e&&(J&n)===n&&(ql===4||ql===3&&(J&62914560)===J&&300>De()-nu?!(K&2)&&wu(e,0):Xl|=n,Ql===J&&(Ql=0)),ad(e)}function Yu(e,t){t===0&&(t=Ke()),e=pi(e,t),e!==null&&(Je(e,t),ad(e))}function Xu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yu(e,n)}function Zu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Yu(e,n)}function Qu(e,t){return Ce(e,t)}var $u=null,ed=null,td=!1,nd=!1,rd=!1,id=0;function ad(e){e!==ed&&e.next===null&&(ed===null?$u=ed=e:ed=ed.next=e),nd=!0,td||(td=!0,fd())}function od(e,t){if(!rd&&nd){rd=!0;do for(var n=!1,r=$u;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-j(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,dd(r,a))}else a=J,a=He(r,r===Vl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ue(r,a)||(n=!0,dd(r,a));r=r.next}while(n);rd=!1}}function sd(){cd()}function cd(){nd=td=!1;var e=0;id!==0&&(qd()&&(e=id),id=0);for(var t=De(),n=null,r=$u;r!==null;){var i=r.next,a=ld(r,t);a===0?(r.next=null,n===null?$u=i:n.next=i,i===null&&(ed=n)):(n=r,(e!==0||a&3)&&(nd=!0)),r=i}od(e,!1)}function ld(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-j(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=We(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Vl,n=J,n=He(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Y===2||Y===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&we(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ue(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&we(r),$e(n)){case 2:case 8:n=Ae;break;case 32:n=je;break;case 268435456:n=Me;break;default:n=je}return r=ud.bind(null,e),n=Ce(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&we(r),e.callbackPriority=2,e.callbackNode=null,2}function ud(e,t){if(ou!==0&&ou!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu(!0)&&e.callbackNode!==n)return null;var r=J;return r=He(e,e===Vl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vu(e,r,t),ld(e,De()),e.callbackNode!=null&&e.callbackNode===n?ud.bind(null,e):null)}function dd(e,t){if(Uu())return null;vu(e,t,!0)}function fd(){Zd(function(){K&6?Ce(ke,sd):cd()})}function pd(){return id===0&&(id=Ge()),id}function md(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Zt(``+e)}function hd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=md((i[it]||null).action),o=r.submitter;o&&(t=(t=o[it]||null)?md(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new yn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(id!==0){var e=o?hd(i,o):new FormData(i);ps(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?hd(i,o):new FormData(i),ps(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var _d=0;_d<ri.length;_d++){var vd=ri[_d],yd=vd.toLowerCase(),bd=vd[0].toUpperCase()+vd.slice(1);ii(yd,`on`+bd)}ii(Yr,`onAnimationEnd`),ii(Xr,`onAnimationIteration`),ii(Zr,`onAnimationStart`),ii(`dblclick`,`onDoubleClick`),ii(`focusin`,`onFocus`),ii(`focusout`,`onBlur`),ii(Qr,`onTransitionRun`),ii($r,`onTransitionStart`),ii(ei,`onTransitionCancel`),ii(ti,`onTransitionEnd`),vt(`onMouseEnter`,[`mouseout`,`mouseover`]),vt(`onMouseLeave`,[`mouseout`,`mouseover`]),vt(`onPointerEnter`,[`pointerout`,`pointerover`]),vt(`onPointerLeave`,[`pointerout`,`pointerover`]),_t(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),_t(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),_t(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),_t(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),_t(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),_t(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var xd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),X=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(xd));function Sd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$s(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$s(e)}i.currentTarget=null,a=c}}}}function Z(e,t){var n=t[ot];n===void 0&&(n=t[ot]=new Set);var r=e+`__bubble`;n.has(r)||(Ed(t,e,2,!1),n.add(r))}function Cd(e,t,n){var r=0;t&&(r|=4),Ed(n,e,r,t)}var wd=`_reactListening`+Math.random().toString(36).slice(2);function Td(e){if(!e[wd]){e[wd]=!0,ht.forEach(function(t){t!==`selectionchange`&&(X.has(t)||Cd(t,!1,e),Cd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wd]||(t[wd]=!0,Cd(`selectionchange`,!1,t))}}function Ed(e,t,n,r){switch(fp(t)){case 2:var i=op;break;case 8:i=sp;break;default:i=cp}n=i.bind(null,t,n,e),i=void 0,!cn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Dd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=dt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}an(function(){var r=a,i=$t(n),s=[];a:{var c=ni.get(e);if(c!==void 0){var l=yn,u=e;switch(e){case`keypress`:if(mn(n)===0)break a;case`keydown`:case`keyup`:l=Un;break;case`focusin`:u=`focus`,l=An;break;case`focusout`:u=`blur`,l=An;break;case`beforeblur`:case`afterblur`:l=An;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=En;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=On;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=qn;break;case Yr:case Xr:case Zr:l=Mn;break;case ti:l=Yn;break;case`scroll`:case`scrollend`:l=xn;break;case`wheel`:l=Zn;break;case`copy`:case`cut`:case`paste`:l=Pn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Gn;break;case`toggle`:case`beforetoggle`:l=$n}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=on(m,p),g!=null&&d.push(Od(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Qt&&(u=n.relatedTarget||n.fromElement)&&(dt(u)||u[at]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?dt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=En,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Gn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:pt(l),h=u==null?c:pt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,dt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=l,p=u,m=0,h=d;h;h=Ad(h))m++;for(h=0,g=p;g;g=Ad(g))h++;for(;0<m-h;)d=Ad(d),m--;for(;0<h-m;)p=Ad(p),h--;for(;m--;){if(d===p||p!==null&&d===p.alternate)break b;d=Ad(d),p=Ad(p)}d=null}else d=null;l!==null&&jd(s,c,l,d,!1),u!==null&&f!==null&&jd(s,f,u,d,!0)}}a:{if(c=r?pt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var _=yr;else if(pr(c))if(br)_=kr;else{_=Dr;var v=Er}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Jt(r.elementType)&&(_=yr):_=Or;if(_&&=_(e,r)){mr(s,_,n,i);break a}v&&v(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Vt(c,`number`,c.value)}switch(v=r?pt(r):window,e){case`focusin`:(pr(v)||v.contentEditable===`true`)&&(zr=v,Br=r,Vr=null);break;case`focusout`:Vr=Br=zr=null;break;case`mousedown`:Hr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Hr=!1,Ur(s,n,i);break;case`selectionchange`:if(Rr)break;case`keydown`:case`keyup`:Ur(s,n,i)}var y;if(tr)b:{switch(e){case`compositionstart`:var b=`onCompositionStart`;break b;case`compositionend`:b=`onCompositionEnd`;break b;case`compositionupdate`:b=`onCompositionUpdate`;break b}b=void 0}else lr?sr(e,n)&&(b=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(b=`onCompositionStart`);b&&(ir&&n.locale!==`ko`&&(lr||b!==`onCompositionStart`?b===`onCompositionEnd`&&lr&&(y=pn()):(un=i,dn=`value`in un?un.value:un.textContent,lr=!0)),v=kd(r,b),0<v.length&&(b=new In(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:(y=cr(n),y!==null&&(b.data=y)))),(y=rr?ur(e,n):dr(e,n))&&(b=kd(r,`onBeforeInput`),0<b.length&&(v=new In(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:v,listeners:b}),v.data=y)),gd(s,e,r,n,i)}Sd(s,t)})}function Od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=on(e,n),i!=null&&r.unshift(Od(e,i,a)),i=on(e,t),i!=null&&r.push(Od(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Ad(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=on(n,a),l!=null&&o.unshift(Od(n,l,c))):i||(l=on(n,a),l!=null&&o.push(Od(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Md=/\r\n?/g,Nd=/\u0000|\uFFFD/g;function Pd(e){return(typeof e==`string`?e:``+e).replace(Md,`
`).replace(Nd,``)}function Fd(e,t){return t=Pd(t),Pd(e)===t}function Id(){}function Q(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Wt(e,``+r);break;case`className`:wt(e,`class`,r);break;case`tabIndex`:wt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:wt(e,n,r);break;case`style`:qt(e,r,o);break;case`data`:if(t!==`object`){wt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Q(e,t,`name`,a.name,a,null),Q(e,t,`formEncType`,a.formEncType,a,null),Q(e,t,`formMethod`,a.formMethod,a,null),Q(e,t,`formTarget`,a.formTarget,a,null)):(Q(e,t,`encType`,a.encType,a,null),Q(e,t,`method`,a.method,a,null),Q(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Id);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Zt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Z(`beforetoggle`,e),Z(`toggle`,e),Ct(e,`popover`,r);break;case`xlinkActuate`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Tt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Tt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Tt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Tt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Ct(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Yt.get(n)||n,Ct(e,n,r))}}function Ld(e,t,n,r,a,o){switch(n){case`style`:qt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Wt(e,``+r);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Id);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!gt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[it]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Ct(e,n,r)}}}function Rd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Z(`error`,e),Z(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Q(e,t,o,s,n,null)}}a&&Q(e,t,`srcSet`,n.srcSet,n,null),r&&Q(e,t,`src`,n.src,n,null);return;case`input`:Z(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Q(e,t,r,d,n,null)}}Bt(e,o,c,l,u,s,a,!1),Pt(e);return;case`select`:for(a in Z(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Q(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&R(e,!!r,n,!0):R(e,!!r,t,!1);return;case`textarea`:for(s in Z(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Q(e,t,s,c,n,null)}Ut(e,r,a,o),Pt(e);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Q(e,t,l,r,n,null)}return;case`dialog`:Z(`beforetoggle`,e),Z(`toggle`,e),Z(`cancel`,e),Z(`close`,e);break;case`iframe`:case`object`:Z(`load`,e);break;case`video`:case`audio`:for(r=0;r<xd.length;r++)Z(xd[r],e);break;case`image`:Z(`error`,e),Z(`load`,e);break;case`details`:Z(`toggle`,e);break;case`embed`:case`source`:case`link`:Z(`error`,e),Z(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Q(e,t,u,r,n,null)}return;default:if(Jt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Ld(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Q(e,t,c,r,n,null))}function zd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Q(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Q(e,t,p,m,r,f)}}zt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Q(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Q(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?R(e,!!n,n?[]:``,!1):R(e,!!n,t,!0)):R(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Q(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Q(e,t,s,a,r,o)}Ht(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Q(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Q(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Q(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Q(e,t,u,p,r,m)}return;default:if(Jt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Ld(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Ld(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Q(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Q(e,t,f,p,r,m)}var Bd=null,Vd=null;function Hd(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Gd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function qd(){var e=window.event;return e&&e.type===`popstate`?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Jd=typeof setTimeout==`function`?setTimeout:void 0,Yd=typeof clearTimeout==`function`?clearTimeout:void 0,Xd=typeof Promise==`function`?Promise:void 0,Zd=typeof queueMicrotask==`function`?queueMicrotask:Xd===void 0?Jd:function(e){return Xd.resolve(null).then(e).catch(Qd)};function Qd(e){setTimeout(function(){throw e})}function $d(e){return e===`head`}function ef(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n===`/$`){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&ff(o.documentElement),n&2&&ff(o.body),n&4)for(n=o.head,ff(n),o=n.firstChild;o;){var s=o.nextSibling,c=o.nodeName;o[lt]||c===`SCRIPT`||c===`STYLE`||c===`LINK`&&o.rel.toLowerCase()===`stylesheet`||n.removeChild(o),o=s}}if(i===0){e.removeChild(a),jp(t);return}i--}else n===`$`||n===`$?`||n===`$!`?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);jp(t)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:tf(n),ut(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function nf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[lt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=cf(e.nextSibling),e===null)break}return null}function rf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=cf(e.nextSibling),e===null))return null;return e}function af(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState===`complete`}function sf(e,t){var n=e.ownerDocument;if(e.data!==`$?`||n.readyState===`complete`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`F!`||t===`F`)break;if(t===`/$`)return null}}return e}var lf=null;function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`){if(t===0)return e;t--}else n===`/$`&&t++}e=e.previousSibling}return null}function df(e,t,n){switch(t=Hd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ff(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ut(e)}var pf=new Map,mf=new Set;function hf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gf=E.d;E.d={f:_f,r:vf,D:xf,C:Sf,L:Cf,m:wf,X:Ef,S:Tf,M:Df};function _f(){var e=gf.f(),t=Su();return e||t}function vf(e){var t=ft(e);t!==null&&t.tag===5&&t.type===`form`?hs(t):gf.r(e)}var yf=typeof document>`u`?null:document;function bf(e,t,n){var r=yf;if(r&&typeof t==`string`&&t){var i=Rt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),mf.has(i)||(mf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Rd(t,`link`,e),F(t),r.head.appendChild(t)))}}function xf(e){gf.D(e),bf(`dns-prefetch`,e,null)}function Sf(e,t){gf.C(e,t),bf(`preconnect`,e,t)}function Cf(e,t,n){gf.L(e,t,n);var r=yf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Rt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Rt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Rt(n.imageSizes)+`"]`)):i+=`[href="`+Rt(e)+`"]`;var a=i;switch(t){case`style`:a=kf(e);break;case`script`:a=Nf(e)}pf.has(a)||(e=p({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),pf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Af(a))||t===`script`&&r.querySelector(Pf(a))||(t=r.createElement(`link`),Rd(t,`link`,e),F(t),r.head.appendChild(t)))}}function wf(e,t){gf.m(e,t);var n=yf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Rt(r)+`"][href="`+Rt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Nf(e)}if(!pf.has(a)&&(e=p({rel:`modulepreload`,href:e},t),pf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Pf(a)))return}r=n.createElement(`link`),Rd(r,`link`,e),F(r),n.head.appendChild(r)}}}function Tf(e,t,n){gf.S(e,t,n);var r=yf;if(r&&e){var i=mt(r).hoistableStyles,a=kf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Af(a)))s.loading=5;else{e=p({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=pf.get(a))&&Lf(e,n);var c=o=r.createElement(`link`);F(c),Rd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,If(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Ef(e,t){gf.X(e,t);var n=yf;if(n&&e){var r=mt(n).hoistableScripts,i=Nf(e),a=r.get(i);a||(a=n.querySelector(Pf(i)),a||(e=p({src:e,async:!0},t),(t=pf.get(i))&&Rf(e,t),a=n.createElement(`script`),F(a),Rd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Df(e,t){gf.M(e,t);var n=yf;if(n&&e){var r=mt(n).hoistableScripts,i=Nf(e),a=r.get(i);a||(a=n.querySelector(Pf(i)),a||(e=p({src:e,async:!0,type:`module`},t),(t=pf.get(i))&&Rf(e,t),a=n.createElement(`script`),F(a),Rd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t,n,r){var a=(a=O.current)?hf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=kf(n.href),n=mt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=kf(n.href);var o=mt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Af(e)))&&!o._p&&(s.instance=o,s.state.loading=5),pf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pf.set(e,n),o||Mf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Nf(n),n=mt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function kf(e){return`href="`+Rt(e)+`"`}function Af(e){return`link[rel="stylesheet"][`+e+`]`}function jf(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Mf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Rd(t,`link`,n),F(t),e.head.appendChild(t))}function Nf(e){return`[src="`+Rt(e)+`"]`}function Pf(e){return`script[async]`+e}function Ff(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Rt(n.href)+`"]`);if(r)return t.instance=r,F(r),r;var a=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),F(r),Rd(r,`style`,a),If(r,n.precedence,e),t.instance=r;case`stylesheet`:a=kf(n.href);var o=e.querySelector(Af(a));if(o)return t.state.loading|=4,t.instance=o,F(o),o;r=jf(n),(a=pf.get(a))&&Lf(r,a),o=(e.ownerDocument||e).createElement(`link`),F(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Rd(o,`link`,r),t.state.loading|=4,If(o,n.precedence,e),t.instance=o;case`script`:return o=Nf(n.src),(a=e.querySelector(Pf(o)))?(t.instance=a,F(a),a):(r=n,(a=pf.get(o))&&(r=p({},n),Rf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),F(a),Rd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,If(r,n.precedence,e));return t.instance}function If(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Lf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var zf=null;function Bf(e,t,n){if(zf===null){var r=new Map,i=zf=new Map;i.set(n,r)}else i=zf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[lt]||a[rt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Vf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Hf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Uf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}var Wf=null;function $(){}function Gf(e,t,n){if(Wf===null)throw Error(i(475));var r=Wf;if(t.type===`stylesheet`&&(typeof n.media!=`string`||!1!==matchMedia(n.media).matches)&&!(t.state.loading&4)){if(t.instance===null){var a=kf(n.href),o=e.querySelector(Af(a));if(o){e=o._p,typeof e==`object`&&e&&typeof e.then==`function`&&(r.count++,r=qf.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,F(o);return}o=e.ownerDocument||e,n=jf(n),(a=pf.get(a))&&Lf(n,a),o=o.createElement(`link`),F(o);var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Rd(o,`link`,n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=qf.bind(r),e.addEventListener(`load`,t),e.addEventListener(`error`,t))}}function Kf(){if(Wf===null)throw Error(i(475));var e=Wf;return e.stylesheets&&e.count===0&&Yf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function qf(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jf=null;function Yf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jf=new Map,t.forEach(Xf,e),Jf=null,qf.call(e))}function Xf(e,t){if(!(t.state.loading&4)){var n=Jf.get(e);if(n)var r=n.get(null);else{n=new Map,Jf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=qf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Zf={$$typeof:C,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Qf(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $f(e,t,n,r,i,a,o,s,c,l,u,d){return e=new Qf(e,t,n,o,s,c,l,d),t=1,!0===a&&(t|=24),a=vi(3,null,null,t),e.current=a,a.stateNode=e,t=pa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ra(a),e}function ep(e){return e?(e=gi,e):gi}function tp(e,t,n,r,i,a){i=ep(i),r.context===null?r.context=i:r.pendingContext=i,r=V(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ba(e,r,t),n!==null&&(_u(n,e,t),Va(n,e,t))}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rp(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function ip(e){if(e.tag===13){var t=pi(e,67108864);t!==null&&_u(t,e,67108864),rp(e,67108864)}}var ap=!0;function op(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=2,cp(e,t,n,r)}finally{E.p=a,T.T=i}}function sp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=8,cp(e,t,n,r)}finally{E.p=a,T.T=i}}function cp(e,t,n,r){if(ap){var i=lp(r);if(i===null)Dd(e,t,r,up,n),xp(e,r);else if(Cp(i,e,t,n,r))r.stopPropagation();else if(xp(e,r),t&4&&-1<bp.indexOf(e)){for(;i!==null;){var a=ft(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=N(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-j(o);s.entanglements[1]|=c,o&=~c}ad(a),!(K&6)&&(ru=De()+500,od(0,!1))}}break;case 13:s=pi(a,2),s!==null&&_u(s,a,2),Su(),rp(a,2)}if(a=lp(r),a===null&&Dd(e,t,r,up,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Dd(e,t,r,null,n)}}function lp(e){return e=$t(e),dp(e)}var up=null;function dp(e){if(up=null,e=dt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return up=e,null}function fp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Oe()){case ke:return 2;case Ae:return 8;case je:case A:return 32;case Me:return 268435456;default:return 32}default:return 32}}var pp=!1,mp=null,hp=null,gp=null,_p=new Map,vp=new Map,yp=[],bp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function xp(e,t){switch(e){case`focusin`:case`focusout`:mp=null;break;case`dragenter`:case`dragleave`:hp=null;break;case`mouseover`:case`mouseout`:gp=null;break;case`pointerover`:case`pointerout`:_p.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:vp.delete(t.pointerId)}}function Sp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ft(t),t!==null&&ip(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Cp(e,t,n,r,i){switch(t){case`focusin`:return mp=Sp(mp,e,t,n,r,i),!0;case`dragenter`:return hp=Sp(hp,e,t,n,r,i),!0;case`mouseover`:return gp=Sp(gp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return _p.set(a,Sp(_p.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,vp.set(a,Sp(vp.get(a)||null,e,t,n,r,i)),!0}return!1}function wp(e){var t=dt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,tt(e.priority,function(){if(n.tag===13){var e=hu();e=Qe(e);var t=pi(n,e);t!==null&&_u(t,n,e),rp(n,e)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qt=r,n.target.dispatchEvent(r),Qt=null}else return t=ft(n),t!==null&&ip(t),e.blockedOn=n,!1;t.shift()}return!0}function Ep(e,t,n){Tp(e)&&n.delete(t)}function Dp(){pp=!1,mp!==null&&Tp(mp)&&(mp=null),hp!==null&&Tp(hp)&&(hp=null),gp!==null&&Tp(gp)&&(gp=null),_p.forEach(Ep),vp.forEach(Ep)}function Op(e,n){e.blockedOn===n&&(e.blockedOn=null,pp||(pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Dp)))}var kp=null;function Ap(e){kp!==e&&(kp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kp===e&&(kp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(dp(r||n)===null)continue;break}var a=ft(n);a!==null&&(e.splice(t,3),t-=3,ps(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function jp(e){function t(t){return Op(t,e)}mp!==null&&Op(mp,e),hp!==null&&Op(hp,e),gp!==null&&Op(gp,e),_p.forEach(t),vp.forEach(t);for(var n=0;n<yp.length;n++){var r=yp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yp.length&&(n=yp[0],n.blockedOn===null);)wp(n),n.blockedOn===null&&yp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[it]||null;if(typeof a==`function`)o||Ap(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[it]||null)s=o.formAction;else if(dp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Ap(n)}}}function Mp(e){this._internalRoot=e}Np.prototype.render=Mp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=hu();tp(n,r,e,t,null,null)},Np.prototype.unmount=Mp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tp(e.current,2,null,e,null,null),Su(),t[at]=null}};function Np(e){this._internalRoot=e}Np.prototype.unstable_scheduleHydration=function(e){if(e){var t=et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yp.length&&t!==0&&t<yp[n].priority;n++);yp.splice(n,0,e),n===0&&wp(e)}};var Pp=n.version;if(Pp!==`19.1.1`)throw Error(i(527,Pp,`19.1.1`));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=l(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Fp={bundleType:0,version:`19.1.1`,rendererPackageName:`react-dom`,currentDispatcherRef:T,reconcilerVersion:`19.1.1`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Fe=Ip.inject(Fp),Ie=Ip}catch{}}exports.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=ec,s=tc,c=nc,l=null;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=$f(e,1,!1,null,null,n,r,o,s,c,l,null),e[at]=t.current,Td(e),new Mp(t)}})),g=c(o(((exports,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))()),_=c(u(),1),v=c(o(((exports,t)=>{(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).Dexie=r()})(exports,function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||arguments.length===2)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r||=Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:global,i=Object.keys,a=Array.isArray;function o(e,t){return typeof t!=`object`||i(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>`u`||r.Promise||(r.Promise=Promise);var s=Object.getPrototypeOf,c={}.hasOwnProperty;function l(e,t){return c.call(e,t)}function u(e,t){typeof t==`function`&&(t=t(s(e))),(typeof Reflect>`u`?i:Reflect.ownKeys)(t).forEach(function(n){f(e,n,t[n])})}var d=Object.defineProperty;function f(e,t,n,r){d(e,t,o(n&&l(n,`get`)&&typeof n.get==`function`?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,`constructor`,e),{extend:u.bind(null,e.prototype)}}}}var m=Object.getOwnPropertyDescriptor,h=[].slice;function g(e,t,n){return h.call(e,t,n)}function _(e,t){return t(e)}function v(e){if(!e)throw Error(`Assertion Failed`)}function y(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function b(e,t){if(typeof t==`string`&&l(e,t))return e[t];if(!t)return e;if(typeof t!=`string`){for(var n=[],r=0,i=t.length;r<i;++r){var a=b(e,t[r]);n.push(a)}return n}var o=t.indexOf(`.`);if(o!==-1){var s=e[t.substr(0,o)];return s==null?void 0:b(s,t.substr(o+1))}}function x(e,t,n){if(e&&t!==void 0&&!(`isFrozen`in Object&&Object.isFrozen(e)))if(typeof t!=`string`&&`length`in t){v(typeof n!=`string`&&`length`in n);for(var r=0,i=t.length;r<i;++r)x(e,t[r],n[r])}else{var o,s,c=t.indexOf(`.`);c===-1?n===void 0?a(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n:(o=t.substr(0,c),(s=t.substr(c+1))===``?n===void 0?a(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n:x(c=!(c=e[o])||!l(e,o)?e[o]={}:c,s,n))}}function S(e){var t,n={};for(t in e)l(e,t)&&(n[t]=e[t]);return n}var C=[].concat;function ee(e){return C.apply([],e)}var te=`BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey`.split(`,`).concat(ee([8,16,32,64].map(function(e){return[`Int`,`Uint`,`Float`].map(function(t){return t+e+`Array`})}))).filter(function(e){return r[e]}),ne=new Set(te.map(function(e){return r[e]})),re=null;function ie(e){return re=new WeakMap,e=function e(t){if(!t||typeof t!=`object`)return t;var n=re.get(t);if(n)return n;if(a(t)){n=[],re.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(ne.has(t.constructor))n=t;else{var o,c=s(t);for(o in n=c===Object.prototype?{}:Object.create(c),re.set(t,n),t)l(t,o)&&(n[o]=e(t[o]))}return n}(e),re=null,e}var ae={}.toString;function oe(e){return ae.call(e).slice(8,-1)}var se=typeof Symbol<`u`?Symbol.iterator:`@@iterator`,w=typeof se==`symbol`?function(e){var t;return e!=null&&(t=e[se])&&t.apply(e)}:function(){return null};function ce(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var le={};function ue(e){var t,n,r,i;if(arguments.length===1){if(a(e))return e.slice();if(this===le&&typeof e==`string`)return[e];if(i=w(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null||typeof(t=e.length)!=`number`)return[e];for(n=Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=Array(t);t--;)n[t]=arguments[t];return n}var T=typeof Symbol<`u`?function(e){return e[Symbol.toStringTag]===`AsyncFunction`}:function(){return!1},E=[`Unknown`,`Constraint`,`Data`,`TransactionInactive`,`ReadOnly`,`Version`,`NotFound`,`InvalidState`,`InvalidAccess`,`Abort`,`Timeout`,`QuotaExceeded`,`Syntax`,`DataClone`],de=[`Modify`,`Bulk`,`OpenFailed`,`VersionChange`,`Schema`,`Upgrade`,`InvalidTable`,`MissingAPI`,`NoSuchDatabase`,`InvalidArgument`,`SubTransaction`,`Unsupported`,`Internal`,`DatabaseClosed`,`PrematureCommit`,`ForeignAwait`].concat(E),fe={VersionChanged:`Database version changed by other database connection`,DatabaseClosed:`Database has been closed`,Abort:`Transaction aborted`,TransactionInactive:`Transaction has already completed or failed`,MissingAPI:`IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb`};function pe(e,t){this.name=e,this.message=t}function me(e,t){return e+`. Errors: `+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join(`
`)}function he(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=me(e,t)}function D(e,t){this.name=`BulkError`,this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=me(e,this.failures)}p(pe).from(Error).extend({toString:function(){return this.name+`: `+this.message}}),p(he).from(pe),p(D).from(pe);var ge=de.reduce(function(e,t){return e[t]=t+`Error`,e},{}),_e=pe,O=de.reduce(function(e,t){var n=t+`Error`;function r(e,r){this.name=n,e?typeof e==`string`?(this.message=`${e}${r?`
 `+r:``}`,this.inner=r||null):typeof e==`object`&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=fe[t]||n,this.inner=null)}return p(r).from(_e),e[t]=r,e},{});O.Syntax=SyntaxError,O.Type=TypeError,O.Range=RangeError;var ve=E.reduce(function(e,t){return e[t+`Error`]=O[t],e},{}),ye=de.reduce(function(e,t){return[`Syntax`,`Type`,`Range`].indexOf(t)===-1&&(e[t+`Error`]=O[t]),e},{});function k(){}function be(e){return e}function xe(e,t){return e==null||e===be?t:function(n){return t(e(n))}}function Se(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ce(e,t){return e===k?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Se(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Se(i,this.onerror):i),a===void 0?n:a}}function we(e,t){return e===k?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Se(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Se(r,this.onerror):r)}}function Te(e,t){return e===k?t:function(n){var r=e.apply(this,arguments);o(n,r);var i=this.onsuccess,a=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Se(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Se(a,this.onerror):a),r===void 0?n===void 0?void 0:n:o(r,n)}}function Ee(e,t){return e===k?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function De(e,t){return e===k?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then==`function`){for(var r=this,i=arguments.length,a=Array(i);i--;)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}ye.ModifyError=he,ye.DexieError=pe,ye.BulkError=D;var Oe=typeof location<`u`&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ke(e){Oe=e}var Ae={},je=100,te=typeof Promise>`u`?[]:function(){var e=Promise.resolve();if(typeof crypto>`u`||!crypto.subtle)return[e,s(e),e];var t=crypto.subtle.digest(`SHA-512`,new Uint8Array([0]));return[t,s(t),e]}(),E=te[0],de=te[1],te=te[2],de=de&&de.then,A=E&&E.constructor,Me=!!te,Ne=function(e,t){ze.push([e,t]),Fe&&=(queueMicrotask(Je),!1)},Pe=!0,Fe=!0,Ie=[],Le=[],j=be,Re={id:`global`,global:!0,ref:0,unhandleds:[],onunhandled:k,pgp:!1,env:{},finalize:k},M=Re,ze=[],Be=0,Ve=[];function N(e){if(typeof this!=`object`)throw TypeError(`Promises must be constructed via new`);this._listeners=[],this._lib=!1;var t=this._PSD=M;if(typeof e!=`function`){if(e!==Ae)throw TypeError(`Not a function`);this._state=arguments[1],this._value=arguments[2],!1===this._state&&We(this,this._value);return}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(t._state===null){if(n===t)throw TypeError(`A promise cannot be resolved with itself.`);var r=t._lib&&Ye();n&&typeof n.then==`function`?e(t,function(e,t){n instanceof N?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Ge(t)),r&&Xe()}},We.bind(null,t))}catch(e){We(t,e)}}(this,e)}var He={get:function(){var e=M,t=it;function n(n,r){var i=this,a=!e.global&&(e!==M||t!==it),o=a&&!st(),s=new N(function(t,s){Ke(i,new Ue(pt(n,e,a,o),pt(r,e,a,o),t,s,e))});return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return n.prototype=Ae,n},set:function(e){f(this,`then`,e&&e.prototype===Ae?He:{get:function(){return e},set:He.set})}};function Ue(e,t,n,r,i){this.onFulfilled=typeof e==`function`?e:null,this.onRejected=typeof t==`function`?t:null,this.resolve=n,this.reject=r,this.psd=i}function We(e,t){var n,r;Le.push(t),e._state===null&&(n=e._lib&&Ye(),t=j(t),e._state=!1,e._value=t,r=e,Ie.some(function(e){return e._value===r._value})||Ie.push(r),Ge(e),n&&Xe())}function Ge(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ke(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Be===0&&(++Be,Ne(function(){--Be==0&&Ze()},[]))}function Ke(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Be,Ne(qe,[n,e,t])}else e._listeners.push(t)}function qe(e,t,n){try{var r,i=t._value;!t._state&&Le.length&&(Le=[]),r=Oe&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||Le.indexOf(i)!==-1||function(e){for(var t=Ie.length;t;)if(Ie[--t]._value===e._value)return Ie.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{--Be==0&&Ze(),--n.psd.ref||n.psd.finalize()}}function Je(){ft(Re,function(){Ye()&&Xe()})}function Ye(){var e=Pe;return Fe=Pe=!1,e}function Xe(){var e,t,n;do for(;0<ze.length;)for(e=ze,ze=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(0<ze.length);Fe=Pe=!0}function Ze(){var e=Ie;Ie=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=Ve.slice(0),n=t.length;n;)t[--n]()}function Qe(e){return new N(Ae,!1,e)}function $e(e,t){var n=M;return function(){var r=Ye(),i=M;try{return ut(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ut(i,!1),r&&Xe()}}}u(N.prototype,{then:He,_then:function(e,t){Ke(this,new Ue(null,null,e,t,M))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t==`function`?this.then(null,function(e){return(e instanceof t?n:Qe)(e)}):this.then(null,function(e){return(e&&e.name===t?n:Qe)(e)})},finally:function(e){return this.then(function(t){return N.resolve(e()).then(function(){return t})},function(t){return N.resolve(e()).then(function(){return Qe(t)})})},timeout:function(e,t){var n=this;return e<1/0?new N(function(r,i){var a=setTimeout(function(){return i(new O.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<`u`&&Symbol.toStringTag&&f(N.prototype,Symbol.toStringTag,`Dexie.Promise`),Re.env=dt(),u(N,{all:function(){var e=ue.apply(null,arguments).map(ct);return new N(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,a){return N.resolve(i).then(function(n){e[a]=n,--r||t(e)},n)})})},resolve:function(e){return e instanceof N?e:e&&typeof e.then==`function`?new N(function(t,n){e.then(t,n)}):new N(Ae,!0,e)},reject:Qe,race:function(){var e=ue.apply(null,arguments).map(ct);return new N(function(t,n){e.map(function(e){return N.resolve(e).then(t,n)})})},PSD:{get:function(){return M},set:function(e){return M=e}},totalEchoes:{get:function(){return it}},newPSD:ot,usePSD:ft,scheduler:{get:function(){return Ne},set:function(e){Ne=e}},rejectionMapper:{get:function(){return j},set:function(e){j=e}},follow:function(e,t){return new N(function(n,r){return ot(function(t,n){var r=M;r.unhandleds=[],r.onunhandled=n,r.finalize=Se(function(){var e,r=this;e=function(){r.unhandleds.length===0?t():n(r.unhandleds[0])},Ve.push(function t(){e(),Ve.splice(Ve.indexOf(t),1)}),++Be,Ne(function(){--Be==0&&Ze()},[])},r.finalize),e()},t,n,r)})}}),A&&(A.allSettled&&f(N,`allSettled`,function(){var e=ue.apply(null,arguments).map(ct);return new N(function(t){e.length===0&&t([]);var n=e.length,r=Array(n);e.forEach(function(e,i){return N.resolve(e).then(function(e){return r[i]={status:`fulfilled`,value:e}},function(e){return r[i]={status:`rejected`,reason:e}}).then(function(){return--n||t(r)})})})}),A.any&&typeof AggregateError<`u`&&f(N,`any`,function(){var e=ue.apply(null,arguments).map(ct);return new N(function(t,n){e.length===0&&n(AggregateError([]));var r=e.length,i=Array(r);e.forEach(function(e,a){return N.resolve(e).then(function(e){return t(e)},function(e){i[a]=e,--r||n(AggregateError(i))})})})}),A.withResolvers&&(N.withResolvers=A.withResolvers));var et={awaits:0,echoes:0,id:0},tt=0,nt=[],rt=0,it=0,at=0;function ot(e,t,n,r){var i=M,a=Object.create(i);return a.parent=i,a.ref=0,a.global=!1,a.id=++at,Re.env,a.env=Me?{Promise:N,PromiseProp:{value:N,configurable:!0,writable:!0},all:N.all,race:N.race,allSettled:N.allSettled,any:N.any,resolve:N.resolve,reject:N.reject}:{},t&&o(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()},r=ft(a,e,n,r),a.ref===0&&a.finalize(),r}function P(){return et.id||=++tt,++et.awaits,et.echoes+=je,et.id}function st(){return!!et.awaits&&(--et.awaits==0&&(et.id=0),et.echoes=et.awaits*je,!0)}function ct(e){return et.echoes&&e&&e.constructor===A?(P(),e.then(function(e){return st(),e},function(e){return st(),F(e)})):e}function lt(){var e=nt[nt.length-1];nt.pop(),ut(e,!1)}function ut(e,t){var n,i=M;(t?!et.echoes||rt++&&e===M:!rt||--rt&&e===M)||queueMicrotask(t?function(e){++it,et.echoes&&--et.echoes!=0||(et.echoes=et.awaits=et.id=0),nt.push(M),ut(e,!0)}.bind(null,e):lt),e!==M&&(M=e,i===Re&&(Re.env=dt()),Me&&(n=Re.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(r,`Promise`,t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function dt(){var e=r.Promise;return Me?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,`Promise`),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function ft(e,t,n,r,i){var a=M;try{return ut(e,!0),t(n,r,i)}finally{ut(a,!1)}}function pt(e,t,n,r){return typeof e==`function`?function(){var i=M;n&&P(),ut(t,!0);try{return e.apply(this,arguments)}finally{ut(i,!1),r&&queueMicrotask(st)}}:e}function mt(e){Promise===A&&et.echoes===0?rt===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(``+de).indexOf(`[native code]`)===-1&&(P=st=k);var F=N.reject,ht=`￿`,gt=`Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.`,_t=`String expected.`,vt=[],yt=`__dbnames`,bt=`readonly`,xt=`readwrite`;function St(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ct={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function wt(e){return typeof e!=`string`||/\./.test(e)?function(e){return e}:function(t){return t[e]===void 0&&e in t&&delete(t=ie(t))[e],t}}function Tt(){throw O.Type(`Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.`)}function I(e,t){try{var n=Et(e),r=Et(t);if(n!==r)return n===`Array`?1:r===`Array`?-1:n===`binary`?1:r===`binary`?-1:n===`string`?1:r===`string`?-1:n===`Date`?1:r===`Date`?-1:NaN;switch(n){case`number`:case`Date`:case`string`:return t<e?1:e<t?-1:0;case`binary`:return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(Dt(e),Dt(t));case`Array`:return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a){var o=I(e[a],t[a]);if(o!==0)return o}return n===r?0:n<r?-1:1}(e,t)}}catch{}return NaN}function Et(e){var t=typeof e;return t==`object`?ArrayBuffer.isView(e)?`binary`:(e=oe(e),e===`ArrayBuffer`?`binary`:e):t}function Dt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function L(e,t,n){var r=e.schema.yProps;return r?(t&&0<n.numFailures&&(t=t.filter(function(e,t){return!n.failures[t]})),Promise.all(r.map(function(n){return n=n.updatesTable,t?e.db.table(n).where(`k`).anyOf(t).delete():e.db.table(n).clear()})).then(function(){return n})):n}var Ot=(kt.prototype._trans=function(e,t,n){var r=this._tx||M.trans,i=this.name,a=Oe&&typeof console<`u`&&console.createTask&&console.createTask(`Dexie: ${e===`readonly`?`read`:`write`} ${this.name}`);function o(e,n,r){if(!r.schema[i])throw new O.NotFound(`Table `+i+` not part of transaction`);return t(r.idbtrans,r)}var s=Ye();try{var c=r&&r.db._novip===this.db._novip?r===M.trans?r._promise(e,o,n):ot(function(){return r._promise(e,o,n)},{trans:r,transless:M.transless||M}):function e(t,n,r,i){if(t.idbdb&&(t._state.openComplete||M.letThrough||t._vip)){var a=t._createTransaction(n,r,t._dbSchema);try{a.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===ge.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn(`Dexie: Need to reopen db`),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,i)})):F(a)}return a._promise(n,function(e,t){return ot(function(){return M.trans=a,i(e,t,a)})}).then(function(e){if(n===`readwrite`)try{a.idbtrans.commit()}catch{}return n===`readonly`?e:a._completion.then(function(){return e})})}if(t._state.openComplete)return F(new O.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return F(new O.DatabaseClosed);t.open().catch(k)}return t._state.dbReadyPromise.then(function(){return e(t,n,r,i)})}(this.db,e,[this.name],o);return a&&(c._consoleTask=a,c=c.catch(function(e){return console.trace(e),F(e)})),c}finally{s&&Xe()}},kt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?F(new O.Type(`Invalid argument to Table.get()`)):this._trans(`readonly`,function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},kt.prototype.where=function(e){if(typeof e==`string`)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,`[${e.join(`+`)}]`);var t=i(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(t.indexOf(e.keyPath[n])===-1)return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==ht){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(function(t){return e[t]}))}!n&&Oe&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit from a compound index [${t.join(`+`)}]`);var o=this.schema.idxByName;function s(e,t){return I(e,t)===0}var c=t.reduce(function(t,n){var r=t[0],i=t[1],t=o[n],c=e[n];return[r||t,r||!t?St(i,t&&t.multi?function(e){return e=b(e,n),a(e)&&e.some(function(e){return s(c,e)})}:function(e){return s(c,b(e,n))}):i]},[null,null]),r=c[0],c=c[1];return r?this.where(r.name).equals(e[r.keyPath]).filter(c):n?this.filter(c):this.where(t).equals(``)},kt.prototype.filter=function(e){return this.toCollection().and(e)},kt.prototype.count=function(e){return this.toCollection().count(e)},kt.prototype.offset=function(e){return this.toCollection().offset(e)},kt.prototype.limit=function(e){return this.toCollection().limit(e)},kt.prototype.each=function(e){return this.toCollection().each(e)},kt.prototype.toArray=function(e){return this.toCollection().toArray(e)},kt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},kt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?`[${e.join(`+`)}]`:e))},kt.prototype.reverse=function(){return this.toCollection().reverse()},kt.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function a(){return n!==null&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof Tt&&(function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}(a,n=t),Object.defineProperty(a.prototype,`db`,{get:function(){return r},enumerable:!1,configurable:!0}),a.prototype.table=function(){return i},t=a);for(var o=new Set,c=t.prototype;c;c=s(c))Object.getOwnPropertyNames(c).forEach(function(e){return o.add(e)});function l(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!o.has(n))try{r[n]=e[n]}catch{}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=l,this.hook(`reading`,l),t},kt.prototype.defineClass=function(){return this.mapToClass(function(e){o(this,e)})},kt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=wt(a)(e)),this._trans(`readwrite`,function(e){return n.core.mutate({trans:e,type:`add`,keys:t==null?null:[t],values:[o]})}).then(function(e){return e.numFailures?N.reject(e.failures[0]):e.lastResult}).then(function(t){if(a)try{x(e,a,t)}catch{}return t})},kt.prototype.update=function(e,t){return typeof e!=`object`||a(e)?this.where(`:id`).equals(e).modify(t):(e=b(e,this.schema.primKey.keyPath),e===void 0?F(new O.InvalidArgument(`Given object does not contain its primary key`)):this.where(`:id`).equals(e).modify(t))},kt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=wt(a)(e)),this._trans(`readwrite`,function(e){return n.core.mutate({trans:e,type:`put`,values:[o],keys:t==null?null:[t]})}).then(function(e){return e.numFailures?N.reject(e.failures[0]):e.lastResult}).then(function(t){if(a)try{x(e,a,t)}catch{}return t})},kt.prototype.delete=function(e){var t=this;return this._trans(`readwrite`,function(n){return t.core.mutate({trans:n,type:`delete`,keys:[e]}).then(function(n){return L(t,[e],n)}).then(function(e){return e.numFailures?N.reject(e.failures[0]):void 0})})},kt.prototype.clear=function(){var e=this;return this._trans(`readwrite`,function(t){return e.core.mutate({trans:t,type:`deleteRange`,range:Ct}).then(function(t){return L(e,null,t)})}).then(function(e){return e.numFailures?N.reject(e.failures[0]):void 0})},kt.prototype.bulkGet=function(e){var t=this;return this._trans(`readonly`,function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},kt.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n||=i?void 0:t)?n.allKeys:void 0;return this._trans(`readwrite`,function(t){var n=r.schema.primKey,o=n.auto,n=n.keyPath;if(n&&i)throw new O.InvalidArgument(`bulkAdd(): keys argument invalid on tables with inbound keys`);if(i&&i.length!==e.length)throw new O.InvalidArgument(`Arguments objects and keys must have the same length`);var s=e.length,n=n&&o?e.map(wt(n)):e;return r.core.mutate({trans:t,type:`add`,keys:i,values:n,wantResults:a}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult,e=e.failures;if(t===0)return a?n:i;throw new D(`${r.name}.bulkAdd(): ${t} of ${s} operations failed`,e)})})},kt.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n||=i?void 0:t)?n.allKeys:void 0;return this._trans(`readwrite`,function(t){var n=r.schema.primKey,o=n.auto,n=n.keyPath;if(n&&i)throw new O.InvalidArgument(`bulkPut(): keys argument invalid on tables with inbound keys`);if(i&&i.length!==e.length)throw new O.InvalidArgument(`Arguments objects and keys must have the same length`);var s=e.length,n=n&&o?e.map(wt(n)):e;return r.core.mutate({trans:t,type:`put`,keys:i,values:n,wantResults:a}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult,e=e.failures;if(t===0)return a?n:i;throw new D(`${r.name}.bulkPut(): ${t} of ${s} operations failed`,e)})})},kt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(e){return e.key}),i=e.map(function(e){return e.changes}),a=[];return this._trans(`readwrite`,function(o){return n.getMany({trans:o,keys:r,cache:`clone`}).then(function(s){var c=[],l=[];e.forEach(function(e,n){var r=e.key,i=e.changes,o=s[n];if(o){for(var u=0,d=Object.keys(i);u<d.length;u++){var f=d[u],p=i[f];if(f===t.schema.primKey.keyPath){if(I(p,r)!==0)throw new O.Constraint(`Cannot update primary key in bulkUpdate()`)}else x(o,f,p)}a.push(n),c.push(r),l.push(o)}});var u=c.length;return n.mutate({trans:o,type:`put`,keys:c,values:l,updates:{keys:r,changeSpecs:i}}).then(function(e){var n=e.numFailures,r=e.failures;if(n===0)return u;for(var i=0,o=Object.keys(r);i<o.length;i++){var s,c=o[i],l=a[Number(c)];l!=null&&(s=r[c],delete r[c],r[l]=s)}throw new D(`${t.name}.bulkUpdate(): ${n} of ${u} operations failed`,r)})})})},kt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans(`readwrite`,function(n){return t.core.mutate({trans:n,type:`delete`,keys:e}).then(function(n){return L(t,e,n)})}).then(function(e){var r=e.numFailures,i=e.lastResult,e=e.failures;if(r===0)return i;throw new D(`${t.name}.bulkDelete(): ${r} of ${n} operations failed`,e)})},kt);function kt(){}function At(e){function t(t,r){if(r){for(var i=arguments.length,a=Array(i-1);--i;)a[i-1]=arguments[i];return n[t].subscribe.apply(null,a),e}if(typeof t==`string`)return n[t]}var n={};t.addEventType=s;for(var r=1,o=arguments.length;r<o;++r)s(arguments[r]);return t;function s(e,r,o){if(typeof e!=`object`){var c;r||=Ee;var l={subscribers:[],fire:o||=k,subscribe:function(e){l.subscribers.indexOf(e)===-1&&(l.subscribers.push(e),l.fire=r(l.fire,e))},unsubscribe:function(e){l.subscribers=l.subscribers.filter(function(t){return t!==e}),l.fire=l.subscribers.reduce(r,o)}};return n[e]=t[e]=l}i(c=e).forEach(function(e){var t=c[e];if(a(t))s(e,c[e][0],c[e][1]);else{if(t!==`asap`)throw new O.InvalidArgument(`Invalid event config`);var n=s(e,be,function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){y(function(){e.apply(null,t)})})})}})}}function jt(e,t){return p(t).from({prototype:e}),t}function Mt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Nt(e,t){e.filter=St(e.filter,t)}function Pt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return St(r(),t())}:t,e.justLimit=n&&!r}function Ft(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new O.Schema(`KeyPath `+e.index+` on object store `+t.name+` is not indexed`);return n}function It(e,t,n){var r=Ft(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir===`prev`,unique:!!e.unique,query:{index:r,range:e.range}})}function Lt(e,t,n,r){var i=e.replayFilter?St(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},o=function(e,n,r){var o,s;i&&!i(n,r,function(e){return n.stop(e)},function(e){return n.fail(e)})||((s=``+(o=n.primaryKey))==`[object ArrayBuffer]`&&(s=``+new Uint8Array(o)),l(a,s)||(a[s]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(o,n),Rt(It(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Rt(It(e,r,n),St(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Rt(e,t,n,r){var i=$e(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=k},function(t){e.fail(t),n=k})||i(e.value,e,function(e){return n=e}),n()})})}var zt=(Bt.prototype.execute=function(e){var t=this[`@@propmod`];if(t.add!==void 0){var r=t.add;if(a(r))return n(n([],a(e)?e:[],!0),r,!0).sort();if(typeof r==`number`)return(Number(e)||0)+r;if(typeof r==`bigint`)try{return BigInt(e)+r}catch{return BigInt(0)+r}throw TypeError(`Invalid term ${r}`)}if(t.remove!==void 0){var i=t.remove;if(a(i))return a(e)?e.filter(function(e){return!i.includes(e)}).sort():[];if(typeof i==`number`)return Number(e)-i;if(typeof i==`bigint`)try{return BigInt(e)-i}catch{return BigInt(0)-i}throw TypeError(`Invalid subtrahend ${i}`)}return r=(r=t.replacePrefix)?.[0],r&&typeof e==`string`&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},Bt);function Bt(e){this[`@@propmod`]=e}var Vt=(R.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,F.bind(null,n.error)):n.table._trans(`readonly`,e).then(t)},R.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,F.bind(null,t.error)):t.table._trans(`readwrite`,e,`locked`)},R.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=St(t.algorithm,e)},R.prototype._iterate=function(e,t){return Lt(this._ctx,e,t,this._ctx.table.core)},R.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&o(n,e),t._ctx=n,t},R.prototype.raw=function(){return this._ctx.valueMapper=null,this},R.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Lt(t,e,n,t.table.core)})},R.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,r=n.table.core;if(Mt(n,!0))return r.count({trans:e,query:{index:Ft(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var i=0;return Lt(n,function(){return++i,!1},e,r).then(function(){return i})}).then(e)},R.prototype.sortBy=function(e,t){var n=e.split(`.`).reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var o=this._ctx.dir===`next`?1:-1;function s(e,t){return I(a(e,i),a(t,i))*o}return this.toArray(function(e){return e.sort(s)}).then(t)},R.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if(n.dir===`next`&&Mt(n,!0)&&0<n.limit){var r=n.valueMapper,i=Ft(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(function(e){return e=e.result,r?e.map(r):e})}var a=[];return Lt(n,function(e){return a.push(e)},e,n.table.core).then(function(){return a})},e)},R.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Mt(t)?Pt(t,function(){var t=e;return function(e,n){return t===0||(t===1?--t:n(function(){e.advance(t),t=0}),!1)}}):Pt(t,function(){var t=e;return function(){return--t<0}})),this},R.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Pt(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}},!0),this},R.prototype.until=function(e,t){return Nt(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},R.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},R.prototype.last=function(e){return this.reverse().first(e)},R.prototype.filter=function(e){var t;return Nt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=St(t.isMatch,e),this},R.prototype.and=function(e){return this.filter(e)},R.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},R.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir===`prev`?`next`:`prev`,this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},R.prototype.desc=function(){return this.reverse()},R.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},R.prototype.eachUniqueKey=function(e){return this._ctx.unique=`unique`,this.eachKey(e)},R.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},R.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},R.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir===`next`&&Mt(t,!0)&&0<t.limit)return this._read(function(e){var n=Ft(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},R.prototype.uniqueKeys=function(e){return this._ctx.unique=`unique`,this.keys(e)},R.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},R.prototype.lastKey=function(e){return this.reverse().firstKey(e)},R.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Nt(this._ctx,function(e){var n=e.primaryKey.toString(),e=l(t,n);return t[n]=!0,!e}),this},R.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var a,o,s=typeof e==`function`?e:(a=i(e),o=a.length,function(t){for(var n=!1,r=0;r<o;++r){var i=a[r],s=e[i],c=b(t,i);s instanceof zt?(x(t,i,s.execute(c)),n=!0):c!==s&&(x(t,i,s),n=!0)}return n}),c=n.table.core,l=c.schema.primaryKey,u=l.outbound,d=l.extractKey,f=200,l=t.db._options.modifyChunkSize;l&&(f=typeof l==`object`?l[c.name]||l[`*`]||200:l);function p(e,t){var n=t.failures,t=t.numFailures;h+=e-t;for(var r=0,a=i(n);r<a.length;r++){var o=a[r];m.push(n[o])}}var m=[],h=0,g=[],_=e===Ht;return t.clone().primaryKeys().then(function(t){function i(o){var l=Math.min(f,t.length-o),m=t.slice(o,o+l);return(_?Promise.resolve([]):c.getMany({trans:r,keys:m,cache:`immutable`})).then(function(h){var g=[],v=[],y=u?[]:null,b=_?m:[];if(!_)for(var x=0;x<l;++x){var S=h[x],C={value:ie(S),primKey:t[o+x]};!1!==s.call(C,C.value,C)&&(C.value==null?b.push(t[o+x]):u||I(d(S),d(C.value))===0?(v.push(C.value),u&&y.push(t[o+x])):(b.push(t[o+x]),g.push(C.value)))}return Promise.resolve(0<g.length&&c.mutate({trans:r,type:`add`,values:g}).then(function(e){for(var t in e.failures)b.splice(parseInt(t),1);p(g.length,e)})).then(function(){return(0<v.length||a&&typeof e==`object`)&&c.mutate({trans:r,type:`put`,keys:y,values:v,criteria:a,changeSpec:typeof e!=`function`&&e,isAdditionalChunk:0<o}).then(function(e){return p(v.length,e)})}).then(function(){return(0<b.length||a&&_)&&c.mutate({trans:r,type:`delete`,keys:b,criteria:a,isAdditionalChunk:0<o}).then(function(e){return L(n.table,b,e)}).then(function(e){return p(b.length,e)})}).then(function(){return t.length>o+l&&i(o+f)})})}var a=Mt(n)&&n.limit===1/0&&(typeof e!=`function`||_)&&{index:n.index,range:n.range};return i(0).then(function(){if(0<m.length)throw new he(`Error modifying one or more objects`,m,h,g);return t.length})})})},R.prototype.delete=function(){var e=this._ctx,t=e.range;return!Mt(e)||e.table.schema.yProps||!e.isPrimKey&&t.type!==3?this.modify(Ht):this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(t){return e.table.core.mutate({trans:n,type:`deleteRange`,range:i}).then(function(e){var n=e.failures,e=e.numFailures;if(e)throw new he(`Could not delete some values`,Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})})},R);function R(){}var Ht=function(e,t){return t.value=null};function Ut(e,t){return e<t?-1:e===t?0:1}function Wt(e,t){return t<e?-1:e===t?0:1}function Gt(e,t,n){return e=e instanceof Xt?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function Kt(e){return new e.Collection(e,function(){return Yt(``)}).limit(0)}function qt(e,t,n,r){var i,a,o,s,c,l,u,d=n.length;if(!n.every(function(e){return typeof e==`string`}))return Gt(e,_t);function f(e){i=e===`next`?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},a=e===`next`?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},o=e===`next`?Ut:Wt;var t=n.map(function(e){return{lower:a(e),upper:i(e)}}).sort(function(e,t){return o(e.lower,t.lower)});s=t.map(function(e){return e.upper}),c=t.map(function(e){return e.lower}),u=(l=e)===`next`?``:r}f(`next`),e=new e.Collection(e,function(){return Jt(s[0],c[d-1]+r)}),e._ondirectionchange=function(e){f(e)};var p=0;return e._addAlgorithm(function(e,n,r){var i=e.key;if(typeof i!=`string`)return!1;var f=a(i);if(t(f,c,p))return!0;for(var m=null,h=p;h<d;++h){var g=function(e,t,n,r,i,a){for(var o=Math.min(e.length,r.length),s=-1,c=0;c<o;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):0<=s?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[c],l)<0&&(s=c)}return o<r.length&&a===`next`?e+n.substr(e.length):o<e.length&&a===`prev`?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}(i,f,s[h],c[h],o,l);g===null&&m===null?p=h+1:(m===null||0<o(m,g))&&(m=g)}return n(m===null?r:function(){e.continue(m+u)}),!1}),e}function Jt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Yt(e){return{type:1,lower:e,upper:e}}var Xt=(Object.defineProperty(Zt.prototype,`Collection`,{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Zt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||r)&&(!n||!r)?Kt(this):new this.Collection(this,function(){return Jt(e,t,!n,!r)})}catch{return Gt(this,gt)}},Zt.prototype.equals=function(e){return e==null?Gt(this,gt):new this.Collection(this,function(){return Yt(e)})},Zt.prototype.above=function(e){return e==null?Gt(this,gt):new this.Collection(this,function(){return Jt(e,void 0,!0)})},Zt.prototype.aboveOrEqual=function(e){return e==null?Gt(this,gt):new this.Collection(this,function(){return Jt(e,void 0,!1)})},Zt.prototype.below=function(e){return e==null?Gt(this,gt):new this.Collection(this,function(){return Jt(void 0,e,!1,!0)})},Zt.prototype.belowOrEqual=function(e){return e==null?Gt(this,gt):new this.Collection(this,function(){return Jt(void 0,e)})},Zt.prototype.startsWith=function(e){return typeof e==`string`?this.between(e,e+ht,!0,!0):Gt(this,_t)},Zt.prototype.startsWithIgnoreCase=function(e){return e===``?this.startsWith(e):qt(this,function(e,t){return e.indexOf(t[0])===0},[e],ht)},Zt.prototype.equalsIgnoreCase=function(e){return qt(this,function(e,t){return e===t[0]},[e],``)},Zt.prototype.anyOfIgnoreCase=function(){var e=ue.apply(le,arguments);return e.length===0?Kt(this):qt(this,function(e,t){return t.indexOf(e)!==-1},e,``)},Zt.prototype.startsWithAnyOfIgnoreCase=function(){var e=ue.apply(le,arguments);return e.length===0?Kt(this):qt(this,function(e,t){return t.some(function(t){return e.indexOf(t)===0})},e,ht)},Zt.prototype.anyOf=function(){var e=this,t=ue.apply(le,arguments),n=this._cmp;try{t.sort(n)}catch{return Gt(this,gt)}if(t.length===0)return Kt(this);var r=new this.Collection(this,function(){return Jt(t[0],t[t.length-1])});r._ondirectionchange=function(r){n=r===`next`?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(e,r,a){for(var o=e.key;0<n(o,t[i]);)if(++i===t.length)return r(a),!1;return n(o,t[i])===0||(r(function(){e.continue(t[i])}),!1)}),r},Zt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Zt.prototype.noneOf=function(){var e=ue.apply(le,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Gt(this,gt)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Zt.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,a=this._descending,o=this._min,s=this._max;if(e.length===0)return Kt(this);if(!e.every(function(e){return e[0]!==void 0&&e[1]!==void 0&&i(e[0],e[1])<=0}))return Gt(this,`First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower`,O.InvalidArgument);var c=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,u,d=i;function f(e,t){return d(e[0],t[0])}try{(u=e.reduce(function(e,t){for(var n=0,i=e.length;n<i;++n){var a=e[n];if(r(t[0],a[1])<0&&0<r(t[1],a[0])){a[0]=o(a[0],t[0]),a[1]=s(a[1],t[1]);break}}return n===i&&e.push(t),e},[])).sort(f)}catch{return Gt(this,gt)}var p=0,m=l?function(e){return 0<i(e,u[p][1])}:function(e){return 0<=i(e,u[p][1])},h=c?function(e){return 0<a(e,u[p][0])}:function(e){return 0<=a(e,u[p][0])},g=m,e=new this.Collection(this,function(){return Jt(u[0][0],u[u.length-1][1],!c,!l)});return e._ondirectionchange=function(e){d=e===`next`?(g=m,i):(g=h,a),u.sort(f)},e._addAlgorithm(function(e,t,r){for(var a,o=e.key;g(o);)if(++p===u.length)return t(r),!1;return!m(a=o)&&!h(a)||(n._cmp(o,u[p][1])===0||n._cmp(o,u[p][0])===0||t(function(){d===i?e.continue(u[p][0]):e.continue(u[p][1])}),!1)}),e},Zt.prototype.startsWithAnyOf=function(){var e=ue.apply(le,arguments);return e.every(function(e){return typeof e==`string`})?e.length===0?Kt(this):this.inAnyRange(e.map(function(e){return[e,e+ht]})):Gt(this,`startsWithAnyOf() only works with strings`)},Zt);function Zt(){}function Qt(e){return $e(function(t){return $t(t),e(t.target.error),!1})}function $t(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var en=`storagemutated`,tn=`x-storagemutated-1`,nn=At(null,en),rn=(an.prototype._lock=function(){return v(!M.global),++this._reculock,this._reculock!==1||M.global||(M.lockOwnerFor=this),this},an.prototype._unlock=function(){if(v(!M.global),--this._reculock==0)for(M.global||(M.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{ft(e[1],e[0])}catch{}}return this},an.prototype._locked=function(){return this._reculock&&M.lockOwnerFor!==this},an.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(v(!this.idbtrans),!e&&!n)switch(r&&r.name){case`DatabaseClosedError`:throw new O.DatabaseClosed(r);case`MissingAPIError`:throw new O.MissingAPI(r.message,r);default:throw new O.OpenFailed(r)}if(!this.active)throw new O.TransactionInactive;return v(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$e(function(n){$t(n),t._reject(e.error)}),e.onabort=$e(function(n){$t(n),t.active&&t._reject(new O.Abort(e.error)),t.active=!1,t.on(`abort`).fire(n)}),e.oncomplete=$e(function(){t.active=!1,t._resolve(),`mutatedParts`in e&&nn.storagemutated.fire(e.mutatedParts)}),this},an.prototype._promise=function(e,t,n){var r=this;if(e===`readwrite`&&this.mode!==`readwrite`)return F(new O.ReadOnly(`Transaction is readonly`));if(!this.active)return F(new O.TransactionInactive);if(this._locked())return new N(function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},M])});if(n)return ot(function(){var e=new N(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new N(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},an.prototype._root=function(){return this.parent?this.parent._root():this},an.prototype.waitFor=function(e){var t,n=this._root(),r=N.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new N(function(e,t){r.then(function(t){return n._waitingQueue.push($e(e.bind(null,t)))},function(e){return n._waitingQueue.push($e(t.bind(null,e)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},an.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new O.Abort))},an.prototype.table=function(e){var t=this._memoizedTables||={};if(l(t,e))return t[e];var n=this.schema[e];if(!n)throw new O.NotFound(`Table `+e+` not part of transaction`);return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},an);function an(){}function on(e,t,n,r,i,a,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!o?`&`:``)+(r?`*`:``)+(i?`++`:``)+sn(t),type:s}}function sn(e){return typeof e==`string`?e:e?`[`+[].join.call(e,`+`)+`]`:``}function cn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){return n=r(t,n),n&&(e[n[0]]=n[1]),e},{}))};var r}var ln=function(e){try{return e.only([[]]),ln=function(){return[[]]},[[]]}catch{return ln=function(){return ht},ht}};function un(e){return e==null?function(){}:typeof e==`string`?(t=e).split(`.`).length===1?function(e){return e[t]}:function(e){return b(e,t)}:function(t){return b(t,e)};var t}function dn(e){return[].slice.call(e)}var fn=0;function pn(e){return e==null?`:id`:typeof e==`string`?e:`[${e.join(`+`)}]`}function mn(e,t,n){function r(e){if(e.type===3)return null;if(e.type===4)throw Error(`Cannot convert never type to IDBKeyRange`);var n=e.lower,r=e.upper,i=e.lowerOpen,e=e.upperOpen;return n===void 0?r===void 0?null:t.upperBound(r,!!e):r===void 0?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}function i(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,a=e.keys,o=e.values,s=e.range;return new Promise(function(e,c){e=$e(e);var l=t.objectStore(n),u=l.keyPath==null,d=i===`put`||i===`add`;if(!d&&i!==`delete`&&i!==`deleteRange`)throw Error(`Invalid operation type: `+i);var f,p=(a||o||{length:1}).length;if(a&&o&&a.length!==o.length)throw Error(`Given keys array must have same length as given values array.`);if(p===0)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function m(e){++_,$t(e)}var h=[],g=[],_=0;if(i===`deleteRange`){if(s.type===4)return e({numFailures:_,failures:g,results:[],lastResult:void 0});s.type===3?h.push(f=l.clear()):h.push(f=l.delete(r(s)))}else{var u=d?u?[o,a]:[o,null]:[a,null],v=u[0],y=u[1];if(d)for(var b=0;b<p;++b)h.push(f=y&&y[b]!==void 0?l[i](v[b],y[b]):l[i](v[b])),f.onerror=m;else for(b=0;b<p;++b)h.push(f=l[i](v[b])),f.onerror=m}function x(t){t=t.target.result,h.forEach(function(e,t){return e.error!=null&&(g[t]=e.error)}),e({numFailures:_,failures:g,results:i===`delete`?a:h.map(function(e){return e.result}),lastResult:t})}f.onerror=function(e){m(e),x(e)},f.onsuccess=x})},getMany:function(e){var t=e.trans,r=e.keys;return new Promise(function(e,i){e=$e(e);for(var a,o=t.objectStore(n),s=r.length,c=Array(s),l=0,u=0,d=function(t){t=t.target,c[t._pos]=t.result,++u===l&&e(c)},f=Qt(i),p=0;p<s;++p)r[p]!=null&&((a=o.get(r[p]))._pos=p,a.onsuccess=d,a.onerror=f,++l);l===0&&e(c)})},get:function(e){var t=e.trans,r=e.key;return new Promise(function(e,i){e=$e(e);var a=t.objectStore(n).get(r);a.onsuccess=function(t){return e(t.target.result)},a.onerror=Qt(i)})},query:(t=u,function(e){return new Promise(function(i,a){i=$e(i);var o,s,c,l=e.trans,u=e.values,d=e.limit,f=e.query,p=d===1/0?void 0:d,m=f.index,f=f.range,l=l.objectStore(n),m=m.isPrimaryKey?l:l.index(m.name),f=r(f);if(d===0)return i({result:[]});t?((p=u?m.getAll(f,p):m.getAllKeys(f,p)).onsuccess=function(e){return i({result:e.target.result})},p.onerror=Qt(a)):(o=0,s=!u&&`openKeyCursor`in m?m.openKeyCursor(f):m.openCursor(f),c=[],s.onsuccess=function(e){var t=s.result;return t?(c.push(u?t.value:t.primaryKey),++o===d?i({result:c}):void t.continue()):i({result:c})},s.onerror=Qt(a))})}),openCursor:function(e){var t=e.trans,i=e.values,a=e.query,o=e.reverse,s=e.unique;return new Promise(function(e,c){e=$e(e);var l=a.index,u=a.range,d=t.objectStore(n),d=l.isPrimaryKey?d:d.index(l.name),l=o?s?`prevunique`:`prev`:s?`nextunique`:`next`,f=!i&&`openKeyCursor`in d?d.openKeyCursor(r(u),l):d.openCursor(r(u),l);f.onerror=Qt(c),f.onsuccess=$e(function(n){var r,i,a,o,s=f.result;s?(s.___id=++fn,s.done=!1,r=s.continue.bind(s),i=(i=s.continuePrimaryKey)&&i.bind(s),a=s.advance.bind(s),o=function(){throw Error(`Cursor not stopped`)},s.trans=t,s.stop=s.continue=s.continuePrimaryKey=s.advance=function(){throw Error(`Cursor not started`)},s.fail=$e(c),s.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},s.start=function(e){function t(){if(f.result)try{e()}catch(e){s.fail(e)}else s.done=!0,s.start=function(){throw Error(`Cursor behind last entry`)},s.stop()}var n=new Promise(function(e,t){e=$e(e),f.onerror=Qt(t),s.fail=t,s.stop=function(t){s.stop=s.continue=s.continuePrimaryKey=s.advance=o,e(t)}});return f.onsuccess=$e(function(e){f.onsuccess=t,t()}),s.continue=r,s.continuePrimaryKey=i,s.advance=a,t(),n},e(s)):e(null)},c)})},count:function(e){var t=e.query,i=e.trans,a=t.index,o=t.range;return new Promise(function(e,t){var s=i.objectStore(n),c=a.isPrimaryKey?s:s.index(a.name),s=r(o),c=s?c.count(s):c.count();c.onsuccess=$e(function(t){return e(t.target.result)}),c.onerror=Qt(t)})}}}var o,s,c,l=(s=n,c=dn((o=e).objectStoreNames),{schema:{name:o.name,tables:c.map(function(e){return s.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,r=a(t),i={},n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:t==null,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:un(t)},indexes:dn(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry,e=e.keyPath,r={name:t,compound:a(e),keyPath:e,unique:n,multiEntry:r,extractKey:un(e)};return i[pn(e)]=r}),getIndexByKeyPath:function(e){return i[pn(e)]}};return i[`:id`]=n.primaryKey,t!=null&&(i[pn(t)]=n.primaryKey),n})},hasGetAll:0<c.length&&`getAll`in s.objectStore(c[0])&&!(typeof navigator<`u`&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),n=l.schema,u=l.hasGetAll,l=n.tables.map(i),d={};return l.forEach(function(e){return d[e.name]=e}),{stack:`dbcore`,transaction:e.transaction.bind(e),table:function(e){if(!d[e])throw Error(`Table '${e}' not found`);return d[e]},MIN_KEY:-1/0,MAX_KEY:ln(t),schema:n}}function hn(e,n,r,i){var a=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=mn(n,a,i),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},i))}}function gn(e,t){var n=t.db,t=hn(e._middlewares,n,e._deps,t);e.core=t.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function _n(e,t,n,r){n.forEach(function(n){var i=r[n];t.forEach(function(t){var r=function e(t,n){return m(t,n)||(t=s(t))&&e(t,n)}(t,n);(!r||`value`in r&&r.value===void 0)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,n,{get:function(){return this.table(n)},set:function(e){d(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))})})}function vn(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function yn(e,t){return e._cfg.version-t._cfg.version}function bn(e,t,n,r){var a=e._dbSchema;n.objectStoreNames.contains(`$meta`)&&!a.$meta&&(a.$meta=cn(`$meta`,On(``)[0],[]),e._storeNames.push(`$meta`));var o=e._createTransaction(`readwrite`,e._storeNames,a);o.create(n),o._completion.catch(r);var s=o._reject.bind(o),c=M.transless||M;ot(function(){return M.trans=o,M.transless=c,t===0?(i(a).forEach(function(e){Cn(n,e,a[e].primKey,a[e].indexes)}),gn(e,n),void N.follow(function(){return e.on.populate.fire(o)}).catch(s)):(gn(e,n),l=t,((r=o).storeNames.includes(`$meta`)?r.table(`$meta`).get(`version`).then(function(e){return e??l}):N.resolve(l)).then(function(t){return a=t,s=o,c=n,l=[],t=(r=e)._versions,u=r._dbSchema=En(0,r.idbdb,c),(t=t.filter(function(e){return e._cfg.version>=a})).length===0?N.resolve():(t.forEach(function(e){l.push(function(){var t=u,n=e._cfg.dbschema;Dn(r,t,c),Dn(r,n,c),u=r._dbSchema=n;var o=Sn(t,n);o.add.forEach(function(e){Cn(c,e[0],e[1].primKey,e[1].indexes)}),o.change.forEach(function(e){if(e.recreate)throw new O.Upgrade(`Not yet support for changing primary key`);var t=c.objectStore(e.name);e.add.forEach(function(e){return Tn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),Tn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>a){gn(r,c),s._memoizedTables={};var d=S(n);o.del.forEach(function(e){d[e]=t[e]}),vn(r,[r.Transaction.prototype]),_n(r,[r.Transaction.prototype],i(d),d),s.schema=d;var f,p=T(l);return p&&P(),o=N.follow(function(){var e;(f=l(s))&&p&&(e=st.bind(null,null),f.then(e,e))}),f&&typeof f.then==`function`?N.resolve(f):o.then(function(){return f})}}),l.push(function(t){var n=e._cfg.dbschema,i=t;[].slice.call(i.db.objectStoreNames).forEach(function(e){return n[e]==null&&i.db.deleteObjectStore(e)}),vn(r,[r.Transaction.prototype]),_n(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),s.schema=r._dbSchema}),l.push(function(t){r.idbdb.objectStoreNames.contains(`$meta`)&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore(`$meta`),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(e){return e!==`$meta`})):t.objectStore(`$meta`).put(e._cfg.version,`version`))})}),function e(){return l.length?N.resolve(l.shift()(s.idbtrans)).then(e):N.resolve()}().then(function(){wn(u,c)}));var r,a,s,c,l,u}).catch(s));var r,l})}function xn(e,t){wn(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains(`$meta`)||t.db.createObjectStore(`$meta`).add(Math.ceil(t.db.version/10-1),`version`);var n=En(0,e.idbdb,t);Dn(e,e._dbSchema,t);for(var r=0,i=Sn(n,e._dbSchema).change;r<i.length;r++){var a=function(e){if(e.change.length||e.recreate)return console.warn(`Unable to patch indexes of table ${e.name} because it has changes on the type of index or primary key.`),{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(t){Oe&&console.debug(`Dexie upgrade patch: Creating missing index ${e.name}.${t.src}`),Tn(n,t)})}(i[r]);if(typeof a==`object`)return a.value}}function Sn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(``+(i.primKey.keyPath||``)!=``+(a.primKey.keyPath||``)||i.primKey.auto!==a.primKey.auto)o.recreate=!0,r.change.push(o);else{var s=i.idxByName,c=a.idxByName,l=void 0;for(l in s)c[l]||o.del.push(l);for(l in c){var u=s[l],d=c[l];u?u.src!==d.src&&o.change.push(d):o.add.push(d)}(0<o.del.length||0<o.add.length||0<o.change.length)&&r.change.push(o)}}else r.add.push([n,a])}return r}function Cn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){return Tn(i,e)}),i}function wn(e,t){i(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(Oe&&console.debug(`Dexie: Creating missing table`,n),Cn(t,n,e[n].primKey,e[n].indexes))})}function Tn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function En(e,t,n){var r={};return g(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),i=on(sn(c=t.keyPath),c||``,!0,!1,!!t.autoIncrement,c&&typeof c!=`string`,!0),a=[],o=0;o<t.indexNames.length;++o){var s=t.index(t.indexNames[o]),c=s.keyPath,s=on(s.name,c,!!s.unique,!!s.multiEntry,!1,c&&typeof c!=`string`,!1);a.push(s)}r[e]=cn(e,i,a)}),r}function Dn(e,t,n){for(var i=n.db.objectStoreNames,a=0;a<i.length;++a){var o=i[a],s=n.objectStore(o);e._hasGetAll=`getAll`in s;for(var c=0;c<s.indexNames.length;++c){var l=s.indexNames[c],u=s.index(l).keyPath,d=typeof u==`string`?u:`[`+g(u).join(`+`)+`]`;!t[o]||(u=t[o].idxByName[d])&&(u.name=l,delete t[o].idxByName[d],t[o].idxByName[l]=u)}}typeof navigator<`u`&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function On(e){return e.split(`,`).map(function(e,t){var n=e.split(`:`),r=(i=n[1])?.trim(),i=(e=n[0].trim()).replace(/([&*]|\+\+)/g,``),n=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split(`+`):i;return on(i,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(n),t===0,r)})}var kn=(An.prototype._createTableSchema=cn,An.prototype._parseIndexSyntax=On,An.prototype._parseStoresSpec=function(e,t){var n=this;i(e).forEach(function(r){if(e[r]!==null){var i=n._parseIndexSyntax(e[r]),a=i.shift();if(!a)throw new O.Schema(`Invalid schema for table `+r+`: `+e[r]);if(a.unique=!0,a.multi)throw new O.Schema(`Primary key cannot be multiEntry*`);i.forEach(function(e){if(e.auto)throw new O.Schema(`Only primary key can be marked as autoIncrement (++)`);if(!e.keyPath)throw new O.Schema(`Index must have a name and cannot be an empty string`)}),i=n._createTableSchema(r,a,i),t[r]=i}})},An.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?o(this._cfg.storesSource,e):e;var e=t._versions,n={},r={};return e.forEach(function(e){o(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,vn(t,[t._allTables,t,t.Transaction.prototype]),_n(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(r),r),t._storeNames=i(r),this},An.prototype.upgrade=function(e){return this._cfg.contentUpgrade=De(this._cfg.contentUpgrade||k,e),this},An);function An(){}function jn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new gr(yt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:`name`}),n.table(`dbnames`)}function Mn(e){return e&&typeof e.databases==`function`}function Nn(e){return ot(function(){return M.letThrough=!0,e()})}function Pn(e){return!(`from`in e)}var Fn=function(e,t){if(!this){var n=new Fn;return e&&`d`in e&&o(n,e),n}o(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function In(e,t,n){var r=I(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(Pn(e))return o(e,{from:t,to:n,d:1});var i=e.l,r=e.r;if(I(n,e.from)<0)return i?In(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Bn(e);if(0<I(t,e.to))return r?In(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Bn(e);I(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<I(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&Ln(e,i),r&&n&&Ln(e,r)}}function Ln(e,t){Pn(t)||function e(t,n){var r=n.from,i=n.to,a=n.l,n=n.r;In(t,r,i),a&&e(t,a),n&&e(t,n)}(e,t)}function Rn(e,t){var n=zn(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=zn(e),o=a.next(i.from),s=o.value;!r.done&&!o.done;){if(I(s.from,i.to)<=0&&0<=I(s.to,i.from))return!0;I(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(o=a.next(i.from)).value}return!1}function zn(e){var t=Pn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&I(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||I(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Bn(e){var n,r,i=((n=e.r)?.d||0)-((r=e.l)?.d||0),a=1<i?`r`:i<-1?`l`:``;a&&(n=a==`r`?`l`:`r`,r=t({},e),i=e[a],e.from=i.from,e.to=i.to,e[a]=i[a],r[a]=i[n],(e[n]=r).d=Vn(r)),e.d=Vn(e)}function Vn(e){var t=e.r,e=e.l;return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function Hn(e,t){return i(t).forEach(function(n){e[n]?Ln(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)l(t,n)&&(r=t[n],i[n]=!r||typeof r!=`object`||ne.has(r.constructor)?r:e(r));return i}(t[n])}),e}function Un(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Rn(t[n],e[n])})}u(Fn.prototype,((de={add:function(e){return Ln(this,e),this},addKey:function(e){return In(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return In(t,e,e)}),this},hasKey:function(e){var t=zn(this).next(e).value;return t&&I(t.from,e)<=0&&0<=I(t.to,e)}})[se]=function(){return zn(this)},de));var Wn={},Gn={},Kn=!1;function qn(e){Hn(Gn,e),Kn||(Kn=!0,setTimeout(function(){Kn=!1,Jn(Gn,!(Gn={}))},0))}function Jn(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Wn);r<i.length;r++)Yn(o=i[r],e,n,t);else for(var a in e){var o,s=/^idb\:\/\/(.*)\/(.*)\//.exec(a);s&&(a=s[1],s=s[2],(o=Wn[`idb://${a}/${s}`])&&Yn(o,e,n,t))}n.forEach(function(e){return e()})}function Yn(e,t,n,r){for(var i=[],a=0,o=Object.entries(e.queries.query);a<o.length;a++){for(var s=o[a],c=s[0],l=[],u=0,d=s[1];u<d.length;u++){var f=d[u];Un(t,f.obsSet)?f.subscribers.forEach(function(e){return n.add(e)}):r&&l.push(f)}r&&i.push([c,l])}if(r)for(var p=0,m=i;p<m.length;p++){var h=m[p],c=h[0],l=h[1];e.queries.query[c]=l}}function Xn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?F(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,a=Math.round(10*e.verno),o=!1;function s(){if(t.openCanceller!==r)throw new O.DatabaseClosed(`db.open() was cancelled`)}function c(){return new N(function(r,l){if(s(),!n)throw new O.MissingAPI;var u=e.name,p=t.autoSchema||!a?n.open(u):n.open(u,a);if(!p)throw new O.MissingAPI;p.onerror=Qt(l),p.onblocked=$e(e._fireOnBlocked),p.onupgradeneeded=$e(function(r){var i;d=p.transaction,t.autoSchema&&!e._options.allowEmptyDB?(p.onerror=$t,d.abort(),p.result.close(),(i=n.deleteDatabase(u)).onsuccess=i.onerror=$e(function(){l(new O.NoSuchDatabase(`Database ${u} doesnt exist`))})):(d.onerror=Qt(l),r=r.oldVersion>2**62?0:r.oldVersion,f=r<1,e.idbdb=p.result,o&&xn(e,d),bn(e,r/10,d,l))},l),p.onsuccess=$e(function(){d=null;var n,s,l,m,h,_=e.idbdb=p.result,v=g(_.objectStoreNames);if(0<v.length)try{var y=_.transaction((m=v).length===1?m[0]:m,`readonly`);if(t.autoSchema)s=_,l=y,(n=e).verno=s.version/10,l=n._dbSchema=En(0,s,l),n._storeNames=g(s.objectStoreNames,0),_n(n,[n._allTables],i(l),l);else if(Dn(e,e._dbSchema,y),((h=Sn(En(0,(h=e).idbdb,y),h._dbSchema)).add.length||h.change.some(function(e){return e.add.length||e.change.length}))&&!o)return console.warn(`Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.`),_.close(),a=_.version+1,o=!0,r(c());gn(e,y)}catch{}vt.push(e),_.onversionchange=$e(function(n){t.vcFired=!0,e.on(`versionchange`).fire(n)}),_.onclose=$e(function(t){e.on(`close`).fire(t)}),f&&(h=e._deps,y=u,_=h.indexedDB,h=h.IDBKeyRange,Mn(_)||y===yt||jn(_,h).put({name:y}).catch(k)),r()},l)}).catch(function(e){switch(e?.name){case`UnknownError`:if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn(`Dexie: Workaround for Chrome UnknownError on open()`),c();break;case`VersionError`:if(0<a)return a=0,c()}return N.reject(e)})}var l,u=t.dbReadyResolve,d=null,f=!1;return N.race([r,(typeof navigator>`u`?N.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}l=setInterval(t,100),t()}).finally(function(){return clearInterval(l)}):Promise.resolve()).then(c)]).then(function(){return s(),t.onReadyBeingFired=[],N.resolve(Nn(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(De,k);return t.onReadyBeingFired=[],N.resolve(Nn(function(){return r(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{d&&d.abort()}catch{}return r===t.openCanceller&&e._close(),F(n)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return f&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(t[`idb://${e.name}/${n.name}/${r.name}`]=new Fn(-1/0,[[[]]]))}),t[`idb://${e.name}/${n.name}/`]=t[`idb://${e.name}/${n.name}/:dels`]=new Fn(-1/0,[[[]]])}),nn(en).fire(t),Jn(t,!0)),e})}function Zn(e){function t(t){return e.next(t)}var n=i(t),r=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t),t=i.value;return i.done?t:t&&typeof t.then==`function`?t.then(n,r):a(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Qn(e,t,n){for(var r=a(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var $n={stack:`dbcore`,name:`VirtualIndexMiddleware`,level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,a={},o=[];function s(e,n,r){var i=pn(e),c=a[i]=a[i]||[],l=e==null?0:typeof e==`string`?1:e.length,u=0<n,u=t(t({},r),{name:u?`${i}(virtual-from:${r.name})`:r.name,lowLevelIndex:r,isVirtual:u,keyTail:n,keyLength:l,extractKey:un(e),unique:!u&&r.unique});return c.push(u),u.isPrimaryKey||o.push(u),1<l&&s(l===2?e[0]:e.slice(0,l-1),n+1,r),c.sort(function(e,t){return e.keyTail-t.keyTail}),u}n=s(i.primaryKey.keyPath,0,i.primaryKey),a[`:id`]=[n];for(var c=0,l=i.indexes;c<l.length;c++){var u=l[c];s(u.keyPath,0,u)}function d(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:r.type===1?2:r.type,lower:Qn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Qn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:o,getIndexByKeyPath:function(e){return(e=a[pn(e)])&&e[0]}}),count:function(e){return r.count(d(e))},query:function(e){return r.query(d(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,a=n.isVirtual,o=n.keyLength;return a?r.openCursor(d(t)).then(function(e){return e&&s(e)}):r.openCursor(t);function s(n){return Object.create(n,{continue:{value:function(r){r==null?t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue():n.continue(Qn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i))}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Qn(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return o===1?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}})}}})}})}};function er(e,t,n,r){return n||={},r||=``,i(e).forEach(function(i){var a,o,s;l(t,i)?(a=e[i],o=t[i],typeof a==`object`&&typeof o==`object`&&a&&o?(s=oe(a))===oe(o)?s===`Object`?er(a,o,n,r+i+`.`):a!==o&&(n[r+i]=t[i]):n[r+i]=t[i]:a!==o&&(n[r+i]=t[i])):n[r+i]=void 0}),i(t).forEach(function(i){l(e,i)||(n[r+i]=t[i])}),n}function tr(e,t){return t.type===`delete`?t.keys:t.keys||t.values.map(e.extractKey)}var nr={stack:`dbcore`,name:`HooksMiddleware`,level:2,create:function(e){return t(t({},e),{table:function(r){var i=e.table(r),a=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var o=M.trans,s=o.table(r).hook,c=s.deleting,u=s.creating,d=s.updating;switch(e.type){case`add`:if(u.fire===k)break;return o._promise(`readwrite`,function(){return f(e)},!0);case`put`:if(u.fire===k&&d.fire===k)break;return o._promise(`readwrite`,function(){return f(e)},!0);case`delete`:if(c.fire===k)break;return o._promise(`readwrite`,function(){return f(e)},!0);case`deleteRange`:if(c.fire===k)break;return o._promise(`readwrite`,function(){return function e(n,r,o){return i.query({trans:n,values:!1,query:{index:a,range:r},limit:o}).then(function(i){var a=i.result;return f({type:`delete`,keys:a,trans:n}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):a.length<o?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:a[a.length-1],lowerOpen:!0}),o)})})}(e.trans,e.range,1e4)},!0)}return i.mutate(e);function f(e){var r,o,s,f=M.trans,p=e.keys||tr(a,e);if(!p)throw Error(`Keys missing`);return(e=e.type===`add`||e.type===`put`?t(t({},e),{keys:p}):t({},e)).type!==`delete`&&(e.values=n([],e.values,!0)),e.keys&&=n([],e.keys,!0),r=i,s=p,((o=e).type===`add`?Promise.resolve([]):r.getMany({trans:o.trans,keys:s,cache:`immutable`})).then(function(t){var n=p.map(function(n,r){var i,o,s,p=t[r],m={onerror:null,onsuccess:null};return e.type===`delete`?c.fire.call(m,n,p,f):e.type===`add`||p===void 0?(i=u.fire.call(m,n,e.values[r],f),n==null&&i!=null&&(e.keys[r]=n=i,a.outbound||x(e.values[r],a.keyPath,n))):(i=er(p,e.values[r]),(o=d.fire.call(m,i,n,p,f))&&(s=e.values[r],Object.keys(o).forEach(function(e){l(s,e)?s[e]=o[e]:x(s,e,o[e])}))),m});return i.mutate(e).then(function(r){for(var i=r.failures,a=r.results,o=r.numFailures,r=r.lastResult,s=0;s<p.length;++s){var c=(a||p)[s],l=n[s];c==null?l.onerror&&l.onerror(i[s]):l.onsuccess&&l.onsuccess(e.type===`put`&&t[s]?e.values[s]:c)}return{failures:i,results:a,numFailures:o,lastResult:r}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function rr(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)I(t.keys[i],e[a])===0&&(r.push(n?ie(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch{return null}}var ir={stack:`dbcore`,level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=rr(e.keys,e.trans._cache,e.cache===`clone`);return t?N.resolve(t):r.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:e.cache===`clone`?ie(t):t},t})},mutate:function(e){return e.type!==`add`&&(e.trans._cache=null),r.mutate(e)}})}}}};function ar(e,t){return e.trans.mode===`readonly`&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!==`disabled`&&!t.schema.primaryKey.outbound}function or(e,t){switch(e){case`query`:return t.values&&!t.unique;case`get`:case`getMany`:case`count`:case`openCursor`:return!1}}var sr={stack:`dbcore`,level:0,name:`Observability`,create:function(e){var n=e.schema.name,r=new Fn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(M.subscr&&n!==`readonly`)throw new O.ReadOnly(`Readwrite transaction in liveQuery context. Querier source: ${M.querier}`);return e.transaction(t,n,r)},table:function(o){var s=e.table(o),c=s.schema,l=c.primaryKey,u=c.indexes,d=l.extractKey,f=l.outbound,p=l.autoIncrement&&u.filter(function(e){return e.compound&&e.keyPath.includes(l.keyPath)}),m=t(t({},s),{mutate:function(t){function i(e){return e=`idb://${n}/${o}/${e}`,h[e]||(h[e]=new Fn)}var u,d,f,m=t.trans,h=t.mutatedParts||={},g=i(``),_=i(`:dels`),v=t.type,y=t.type===`deleteRange`?[t.range]:t.type===`delete`?[t.keys]:t.values.length<50?[tr(l,t).filter(function(e){return e}),t.values]:[],b=y[0],x=y[1],y=t.trans._cache;return a(b)?(g.addKeys(b),(y=v===`delete`||b.length===x.length?rr(b,y):null)||_.addKeys(b),(y||x)&&(u=i,d=y,f=x,c.indexes.forEach(function(e){var t=u(e.name||``);function n(t){return t==null?null:e.extractKey(t)}function r(n){return e.multiEntry&&a(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(d||f).forEach(function(e,t){var i=d&&n(d[t]),t=f&&n(f[t]);I(i,t)!==0&&(i!=null&&r(i),t!=null&&r(t))})}))):b?(x={from:(x=b.lower)??e.MIN_KEY,to:(x=b.upper)??e.MAX_KEY},_.add(x),g.add(x)):(g.add(r),_.add(r),c.indexes.forEach(function(e){return i(e.name).add(r)})),s.mutate(t).then(function(e){return!b||t.type!==`add`&&t.type!==`put`||(g.addKeys(e.results),p&&p.forEach(function(n){for(var r=t.values.map(function(e){return n.extractKey(e)}),a=n.keyPath.findIndex(function(e){return e===l.keyPath}),o=0,s=e.results.length;o<s;++o)r[o][a]=e.results[o];i(n.name).addKeys(r)})),m.mutatedParts=Hn(m.mutatedParts||{},h),e})}}),u=function(t){var n=t.query,t=n.index,n=n.range;return[t,new Fn((t=n.lower)??e.MIN_KEY,(n=n.upper)??e.MAX_KEY)]},h={get:function(e){return[l,new Fn(e.key)]},getMany:function(e){return[l,new Fn().addKeys(e.keys)]},count:u,query:u,openCursor:u};return i(h).forEach(function(e){m[e]=function(i){var a=M.subscr,c=!!a,l=ar(M,s)&&or(e,i)?i.obsSet={}:a;if(c){var u=function(e){return e=`idb://${n}/${o}/${e}`,l[e]||(l[e]=new Fn)},p=u(``),m=u(`:dels`),a=h[e](i),c=a[0],a=a[1];if((e===`query`&&c.isPrimaryKey&&!i.values?m:u(c.name||``)).add(a),!c.isPrimaryKey){if(e!==`count`){var g=e===`query`&&f&&i.values&&s.query(t(t({},i),{values:!1}));return s[e].apply(this,arguments).then(function(t){if(e===`query`){if(f&&i.values)return g.then(function(e){return e=e.result,p.addKeys(e),t});var n=i.values?t.result.map(d):t.result;(i.values?p:m).addKeys(n)}else if(e===`openCursor`){var r=t,a=i.values;return r&&Object.create(r,{key:{get:function(){return m.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return m.addKey(e),e}},value:{get:function(){return a&&p.addKey(r.primaryKey),r.value}}})}return t})}m.add(r)}}return s[e].apply(this,arguments)}}),m}})}};function cr(e,n,r){if(r.numFailures===0)return n;if(n.type===`deleteRange`)return null;var i=n.keys?n.keys.length:`values`in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),a(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in r.failures)})),`values`in n&&a(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in r.failures)})),n)}function lr(e,t){return n=e,((r=t).lower===void 0||(r.lowerOpen?0<I(n,r.lower):0<=I(n,r.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?I(e,t.upper)<0:I(e,t.upper)<=0));var n,r}function ur(e,t,n,r,i,o){if(!n||n.length===0)return e;var s=t.query.index,c=s.multiEntry,l=t.query.range,u=r.schema.primaryKey.extractKey,d=s.extractKey,f=(s.lowLevelIndex||s).extractKey,n=n.reduce(function(e,n){var r=e,i=[];if(n.type===`add`||n.type===`put`)for(var o=new Fn,s=n.values.length-1;0<=s;--s){var f,p=n.values[s],m=u(p);o.hasKey(m)||(f=d(p),(c&&a(f)?f.some(function(e){return lr(e,l)}):lr(f,l))&&(o.addKey(m),i.push(p)))}switch(n.type){case`add`:var h=new Fn().addKeys(t.values?e.map(function(e){return u(e)}):e),r=e.concat(t.values?i.filter(function(e){return e=u(e),!h.hasKey(e)&&(h.addKey(e),!0)}):i.map(function(e){return u(e)}).filter(function(e){return!h.hasKey(e)&&(h.addKey(e),!0)}));break;case`put`:var g=new Fn().addKeys(n.values.map(function(e){return u(e)}));r=e.filter(function(e){return!g.hasKey(t.values?u(e):e)}).concat(t.values?i:i.map(function(e){return u(e)}));break;case`delete`:var _=new Fn().addKeys(n.keys);r=e.filter(function(e){return!_.hasKey(t.values?u(e):e)});break;case`deleteRange`:var v=n.range;r=e.filter(function(e){return!lr(u(e),v)})}return r},e);return n===e?e:(n.sort(function(e,t){return I(f(e),f(t))||I(u(e),u(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),o?Object.freeze(n):n)}function dr(e,t){return I(e.lower,t.lower)===0&&I(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function fr(e,t){return function(e,t,n,r){if(e===void 0)return t===void 0?0:-1;if(t===void 0)return 1;if((t=I(e,t))===0){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(e===void 0)return t===void 0?0:1;if(t===void 0)return-1;if((t=I(e,t))===0){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function pr(e,t,n,r){e.subscribers.add(n),r.addEventListener(`abort`,function(){var r,i;e.subscribers.delete(n),e.subscribers.size===0&&(r=e,i=t,setTimeout(function(){r.subscribers.size===0&&ce(i,r)},3e3))})}var mr={stack:`dbcore`,level:0,name:`Cache`,create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var a,o,s=e.transaction(t,r,i);return r===`readwrite`&&(o=(a=new AbortController).signal,i=function(i){return function(){if(a.abort(),r===`readwrite`){for(var o=new Set,c=0,l=t;c<l.length;c++){var u=l[c],d=Wn[`idb://${n}/${u}`];if(d){var f=e.table(u),p=d.optimisticOps.filter(function(e){return e.trans===s});if(s._explicit&&i&&s.mutatedParts)for(var m=0,h=Object.values(d.queries.query);m<h.length;m++)for(var g=0,_=(b=h[m]).slice();g<_.length;g++)Un((x=_[g]).obsSet,s.mutatedParts)&&(ce(b,x),x.subscribers.forEach(function(e){return o.add(e)}));else if(0<p.length){d.optimisticOps=d.optimisticOps.filter(function(e){return e.trans!==s});for(var v=0,y=Object.values(d.queries.query);v<y.length;v++)for(var b,x,S,C=0,ee=(b=y[v]).slice();C<ee.length;C++)(x=ee[C]).res!=null&&s.mutatedParts&&(i&&!x.dirty?(S=Object.isFrozen(x.res),S=ur(x.res,x.req,p,f,x,S),x.dirty?(ce(b,x),x.subscribers.forEach(function(e){return o.add(e)})):S!==x.res&&(x.res=S,x.promise=N.resolve({result:S}))):(x.dirty&&ce(b,x),x.subscribers.forEach(function(e){return o.add(e)})))}}}o.forEach(function(e){return e()})}}},s.addEventListener(`abort`,i(!1),{signal:o}),s.addEventListener(`error`,i(!1),{signal:o}),s.addEventListener(`complete`,i(!0),{signal:o})),s},table:function(r){var i=e.table(r),a=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var o=M.trans;if(a.outbound||o.db._options.cache===`disabled`||o.explicit||o.idbtrans.mode!==`readwrite`)return i.mutate(e);var s=Wn[`idb://${n}/${r}`];return s?(o=i.mutate(e),e.type!==`add`&&e.type!==`put`||!(50<=e.values.length||tr(a,e).some(function(e){return e==null}))?(s.optimisticOps.push(e),e.mutatedParts&&qn(e.mutatedParts),o.then(function(t){0<t.numFailures&&(ce(s.optimisticOps,e),(t=cr(0,e,t))&&s.optimisticOps.push(t),e.mutatedParts&&qn(e.mutatedParts))}),o.catch(function(){ce(s.optimisticOps,e),e.mutatedParts&&qn(e.mutatedParts)})):o.then(function(n){var r=cr(0,t(t({},e),{values:e.values.map(function(e,r){var i;return n.failures[r]?e:(e=(i=a.keyPath)!=null&&i.includes(`.`)?ie(e):t({},e),x(e,a.keyPath,n.results[r]),e)})}),n);s.optimisticOps.push(r),queueMicrotask(function(){return e.mutatedParts&&qn(e.mutatedParts)})}),o):i.mutate(e)},query:function(e){if(!ar(M,i)||!or(`query`,e))return i.query(e);var t=(c=M.trans)?.db._options.cache===`immutable`,a=M,o=a.requery,s=a.signal,c=function(e,t,n,r){var i=Wn[`idb://${e}/${t}`];if(!i)return[];if(!(t=i.queries[n]))return[null,!1,i,null];var a=t[(r.query?r.query.index.name:null)||``];if(!a)return[null,!1,i,null];switch(n){case`query`:var o=a.find(function(e){return e.req.limit===r.limit&&e.req.values===r.values&&dr(e.req.query.range,r.query.range)});return o?[o,!0,i,a]:[a.find(function(e){return(`limit`in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&fr(e.req.query.range,r.query.range)}),!1,i,a];case`count`:return o=a.find(function(e){return dr(e.req.query.range,r.query.range)}),[o,!!o,i,a]}}(n,r,`query`,e),l=c[0],a=c[1],u=c[2],d=c[3];return l&&a?l.obsSet=e.obsSet:(a=i.query(e).then(function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=ie(n);return e}).catch(function(e){return d&&l&&ce(d,l),Promise.reject(e)}),l={obsSet:e.obsSet,promise:a,subscribers:new Set,type:`query`,req:e,dirty:!1},d?d.push(l):(d=[l],(u||=Wn[`idb://${n}/${r}`]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}).queries.query[e.query.index.name||``]=d)),pr(l,d,o,s),l.promise.then(function(n){return{result:ur(n.result,e,u?.optimisticOps,i,l,t)}})}})}})}};function hr(e,t){return new Proxy(e,{get:function(e,n,r){return n===`db`?t:Reflect.get(e,n,r)}})}var gr=(_r.prototype.version=function(e){if(isNaN(e)||e<.1)throw new O.Type(`Given version is not a positive number`);if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new O.Schema(`Cannot add version when database is open`);this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(yn),n.stores({}),this._state.autoSchema=!1,n)},_r.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||M.letThrough||this._vip)?e():new N(function(e,n){if(t._state.openComplete)return n(new O.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new O.DatabaseClosed);t.open().catch(k)}t._state.dbReadyPromise.then(e,n)}).then(e)},_r.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:r??10,name:i}),e.sort(function(e,t){return e.level-t.level}),this},_r.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},_r.prototype.open=function(){var e=this;return ft(Re,function(){return Xn(e)})},_r.prototype._close=function(){this.on.close.fire(new CustomEvent(`close`));var e=this._state,t=vt.indexOf(this);if(0<=t&&vt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new N(function(t){e.dbReadyResolve=t}),e.openCanceller=new N(function(t,n){e.cancelOpen=n}))},_r.prototype.close=function(e){var t=(e===void 0?{disableAutoOpen:!0}:e).disableAutoOpen,e=this._state;t?(e.isBeingOpened&&e.cancelOpen(new O.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new O.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},_r.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!=`object`,r=this._state;return new N(function(i,a){function o(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=$e(function(){var e=t._deps,n=t.name,r=e.indexedDB;e=e.IDBKeyRange,Mn(r)||n===yt||jn(r,e).delete(n).catch(k),i()}),n.onerror=Qt(a),n.onblocked=t._fireOnBlocked}if(n)throw new O.InvalidArgument(`Invalid closeOptions argument to db.delete()`);r.isBeingOpened?r.dbReadyPromise.then(o):o()})},_r.prototype.backendDB=function(){return this.idbdb},_r.prototype.isOpen=function(){return this.idbdb!==null},_r.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name===`DatabaseClosed`},_r.prototype.hasFailed=function(){return this._state.dbOpenError!==null},_r.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(_r.prototype,`tables`,{get:function(){var e=this;return i(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),_r.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new O.InvalidArgument(`Too few arguments`);for(var i=Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,ee(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},_r.prototype._transaction=function(e,t,n){var r=this,i=M.trans;i&&i.db===this&&e.indexOf(`!`)===-1||(i=null);var a,o,s=e.indexOf(`?`)!==-1;e=e.replace(`!`,``).replace(`?`,``);try{if(o=t.map(function(e){if(e=e instanceof r.Table?e.name:e,typeof e!=`string`)throw TypeError(`Invalid table argument to Dexie.transaction(). Only Table or String are allowed`);return e}),e==`r`||e===bt)a=bt;else{if(e!=`rw`&&e!=xt)throw new O.InvalidArgument(`Invalid transaction mode: `+e);a=xt}if(i){if(i.mode===bt&&a===xt){if(!s)throw new O.SubTransaction(`Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY`);i=null}i&&o.forEach(function(e){if(i&&i.storeNames.indexOf(e)===-1){if(!s)throw new O.SubTransaction(`Table `+e+` not included in parent transaction.`);i=null}}),s&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,function(t,n){n(e)}):F(e)}var c=function e(t,n,r,i,a){return N.resolve().then(function(){var o=M.transless||M,s=t._createTransaction(n,r,t._dbSchema,i);if(s.explicit=!0,o={trans:s,transless:o},i)s.idbtrans=i.idbtrans;else try{s.create(),s.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(i){return i.name===ge.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn(`Dexie: Need to reopen db`),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,null,a)})):F(i)}var c,l=T(a);return l&&P(),o=N.follow(function(){var e;(c=a.call(s,s))&&(l?(e=st.bind(null,null),c.then(e,e)):typeof c.next==`function`&&typeof c.throw==`function`&&(c=Zn(c)))},o),(c&&typeof c.then==`function`?N.resolve(c).then(function(e){return s.active?e:F(new O.PrematureCommit(`Transaction committed too early. See http://bit.ly/2kdckMn`))}):o.then(function(){return c})).then(function(e){return i&&s._resolve(),s._completion.then(function(){return e})}).catch(function(e){return s._reject(e),F(e)})})}.bind(null,this,a,o,i,n);return i?i._promise(a,c,`lock`):M.trans?ft(M.transless,function(){return r._whenReady(c)}):this._whenReady(c)},_r.prototype.table=function(e){if(!l(this._allTables,e))throw new O.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]},_r);function _r(e,n){var r=this;this._middlewares={},this.verno=0;var i=_r.dependencies;this._options=n=t({addons:_r.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:`cloned`},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,o,s,c,l,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:k,dbReadyPromise:null,cancelOpen:k,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new N(function(e){u.dbReadyResolve=e}),u.openCanceller=new N(function(e,t){u.cancelOpen=t}),this._state=u,this.name=e,this.on=At(this,`populate`,`blocked`,`versionchange`,`close`,{ready:[De,k]}),this.once=function(e,t){var n=function(){var i=[...arguments];r.on(e).unsubscribe(n),t.apply(r,i)};return r.on(e,n)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(e){return function(t,n){_r.vip(function(){var i,a=r._state;a.openComplete?(a.dbOpenError||N.resolve().then(t),n&&e(t)):a.onReadyBeingFired?(a.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e(function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)}))})}}),this.Collection=(a=this,jt(Vt.prototype,function(e,t){this.db=a;var n=Ct,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,t=i.table,e=t.hook.reading.fire;this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:`next`,unique:``,algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e===be?null:e}})),this.Table=(o=this,jt(Ot.prototype,function(e,t,n){this.db=o,this._tx=n,this.name=e,this.schema=t,this.hook=o._allTables[e]?o._allTables[e].hook:At(null,{creating:[Ce,k],reading:[xe,be],updating:[Te,k],deleting:[we,k]})})),this.Transaction=(s=this,jt(rn.prototype,function(e,t,n,r,i){var a=this;e!==`readonly`&&t.forEach(function(e){e=(e=n[e])?.yProps,e&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=s,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=At(this,`complete`,`error`,`abort`),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new N(function(e,t){a._resolve=e,a._reject=t}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),F(e)})})),this.Version=(c=this,jt(kn.prototype,function(e){this.db=c,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(l=this,jt(Xt.prototype,function(e,t,n){if(this.db=l,this._ctx={table:e,index:t===`:id`?null:t,or:n},this._cmp=this._ascending=I,this._descending=function(e,t){return I(t,e)},this._max=function(e,t){return 0<I(e,t)?e:t},this._min=function(e,t){return I(e,t)<0?e:t},this._IDBKeyRange=l._deps.IDBKeyRange,!this._IDBKeyRange)throw new O.MissingAPI})),this.on(`versionchange`,function(e){0<e.newVersion?console.warn(`Another connection wants to upgrade database '${r.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${r.name}'. Closing db now to resume the delete request.`),r.close({disableAutoOpen:!1})}),this.on(`blocked`,function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${r.name}') was blocked`):console.warn(`Upgrade '${r.name}' blocked by other connection holding version ${e.oldVersion/10}`)}),this._maxKey=ln(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on(`blocked`).fire(e),vt.filter(function(e){return e.name===r.name&&e!==r&&!e._state.vcFired}).map(function(t){return t.on(`versionchange`).fire(e)})},this.use(ir),this.use(mr),this.use(sr),this.use($n),this.use(nr);var d=new Proxy(this,{get:function(e,t,n){if(t===`_vip`)return!0;if(t===`table`)return function(e){return hr(r.table(e),d)};var i=Reflect.get(e,t,n);return i instanceof Ot?hr(i,d):t===`tables`?i.map(function(e){return hr(e,d)}):t===`_createTransaction`?function(){return hr(i.apply(this,arguments),d)}:i}});this.vip=d,i.forEach(function(e){return e(r)})}var vr,de=typeof Symbol<`u`&&`observable`in Symbol?Symbol.observable:`@@observable`,yr=(br.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!=`function`?e:{next:e,error:t,complete:n})},br.prototype[de]=function(){return this},br);function br(e){this._subscribe=e}try{vr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{vr={indexedDB:null,IDBKeyRange:null}}function xr(e){var t,n=!1,r=new yr(function(r){var i=T(e),a,o=!1,s={},c={},u={get closed(){return o},unsubscribe:function(){o||(o=!0,a&&a.abort(),d&&nn.storagemutated.unsubscribe(p))}};r.start&&r.start(u);var d=!1,f=function(){return mt(m)},p=function(e){Hn(s,e),Un(c,s)&&f()},m=function(){var u,m,h;!o&&vr.indexedDB&&(s={},u={},a&&a.abort(),a=new AbortController,h=function(t){var n=Ye();try{i&&P();var r=ot(e,t);return r=i?r.finally(st):r}finally{n&&Xe()}}(m={subscr:u,signal:a.signal,requery:f,querier:e,trans:null}),Promise.resolve(h).then(function(e){n=!0,t=e,o||m.signal.aborted||(s={},function(e){for(var t in e)if(l(e,t))return;return 1}(c=u)||d||(nn(en,p),d=!0),mt(function(){return!o&&r.next&&r.next(e)}))},function(e){n=!1,[`DatabaseClosedError`,`AbortError`].includes(e?.name)||o||mt(function(){o||r.error&&r.error(e)})}))};return setTimeout(f,0),u});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var Sr=gr;function Cr(e){var t=Tr;try{Tr=!0,nn.storagemutated.fire(e),Jn(e,!0)}finally{Tr=t}}u(Sr,t(t({},ye),{delete:function(e){return new Sr(e,{addons:[]}).delete()},exists:function(e){return new Sr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch(`NoSuchDatabaseError`,function(){return!1})},getDatabaseNames:function(e){try{return t=Sr.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(Mn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==yt})}):jn(n,t).toCollection().primaryKeys()).then(e)}catch{return F(new O.MissingAPI)}var t,n},defineClass:function(){return function(e){o(this,e)}},ignoreTransaction:function(e){return M.trans?ft(M.transless,e):e()},vip:Nn,async:function(e){return function(){try{var t=Zn(e.apply(this,arguments));return t&&typeof t.then==`function`?t:N.resolve(t)}catch(e){return F(e)}}},spawn:function(e,t,n){try{var r=Zn(e.apply(n,t||[]));return r&&typeof r.then==`function`?r:N.resolve(r)}catch(e){return F(e)}},currentTransaction:{get:function(){return M.trans||null}},waitFor:function(e,t){return t=N.resolve(typeof e==`function`?Sr.ignoreTransaction(e):e).timeout(t||6e4),M.trans?M.trans.waitFor(t):t},Promise:N,debug:{get:function(){return Oe},set:function(e){ke(e)}},derive:p,extend:o,props:u,override:_,Events:At,on:nn,liveQuery:xr,extendObservabilitySet:Hn,getByKeyPath:b,setByKeyPath:x,delByKeyPath:function(e,t){typeof t==`string`?x(e,t,void 0):`length`in t&&[].map.call(t,function(t){x(e,t,void 0)})},shallowClone:S,deepClone:ie,getObjectDiff:er,cmp:I,asap:y,minKey:-1/0,addons:[],connections:vt,errnames:ge,dependencies:vr,cache:Wn,semVer:`4.2.0`,version:`4.2.0`.split(`.`).map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/10**(2*n)})})),Sr.maxKey=ln(Sr.dependencies.IDBKeyRange),typeof dispatchEvent<`u`&&typeof addEventListener<`u`&&(nn(en,function(e){Tr||=(e=new CustomEvent(tn,{detail:e}),Tr=!0,dispatchEvent(e),!1)}),addEventListener(tn,function(e){e=e.detail,Tr||Cr(e)}));var wr,Tr=!1,Er=function(){};return typeof BroadcastChannel<`u`&&((Er=function(){(wr=new BroadcastChannel(tn)).onmessage=function(e){return e.data&&Cr(e.data)}})(),typeof wr.unref==`function`&&wr.unref(),nn(en,function(e){Tr||wr.postMessage(e)})),typeof addEventListener<`u`&&(addEventListener(`pagehide`,function(e){if(!gr.disableBfCache&&e.persisted){Oe&&console.debug(`Dexie: handling persisted pagehide`),wr?.close();for(var t=0,n=vt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener(`pageshow`,function(e){!gr.disableBfCache&&e.persisted&&(Oe&&console.debug(`Dexie: handling persisted pageshow`),Er(),Cr({all:new Fn(-1/0,[[]])}))})),N.rejectionMapper=function(e,t){return!e||e instanceof pe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ve[e.name]?e:(t=new ve[e.name](t||e.message,e),`stack`in e&&f(t,`stack`,{get:function(){return this.inner.stack}}),t)},ke(Oe),t(gr,Object.freeze({__proto__:null,Dexie:gr,liveQuery:xr,Entity:Tt,cmp:I,PropModification:zt,replacePrefix:function(e,t){return new zt({replacePrefix:[e,t]})},add:function(e){return new zt({add:e})},remove:function(e){return new zt({remove:e})},default:gr,RangeSet:Fn,mergeRanges:Ln,rangesOverlap:Rn}),{default:gr}),gr})}))(),1),y=Symbol.for(`Dexie`),b=globalThis[y]||(globalThis[y]=v.default);if(v.default.semVer!==b.semVer)throw Error(`Two different versions of Dexie loaded in the same app: ${v.default.semVer} and ${b.semVer}`);var{liveQuery:x,mergeRanges:S,rangesOverlap:C,RangeSet:ee,cmp:te,Entity:ne,PropModification:re,replacePrefix:ie,add:ae,remove:oe,DexieYProvider:se}=b,w=b;const ce=Math.floor,le=Math.abs,ue=(e,t)=>e<t?e:t,T=(e,t)=>e>t?e:t;Number.isNaN;const E=e=>e===0?1/e<0:e<0,de=2**53-1,fe=Number.isInteger||(e=>typeof e==`number`&&isFinite(e)&&ce(e)===e);Number.isNaN,Number.parseInt;const pe=()=>new Set,me=e=>e[e.length-1],he=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},D=Array.from,ge=Array.isArray,_e=String.fromCharCode;String.fromCodePoint,_e(65535);var O=e=>e.toLowerCase(),ve=/^\s*/g;const ye=e=>e.replace(ve,``);var k=/([A-Z])/g;const be=(e,t)=>ye(e.replace(k,e=>`${t}${O(e)}`)),xe=e=>{let t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.codePointAt(e);return r},Se=typeof TextEncoder<`u`?new TextEncoder:null,Ce=Se?e=>Se.encode(e):xe;let we=typeof TextDecoder>`u`?null:new TextDecoder(`utf-8`,{fatal:!0,ignoreBOM:!0});we&&we.decode(new Uint8Array).length===1&&(we=null);var Te=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};const Ee=()=>new Te,De=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},Oe=e=>{let t=new Uint8Array(De(e)),n=0;for(let r=0;r<e.bufs.length;r++){let i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},ke=(e,t)=>{let n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(T(n,t)*2),e.cpos=0)},Ae=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},je=Ae,A=(e,t)=>{for(;t>127;)Ae(e,128|127&t),t=ce(t/128);Ae(e,127&t)},Me=(e,t)=>{let n=E(t);for(n&&(t=-t),Ae(e,(t>63?128:0)|(n?64:0)|63&t),t=ce(t/64);t>0;)Ae(e,(t>127?128:0)|127&t),t=ce(t/128)};var Ne=new Uint8Array(3e4),Pe=Ne.length/3;const Fe=Se&&Se.encodeInto?(e,t)=>{if(t.length<Pe){let n=Se.encodeInto(t,Ne).written||0;A(e,n);for(let t=0;t<n;t++)Ae(e,Ne[t])}else j(e,Ce(t))}:(e,t)=>{let n=unescape(encodeURIComponent(t)),r=n.length;A(e,r);for(let t=0;t<r;t++)Ae(e,n.codePointAt(t))},Ie=(e,t)=>Le(e,Oe(t)),Le=(e,t)=>{let n=e.cbuf.length,r=e.cpos,i=ue(n-r,t.length),a=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,a>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(T(n*2,a)),e.cbuf.set(t.subarray(i)),e.cpos=a)},j=(e,t)=>{A(e,t.byteLength),Le(e,t)},Re=(e,t)=>{ke(e,t);let n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},M=(e,t)=>Re(e,4).setFloat32(0,t,!1),ze=(e,t)=>Re(e,8).setFloat64(0,t,!1),Be=(e,t)=>Re(e,8).setBigInt64(0,t,!1),Ve=(e,t)=>Re(e,8).setBigUint64(0,t,!1);var N=new DataView(new ArrayBuffer(4)),He=e=>(N.setFloat32(0,e),N.getFloat32(0)===e);const Ue=(e,t)=>{switch(typeof t){case`string`:Ae(e,119),Fe(e,t);break;case`number`:fe(t)&&le(t)<=2147483647?(Ae(e,125),Me(e,t)):He(t)?(Ae(e,124),M(e,t)):(Ae(e,123),ze(e,t));break;case`bigint`:Ae(e,122),Be(e,t);break;case`object`:if(t===null)Ae(e,126);else if(ge(t)){Ae(e,117),A(e,t.length);for(let n=0;n<t.length;n++)Ue(e,t[n])}else if(t instanceof Uint8Array)Ae(e,116),j(e,t);else{Ae(e,118);let n=Object.keys(t);A(e,n.length);for(let r=0;r<n.length;r++){let i=n[r];Fe(e,i),Ue(e,t[i])}}break;case`boolean`:Ae(e,t?120:121);break;default:Ae(e,127)}};var We=class extends Te{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&A(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}},Ge=e=>{e.count>0&&(Me(e.encoder,e.count===1?e.s:-e.s),e.count>1&&A(e.encoder,e.count-2))},Ke=class{constructor(){this.encoder=new Te,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Ge(this),this.count=1,this.s=e)}toUint8Array(){return Ge(this),Oe(this.encoder)}},qe=e=>{if(e.count>0){let t=e.diff*2+(e.count===1?0:1);Me(e.encoder,t),e.count>1&&A(e.encoder,e.count-2)}},Je=class{constructor(){this.encoder=new Te,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(qe(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return qe(this),Oe(this.encoder)}},Ye=class{constructor(){this.sarr=[],this.s=``,this.lensE=new Ke}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=``),this.lensE.write(e.length)}toUint8Array(){let e=new Te;return this.sarr.push(this.s),this.s=``,Fe(e,this.sarr.join(``)),Le(e,this.lensE.toUint8Array()),Oe(e)}};const Xe=e=>Error(e),Ze=()=>{throw Xe(`Method unimplemented`)},Qe=()=>{throw Xe(`Unexpected case`)};var $e=Xe(`Unexpected end of array`),et=Xe(`Integer out of Range`),tt=class{constructor(e){this.arr=e,this.pos=0}};const nt=e=>new tt(e),rt=e=>e.pos!==e.arr.length,it=(e,t)=>{let n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},at=e=>it(e,P(e)),ot=e=>e.arr[e.pos++],P=e=>{let t=0,n=1,r=e.arr.length;for(;e.pos<r;){let r=e.arr[e.pos++];if(t+=(r&127)*n,n*=128,r<128)return t;if(t>de)throw et}throw $e},st=e=>{let t=e.arr[e.pos++],n=t&63,r=64,i=(t&64)>0?-1:1;if(!(t&128))return i*n;let a=e.arr.length;for(;e.pos<a;){if(t=e.arr[e.pos++],n+=(t&127)*r,r*=128,t<128)return i*n;if(n>de)throw et}throw $e},ct=we?e=>we.decode(at(e)):e=>{let t=P(e);if(t===0)return``;{let n=String.fromCodePoint(ot(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(ot(e));else for(;t>0;){let r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},lt=(e,t)=>{let n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},ut=e=>lt(e,4).getFloat32(0,!1),dt=e=>lt(e,8).getFloat64(0,!1),ft=e=>lt(e,8).getBigInt64(0,!1),pt=e=>lt(e,8).getBigUint64(0,!1);var mt=[e=>void 0,e=>null,st,ut,dt,ft,e=>!1,e=>!0,ct,e=>{let t=P(e),n={};for(let r=0;r<t;r++){let t=ct(e);n[t]=F(e)}return n},e=>{let t=P(e),n=[];for(let r=0;r<t;r++)n.push(F(e));return n},at];const F=e=>mt[127-ot(e)](e);var ht=class extends tt{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),rt(this)?this.count=P(this)+1:this.count=-1),this.count--,this.s}},gt=class extends tt{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=st(this);let e=E(this.s);this.count=1,e&&(this.s=-this.s,this.count=P(this)+2)}return this.count--,this.s}},_t=class extends tt{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let e=st(this),t=e&1;this.diff=ce(e/2),this.count=1,t&&(this.count=P(this)+2)}return this.s+=this.diff,this.count--,this.s}},vt=class{constructor(e){this.decoder=new gt(e),this.str=ct(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}},yt=function(e,t){return yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yt(e,t)};function bt(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);yt(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function xt(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function St(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Ct(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function wt(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Tt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function Et(e,t,n){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator==`function`?AsyncIterator:Object).prototype),s(`next`),s(`throw`),s(`return`,o),i[Symbol.asyncIterator]=function(){return this},i;function o(e){return function(t){return Promise.resolve(t).then(e,d)}}function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||c(e,t)})},t&&(i[e]=t(i[e])))}function c(e,t){try{l(r[e](t))}catch(e){f(a[0][3],e)}}function l(e){e.value instanceof I?Promise.resolve(e.value.v).then(u,d):f(a[0][2],e)}function u(e){c(`next`,e)}function d(e){c(`throw`,e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Dt(e){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ct==`function`?Ct(e):e[Symbol.iterator](),n={},r(`next`),r(`throw`),r(`return`),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise(function(r,a){n=e[t](n),i(r,a,n.done,n.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function L(e){return typeof e==`function`}function Ot(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var kt=Ot(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,t){return t+1+`) `+e.toString()}).join(`
  `):``,this.name=`UnsubscriptionError`,this.errors=t}});function At(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var jt=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Ct(a),s=o.next();!s.done;s=o.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(L(c))try{c()}catch(e){i=e instanceof kt?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=Ct(l),d=u.next();!d.done;d=u.next()){var f=d.value;try{Pt(f)}catch(e){i??=[],e instanceof kt?i=Tt(Tt([],wt(i)),wt(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new kt(i)}},e.prototype.add=function(t){if(t&&t!==this)if(this.closed)Pt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=this._finalizers??[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&At(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&At(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e}(),Mt=jt.EMPTY;function Nt(e){return e instanceof jt||e&&`closed`in e&&L(e.remove)&&L(e.add)&&L(e.unsubscribe)}function Pt(e){L(e)?e():e.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},It={setTimeout:function(e,t){var n=[...arguments].slice(2),r=It.delegate;return r?.setTimeout?r.setTimeout.apply(r,Tt([e,t],wt(n))):setTimeout.apply(void 0,Tt([e,t],wt(n)))},clearTimeout:function(e){return(It.delegate?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Lt(e){It.setTimeout(function(){var t=Ft.onUnhandledError;if(t)t(e);else throw e})}function Rt(){}var zt=(function(){return R(`C`,void 0,void 0)})();function Bt(e){return R(`E`,void 0,e)}function Vt(e){return R(`N`,e,void 0)}function R(e,t,n){return{kind:e,value:t,error:n}}var Ht=null;function Ut(e){if(Ft.useDeprecatedSynchronousErrorHandling){var t=!Ht;if(t&&(Ht={errorThrown:!1,error:null}),e(),t){var n=Ht,r=n.errorThrown,i=n.error;if(Ht=null,r)throw i}}else e()}function Wt(e){Ft.useDeprecatedSynchronousErrorHandling&&Ht&&(Ht.errorThrown=!0,Ht.error=e)}var Gt=function(e){bt(t,e);function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Nt(t)&&t.add(n)):n.destination=$t,n}return t.create=function(e,t,n){return new Yt(e,t,n)},t.prototype.next=function(e){this.isStopped?Qt(Vt(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Qt(Bt(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Qt(zt,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jt),Kt=Function.prototype.bind;function qt(e,t){return Kt.call(e,t)}var Jt=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Xt(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Xt(e)}else Xt(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Xt(e)}},e}(),Yt=function(e){bt(t,e);function t(t,n,r){var i=e.call(this)||this,a;if(L(t)||!t)a={next:t??void 0,error:n??void 0,complete:r??void 0};else{var o;i&&Ft.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&qt(t.next,o),error:t.error&&qt(t.error,o),complete:t.complete&&qt(t.complete,o)}):a=t}return i.destination=new Jt(a),i}return t}(Gt);function Xt(e){Ft.useDeprecatedSynchronousErrorHandling?Wt(e):Lt(e)}function Zt(e){throw e}function Qt(e,t){var n=Ft.onStoppedNotification;n&&It.setTimeout(function(){return n(e,t)})}var $t={closed:!0,next:Rt,error:Zt,complete:Rt},en=(function(){return typeof Symbol==`function`&&Symbol.observable||`@@observable`})();function tn(e){return e}function nn(e){return e.length===0?tn:e.length===1?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var rn=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=sn(e)?e:new Yt(e,t,n);return Ut(function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return t=an(t),new t(function(t,r){var i=new Yt({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){return this.source?.subscribe(e)},e.prototype[en]=function(){return this},e.prototype.pipe=function(){return nn([...arguments])(this)},e.prototype.toPromise=function(e){var t=this;return e=an(e),new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function an(e){return e??Ft.Promise??Promise}function on(e){return e&&L(e.next)&&L(e.error)&&L(e.complete)}function sn(e){return e&&e instanceof Gt||on(e)&&Nt(e)}function cn(e){return L(e?.lift)}function ln(e){return function(t){if(cn(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError(`Unable to lift unknown Observable type`)}}function un(e,t,n,r,i){return new dn(e,t,n,r,i)}var dn=function(e){bt(t,e);function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)==null||t.call(this))}},t}(Gt),fn=Ot(function(e){return function(){e(this),this.name=`ObjectUnsubscribedError`,this.message=`object unsubscribed`}}),pn=function(e){bt(t,e);function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return t.prototype.lift=function(e){var t=new mn(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new fn},t.prototype.next=function(e){var t=this;Ut(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||=Array.from(t.observers);try{for(var i=Ct(t.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;Ut(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;Ut(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,`observed`,{get:function(){return this.observers?.length>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?Mt:(this.currentObservers=null,a.push(e),new jt(function(){t.currentObservers=null,At(a,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new rn;return e.source=this,e},t.create=function(e,t){return new mn(e,t)},t}(rn),mn=function(e){bt(t,e);function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return t.prototype.next=function(e){var t,n;(n=(t=this.destination)?.next)==null||n.call(t,e)},t.prototype.error=function(e){var t,n;(n=(t=this.destination)?.error)==null||n.call(t,e)},t.prototype.complete=function(){var e,t;(t=(e=this.destination)?.complete)==null||t.call(e)},t.prototype._subscribe=function(e){return this.source?.subscribe(e)??Mt},t}(pn),hn=function(e){bt(t,e);function t(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(t.prototype,`value`,{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(pn),gn={now:function(){return(gn.delegate||Date).now()},delegate:void 0},_n=function(e){bt(t,e);function t(t,n){return e.call(this)||this}return t.prototype.schedule=function(e,t){return t===void 0&&(t=0),this},t}(jt),vn={setInterval:function(e,t){var n=[...arguments].slice(2),r=vn.delegate;return r?.setInterval?r.setInterval.apply(r,Tt([e,t],wt(n))):setInterval.apply(void 0,Tt([e,t],wt(n)))},clearInterval:function(e){return(vn.delegate?.clearInterval||clearInterval)(e)},delegate:void 0},yn=function(e){bt(t,e);function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return t.prototype.schedule=function(e,t){if(t===void 0&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id??this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return n===void 0&&(n=0),vn.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&vn.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error(`executing a cancelled action`);this.pending=!1;var n=this._execute(e,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r;try{this.work(e)}catch(e){n=!0,r=e||Error(`Scheduled action threw falsy error`)}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,r=t.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,At(i,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(_n),bn=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=gn.now,e}(),xn=new(function(e){bt(t,e);function t(t,n){n===void 0&&(n=bn.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return t.prototype.flush=function(e){var t=this.actions;if(this._active){t.push(e);return}var n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}},t}(bn))(yn),Sn=xn,Cn=new rn(function(e){return e.complete()});function wn(e){return e&&L(e.schedule)}function Tn(e){return e[e.length-1]}function En(e){return L(Tn(e))?e.pop():void 0}function Dn(e){return wn(Tn(e))?e.pop():void 0}function On(e,t){return typeof Tn(e)==`number`?e.pop():t}var kn=(function(e){return e&&typeof e.length==`number`&&typeof e!=`function`});function An(e){return L(e?.then)}function jn(e){return L(e[en])}function Mn(e){return Symbol.asyncIterator&&L(e?.[Symbol.asyncIterator])}function Nn(e){return TypeError(`You provided `+(typeof e==`object`&&e?`an invalid object`:`'`+e+`'`)+` where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Pn(){return typeof Symbol!=`function`||!Symbol.iterator?`@@iterator`:Symbol.iterator}var Fn=Pn();function In(e){return L(e?.[Fn])}function Ln(e){return Et(this,arguments,function(){var t,n,r,i;return St(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,I(t.read())];case 3:return n=a.sent(),r=n.value,i=n.done,i?[4,I(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,I(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Rn(e){return L(e?.getReader)}function zn(e){if(e instanceof rn)return e;if(e!=null){if(jn(e))return Bn(e);if(kn(e))return Vn(e);if(An(e))return Hn(e);if(Mn(e))return Wn(e);if(In(e))return Un(e);if(Rn(e))return Gn(e)}throw Nn(e)}function Bn(e){return new rn(function(t){var n=e[en]();if(L(n.subscribe))return n.subscribe(t);throw TypeError(`Provided object does not correctly implement Symbol.observable`)})}function Vn(e){return new rn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Hn(e){return new rn(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Lt)})}function Un(e){return new rn(function(t){var n,r;try{for(var i=Ct(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Wn(e){return new rn(function(t){Kn(e,t).catch(function(e){return t.error(e)})})}function Gn(e){return Wn(Ln(e))}function Kn(e,t){var n,r,i,a;return xt(this,void 0,void 0,function(){var o,s;return St(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Dt(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function qn(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Jn(e,t){return t===void 0&&(t=0),ln(function(n,r){n.subscribe(un(r,function(n){return qn(r,e,function(){return r.next(n)},t)},function(){return qn(r,e,function(){return r.complete()},t)},function(n){return qn(r,e,function(){return r.error(n)},t)}))})}function Yn(e,t){return t===void 0&&(t=0),ln(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Xn(e,t){return zn(e).pipe(Yn(t),Jn(t))}function Zn(e,t){return zn(e).pipe(Yn(t),Jn(t))}function Qn(e,t){return new rn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function $n(e,t){return new rn(function(n){var r;return qn(n,t,function(){r=e[Fn](),qn(n,t,function(){var e,t,i;try{e=r.next(),t=e.value,i=e.done}catch(e){n.error(e);return}i?n.complete():n.next(t)},0,!0)}),function(){return L(r?.return)&&r.return()}})}function er(e,t){if(!e)throw Error(`Iterable cannot be null`);return new rn(function(n){qn(n,t,function(){var r=e[Symbol.asyncIterator]();qn(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function tr(e,t){return er(Ln(e),t)}function nr(e,t){if(e!=null){if(jn(e))return Xn(e,t);if(kn(e))return Qn(e,t);if(An(e))return Zn(e,t);if(Mn(e))return er(e,t);if(In(e))return $n(e,t);if(Rn(e))return tr(e,t)}throw Nn(e)}function rr(e,t){return t?nr(e,t):zn(e)}function ir(){var e=[...arguments],t=Dn(e);return rr(e,t)}function ar(e,t){var n=L(e)?e:function(){return e},r=function(e){return e.error(n())};return new rn(t?function(e){return t.schedule(r,0,e)}:r)}var or=Ot(function(e){return function(){e(this),this.name=`EmptyError`,this.message=`no elements in sequence`}});function sr(e,t){var n=typeof t==`object`;return new Promise(function(r,i){var a=new Yt({next:function(e){r(e),a.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new or)}});e.subscribe(a)})}function cr(e){return e instanceof Date&&!isNaN(e)}function lr(e,t){return ln(function(n,r){var i=0;n.subscribe(un(r,function(n){r.next(e.call(t,n,i++))}))})}var ur=Array.isArray;function dr(e,t){return ur(t)?e.apply(void 0,Tt([],wt(t))):e(t)}function fr(e){return lr(function(t){return dr(e,t)})}var pr=Array.isArray,mr=Object.getPrototypeOf,hr=Object.prototype,gr=Object.keys;function _r(e){if(e.length===1){var t=e[0];if(pr(t))return{args:t,keys:null};if(vr(t)){var n=gr(t);return{args:n.map(function(e){return t[e]}),keys:n}}}return{args:e,keys:null}}function vr(e){return e&&typeof e==`object`&&mr(e)===hr}function yr(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}function br(){var e=[...arguments],t=Dn(e),n=En(e),r=_r(e),i=r.args,a=r.keys;if(i.length===0)return rr([],t);var o=new rn(xr(i,t,a?function(e){return yr(a,e)}:tn));return n?o.pipe(fr(n)):o}function xr(e,t,n){return n===void 0&&(n=tn),function(r){Sr(t,function(){for(var i=e.length,a=Array(i),o=i,s=i,c=function(i){Sr(t,function(){var c=rr(e[i],t),l=!1;c.subscribe(un(r,function(e){a[i]=e,l||(l=!0,s--),s||r.next(n(a.slice()))},function(){--o||r.complete()}))},r)},l=0;l<i;l++)c(l)},r)}}function Sr(e,t,n){e?qn(n,e,t):t()}function Cr(e,t,n,r,i,a,o,s){var c=[],l=0,u=0,d=!1,f=function(){d&&!c.length&&!l&&t.complete()},p=function(e){return l<r?m(e):c.push(e)},m=function(e){a&&t.next(e),l++;var s=!1;zn(n(e,u++)).subscribe(un(t,function(e){i?.(e),a?p(e):t.next(e)},function(){s=!0},void 0,function(){if(s)try{l--;for(var e=function(){var e=c.shift();o?qn(t,o,function(){return m(e)}):m(e)};c.length&&l<r;)e();f()}catch(e){t.error(e)}}))};return e.subscribe(un(t,p,function(){d=!0,f()})),function(){s?.()}}function wr(e,t,n){return n===void 0&&(n=1/0),L(t)?wr(function(n,r){return lr(function(e,i){return t(n,e,r,i)})(zn(e(n,r)))},n):(typeof t==`number`&&(n=t),ln(function(t,r){return Cr(t,r,e,n)}))}function Tr(e){return e===void 0&&(e=1/0),wr(tn,e)}function Er(){return Tr(1)}function Dr(){var e=[...arguments];return Er()(rr(e,Dn(e)))}var Or=[`addListener`,`removeListener`],kr=[`addEventListener`,`removeEventListener`],Ar=[`on`,`off`];function jr(e,t,n,r){if(L(n)&&(r=n,n=void 0),r)return jr(e,t,n).pipe(fr(r));var i=wt(Fr(e)?kr.map(function(r){return function(i){return e[r](t,i,n)}}):Nr(e)?Or.map(Mr(e,t)):Pr(e)?Ar.map(Mr(e,t)):[],2),a=i[0],o=i[1];if(!a&&kn(e))return wr(function(e){return jr(e,t,n)})(zn(e));if(!a)throw TypeError(`Invalid event target`);return new rn(function(e){var t=function(){var t=[...arguments];return e.next(1<t.length?t:t[0])};return a(t),function(){return o(t)}})}function Mr(e,t){return function(n){return function(r){return e[n](t,r)}}}function Nr(e){return L(e.addListener)&&L(e.removeListener)}function Pr(e){return L(e.on)&&L(e.off)}function Fr(e){return L(e.addEventListener)&&L(e.removeEventListener)}function Ir(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Sn);var r=-1;return t!=null&&(wn(t)?n=t:r=t),new rn(function(t){var i=cr(e)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule(function(){t.closed||(t.next(a++),0<=r?this.schedule(void 0,r):t.complete())},i)})}function Lr(){var e=[...arguments],t=Dn(e),n=On(e,1/0),r=e;return r.length?r.length===1?zn(r[0]):Tr(n)(rr(r,t)):Cn}function Rr(e,t){return ln(function(n,r){var i=0;n.subscribe(un(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}function zr(e){return ln(function(t,n){var r=null,i=!1,a;r=t.subscribe(un(n,void 0,void 0,function(o){a=zn(e(o,zr(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Br(e,t){return t===void 0&&(t=xn),ln(function(n,r){var i=null,a=null,o=null,s=function(){if(i){i.unsubscribe(),i=null;var e=a;a=null,r.next(e)}};function c(){var n=o+e,a=t.now();if(a<n){i=this.schedule(void 0,n-a),r.add(i);return}s()}n.subscribe(un(r,function(n){a=n,o=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){s(),r.complete()},void 0,function(){a=i=null}))})}function Vr(e){return e<=0?function(){return Cn}:ln(function(t,n){var r=0;t.subscribe(un(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}function Hr(){return ln(function(e,t){e.subscribe(un(t,Rt))})}function Ur(e){return lr(function(){return e})}function Wr(e,t){return t?function(n){return Dr(t.pipe(Vr(1),Hr()),n.pipe(Wr(e)))}:wr(function(t,n){return zn(e(t,n)).pipe(Vr(1),Ur(t))})}function Gr(e,t){t===void 0&&(t=xn);var n=Ir(e,t);return Wr(function(){return n})}function Kr(e,t){return t===void 0&&(t=tn),e??=qr,ln(function(n,r){var i,a=!0;n.subscribe(un(r,function(n){var o=t(n);(a||!e(i,o))&&(a=!1,i=o,r.next(n))}))})}function qr(e,t){return e===t}function Jr(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new pn}:t,r=e.resetOnError,i=r===void 0?!0:r,a=e.resetOnComplete,o=a===void 0?!0:a,s=e.resetOnRefCountZero,c=s===void 0?!0:s;return function(e){var t,r,a,s=0,l=!1,u=!1,d=function(){r?.unsubscribe(),r=void 0},f=function(){d(),t=a=void 0,l=u=!1},p=function(){var e=t;f(),e?.unsubscribe()};return ln(function(e,m){s++,!u&&!l&&d();var h=a??=n();m.add(function(){s--,s===0&&!u&&!l&&(r=Yr(p,c))}),h.subscribe(m),!t&&s>0&&(t=new Yt({next:function(e){return h.next(e)},error:function(e){u=!0,d(),r=Yr(f,i,e),h.error(e)},complete:function(){l=!0,d(),r=Yr(f,o),h.complete()}}),zn(e).subscribe(t))})(e)}}function Yr(e,t){var n=[...arguments].slice(2);if(t===!0){e();return}if(t!==!1){var r=new Yt({next:function(){r.unsubscribe(),e()}});return zn(t.apply(void 0,Tt([],wt(n)))).subscribe(r)}}function Xr(e){return Rr(function(t,n){return e<=n})}function Zr(){var e=[...arguments],t=Dn(e);return ln(function(n,r){(t?Dr(e,n,t):Dr(e,n)).subscribe(r)})}function Qr(e,t){return ln(function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(un(r,function(n){i?.unsubscribe();var o=0,c=a++;zn(e(n,c)).subscribe(i=un(r,function(e){return r.next(t?t(n,e,c,o++):e)},function(){i=null,s()}))},function(){o=!0,s()}))})}function $r(e,t,n){var r=L(e)||t||n?{next:e,error:t,complete:n}:e;return r?ln(function(e,t){var n;(n=r.subscribe)==null||n.call(r);var i=!0;e.subscribe(un(t,function(e){var n;(n=r.next)==null||n.call(r,e),t.next(e)},function(){var e;i=!1,(e=r.complete)==null||e.call(r),t.complete()},function(e){var n;i=!1,(n=r.error)==null||n.call(r,e),t.error(e)},function(){var e,t;i&&((e=r.unsubscribe)==null||e.call(r)),(t=r.finalize)==null||t.call(r)}))}):tn}const ei=()=>new Map,ti=e=>{let t=ei();return e.forEach((e,n)=>{t.set(n,e)}),t},ni=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},ri=(e,t)=>{let n=[];for(let[r,i]of e)n.push(t(i,r));return n},ii=(e,t)=>{for(let[n,r]of e)if(t(r,n))return!0;return!1};var ai=class{constructor(){this._observers=ei()}on(e,t){return ni(this._observers,e,pe).add(t),t}once(e,t){let n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){let n=this._observers.get(e);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(e))}emit(e,t){return D((this._observers.get(e)||ei()).values()).forEach(e=>e(...t))}destroy(){this._observers=ei()}},oi=class{constructor(){this._observers=ei()}on(e,t){ni(this._observers,e,pe).add(t)}once(e,t){let n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){let n=this._observers.get(e);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(e))}emit(e,t){return D((this._observers.get(e)||ei()).values()).forEach(e=>e(...t))}destroy(){this._observers=ei()}};crypto.subtle;const si=crypto.getRandomValues.bind(crypto),ci=()=>si(new Uint32Array(1))[0];var li=`10000000-1000-4000-8000-100000000000`;const ui=()=>li.replace(/[018]/g,e=>(e^ci()&15>>e/4).toString(16)),di=Date.now,fi=e=>new Promise(e);Promise.all.bind(Promise);const pi=e=>e===void 0?null:e;var mi=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}};try{typeof localStorage<`u`&&localStorage&&(mi=localStorage)}catch{}const hi=mi,gi=Object.assign,_i=Object.keys,vi=(e,t)=>{for(let n in e)t(e[n],n)},yi=e=>_i(e).length,bi=e=>_i(e).length,xi=e=>{for(let t in e)return!1;return!0},Si=(e,t)=>{for(let n in e)if(!t(e[n],n))return!1;return!0},Ci=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),wi=(e,t)=>e===t||bi(e)===bi(t)&&Si(e,(e,n)=>(e!==void 0||Ci(t,n))&&t[n]===e),Ti=Object.freeze,Ei=e=>{for(let t in e){let n=e[t];(typeof n==`object`||typeof n==`function`)&&Ei(e[t])}return Ti(e)},Di=Symbol(`Equality`),Oi=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Oi(e,t,n+1)}},ki=(e,t)=>{if(e===t)return!0;if(e==null||t==null||e.constructor!==t.constructor)return!1;if(e[Di]!=null)return e[Di](t);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(let n of e.keys())if(!t.has(n)||!ki(e.get(n),t.get(n)))return!1;break;case Object:if(yi(e)!==yi(t))return!1;for(let n in e)if(!Ci(e,n)||!ki(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!ki(e[n],t[n]))return!1;break;default:return!1}return!0},Ai=(e,t)=>t.includes(e),ji=typeof process<`u`&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<`u`?process:0)===`[object process]`;typeof navigator<`u`&&/Mac/.test(navigator.platform);var Mi,Ni=[],Pi=()=>{if(Mi===void 0)if(ji){Mi=ei();let e=process.argv,t=null;for(let n=0;n<e.length;n++){let r=e[n];r[0]===`-`?(t!==null&&Mi.set(t,``),t=r):t===null?Ni.push(r):(Mi.set(t,r),t=null)}t!==null&&Mi.set(t,``)}else typeof location==`object`?(Mi=ei(),(location.search||`?`).slice(1).split(`&`).forEach(e=>{if(e.length!==0){let[t,n]=e.split(`=`);Mi.set(`--${be(t,`-`)}`,n),Mi.set(`-${be(t,`-`)}`,n)}})):Mi=ei();return Mi};const Fi=e=>Pi().has(e),Ii=e=>pi(ji?{}[e.toUpperCase().replaceAll(`-`,`_`)]:hi.getItem(e)),Li=e=>Fi(`--`+e)||Ii(e)!==null;Li(`production`);const Ri=ji&&Ai({}.FORCE_COLOR,[`true`,`1`,`2`])||!Fi(`--no-colors`)&&!Li(`no-color`)&&(!ji||process.stdout.isTTY)&&(!ji||Fi(`--color`)||Ii(`COLORTERM`)!==null||(Ii(`TERM`)||``).includes(`color`));var zi=class{constructor(e,t){this.left=e,this.right=t}};const z=(e,t)=>new zi(e,t),B=typeof document<`u`?document:{};typeof DOMParser<`u`&&new DOMParser;const Bi=e=>ri(e,(e,t)=>`${t}:${e};`).join(``);B.ELEMENT_NODE,B.TEXT_NODE,B.CDATA_SECTION_NODE,B.COMMENT_NODE,B.DOCUMENT_NODE,B.DOCUMENT_TYPE_NODE,B.DOCUMENT_FRAGMENT_NODE;const Vi=Symbol,Hi=Vi(),Ui=Vi(),Wi=Vi(),Gi=Vi(),Ki=Vi(),qi=Vi(),Ji=Vi(),Yi=Vi(),Xi=Vi(),Zi=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],n=[],r=0;for(;r<e.length;r++){let n=e[r];if(n===void 0)break;if(n.constructor===String||n.constructor===Number)t.push(n);else if(n.constructor===Object)break}for(r>0&&n.push(t.join(``));r<e.length;r++){let t=e[r];t instanceof Symbol||n.push(t)}return n};di();var Qi={[Hi]:z(`font-weight`,`bold`),[Ui]:z(`font-weight`,`normal`),[Wi]:z(`color`,`blue`),[Ki]:z(`color`,`green`),[Gi]:z(`color`,`grey`),[qi]:z(`color`,`red`),[Ji]:z(`color`,`purple`),[Yi]:z(`color`,`orange`),[Xi]:z(`color`,`black`)},$i=Ri?e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],n=[],r=ei(),i=[],a=0;for(;a<e.length;a++){let i=e[a],o=Qi[i];if(o!==void 0)r.set(o.left,o.right);else{if(i===void 0)break;if(i.constructor===String||i.constructor===Number){let e=Bi(r);a>0||e.length>0?(t.push(`%c`+i),n.push(e)):t.push(i)}else break}}for(a>0&&(i=n,i.unshift(t.join(``)));a<e.length;a++){let t=e[a];t instanceof Symbol||i.push(t)}return i}:Zi;const ea=(...e)=>{console.log(...$i(e)),na.forEach(t=>t.print(e))},ta=(...e)=>{console.warn(...$i(e)),e.unshift(Yi),na.forEach(t=>t.print(e))},na=pe(),ra=e=>({[Symbol.iterator](){return this},next:e}),ia=(e,t)=>ra(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),aa=(e,t)=>ra(()=>{let{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});var oa=class{constructor(e,t){this.clock=e,this.len=t}},sa=class{constructor(){this.clients=new Map}},ca=(e,t,n)=>t.clients.forEach((t,r)=>{let i=e.doc.store.clients.get(r);if(i!=null){let r=i[i.length-1],a=r.id.clock+r.length;for(let r=0,o=t[r];r<t.length&&o.clock<a;o=t[++r])H(e,i,o.clock,o.len,n)}}),la=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){let i=ce((n+r)/2),a=e[i],o=a.clock;if(o<=t){if(t<o+a.len)return i;n=i+1}else r=i-1}return null},ua=(e,t)=>{let n=e.clients.get(t.client);return n!==void 0&&la(n,t.clock)!==null},da=e=>{e.clients.forEach(e=>{e.sort((e,t)=>e.clock-t.clock);let t,n;for(t=1,n=1;t<e.length;t++){let r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=T(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n})},fa=e=>{let t=new sa;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){let a=r.slice();for(let t=n+1;t<e.length;t++)he(a,e[t].clients.get(i)||[]);t.clients.set(i,a)}});return da(t),t},pa=(e,t,n,r)=>{ni(e.clients,t,()=>[]).push(new oa(n,r))},ma=()=>new sa,ha=(e,t)=>{A(e.restEncoder,t.clients.size),D(t.clients.entries()).sort((e,t)=>t[0]-e[0]).forEach(([t,n])=>{e.resetDsCurVal(),A(e.restEncoder,t);let r=n.length;A(e.restEncoder,r);for(let t=0;t<r;t++){let r=n[t];e.writeDsClock(r.clock),e.writeDsLen(r.len)}})},ga=e=>{let t=new sa,n=P(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();let n=P(e.restDecoder),r=P(e.restDecoder);if(r>0){let i=ni(t.clients,n,()=>[]);for(let t=0;t<r;t++)i.push(new oa(e.readDsClock(),e.readDsLen()))}}return t},_a=(e,t,n)=>{let r=new sa,i=P(e.restDecoder);for(let a=0;a<i;a++){e.resetDsCurVal();let i=P(e.restDecoder),a=P(e.restDecoder),o=n.clients.get(i)||[],s=Ka(n,i);for(let n=0;n<a;n++){let n=e.readDsClock(),a=n+e.readDsLen();if(n<s){s<a&&pa(r,i,s,a-s);let e=Ja(o,n),c=o[e];for(!c.deleted&&c.id.clock<n&&(o.splice(e+1,0,sc(t,c,n-c.id.clock)),e++);e<o.length&&(c=o[e++],c.id.clock<a);)c.deleted||(a<c.id.clock+c.length&&o.splice(e,0,sc(t,c,a-c.id.clock)),c.delete(t))}else pa(r,i,n,a-n)}}if(r.clients.size>0){let e=new Ta;return A(e.restEncoder,0),ha(e,r),e.toUint8Array()}return null},va=ci,ya=class e extends ai{constructor({guid:e=ui(),collectionid:t=null,gc:n=!0,gcFilter:r=()=>!0,meta:i=null,autoLoad:a=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=va(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new Wa,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=a,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=fi(e=>{this.on(`load`,()=>{this.isLoaded=!0,e(this)})});let s=()=>fi(e=>{let t=n=>{(n===void 0||n===!0)&&(this.off(`sync`,t),e())};this.on(`sync`,t)});this.on(`sync`,e=>{e===!1&&this.isSynced&&(this.whenSynced=s()),this.isSynced=e===void 0||e===!0,this.isSynced&&!this.isLoaded&&this.emit(`load`,[this])}),this.whenSynced=s()}load(){let e=this._item;e!==null&&!this.shouldLoad&&W(e.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(D(this.subdocs).map(e=>e.guid))}transact(e,t=null){return W(this,e,t)}get(e,t=ko){let n=ni(this.share,e,()=>{let e=new t;return e._integrate(this,null),e}),r=n.constructor;if(t!==ko&&r!==t)if(r===ko){let r=new t;r._map=n._map,n._map.forEach(e=>{for(;e!==null;e=e.left)e.parent=r}),r._start=n._start;for(let e=r._start;e!==null;e=e.right)e.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}else throw Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=``){return this.get(e,Yo)}getText(e=``){return this.get(e,vs)}getMap(e=``){return this.get(e,Qo)}getXmlElement(e=``){return this.get(e,Cs)}getXmlFragment(e=``){return this.get(e,xs)}toJSON(){let e={};return this.share.forEach((t,n)=>{e[n]=t.toJSON()}),e}destroy(){this.isDestroyed=!0,D(this.subdocs).forEach(e=>e.destroy());let t=this._item;if(t!==null){this._item=null;let n=t.content;n.doc=new e({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,W(t.parent.doc,e=>{let r=n.doc;t.deleted||e.subdocsAdded.add(r),e.subdocsRemoved.add(this)},null,!0)}this.emit(`destroyed`,[!0]),this.emit(`destroy`,[this]),super.destroy()}},ba=class{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=P(this.restDecoder),this.dsCurrVal}readDsLen(){let e=P(this.restDecoder)+1;return this.dsCurrVal+=e,e}},xa=class extends ba{constructor(e){super(e),this.keys=[],P(e),this.keyClockDecoder=new _t(at(e)),this.clientDecoder=new gt(at(e)),this.leftClockDecoder=new _t(at(e)),this.rightClockDecoder=new _t(at(e)),this.infoDecoder=new ht(at(e),ot),this.stringDecoder=new vt(at(e)),this.parentInfoDecoder=new ht(at(e),ot),this.typeRefDecoder=new gt(at(e)),this.lenDecoder=new gt(at(e))}readLeftID(){return new Ra(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ra(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return F(this.restDecoder)}readBuf(){return at(this.restDecoder)}readJSON(){return F(this.restDecoder)}readKey(){let e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{let e=this.stringDecoder.read();return this.keys.push(e),e}}},Sa=class{constructor(){this.restEncoder=Ee()}toUint8Array(){return Oe(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){A(this.restEncoder,e)}writeDsLen(e){A(this.restEncoder,e)}},Ca=class extends Sa{writeLeftID(e){A(this.restEncoder,e.client),A(this.restEncoder,e.clock)}writeRightID(e){A(this.restEncoder,e.client),A(this.restEncoder,e.clock)}writeClient(e){A(this.restEncoder,e)}writeInfo(e){je(this.restEncoder,e)}writeString(e){Fe(this.restEncoder,e)}writeParentInfo(e){A(this.restEncoder,e?1:0)}writeTypeRef(e){A(this.restEncoder,e)}writeLen(e){A(this.restEncoder,e)}writeAny(e){Ue(this.restEncoder,e)}writeBuf(e){j(this.restEncoder,e)}writeJSON(e){Fe(this.restEncoder,JSON.stringify(e))}writeKey(e){Fe(this.restEncoder,e)}},wa=class{constructor(){this.restEncoder=Ee(),this.dsCurrVal=0}toUint8Array(){return Oe(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,A(this.restEncoder,t)}writeDsLen(e){e===0&&Qe(),A(this.restEncoder,e-1),this.dsCurrVal+=e}},Ta=class extends wa{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Je,this.clientEncoder=new Ke,this.leftClockEncoder=new Je,this.rightClockEncoder=new Je,this.infoEncoder=new We(je),this.stringEncoder=new Ye,this.parentInfoEncoder=new We(je),this.typeRefEncoder=new Ke,this.lenEncoder=new Ke}toUint8Array(){let e=Ee();return A(e,0),j(e,this.keyClockEncoder.toUint8Array()),j(e,this.clientEncoder.toUint8Array()),j(e,this.leftClockEncoder.toUint8Array()),j(e,this.rightClockEncoder.toUint8Array()),j(e,Oe(this.infoEncoder)),j(e,this.stringEncoder.toUint8Array()),j(e,Oe(this.parentInfoEncoder)),j(e,this.typeRefEncoder.toUint8Array()),j(e,this.lenEncoder.toUint8Array()),Le(e,Oe(this.restEncoder)),Oe(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ue(this.restEncoder,e)}writeBuf(e){j(this.restEncoder,e)}writeJSON(e){Ue(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}},Ea=(e,t,n,r)=>{r=T(r,t[0].id.clock);let i=Ja(t,r);A(e.restEncoder,t.length-i),e.writeClient(n),A(e.restEncoder,r);let a=t[i];a.write(e,r-a.id.clock);for(let n=i+1;n<t.length;n++)t[n].write(e,0)},Da=(e,t,n)=>{let r=new Map;n.forEach((e,n)=>{Ka(t,n)>e&&r.set(n,e)}),Ga(t).forEach((e,t)=>{n.has(t)||r.set(t,0)}),A(e.restEncoder,r.size),D(r.entries()).sort((e,t)=>t[0]-e[0]).forEach(([n,r])=>{Ea(e,t.clients.get(n),n,r)})},Oa=(e,t)=>{let n=ei(),r=P(e.restDecoder);for(let i=0;i<r;i++){let r=P(e.restDecoder),i=Array(r),a=e.readClient(),o=P(e.restDecoder);n.set(a,{i:0,refs:i});for(let n=0;n<r;n++){let r=e.readInfo();switch(31&r){case 0:{let t=e.readLen();i[n]=new Ms(V(a,o),t),o+=t;break}case 10:{let t=P(e.restDecoder);i[n]=new fc(V(a,o),t),o+=t;break}default:{let s=(r&192)==0,c=new cc(V(a,o),null,(r&128)==128?e.readLeftID():null,null,(r&64)==64?e.readRightID():null,s?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,s&&(r&32)==32?e.readString():null,lc(e,r));i[n]=c,o+=c.length}}}}return n},ka=(e,t,n)=>{let r=[],i=D(n.keys()).sort((e,t)=>e-t);if(i.length===0)return null;let a=()=>{if(i.length===0)return null;let e=n.get(i[i.length-1]);for(;e.refs.length===e.i;)if(i.pop(),i.length>0)e=n.get(i[i.length-1]);else return null;return e},o=a();if(o===null)return null;let s=new Wa,c=new Map,l=(e,t)=>{let n=c.get(e);(n==null||n>t)&&c.set(e,t)},u=o.refs[o.i++],d=new Map,f=()=>{for(let e of r){let t=e.id.client,r=n.get(t);r?(r.i--,s.clients.set(t,r.refs.slice(r.i)),n.delete(t),r.i=0,r.refs=[]):s.clients.set(t,[e]),i=i.filter(e=>e!==t)}r.length=0};for(;;){if(u.constructor!==fc){let i=ni(d,u.id.client,()=>Ka(t,u.id.client))-u.id.clock;if(i<0)r.push(u),l(u.id.client,u.id.clock-1),f();else{let a=u.getMissing(e,t);if(a!==null){r.push(u);let e=n.get(a)||{refs:[],i:0};if(e.refs.length===e.i)l(a,Ka(t,a)),f();else{u=e.refs[e.i++];continue}}else (i===0||i<u.length)&&(u.integrate(e,i),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(o!==null&&o.i<o.refs.length)u=o.refs[o.i++];else{if(o=a(),o===null)break;u=o.refs[o.i++]}}if(s.clients.size>0){let e=new Ta;return Da(e,s,new Map),A(e.restEncoder,0),{missing:c,update:e.toUint8Array()}}return null},Aa=(e,t)=>Da(e,t.doc.store,t.beforeState),ja=(e,t,n,r=new xa(e))=>W(t,e=>{e.local=!1;let t=!1,n=e.doc,i=n.store,a=Oa(r,n),o=ka(e,i,a),s=i.pendingStructs;if(s){for(let[e,n]of s.missing)if(n<Ka(i,e)){t=!0;break}if(o){for(let[e,t]of o.missing){let n=s.missing.get(e);(n==null||n>t)&&s.missing.set(e,t)}s.update=fo([s.update,o.update])}}else i.pendingStructs=o;let c=_a(r,e,i);if(i.pendingDs){let t=new xa(nt(i.pendingDs));P(t.restDecoder);let n=_a(t,e,i);c&&n?i.pendingDs=fo([c,n]):i.pendingDs=c||n}else i.pendingDs=c;if(t){let t=i.pendingStructs.update;i.pendingStructs=null,Ma(e.doc,t)}},n,!1),Ma=(e,t,n,r=xa)=>{let i=nt(t);ja(i,e,n,new r(i))},Na=class{constructor(){this.l=[]}},Pa=()=>new Na,Fa=(e,t)=>e.l.push(t),Ia=(e,t)=>{let n=e.l,r=n.length;e.l=n.filter(e=>t!==e),r===e.l.length&&console.error(`[yjs] Tried to remove event handler that doesn't exist.`)},La=(e,t,n)=>Oi(e.l,[t,n]),Ra=class{constructor(e,t){this.client=e,this.clock=t}},za=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,V=(e,t)=>new Ra(e,t),Ba=e=>{for(let[t,n]of e.doc.share.entries())if(n===e)return t;throw Qe()},Va=class{constructor(e,t){this.ds=e,this.sv=t}};((e,t)=>new Va(e,t))(ma(),new Map);var Ha=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!ua(t.ds,e.id),Ua=(e,t)=>{let n=ni(e.meta,Ua,pe),r=e.doc.store;n.has(t)||(t.sv.forEach((t,n)=>{t<Ka(r,n)&&Za(e,V(n,t))}),ca(e,t.ds,e=>{}),n.add(t))},Wa=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},Ga=e=>{let t=new Map;return e.clients.forEach((e,n)=>{let r=e[e.length-1];t.set(n,r.id.clock+r.length)}),t},Ka=(e,t)=>{let n=e.clients.get(t);if(n===void 0)return 0;let r=n[n.length-1];return r.id.clock+r.length},qa=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{let e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw Qe()}n.push(t)},Ja=(e,t)=>{let n=0,r=e.length-1,i=e[r],a=i.id.clock;if(a===t)return r;let o=ce(t/(a+i.length-1)*r);for(;n<=r;){if(i=e[o],a=i.id.clock,a<=t){if(t<a+i.length)return o;n=o+1}else r=o-1;o=ce((n+r)/2)}throw Qe()},Ya=(e,t)=>{let n=e.clients.get(t.client);return n[Ja(n,t.clock)]},Xa=(e,t,n)=>{let r=Ja(t,n),i=t[r];return i.id.clock<n&&i instanceof cc?(t.splice(r+1,0,sc(e,i,n-i.id.clock)),r+1):r},Za=(e,t)=>{let n=e.doc.store.clients.get(t.client);return n[Xa(e,n,t.clock)]},Qa=(e,t,n)=>{let r=t.clients.get(n.client),i=Ja(r,n.clock),a=r[i];return n.clock!==a.id.clock+a.length-1&&a.constructor!==Ms&&r.splice(i+1,0,sc(e,a,n.clock-a.id.clock+1)),a},$a=(e,t,n)=>{let r=e.clients.get(t.id.client);r[Ja(r,t.id.clock)]=n},H=(e,t,n,r,i)=>{if(r===0)return;let a=n+r,o=Xa(e,t,n),s;do s=t[o++],a<s.id.clock+s.length&&Xa(e,t,a),i(s);while(o<t.length&&t[o].id.clock<a)},U=class{constructor(e,t,n){this.doc=e,this.deleteSet=new sa,this.beforeState=Ga(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},eo=(e,t)=>t.deleteSet.clients.size===0&&!ii(t.afterState,(e,n)=>t.beforeState.get(n)!==e)?!1:(da(t.deleteSet),Aa(e,t),ha(e,t.deleteSet),!0),to=(e,t,n)=>{let r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&ni(e.changed,t,pe).add(n)},no=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof cc&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}let a=t-i;return a&&e.splice(t+1-a,a),a},ro=(e,t,n)=>{for(let[r,i]of e.clients.entries()){let e=t.clients.get(r);for(let r=i.length-1;r>=0;r--){let a=i[r],o=a.clock+a.len;for(let r=Ja(e,a.clock),i=e[r];r<e.length&&i.id.clock<o;i=e[++r]){let i=e[r];if(a.clock+a.len<=i.id.clock)break;i instanceof cc&&i.deleted&&!i.keep&&n(i)&&i.gc(t,!1)}}}},io=(e,t)=>{e.clients.forEach((e,n)=>{let r=t.clients.get(n);for(let t=e.length-1;t>=0;t--){let n=e[t],i=ue(r.length-1,1+Ja(r,n.clock+n.len-1));for(let e=i,t=r[e];e>0&&t.id.clock>=n.clock;t=r[e])e-=1+no(r,e)}})},ao=(e,t)=>{if(t<e.length){let n=e[t],r=n.doc,i=r.store,a=n.deleteSet,o=n._mergeStructs;try{da(a),n.afterState=Ga(n.doc.store),r.emit(`beforeObserverCalls`,[n,r]);let e=[];n.changed.forEach((t,r)=>e.push(()=>{(r._item===null||!r._item.deleted)&&r._callObserver(n,t)})),e.push(()=>{n.changedParentTypes.forEach((e,t)=>{t._dEH.l.length>0&&(t._item===null||!t._item.deleted)&&(e=e.filter(e=>e.target._item===null||!e.target._item.deleted),e.forEach(e=>{e.currentTarget=t,e._path=null}),e.sort((e,t)=>e.path.length-t.path.length),La(t._dEH,e,n))})}),e.push(()=>r.emit(`afterTransaction`,[n,r])),Oi(e,[]),n._needFormattingCleanup&&hs(n)}finally{r.gc&&ro(a,i,r.gcFilter),io(a,i),n.afterState.forEach((e,t)=>{let r=n.beforeState.get(t)||0;if(r!==e){let e=i.clients.get(t),n=T(Ja(e,r),1);for(let t=e.length-1;t>=n;)t-=1+no(e,t)}});for(let e=o.length-1;e>=0;e--){let{client:t,clock:n}=o[e].id,r=i.clients.get(t),a=Ja(r,n);a+1<r.length&&no(r,a+1)>1||a>0&&no(r,a)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(ea(Yi,Hi,`[yjs] `,Ui,qi,`Changed the client-id because another client seems to be using it.`),r.clientID=va()),r.emit(`afterTransactionCleanup`,[n,r]),r._observers.has(`update`)){let e=new Ca;eo(e,n)&&r.emit(`update`,[e.toUint8Array(),n.origin,r,n])}if(r._observers.has(`updateV2`)){let e=new Ta;eo(e,n)&&r.emit(`updateV2`,[e.toUint8Array(),n.origin,r,n])}let{subdocsAdded:s,subdocsLoaded:c,subdocsRemoved:l}=n;(s.size>0||l.size>0||c.size>0)&&(s.forEach(e=>{e.clientID=r.clientID,e.collectionid??=r.collectionid,r.subdocs.add(e)}),l.forEach(e=>r.subdocs.delete(e)),r.emit(`subdocs`,[{loaded:c,added:s,removed:l},r,n]),l.forEach(e=>e.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit(`afterAllTransactions`,[r,e])):ao(e,t+1)}}},W=(e,t,n=null,r=!0)=>{let i=e._transactionCleanups,a=!1,o=null;e._transaction===null&&(a=!0,e._transaction=new U(e,n,r),i.push(e._transaction),i.length===1&&e.emit(`beforeAllTransactions`,[e]),e.emit(`beforeTransaction`,[e._transaction,e]));try{o=t(e._transaction)}finally{if(a){let t=e._transaction===i[0];e._transaction=null,t&&ao(i,0)}}return o};function*oo(e){let t=P(e.restDecoder);for(let n=0;n<t;n++){let t=P(e.restDecoder),n=e.readClient(),r=P(e.restDecoder);for(let i=0;i<t;i++){let t=e.readInfo();if(t===10){let t=P(e.restDecoder);yield new fc(V(n,r),t),r+=t}else if(31&t){let i=(t&192)==0,a=new cc(V(n,r),null,(t&128)==128?e.readLeftID():null,null,(t&64)==64?e.readRightID():null,i?e.readParentInfo()?e.readString():e.readLeftID():null,i&&(t&32)==32?e.readString():null,lc(e,t));yield a,r+=a.length}else{let t=e.readLen();yield new Ms(V(n,r),t),r+=t}}}}var so=class{constructor(e,t){this.gen=oo(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===fc);return this.curr}},co=class{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}},lo=(e,t=wa,n=xa)=>{let r=new t,i=new so(new n(nt(e)),!1),a=i.curr;if(a!==null){let e=0,t=a.id.client,n=a.id.clock!==0,o=n?0:a.id.clock+a.length;for(;a!==null;a=i.next())t!==a.id.client&&(o!==0&&(e++,A(r.restEncoder,t),A(r.restEncoder,o)),t=a.id.client,o=0,n=a.id.clock!==0),a.constructor===fc&&(n=!0),n||(o=a.id.clock+a.length);o!==0&&(e++,A(r.restEncoder,t),A(r.restEncoder,o));let s=Ee();return A(s,e),Ie(s,r.restEncoder),r.restEncoder=s,r.toUint8Array()}else return A(r.restEncoder,0),r.toUint8Array()},uo=(e,t)=>{if(e.constructor===Ms){let{client:n,clock:r}=e.id;return new Ms(V(n,r+t),e.length-t)}else if(e.constructor===fc){let{client:n,clock:r}=e.id;return new fc(V(n,r+t),e.length-t)}else{let n=e,{client:r,clock:i}=n.id;return new cc(V(r,i+t),null,V(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},fo=(e,t=xa,n=Ta)=>{if(e.length===1)return e[0];let r=e.map(e=>new t(nt(e))),i=r.map(e=>new so(e,!0)),a=null,o=new n,s=new co(o);for(;i=i.filter(e=>e.curr!==null),i.sort((e,t)=>{if(e.curr.id.client===t.curr.id.client){let n=e.curr.id.clock-t.curr.id.clock;return n===0?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===fc?1:-1:n}else return t.curr.id.client-e.curr.id.client}),i.length!==0;){let e=i[0],t=e.curr.id.client;if(a!==null){let n=e.curr,r=!1;for(;n!==null&&n.id.clock+n.length<=a.struct.id.clock+a.struct.length&&n.id.client>=a.struct.id.client;)n=e.next(),r=!0;if(n===null||n.id.client!==t||r&&n.id.clock>a.struct.id.clock+a.struct.length)continue;if(t!==a.struct.id.client)mo(s,a.struct,a.offset),a={struct:n,offset:0},e.next();else if(a.struct.id.clock+a.struct.length<n.id.clock)if(a.struct.constructor===fc)a.struct.length=n.id.clock+n.length-a.struct.id.clock;else{mo(s,a.struct,a.offset);let e=n.id.clock-a.struct.id.clock-a.struct.length;a={struct:new fc(V(t,a.struct.id.clock+a.struct.length),e),offset:0}}else{let t=a.struct.id.clock+a.struct.length-n.id.clock;t>0&&(a.struct.constructor===fc?a.struct.length-=t:n=uo(n,t)),a.struct.mergeWith(n)||(mo(s,a.struct,a.offset),a={struct:n,offset:0},e.next())}}else a={struct:e.curr,offset:0},e.next();for(let n=e.curr;n!==null&&n.id.client===t&&n.id.clock===a.struct.id.clock+a.struct.length&&n.constructor!==fc;n=e.next())mo(s,a.struct,a.offset),a={struct:n,offset:0}}a!==null&&(mo(s,a.struct,a.offset),a=null),ho(s);let c=r.map(e=>ga(e)),l=fa(c);return ha(o,l),o.toUint8Array()},po=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:Oe(e.encoder.restEncoder)}),e.encoder.restEncoder=Ee(),e.written=0)},mo=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&po(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),A(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},ho=e=>{po(e);let t=e.encoder.restEncoder;A(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){let r=e.clientStructs[n];A(t,r.written),Le(t,r.restEncoder)}},go=`You must not compute changes after the event-handler fired.`,_o=class{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||=vo(this.currentTarget,this.target)}deletes(e){return ua(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Xe(go);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(n=>{if(n!==null){let r=t._map.get(n),i,a;if(this.adds(r)){let e=r.left;for(;e!==null&&this.adds(e);)e=e.left;if(this.deletes(r))if(e!==null&&this.deletes(e))i=`delete`,a=me(e.content.getContent());else return;else e!==null&&this.deletes(e)?(i=`update`,a=me(e.content.getContent())):(i=`add`,a=void 0)}else if(this.deletes(r))i=`delete`,a=me(r.content.getContent());else return;e.set(n,{action:i,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Xe(go);let t=this.target,n=pe(),r=pe(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null,a=()=>{e&&i.push(e)};for(let i=t._start;i!==null;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&((e===null||e.delete===void 0)&&(a(),e={delete:0}),e.delete+=i.length,r.add(i)):this.adds(i)?((e===null||e.insert===void 0)&&(a(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),n.add(i)):((e===null||e.retain===void 0)&&(a(),e={retain:0}),e.retain+=i.length);e!==null&&e.retain===void 0&&a()}this._changes=e}return e}},vo=(e,t)=>{let n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let e=0,r=t._item.parent._start;for(;r!==t._item&&r!==null;)!r.deleted&&r.countable&&(e+=r.length),r=r.right;n.unshift(e)}t=t._item.parent}return n},yo=()=>{ta(`Invalid access: Add Yjs type to a document before reading data.`)},bo=80,xo=0,So=class{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=xo++}},Co=e=>{e.timestamp=xo++},wo=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=xo++},To=(e,t,n)=>{if(e.length>=bo){let r=e.reduce((e,t)=>e.timestamp<t.timestamp?e:t);return wo(r,t,n),r}else{let r=new So(t,n);return e.push(r),r}},Eo=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;let n=e._searchMarker.length===0?null:e._searchMarker.reduce((e,n)=>le(t-e.index)<le(t-n.index)?e:n),r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,Co(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&le(n.index-i)<r.parent.length/bo?(wo(n,r,i),n):To(e._searchMarker,r,i)},Do=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){let i=e[r];if(n>0){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(i.index-=t.length);if(t===null||t.marker===!0){e.splice(r,1);continue}i.p=t,t.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=T(t,i.index+n))}},Oo=(e,t,n)=>{let r=e,i=t.changedParentTypes;for(;ni(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;La(r._eH,n,t)},ko=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Pa(),this._dEH=Pa(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw Ze()}clone(){throw Ze()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Fa(this._eH,e)}observeDeep(e){Fa(this._dEH,e)}unobserve(e){Ia(this._eH,e)}unobserveDeep(e){Ia(this._dEH,e)}toJSON(){}},Ao=(e,t,n)=>{e.doc??yo(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t,i=[],a=e._start;for(;a!==null&&r>0;){if(a.countable&&!a.deleted){let e=a.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&r>0;n++)i.push(e[n]),r--;t=0}}a=a.right}return i},jo=e=>{e.doc??yo();let t=[],n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){let e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},Mo=(e,t)=>{let n=0,r=e._start;for(e.doc??yo();r!==null;){if(r.countable&&!r.deleted){let i=r.content.getContent();for(let r=0;r<i.length;r++)t(i[r],n++,e)}r=r.right}},No=(e,t)=>{let n=[];return Mo(e,(r,i)=>{n.push(t(r,i,e))}),n},Po=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}let e=n[r++];return n.length<=r&&(n=null),{done:!1,value:e}}}},Fo=(e,t)=>{e.doc??yo();let n=Eo(e,t),r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Io=(e,t,n,r)=>{let i=n,a=e.doc,o=a.clientID,s=a.store,c=n===null?t._start:n.right,l=[],u=()=>{l.length>0&&(i=new cc(V(o,Ka(s,o)),i,i&&i.lastId,c,c&&c.id,t,null,new qs(l)),i.integrate(e,0),l=[])};r.forEach(n=>{if(n===null)l.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:i=new cc(V(o,Ka(s,o)),i,i&&i.lastId,c,c&&c.id,t,null,new Ns(new Uint8Array(n))),i.integrate(e,0);break;case ya:i=new cc(V(o,Ka(s,o)),i,i&&i.lastId,c,c&&c.id,t,null,new Rs(n)),i.integrate(e,0);break;default:if(n instanceof ko)i=new cc(V(o,Ka(s,o)),i,i&&i.lastId,c,c&&c.id,t,null,new ac(n)),i.integrate(e,0);else throw Error(`Unexpected content type in insert operation`)}}}),u()},Lo=()=>Xe(`Length exceeded!`),Ro=(e,t,n,r)=>{if(n>t._length)throw Lo();if(n===0)return t._searchMarker&&Do(t._searchMarker,n,r.length),Io(e,t,null,r);let i=n,a=Eo(t,n),o=t._start;for(a!==null&&(o=a.p,n-=a.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Za(e,V(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&Do(t._searchMarker,i,r.length),Io(e,t,o,r)},zo=(e,t,n)=>{let r=(t._searchMarker||[]).reduce((e,t)=>t.index>e.index?t:e,{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;return Io(e,t,r,n)},Bo=(e,t,n,r)=>{if(r===0)return;let i=n,a=r,o=Eo(t,n),s=t._start;for(o!==null&&(s=o.p,n-=o.index);s!==null&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&Za(e,V(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&s!==null;)s.deleted||(r<s.length&&Za(e,V(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw Lo();t._searchMarker&&Do(t._searchMarker,i,-a+r)},Vo=(e,t,n)=>{let r=t._map.get(n);r!==void 0&&r.delete(e)},Ho=(e,t,n,r)=>{let i=t._map.get(n)||null,a=e.doc,o=a.clientID,s;if(r==null)s=new qs([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:s=new qs([r]);break;case Uint8Array:s=new Ns(r);break;case ya:s=new Rs(r);break;default:if(r instanceof ko)s=new ac(r);else throw Error(`Unexpected content type`)}new cc(V(o,Ka(a.store,o)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},Uo=(e,t)=>{e.doc??yo();let n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Wo=e=>{let t={};return e.doc??yo(),e._map.forEach((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])}),t},Go=(e,t)=>{e.doc??yo();let n=e._map.get(t);return n!==void 0&&!n.deleted},Ko=(e,t)=>{let n={};return e._map.forEach((e,r)=>{let i=e;for(;i!==null&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;i!==null&&Ha(i,t)&&(n[r]=i.content.getContent()[i.length-1])}),n},qo=e=>(e.doc??yo(),ia(e._map.entries(),e=>!e[1].deleted)),Jo=class extends _o{},Yo=class e extends ko{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){let n=new e;return n.push(t),n}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(e=>e instanceof ko?e.clone():e)),t}get length(){return this.doc??yo(),this._length}_callObserver(e,t){super._callObserver(e,t),Oo(this,e,new Jo(this,e))}insert(e,t){this.doc===null?this._prelimContent.splice(e,0,...t):W(this.doc,n=>{Ro(n,this,e,t)})}push(e){this.doc===null?this._prelimContent.push(...e):W(this.doc,t=>{zo(t,this,e)})}unshift(e){this.insert(0,e)}delete(e,t=1){this.doc===null?this._prelimContent.splice(e,t):W(this.doc,n=>{Bo(n,this,e,t)})}get(e){return Fo(this,e)}toArray(){return jo(this)}slice(e=0,t=this.length){return Ao(this,e,t)}toJSON(){return this.map(e=>e instanceof ko?e.toJSON():e)}map(e){return No(this,e)}forEach(e){Mo(this,e)}[Symbol.iterator](){return Po(this)}_write(e){e.writeTypeRef(Qs)}},Xo=e=>new Yo,Zo=class extends _o{constructor(e,t,n){super(e,t),this.keysChanged=n}},Qo=class e extends ko{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((e,t)=>{this.set(t,e)}),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return this.forEach((e,n)=>{t.set(n,e instanceof ko?e.clone():e)}),t}_callObserver(e,t){Oo(this,e,new Zo(this,e,t))}toJSON(){this.doc??yo();let e={};return this._map.forEach((t,n)=>{if(!t.deleted){let r=t.content.getContent()[t.length-1];e[n]=r instanceof ko?r.toJSON():r}}),e}get size(){return[...qo(this)].length}keys(){return aa(qo(this),e=>e[0])}values(){return aa(qo(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return aa(qo(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??yo(),this._map.forEach((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc===null?this._prelimContent.delete(e):W(this.doc,t=>{Vo(t,this,e)})}set(e,t){return this.doc===null?this._prelimContent.set(e,t):W(this.doc,n=>{Ho(n,this,e,t)}),t}get(e){return Uo(this,e)}has(e){return Go(this,e)}clear(){this.doc===null?this._prelimContent.clear():W(this.doc,e=>{this.forEach(function(t,n,r){Vo(e,r,n)})})}_write(e){e.writeTypeRef($s)}},$o=e=>new Qo,es=(e,t)=>e===t||typeof e==`object`&&typeof t==`object`&&e&&t&&wi(e,t),ts=class{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){switch(this.right===null&&Qe(),this.right.content.constructor){case Hs:this.right.deleted||ss(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},ns=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case Hs:t.right.deleted||ss(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Za(e,V(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},rs=(e,t,n,r)=>{let i=new Map,a=r?Eo(t,n):null;if(a){let t=new ts(a.p.left,a.p,a.index,i);return ns(e,t,n-a.index)}else{let r=new ts(null,t._start,0,i);return ns(e,r,n)}},os=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Hs&&es(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();let i=e.doc,a=i.clientID;r.forEach((r,o)=>{let s=n.left,c=n.right,l=new cc(V(a,Ka(i.store,a)),s,s&&s.lastId,c,c&&c.id,t,null,new Hs(o,r));l.integrate(e,0),n.right=l,n.forward()})},ss=(e,t)=>{let{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},cs=(e,t)=>{for(;e.right!==null&&(e.right.deleted||e.right.content.constructor===Hs&&es(t[e.right.content.key]??null,e.right.content.value));)e.forward()},ls=(e,t,n,r)=>{let i=e.doc,a=i.clientID,o=new Map;for(let s in r){let c=r[s],l=n.currentAttributes.get(s)??null;if(!es(l,c)){o.set(s,l);let{left:r,right:u}=n;n.right=new cc(V(a,Ka(i.store,a)),r,r&&r.lastId,u,u&&u.id,t,null,new Hs(s,c)),n.right.integrate(e,0),n.forward()}}return o},us=(e,t,n,r,i)=>{n.currentAttributes.forEach((e,t)=>{i[t]===void 0&&(i[t]=null)});let a=e.doc,o=a.clientID;cs(n,i);let s=ls(e,t,n,i),c=r.constructor===String?new Ys(r):r instanceof ko?new ac(r):new Bs(r),{left:l,right:u,index:d}=n;t._searchMarker&&Do(t._searchMarker,n.index,c.getLength()),u=new cc(V(o,Ka(a.store,o)),l,l&&l.lastId,u,u&&u.id,t,null,c),u.integrate(e,0),n.right=u,n.index=d,n.forward(),os(e,t,n,s)},ds=(e,t,n,r,i)=>{let a=e.doc,o=a.clientID;cs(n,i);let s=ls(e,t,n,i);iterationLoop:for(;n.right!==null&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===Hs));){if(!n.right.deleted)switch(n.right.content.constructor){case Hs:{let{key:t,value:a}=n.right.content,o=i[t];if(o!==void 0){if(es(o,a))s.delete(t);else{if(r===0)break iterationLoop;s.set(t,a)}n.right.delete(e)}else n.currentAttributes.set(t,a);break}default:r<n.right.length&&Za(e,V(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let i=``;for(;r>0;r--)i+=`
`;n.right=new cc(V(o,Ka(a.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Ys(i)),n.right.integrate(e,0),n.forward()}os(e,t,n,s)},fs=(e,t,n,r,i)=>{let a=t,o=ei();for(;a&&(!a.countable||a.deleted);){if(!a.deleted&&a.content.constructor===Hs){let e=a.content;o.set(e.key,e)}a=a.right}let s=0,c=!1;for(;t!==a;){if(n===t&&(c=!0),!t.deleted){let n=t.content;switch(n.constructor){case Hs:{let{key:a,value:l}=n,u=r.get(a)??null;(o.get(a)!==n||u===l)&&(t.delete(e),s++,!c&&(i.get(a)??null)===l&&u!==l&&(u===null?i.delete(a):i.set(a,u))),!c&&!t.deleted&&ss(i,n);break}}}t=t.right}return s},ps=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Hs){let r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},ms=e=>{let t=0;return W(e.doc,n=>{let r=e._start,i=e._start,a=ei(),o=ti(a);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Hs:ss(o,i.content);break;default:t+=fs(n,r,i,a,o),a=ti(o),r=i;break}i=i.right}}),t},hs=e=>{let t=new Set,n=e.doc;for(let[r,i]of e.afterState.entries()){let a=e.beforeState.get(r)||0;if(i===a)continue;H(e,n.store.clients.get(r),a,i,e=>{!e.deleted&&e.content.constructor===Hs&&e.constructor!==Ms&&t.add(e.parent)})}W(n,n=>{ca(e,e.deleteSet,e=>{if(e instanceof Ms||!e.parent._hasFormatting||t.has(e.parent))return;let r=e.parent;e.content.constructor===Hs?t.add(r):ps(n,e)});for(let e of t)ms(e)})},gs=(e,t,n)=>{let r=n,i=ti(t.currentAttributes),a=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case ac:case Bs:case Ys:n<t.right.length&&Za(e,V(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}a&&fs(e,a,t.right,i,t.currentAttributes);let o=(t.left||t.right).parent;return o._searchMarker&&Do(o._searchMarker,t.index,-r+n),t},_s=class extends _o{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(e=>{e===null?this.childListChanged=!0:this.keysChanged.add(e)})}get changes(){return this._changes===null&&(this._changes={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set}),this._changes}get delta(){if(this._delta===null){let e=this.target.doc,t=[];W(e,e=>{let n=new Map,r=new Map,i=this.target._start,a=null,o={},s=``,c=0,l=0,u=()=>{if(a!==null){let e=null;switch(a){case`delete`:l>0&&(e={delete:l}),l=0;break;case`insert`:(typeof s==`object`||s.length>0)&&(e={insert:s},n.size>0&&(e.attributes={},n.forEach((t,n)=>{t!==null&&(e.attributes[n]=t)}))),s=``;break;case`retain`:c>0&&(e={retain:c},xi(o)||(e.attributes=gi({},o))),c=0;break}e&&t.push(e),a=null}};for(;i!==null;){switch(i.content.constructor){case ac:case Bs:this.adds(i)?this.deletes(i)||(u(),a=`insert`,s=i.content.getContent()[0],u()):this.deletes(i)?(a!==`delete`&&(u(),a=`delete`),l+=1):i.deleted||(a!==`retain`&&(u(),a=`retain`),c+=1);break;case Ys:this.adds(i)?this.deletes(i)||(a!==`insert`&&(u(),a=`insert`),s+=i.content.str):this.deletes(i)?(a!==`delete`&&(u(),a=`delete`),l+=i.length):i.deleted||(a!==`retain`&&(u(),a=`retain`),c+=i.length);break;case Hs:{let{key:t,value:s}=i.content;if(this.adds(i)){if(!this.deletes(i)){let c=n.get(t)??null;es(c,s)?s!==null&&i.delete(e):(a===`retain`&&u(),es(s,r.get(t)??null)?delete o[t]:o[t]=s)}}else if(this.deletes(i)){r.set(t,s);let e=n.get(t)??null;es(e,s)||(a===`retain`&&u(),o[t]=e)}else if(!i.deleted){r.set(t,s);let n=o[t];n!==void 0&&(es(n,s)?n!==null&&i.delete(e):(a===`retain`&&u(),s===null?delete o[t]:o[t]=s))}i.deleted||(a===`insert`&&u(),ss(n,i.content));break}}i=i.right}for(u();t.length>0;){let e=t[t.length-1];if(e.retain!==void 0&&e.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}},vs=class e extends ko{constructor(e){super(),this._pending=e===void 0?[]:[()=>this.insert(0,e)],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??yo(),this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(e=>e())}catch(e){console.error(e)}this._pending=null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}_callObserver(e,t){super._callObserver(e,t);let n=new _s(this,e,t);Oo(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??yo();let e=``,t=this._start;for(;t!==null;)!t.deleted&&t.countable&&t.content.constructor===Ys&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){this.doc===null?this._pending.push(()=>this.applyDelta(e)):W(this.doc,n=>{let r=new ts(null,this._start,0,new Map);for(let i=0;i<e.length;i++){let a=e[i];if(a.insert!==void 0){let o=!t&&typeof a.insert==`string`&&i===e.length-1&&r.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof o!=`string`||o.length>0)&&us(n,this,r,o,a.attributes||{})}else a.retain===void 0?a.delete!==void 0&&gs(n,r,a.delete):ds(n,this,r,a.retain,a.attributes||{})}})}toDelta(e,t,n){this.doc??yo();let r=[],i=new Map,a=this.doc,o=``,s=this._start;function c(){if(o.length>0){let e={},t=!1;i.forEach((n,r)=>{t=!0,e[r]=n});let n={insert:o};t&&(n.attributes=e),r.push(n),o=``}}let l=()=>{for(;s!==null;){if(Ha(s,e)||t!==void 0&&Ha(s,t))switch(s.content.constructor){case Ys:{let r=i.get(`ychange`);e!==void 0&&!Ha(s,e)?(r===void 0||r.user!==s.id.client||r.type!==`removed`)&&(c(),i.set(`ychange`,n?n(`removed`,s.id):{type:`removed`})):t!==void 0&&!Ha(s,t)?(r===void 0||r.user!==s.id.client||r.type!==`added`)&&(c(),i.set(`ychange`,n?n(`added`,s.id):{type:`added`})):r!==void 0&&(c(),i.delete(`ychange`)),o+=s.content.str;break}case ac:case Bs:{c();let e={insert:s.content.getContent()[0]};if(i.size>0){let t={};e.attributes=t,i.forEach((e,n)=>{t[n]=e})}r.push(e);break}case Hs:Ha(s,e)&&(c(),ss(i,s.content));break}s=s.right}c()};return e||t?W(a,n=>{e&&Ua(n,e),t&&Ua(n,t),l()},`cleanup`):l(),r}insert(e,t,n){if(t.length<=0)return;let r=this.doc;r===null?this._pending.push(()=>this.insert(e,t,n)):W(r,r=>{let i=rs(r,this,e,!n);n||(n={},i.currentAttributes.forEach((e,t)=>{n[t]=e})),us(r,this,i,t,n)})}insertEmbed(e,t,n){let r=this.doc;r===null?this._pending.push(()=>this.insertEmbed(e,t,n||{})):W(r,r=>{let i=rs(r,this,e,!n);us(r,this,i,t,n||{})})}delete(e,t){if(t===0)return;let n=this.doc;n===null?this._pending.push(()=>this.delete(e,t)):W(n,n=>{gs(n,rs(n,this,e,!0),t)})}format(e,t,n){if(t===0)return;let r=this.doc;r===null?this._pending.push(()=>this.format(e,t,n)):W(r,r=>{let i=rs(r,this,e,!1);i.right!==null&&ds(r,this,i,t,n)})}removeAttribute(e){this.doc===null?this._pending.push(()=>this.removeAttribute(e)):W(this.doc,t=>{Vo(t,this,e)})}setAttribute(e,t){this.doc===null?this._pending.push(()=>this.setAttribute(e,t)):W(this.doc,n=>{Ho(n,this,e,t)})}getAttribute(e){return Uo(this,e)}getAttributes(){return Wo(this)}_write(e){e.writeTypeRef(ec)}},ys=e=>new vs,bs=class{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??yo()}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===Cs||t.constructor===xs)&&t._start!==null)e=t._start;else for(;e!==null;){let t=e.next;if(t!==null){e=t;break}else e=e.parent===this._root?null:e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},xs=class e extends ko{constructor(){super(),this._prelimContent=[]}get firstChild(){let e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(e=>e instanceof ko?e.clone():e)),t}get length(){return this.doc??yo(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new bs(this,e)}querySelector(e){e=e.toUpperCase();let t=new bs(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),D(new bs(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){Oo(this,e,new Ts(this,t,e))}toString(){return No(this,e=>e.toString()).join(``)}toJSON(){return this.toString()}toDOM(e=document,t={},n){let r=e.createDocumentFragment();return n!==void 0&&n._createAssociation(r,this),Mo(this,i=>{r.insertBefore(i.toDOM(e,t,n),null)}),r}insert(e,t){this.doc===null?this._prelimContent.splice(e,0,...t):W(this.doc,n=>{Ro(n,this,e,t)})}insertAfter(e,t){if(this.doc!==null)W(this.doc,n=>{let r=e&&e instanceof ko?e._item:e;Io(n,this,r,t)});else{let n=this._prelimContent,r=e===null?0:n.findIndex(t=>t===e)+1;if(r===0&&e!==null)throw Xe(`Reference item not found`);n.splice(r,0,...t)}}delete(e,t=1){this.doc===null?this._prelimContent.splice(e,t):W(this.doc,n=>{Bo(n,this,e,t)})}toArray(){return jo(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Fo(this,e)}slice(e=0,t=this.length){return Ao(this,e,t)}forEach(e){Mo(this,e)}_write(e){e.writeTypeRef(nc)}},Ss=e=>new xs,Cs=class e extends xs{constructor(e=`UNDEFINED`){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((e,t)=>{this.setAttribute(t,e)}),this._prelimAttrs=null}_copy(){return new e(this.nodeName)}clone(){let t=new e(this.nodeName),n=this.getAttributes();return vi(n,(e,n)=>{typeof e==`string`&&t.setAttribute(n,e)}),t.insert(0,this.toArray().map(e=>e instanceof ko?e.clone():e)),t}toString(){let e=this.getAttributes(),t=[],n=[];for(let t in e)n.push(t);n.sort();let r=n.length;for(let i=0;i<r;i++){let r=n[i];t.push(r+`="`+e[r]+`"`)}let i=this.nodeName.toLocaleLowerCase(),a=t.length>0?` `+t.join(` `):``;return`<${i}${a}>${super.toString()}</${i}>`}removeAttribute(e){this.doc===null?this._prelimAttrs.delete(e):W(this.doc,t=>{Vo(t,this,e)})}setAttribute(e,t){this.doc===null?this._prelimAttrs.set(e,t):W(this.doc,n=>{Ho(n,this,e,t)})}getAttribute(e){return Uo(this,e)}hasAttribute(e){return Go(this,e)}getAttributes(e){return e?Ko(this,e):Wo(this)}toDOM(e=document,t={},n){let r=e.createElement(this.nodeName),i=this.getAttributes();for(let e in i){let t=i[e];typeof t==`string`&&r.setAttribute(e,t)}return Mo(this,i=>{r.appendChild(i.toDOM(e,t,n))}),n!==void 0&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(tc),e.writeKey(this.nodeName)}},ws=e=>new Cs(e.readKey()),Ts=class extends _o{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(e=>{e===null?this.childListChanged=!0:this.attributesChanged.add(e)})}},Es=class e extends Qo{constructor(e){super(),this.hookName=e}_copy(){return new e(this.hookName)}clone(){let t=new e(this.hookName);return this.forEach((e,n)=>{t.set(n,e)}),t}toDOM(e=document,t={},n){let r=t[this.hookName],i;return i=r===void 0?document.createElement(this.hookName):r.createDom(this),i.setAttribute(`data-yjs-hook`,this.hookName),n!==void 0&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(rc),e.writeKey(this.hookName)}},Ds=e=>new Es(e.readKey()),Os=class e extends vs{get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}toDOM(e=document,t,n){let r=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{let t=[];for(let n in e.attributes){let r=[];for(let t in e.attributes[n])r.push({key:t,value:e.attributes[n][t]});r.sort((e,t)=>e.key<t.key?-1:1),t.push({nodeName:n,attrs:r})}t.sort((e,t)=>e.nodeName<t.nodeName?-1:1);let n=``;for(let e=0;e<t.length;e++){let r=t[e];n+=`<${r.nodeName}`;for(let e=0;e<r.attrs.length;e++){let t=r.attrs[e];n+=` ${t.key}="${t.value}"`}n+=`>`}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n}).join(``)}toJSON(){return this.toString()}_write(e){e.writeTypeRef(ic)}},ks=e=>new Os,As=class{constructor(e,t){this.id=e,this.length=t}get deleted(){throw Ze()}mergeWith(e){return!1}write(e,t,n){throw Ze()}integrate(e,t){throw Ze()}},js=0,Ms=class extends As{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor?(this.length+=e.length,!0):!1}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),qa(e.doc.store,this)}write(e,t){e.writeInfo(js),e.writeLen(this.length-t)}getMissing(e,t){return null}},Ns=class e{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new e(this.content)}splice(e){throw Ze()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}},Ps=e=>new Ns(e.readBuf()),Fs=class e{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.len)}splice(t){let n=new e(this.len-t);return this.len=t,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){pa(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}},Is=e=>new Fs(e.readLen()),Ls=(e,t)=>new ya({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1}),Rs=class e{constructor(e){e._item&&console.error(`This document was already integrated as a sub-document. You should create a second instance instead with the same guid.`),this.doc=e;let t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),e.meta!==null&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new e(Ls(this.doc.guid,this.opts))}splice(e){throw Ze()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}},zs=e=>new Rs(Ls(e.readString(),e.readAny())),Bs=class e{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new e(this.embed)}splice(e){throw Ze()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}},Vs=e=>new Bs(e.readJSON()),Hs=class e{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.key,this.value)}splice(e){throw Ze()}mergeWith(e){return!1}integrate(e,t){let n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}},Us=e=>new Hs(e.readKey(),e.readJSON()),Ws=class e{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){let t=this.arr[r];e.writeString(t===void 0?`undefined`:JSON.stringify(t))}}getRef(){return 2}},Gs=e=>{let t=e.readLen(),n=[];for(let r=0;r<t;r++){let t=e.readString();t===`undefined`?n.push(void 0):n.push(JSON.parse(t))}return new Ws(n)},Ks=Ii(`node_env`)===`development`,qs=class e{constructor(e){this.arr=e,Ks&&Ei(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){let t=this.arr[r];e.writeAny(t)}}getRef(){return 8}},Js=e=>{let t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new qs(n)},Ys=class e{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split(``)}isCountable(){return!0}copy(){return new e(this.str)}splice(t){let n=new e(this.str.slice(t));this.str=this.str.slice(0,t);let r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+`�`,n.str=`�`+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(t===0?this.str:this.str.slice(t))}getRef(){return 4}},Xs=e=>new Ys(e.readString()),Zs=[Xo,$o,ys,ws,Ss,Ds,ks],Qs=0,$s=1,ec=2,tc=3,nc=4,rc=5,ic=6,ac=class e{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new e(this.type._copy())}splice(e){throw Ze()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;t!==null;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;t!==null;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;t!==null;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}},oc=e=>new ac(Zs[e.readTypeRef()](e)),sc=(e,t,n)=>{let{client:r,clock:i}=t.id,a=new cc(V(r,i+n),t,V(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&a.markDeleted(),t.keep&&(a.keep=!0),t.redone!==null&&(a.redone=V(t.redone.client,t.redone.clock+n)),t.right=a,a.right!==null&&(a.right.left=a),e._mergeStructs.push(a),a.parentSub!==null&&a.right===null&&a.parent._map.set(a.parentSub,a),t.length=n,a},cc=class e extends As{constructor(e,t,n,r,i,a,o,s){super(e,s.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=i,this.parent=a,this.parentSub=o,this.redone=null,this.content=s,this.info=this.content.isCountable()?2:0}set marker(e){(this.info&8)>0!==e&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ka(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ka(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ra&&this.id.client!==this.parent.client&&this.parent.clock>=Ka(n,this.parent.client))return this.parent.client;if(this.origin&&=(this.left=Qa(t,n,this.origin),this.left.lastId),this.rightOrigin&&=(this.right=Za(t,this.rightOrigin),this.right.id),this.left&&this.left.constructor===Ms||this.right&&this.right.constructor===Ms)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===e?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===e&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ra){let e=Ya(n,this.parent);e.constructor===Ms?this.parent=null:this.parent=e.content.type}return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=Qa(e,e.doc.store,V(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let t=this.left,n;if(t!==null)n=t.right;else if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start;let r=new Set,i=new Set;for(;n!==null&&n!==this.right;){if(i.add(n),r.add(n),za(this.origin,n.origin)){if(n.id.client<this.id.client)t=n,r.clear();else if(za(this.rightOrigin,n.rightOrigin))break}else if(n.origin!==null&&i.has(Ya(e.doc.store,n.origin)))r.has(Ya(e.doc.store,n.origin))||(t=n,r.clear());else break;n=n.right}this.left=t}if(this.left!==null)this.right=this.left.right,this.left.right=this;else{let e;if(this.parentSub!==null)for(e=this.parent._map.get(this.parentSub)||null;e!==null&&e.left!==null;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}this.right===null?this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)):this.right.left=this,this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),qa(e.doc.store,this),this.content.integrate(e,this),to(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ms(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:V(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&za(e.origin,this.lastId)&&this.right===e&&za(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){let t=this.parent._searchMarker;return t&&t.forEach(t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){let t=this.parent;this.countable&&this.parentSub===null&&(t._length-=this.length),this.markDeleted(),pa(e.deleteSet,this.id.client,this.id.clock,this.length),to(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw Qe();this.content.gc(e),t?$a(e,this,new Ms(this.id,this.length)):this.content=new Fs(this.length)}write(e,t){let n=t>0?V(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,a=this.content.getRef()&31|(n===null?0:128)|(r===null?0:64)|(i===null?0:32);if(e.writeInfo(a),n!==null&&e.writeLeftID(n),r!==null&&e.writeRightID(r),n===null&&r===null){let t=this.parent;if(t._item!==void 0){let n=t._item;if(n===null){let n=Ba(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===Ra?(e.writeParentInfo(!1),e.writeLeftID(t)):Qe();i!==null&&e.writeString(i)}this.content.write(e,t)}},lc=(e,t)=>uc[t&31](e),uc=[()=>{Qe()},Is,Gs,Ps,Xs,Vs,Us,oc,Js,zs,()=>{Qe()}],dc=10,fc=class extends As{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor?(this.length+=e.length,!0):!1}integrate(e,t){Qe()}write(e,t){e.writeInfo(dc),A(e.restEncoder,this.length-t)}getMissing(e,t){return null}},pc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:{},mc=`__ $YJS$ __`;pc[mc]===!0&&console.error(`Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438`),pc[mc]=!0,{}.hasOwnProperty;var hc=new FinalizationRegistry(({cache:e,key:t})=>{delete e[t]});function gc(e){var t;return(t=e._novip)._docCache??(t._docCache={cache:{},get size(){return Object.keys(this.cache).length},find(e,t,n){let r=yc(e,t,n),i=this.cache[r];return i?i.deref():void 0},add(e){let{parentTable:t,parentId:n,parentProp:r}=e.meta;if(!t||!r||n==null)throw Error(`Missing Dexie-related metadata in Y.Doc`);let i=yc(t,n,r),a=this.cache[i]?.deref();a&&hc.unregister(a),this.cache[i]=new WeakRef(e),hc.register(e,{cache:this.cache,key:i},e)},delete(e){hc.unregister(e);let t=yc(e.meta.parentTable,e.meta.parentId,e.meta.parentProp);this.cache[t]?.deref()===e&&delete this.cache[t]}})}var _c=new WeakSet;function vc(e){if(_c.has(e))throw Error(`Y.Doc ${e.meta.parentId} has been destroyed`)}function yc(e,t,n){return`${e}[${t}].${n}`}function bc(e,t,n,r,i,a){let o=t.find(n,a,r);return o||(o=new ya({meta:{db:e,updatesTable:i,parentProp:r,parentTable:n,parentId:a}}),t.add(o),o.on(`destroy`,()=>{_c.add(o),t.delete(o)}),o)}var{getByKeyPath:xc}=b,Sc=null;function Cc(e){Sc=e}function wc(e,t,n,r,i,a){let o=0,s=!0,c=x(()=>{vc(t);let e=n.table(i);return Promise.all([(o>0?e.where(`i`).between(o,1/0,!1).toArray().then(e=>e.filter(e=>te(e.k,a)===0)):e.where({k:a}).toArray()).then(e=>e),n.table(r).where(`:id`).equals(a).toArray()])}).subscribe(([n,r])=>{if(n.length>0&&(o=n[n.length-1].i),r.length===0){t.destroy();return}vc(t),n.length>0&&W(t,()=>{n.forEach(e=>{try{Cc(e),Ma(t,e.u)}finally{Cc(null)}})},e,!1),s&&(s=!1,t.emit(`load`,[t]))},t=>{e.on(`error`).fire(t)}),l=(t,r)=>{r!==e&&n.table(i).add({k:a,u:t,f:1}).then(e=>{e===o-1&&++o}).catch(t=>{e.on(`error`).fire(t)})},u=()=>{c.unsubscribe(),t.off(`updateV2`,l),t.off(`destroy`,u)};return t.on(`updateV2`,l),t.on(`destroy`,u),u}function Tc(){}function Ec(e,t){return e===Tc?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then==`function`){for(var r=this,i=arguments.length,a=Array(i);i--;)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}function Dc(e,t){return e===Tc?t:function(){e.apply(this,arguments),t.apply(this,arguments)}}var Oc=new WeakMap;function kc(){return b.Events(null,`load`,`sync`,`error`)}var Ac=class e{static getOrCreateDocument(e,t,n,r){let i=gc(e),a=e.table(t).schema.yProps?.find(e=>e.prop===n)?.updatesTable;if(!a)throw Error(`Updates table for ${t}.${n} not found`);return bc(e,i,t,n,a,r)}static load(t,n){let r=Oc.get(t);return r?(++r.refCount,n?.gracePeriod!=null&&r.graceTimeout<n.gracePeriod&&(r.graceTimeout=n.gracePeriod),r.graceTimer&&=(clearTimeout(r.graceTimer),null)):(r=new e(t),r.graceTimeout=n?.gracePeriod??-1,Oc.set(t,r)),r}static release(e){if(!e||_c.has(e))return;let t=Oc.get(e);t?--t.refCount<=0&&(t.graceTimeout<0?t._release():t.graceTimer||=setTimeout(()=>{t.graceTimer=null,t.refCount===0&&t._release()},t.graceTimeout)):e.destroy()}_release(){this.doc&&Promise.resolve(e.on(`beforeunload`).fire(this)).finally(()=>{var e;this.refCount===0&&((e=this.doc)==null||e.destroy())})}static for(e){return Oc.get(e)}static get currentUpdateRow(){return Sc}get whenLoaded(){return this._whenLoaded||=new Promise((e,t)=>{if(!this.doc){t(Error(`No Y.Doc associated with this provider`));return}this.doc.isLoaded?e():this._error?t(this._error):_c.has(this.doc)?t(new b.AbortError(`Document was destroyed before loaded`)):(this.on(`load`,e),this.on(`error`,t),this.doc.on(`destroy`,()=>t(new b.AbortError(`Document was destroyed before loaded`))))}),this._whenLoaded}get whenSynced(){return this._whenSynced||=new Promise((e,t)=>{if(!this.doc){t(Error(`No Y.Doc associated with this provider`));return}this.doc.isSynced?e():this._error?t(this._error):_c.has(this.doc)?t(new b.AbortError(`Document was destroyed before synced`)):(this.on(`sync`,e),this.on(`error`,t),this.doc.on(`destroy`,()=>t(new b.AbortError(`Document was destroyed before synced`))))}),this._whenSynced}constructor(t){this.refCount=1,this.cleanupHandlers=[],this.graceTimeout=-1,this.doc=null,this.destroyed=!1,this.on=kc(),this.doc=t,this.off=(e,t)=>this.on[e]?.unsubscribe(t),`dispose`in Symbol&&(this[Symbol.dispose]=()=>e.release(t)),t.on(`load`,()=>this.on(`load`).fire()),t.on(`sync`,e=>e!==!1&&this.on(`sync`).fire()),t.on(`destroy`,this.destroy.bind(this)),this.on(`error`,e=>{this._error=e});let{db:n,parentTable:r,parentId:i,updatesTable:a}=t.meta||{};if(!n||!r||!a)throw Error(`Missing Dexie-related metadata in Y.Doc. Documents need to be obtained through Y.Doc properties from dexie queries.`);if(!n.table(r)||!n.table(a))throw Error(`Table ${r} or ${a} not found in db`);vc(t),this.stopObserving=wc(this,t,n,r,a,i),e.on(`new`).fire(this)}destroy(){var e;console.debug(`Y.Doc ${this.doc?.meta?.parentId} was destroyed`),Oc.delete(this.doc),this.doc=null,this.destroyed=!0,this.refCount=0,(e=this.stopObserving)==null||e.call(this),this.on=kc(),this.cleanupHandlers.forEach(e=>e())}addCleanupHandler(e){this.cleanupHandlers.push(typeof e==`function`?e:()=>e.unsubscribe())}};Ac.on=b.Events(null,{new:[Dc],beforeunload:[Ec]}),Ac.getDocCache=gc,b.DexieYProvider?Ac=b.DexieYProvider||Ac:b.DexieYProvider=Ac;var jc=class extends oi{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let e=di();this.getLocalState()!==null&&3e4/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let t=[];this.meta.forEach((n,r)=>{r!==this.clientID&&3e4<=e-n.lastUpdated&&this.states.has(r)&&t.push(r)}),t.length>0&&Mc(this,t,`timeout`)},ce(3e4/10)),e.on(`destroy`,()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit(`destroy`,[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){let t=this.clientID,n=this.meta.get(t),r=n===void 0?0:n.clock+1,i=this.states.get(t);e===null?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:di()});let a=[],o=[],s=[],c=[];e===null?c.push(t):i==null?e!=null&&a.push(t):(o.push(t),ki(i,e)||s.push(t)),(a.length>0||s.length>0||c.length>0)&&this.emit(`change`,[{added:a,updated:s,removed:c},`local`]),this.emit(`update`,[{added:a,updated:o,removed:c},`local`])}setLocalStateField(e,t){let n=this.getLocalState();n!==null&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}};const Mc=(e,t,n)=>{let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(e.states.has(i)){if(e.states.delete(i),i===e.clientID){let t=e.meta.get(i);e.meta.set(i,{clock:t.clock+1,lastUpdated:di()})}r.push(i)}}r.length>0&&(e.emit(`change`,[{added:[],updated:[],removed:r},n]),e.emit(`update`,[{added:[],updated:[],removed:r},n]))},Nc=(e,t,n=e.states)=>{let r=t.length,i=Ee();A(i,r);for(let a=0;a<r;a++){let r=t[a],o=n.get(r)||null,s=e.meta.get(r).clock;A(i,r),A(i,s),Fe(i,JSON.stringify(o))}return Oe(i)},Pc=(e,t,n)=>{let r=nt(t),i=di(),a=[],o=[],s=[],c=[],l=P(r);for(let t=0;t<l;t++){let t=P(r),n=P(r),l=JSON.parse(ct(r)),u=e.meta.get(t),d=e.states.get(t),f=u===void 0?0:u.clock;(f<n||f===n&&l===null&&e.states.has(t))&&(l===null?t===e.clientID&&e.getLocalState()!=null?n++:e.states.delete(t):e.states.set(t,l),e.meta.set(t,{clock:n,lastUpdated:i}),u===void 0&&l!==null?a.push(t):u!==void 0&&l===null?c.push(t):l!==null&&(ki(l,d)||s.push(t),o.push(t)))}(a.length>0||s.length>0||c.length>0)&&e.emit(`change`,[{added:a,updated:s,removed:c},n]),(a.length>0||o.length>0||c.length>0)&&e.emit(`update`,[{added:a,updated:o,removed:c},n])};function G(e,t,n,r){return new(n||=Promise)((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function Fc(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function Ic(e){return this instanceof Ic?(this.v=e,this):new Ic(e)}function Lc(e,t,n){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var r,i=n.apply(e,t||[]),a=[];return r={},o(`next`),o(`throw`),o(`return`),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(function(e){e.value instanceof Ic?Promise.resolve(e.value.v).then(c,l):u(a[0][2],e)})(i[e](t))}catch(e){u(a[0][3],e)}}function c(e){s(`next`,e)}function l(e){s(`throw`,e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Rc(e){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Fc(e),t={},r(`next`),r(`throw`),r(`return`),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}var zc={}.hasOwnProperty;function Bc(e,t,n){if(e&&t!==void 0&&(!(`isFrozen`in Object)||!Object.isFrozen(e)))if(typeof t!=`string`&&`length`in t){(function(e){if(!e)throw Error(`Assertion Failed`)})(typeof n!=`string`&&`length`in n);for(var r=0,i=t.length;r<i;++r)Bc(e,t[r],n[r])}else{var a=t.indexOf(`.`);if(a!==-1){var o=t.substr(0,a),s=t.substr(a+1);if(s===``)n===void 0?Array.isArray(e)?isNaN(parseInt(o))||e.splice(parseInt(o),1):delete e[o]:e[o]=n;else{var c=e[o];c&&function(e,t){return zc.call(e,t)}(e,o)||(c=e[o]={}),Bc(c,s,n)}}else n===void 0?Array.isArray(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}var Vc=typeof self<`u`&&typeof crypto<`u`?(e,t=crypto.getRandomValues.bind(crypto))=>{let n=new Uint8Array(e);return t(n),self.btoa(String.fromCharCode.apply(null,n))}:typeof Buffer<`u`?(e,t=Hc)=>{let n=Buffer.alloc(e);return t(n),n.toString(`base64`)}:()=>{throw Error(`No implementation of randomString was found`)};function Hc(e){for(let t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}function Uc(e){return typeof e==`string`||!!(Array.isArray(e)&&e.some((e=>Uc(e)))&&e.every(Wc))}function Wc(e){return typeof e==`string`||typeof e==`number`||Array.isArray(e)&&e.every(Wc)}function Gc(e,t,n){let r=e[t]||(e[t]={}),i=n.keys.map((e=>typeof e==`string`?e:JSON.stringify(e)));switch(n.type){case`insert`:case`upsert`:i.forEach(((e,t)=>{r[e]={type:`ups`,val:n.values[t]}}));break;case`update`:case`modify`:i.forEach(((e,t)=>{let i=n.type===`update`?n.changeSpecs[t]:n.changeSpec,a=r[e];if(a)switch(a.type){case`ups`:for(let[e,t]of Object.entries(i))Bc(a.val,e,t);break;case`del`:break;case`upd`:Object.assign(a.mod,i)}else r[e]={type:`upd`,mod:i}}));break;case`delete`:i.forEach((e=>{r[e]={type:`del`}}))}return e}function Kc(e,t){for(let{table:n,muts:r}of t)for(let t of r)Gc(e,n,t)}function qc(e){return Lc(this,arguments,(function*(){var t,n,r,i;let a=0,o=new Uint8Array(4),s=0,c=[],l=0;try{for(var u,d=!0,f=Rc(e);!(t=(u=yield Ic(f.next())).done);d=!0){i=u.value,d=!1;let e=i,t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=0;for(;n<e.byteLength;)switch(a){case 0:if(n+4>e.byteLength){for(let t of e.slice(n)){if(s===4)break;o[s++]=t,++n}if(s<4)break}else if(s>0&&s<4)for(let t of e.slice(n,n+4-s))o[s++]=t,++n;case 1:l=s===4?new DataView(o.buffer,0,4).getUint32(0,!1):t.getUint32(n,!1),s?s=0:n+=4;case 2:if(n>=e.byteLength){a=2;break}if(n+l>e.byteLength)c.push(e.slice(n)),l-=e.byteLength-n,a=2,n=e.byteLength;else{if(c.length>0){let t=new Uint8Array(c.reduce(((e,t)=>e+t.byteLength),l)),r=0;for(let e of c)t.set(e,r),r+=e.byteLength;t.set(e.slice(n,n+l),r),c=[],yield yield Ic(t)}else yield yield Ic(e.slice(n,n+l));n+=l,a=0}}}}catch(e){n={error:e}}finally{try{d||t||!(r=f.return)||(yield Ic(r.call(f)))}finally{if(n)throw n.error}}}))}var Jc=!1;function Yc(e,t){return G(this,void 0,void 0,(function*(){try{let n=yield navigator.serviceWorker.ready;if(t===`push`&&n.sync&&(yield n.sync.register(`dexie-cloud:${e.name}`)),!n.active)throw Error(`Failed to trigger sync - there's no active service worker`);n.active.postMessage({type:`dexie-cloud-sync`,dbName:e.name,purpose:t});return}catch{Jc||=!0}}))}function Xc(e,t){e.cloud.usingServiceWorker?Yc(e,t):e.localSyncEvent.next({purpose:t})}var Zc=`fromBase64`in Uint8Array,Qc=`toBase64`in Uint8Array.prototype,$c=typeof Buffer<`u`?e=>Buffer.from(e,`base64`):Zc?e=>Uint8Array.fromBase64(e):e=>{let t=atob(e),n=t.length,r=new Uint8Array(n);for(var i=0;i<n;i++)r[i]=t.charCodeAt(i);return r},el=typeof Buffer<`u`?e=>ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString(`base64`):Buffer.from(e).toString(`base64`):Qc?e=>(ArrayBuffer.isView(e)?e:new Uint8Array(e)).toBase64():e=>{let t=ArrayBuffer.isView(e)?e:new Uint8Array(e),n=[];for(let e=0,r=t.length;e<r;e+=4096){let r=t.subarray(e,e+4096);n.push(String.fromCharCode.apply(null,r))}return btoa(n.join(``))},tl=class extends Error{constructor({title:e,message:t,messageCode:n,messageParams:r}){super(t),this.name=`TokenErrorResponseError`,this.title=e,this.messageCode=n,this.messageParams=r}};function nl(e,t){return new Promise(((n,r)=>{let i=Object.assign(Object.assign({submitLabel:`Submit`,cancelLabel:`Cancel`},t),{onSubmit:t=>{e.next(void 0),n(t)},onCancel:()=>{e.next(void 0),r(new w.AbortError(`User cancelled`))}});e.next(i)}))}function rl(e,t,...n){return nl(e,{type:`message-alert`,title:t,alerts:n,fields:{},submitLabel:`OK`,cancelLabel:null})}function il(e,t,n){return G(this,void 0,void 0,(function*(){let r=n||``;for(;!r||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(r);)r=(yield nl(e,{type:`email`,title:t,alerts:r?[{type:`error`,messageCode:`INVALID_EMAIL`,message:`Please enter a valid email address`,messageParams:{}}]:[],fields:{email:{type:`email`,placeholder:`you@somedomain.com`}}})).email;return r}))}function al(e,t,n){return G(this,void 0,void 0,(function*(){let r=[{type:`info`,messageCode:`OTP_SENT`,message:`A One-Time password has been sent to {email}`,messageParams:{email:t}}];n&&r.push(n);let{otp:i}=yield nl(e,{type:`otp`,title:`Enter OTP`,alerts:r,fields:{otp:{type:`otp`,label:`OTP`,placeholder:`Paste OTP here`}}});return i}))}function ol(e){return G(this,void 0,void 0,(function*(){let t=yield e.getCurrentUser(),{accessToken:n,accessTokenExpiration:r,refreshToken:i,refreshTokenExpiration:a,claims:o}=t;if(!n)return null;if((r?.getTime()??1/0)>Date.now()&&(t.license?.status||`ok`)===`ok`)return t;if(!i)throw Error(`Refresh token missing`);if((a?.getTime()??1/0)<=Date.now())throw Error(`Refresh token has expired`);let s=yield cl(e.cloud.options.databaseUrl,t);return yield e.table(`$logins`).update(o.sub,{accessToken:s.accessToken,accessTokenExpiration:s.accessTokenExpiration,claims:s.claims,license:s.license,data:s.data}),s}))}function sl(e,t,n,r,i){return G(this,void 0,void 0,(function*(){return t.accessToken&&t.accessTokenExpiration.getTime()>Date.now()?t:t.refreshToken&&(!t.refreshTokenExpiration||t.refreshTokenExpiration.getTime()>Date.now())?yield cl(e,t):yield function(e,t,n,r){return G(this,void 0,void 0,(function*(){if(!crypto.subtle)throw typeof location<`u`&&location.protocol===`http:`?Error(`Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)`):Error(`This browser does not support WebCrypto.`);let{privateKey:i,publicKey:a}=yield crypto.subtle.generateKey({name:`RSASSA-PKCS1-v1_5`,modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:`SHA-256`}},!1,[`sign`,`verify`]);if(!i||!a)throw Error(`Could not generate RSA keypair`);e.nonExportablePrivateKey=i;let o=function(e){return function(e){let t=`-----BEGIN PUBLIC KEY-----
`;for(;e.length>0;)t+=e.substring(0,64)+`
`,e=e.substring(64);return t+=`-----END PUBLIC KEY-----`,t}(el(e))}(yield crypto.subtle.exportKey(`spki`,a));e.publicKey=a;try{let i=yield t({public_key:o,hints:r});if(i.type===`error`)throw new tl(i);if(i.type!==`tokens`)throw Error(`Unexpected response type from token endpoint: ${i.type}`);return e.accessToken=i.accessToken,e.accessTokenExpiration=new Date(i.accessTokenExpiration),e.refreshToken=i.refreshToken,i.refreshTokenExpiration&&(e.refreshTokenExpiration=new Date(i.refreshTokenExpiration)),e.userId=i.claims.sub,e.email=i.claims.email,e.name=i.claims.name,e.claims=i.claims,e.license={type:i.userType,status:i.claims.license||`ok`},e.data=i.data,i.evalDaysLeft!=null&&(e.license.evalDaysLeft=i.evalDaysLeft),i.userValidUntil!=null&&(e.license.validUntil=new Date(i.userValidUntil)),i.alerts&&i.alerts.length>0&&(yield nl(n,{type:`message-alert`,title:`Authentication Alert`,fields:{},alerts:i.alerts})),e}catch(e){if(e instanceof tl)throw yield rl(n,e.title,{type:`error`,messageCode:e.messageCode,message:e.message,messageParams:{}}),e;let t=`We're having a problem authenticating right now.`;throw e instanceof TypeError&&(t=navigator.onLine?w.debug||typeof location<`u`&&(location.hostname===`localhost`||location.hostname===`127.0.0.1`)?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:`Could not connect to server. Please verify the connection.`:`You seem to be offline. Please connect to the internet and try again.`,yield rl(n,`Authentication Failed`,{type:`error`,messageCode:`GENERIC_ERROR`,message:t,messageParams:{}}).catch((()=>{}))),e}}))}(t,n,r,i)}))}function cl(e,t){return G(this,void 0,void 0,(function*(){if(!t.refreshToken)throw Error(`Cannot refresh token - refresh token is missing.`);if(!t.nonExportablePrivateKey)throw Error(`login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.`);let n=Date.now(),r=`RSASSA-PKCS1-v1_5`,i=new TextEncoder().encode(t.refreshToken+n),a=yield crypto.subtle.sign(r,t.nonExportablePrivateKey,i),o=el(a),s={grant_type:`refresh_token`,refresh_token:t.refreshToken,scopes:[`ACCESS_DB`],signature:o,signing_algorithm:r,time_stamp:n},c=yield fetch(`${e}/token`,{body:JSON.stringify(s),method:`post`,headers:{"Content-Type":`application/json`},mode:`cors`});if(c.status!==200)throw Error(`RefreshToken: Status ${c.status} from ${e}/token`);let l=yield c.json();if(l.type===`error`)throw new tl(l);return t.accessToken=l.accessToken,t.accessTokenExpiration=l.accessTokenExpiration?new Date(l.accessTokenExpiration):void 0,t.claims=l.claims,t.license={type:l.userType,status:l.claims.license||`ok`},l.evalDaysLeft!=null&&(t.license.evalDaysLeft=l.evalDaysLeft),l.userValidUntil!=null&&(t.license.validUntil=new Date(l.userValidUntil)),l.data&&(t.data=l.data),t}))}var ll=new WeakMap,ul=class e{constructor(e,t){ll.set(this,e),Object.assign(this,t)}static load(t,n){return t.table(`$logins`).get(n).then((r=>new e(t,r||{userId:n,claims:{sub:n},lastLogin:new Date(0)})))}save(){return G(this,void 0,void 0,(function*(){ll.get(this).table(`$logins`).put(this)}))}},dl={userId:`unauthorized`,name:`Unauthorized`,claims:{sub:`unauthorized`},lastLogin:new Date(0)};try{Object.freeze(dl),Object.freeze(dl.claims)}catch{}function fl(e,t){return sr(rr(e).pipe(Rr(t)))}function pl(e){return G(this,void 0,void 0,(function*(){let t=yield ml(e);if(t){if(!(yield function(e,t,n){return G(this,void 0,void 0,(function*(){let r=[{type:`warning`,messageCode:`LOGOUT_CONFIRMATION`,message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:t,numUnsyncedChanges:n.toString()}}];return yield nl(e,{type:`logout-confirmation`,title:`Confirm Logout`,alerts:r,fields:{},submitLabel:`Confirm logout`,cancelLabel:`Cancel`}).then((()=>!0)).catch((()=>!1))}))}(e.cloud.userInteraction,e.cloud.currentUserId,t)))throw Error(`User cancelled logout due to unsynced changes`);yield ml(e,{deleteUnsyncedData:!0})}}))}function ml(e){return G(this,arguments,void 0,(function*(e,{deleteUnsyncedData:t=!1}={}){let[n,r]=yield e.dx.transaction(`rw`,e.dx.tables,(n=>G(this,void 0,void 0,(function*(){let r=n.idbtrans;r.disableChangeTracking=!0,r.disableAccessControl=!0;let i=n.storeNames.filter((e=>e.endsWith(`_mutations`))),a=(yield Promise.all(i.map((e=>n.table(e).count())))).reduce(((e,t)=>e+t),0);if(a>0&&!t)return[a,!1];e.$syncState.delete(`syncState`);for(let t of e.dx.tables)t.name!==`$jobs`&&t.name!==`$syncState`&&t.clear();return[a,!0]}))));return r&&(yield fl(e.cloud.currentUser,(e=>e.userId===dl.userId)),yield e.cloud.sync({purpose:`pull`,wait:!0})),n}))}var hl=class extends Error{constructor(e,t){super(t||`${e.status} ${e.statusText}`),this.httpStatus=e.status}get name(){return`HttpError`}};function gl(e,...t){globalThis.console[e](...t)}function _l(e,t){return G(this,void 0,void 0,(function*(){let n=yield e.getCurrentUser(),r=n.userId;if(n.isLoggedIn&&(!t||!t.email&&!t.userId)){if((n.license?.status||`ok`)===`ok`&&n.accessToken&&(!n.accessTokenExpiration||n.accessTokenExpiration.getTime()>Date.now()))return!1;if(n.refreshToken&&(!n.refreshTokenExpiration||n.refreshTokenExpiration.getTime()>Date.now()))return yield ol(e),!1}let i=new ul(e,{claims:{},lastLogin:new Date(0)});return yield sl(e.cloud.options.databaseUrl,i,e.cloud.options.fetchTokens||function(e){let{userInteraction:t}=e.cloud;return function(n){return G(this,arguments,void 0,(function*({public_key:n,hints:r}){let i,a=e.cloud.options?.databaseUrl;if(!a)throw Error(`No database URL given.`);if(r?.grant_type===`demo`)i={demo_user:yield il(t,`Enter a demo user email`,r?.email||r?.userId),grant_type:`demo`,scopes:[`ACCESS_DB`],public_key:n};else if(r?.otpId&&r.otp)i={grant_type:`otp`,otp_id:r.otpId,otp:r.otp,scopes:[`ACCESS_DB`],public_key:n};else{let e=yield il(t,`Enter email address`,r?.email);i=/@demo.local$/.test(e)?{demo_user:e,grant_type:`demo`,scopes:[`ACCESS_DB`],public_key:n}:{email:e,grant_type:`otp`,scopes:[`ACCESS_DB`]}}let o=yield fetch(`${a}/token`,{body:JSON.stringify(i),method:`post`,headers:{"Content-Type":`application/json`,mode:`cors`}});if(o.status!==200){let e=yield o.text();throw yield rl(t,`Token request failed`,{type:`error`,messageCode:`GENERIC_ERROR`,message:e,messageParams:{}}).catch((()=>{})),new hl(o,e)}let s=yield o.json();if(s.type===`tokens`||s.type===`error`)return s;if(i.grant_type===`otp`&&`email`in i){if(s.type!==`otp-sent`)throw Error(`Unexpected response from ${a}/token`);let e=yield al(t,i.email),r=Object.assign(Object.assign({},i),{otp:e||``,otp_id:s.otp_id,public_key:n}),o=yield fetch(`${a}/token`,{body:JSON.stringify(r),method:`post`,headers:{"Content-Type":`application/json`},mode:`cors`});for(;o.status===401;){let e=yield o.text();r.otp=yield al(t,i.email,{type:`error`,messageCode:`INVALID_OTP`,message:e,messageParams:{}}),o=yield fetch(`${a}/token`,{body:JSON.stringify(r),method:`post`,headers:{"Content-Type":`application/json`},mode:`cors`})}if(o.status!==200){let e=yield o.text();throw new hl(o,e)}return yield o.json()}throw Error(`Unexpected response from ${a}/token`)}))}}(e),e.cloud.userInteraction,t),r!==dl.userId&&i.userId!==r&&(yield pl(e)),yield function(e,t){return G(this,void 0,void 0,(function*(){let n=e.table(`$logins`);yield e.transaction(`rw`,n,(e=>G(this,void 0,void 0,(function*(){let e=yield n.toArray();yield Promise.all(e.filter((e=>e.userId!==t.userId&&e.isLoggedIn)).map((e=>(e.isLoggedIn=!1,n.put(e))))),t.isLoggedIn=!0,t.lastLogin=new Date;try{yield t.save()}catch(e){try{e.name===`DataCloneError`&&(gl(`debug`,`Login context property names:`,Object.keys(t)),gl(`debug`,`Login context property names:`,Object.keys(t)),gl(`debug`,`Login context:`,t),gl(`debug`,`Login context JSON:`,JSON.stringify(t)))}catch{}throw e}})))),yield fl(e.cloud.currentUser,(e=>e.userId===t.userId))}))}(e,i),Xc(e,`pull`),i.userId!==r}))}var vl={},yl=typeof self<`u`&&self.document&&typeof navigator<`u`&&navigator.serviceWorker;yl&&yl.ready.then((e=>vl.registration=e)),typeof self<`u`&&`clients`in self&&!self.document&&addEventListener(`message`,(e=>{var t;(t=e.data?.type)!=null&&t.startsWith(`sw-broadcast-`)&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.id!==e.source?.id&&t.postMessage(e.data)))}));var bl=class{constructor(e){this.name=e}subscribe(e){if(!yl)return()=>{};let t=t=>{t.data?.type===`sw-broadcast-${this.name}`&&e(t.data.message)};return yl.addEventListener(`message`,t),()=>yl.removeEventListener(`message`,t)}postMessage(e){var t;typeof self.clients==`object`?[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:`sw-broadcast-${this.name}`,message:e}))):vl.registration&&((t=vl.registration.active)==null||t.postMessage({type:`sw-broadcast-${this.name}`,message:e}))}},xl=globalThis[`lbc-events`]||(globalThis[`lbc-events`]=new Map),Sl=class extends rn{constructor(e){let t=typeof BroadcastChannel>`u`?new bl(e):new BroadcastChannel(e);super((n=>{function r(e){n.next(e.detail)}function i(e){n.next(e.data)}let a;(function(e,t){xl.has(e)?xl.get(e).push(t):xl.set(e,[t])})(`lbc-${e}`,r);try{t instanceof bl?a=t.subscribe((e=>n.next(e))):t.addEventListener(`message`,i)}catch{}return()=>{(function(e,t){let n=xl.get(e);if(n){let e=n.indexOf(t);e!==-1&&n.splice(e,1)}})(`lbc-${e}`,r),t instanceof bl?a():t.removeEventListener(`message`,i)}})),this.name=e,this.bc=t}next(e){this.bc.postMessage(e),(function(e){let t=xl.get(e.type);t&&t.forEach((t=>{try{t(e)}catch{}}))})(new CustomEvent(`lbc-${this.name}`,{detail:e}))}};function Cl(e){return G(this,arguments,void 0,(function*({realms:e,inviteRealms:t}){let n=JSON.stringify([...e.map((e=>({realmId:e,accepted:!0}))),...t.map((e=>({realmId:e,accepted:!1})))].sort(((e,t)=>e.realmId<t.realmId?-1:e.realmId>t.realmId?1:0))),r=new TextEncoder().encode(n),i=yield crypto.subtle.digest(`SHA-1`,r);return el(i)}))}function wl(e){return Object.entries(e.cloud.schema||{}).filter((([,{markedForSync:e}])=>e)).map((([t])=>e.tables.filter((({name:e})=>e===t))[0])).filter((e=>e))}function Tl(e){return`$${e}_mutations`}function El(e){let t=/^\$(.*)_mutations$/.exec(e)?.[1];if(!t)throw Error(`Given mutationTable ${e} is not correct`);return t}var Dl=[].concat;function Ol(e){return Dl.apply([],e)}function kl(e,t){return G(this,arguments,void 0,(function*(e,t,{since:n={},limit:r=1/0}={}){let i=Ol(yield Promise.all(e.map((e=>G(this,void 0,void 0,(function*(){let t=El(e.name),i=n[t],a=i?e.where(`rev`).above(i):e;return r<1/0&&(a=a.limit(r)),(yield a.toArray()).map((e=>({table:t,mut:e})))})))))).sort(((e,t)=>e.mut.txid===t.mut.txid?e.mut.opNo-t.mut.opNo:e.mut.ts-t.mut.ts)),a=[],o=null,s=null;for(let{table:e,mut:t}of i)o&&o.table===e&&s===t.txid?o.muts.push(t):(o={table:e,muts:[t]},s=t.txid,a.push(o));return a}))}function Al(e){let t=new Uint8Array(e);if(typeof crypto<`u`)crypto.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());if(typeof Buffer<`u`&&Buffer.from)return Buffer.from(t).toString(`base64`);if(typeof btoa<`u`)return btoa(String.fromCharCode.apply(null,t));throw Error(`No btoa or Buffer available`)}var{toString:jl}={},Ml={replace:function(e){let t=Object.keys(e),n=null;for(let e=0,r=t.length;e<r;++e)t[e][0]===`$`&&(n||=[],n.push(t[e]));if(!n)return e;let r={...e};for(let e of n)delete r[e];for(let t of n)r[`$`+t]=e[t];return r}};function Nl(...e){let t=e.reduce(((e,t)=>({...e,...t})),e.reduce(((e,t)=>({...t,...e})),{})),n=new WeakMap;return{stringify(e,r,i){return JSON.stringify(e,(function(e){let i=this[e],a=function(e){let r=typeof e;switch(typeof e){case`object`:case`function`:{if(e===null)return null;let r=Object.getPrototypeOf(e);if(!r)return Ml;let a=n.get(r);if(a!==void 0)return a;let o=(i=e,jl.call(i).slice(8,-1));return a=Object.entries(t).find((([t,n])=>(n?.test)?.call(n,e,o)??t===o))?.[1],a||=Array.isArray(e)?null:typeof e==`function`?t.function||null:Ml,n.set(r,a),a}default:return t[r]}var i}(i);return a?a.replace(i,r,t):i}),i)},parse(e,n){let r=[];return JSON.parse(e,(function(e,i){let a=i?.$t;if(a){let e=t[a];i=e?e.revive(i,n,t):i}let o=r[r.length-1];if(o&&o[0]===i){i={...i};for(let e of o[1])delete i[e];for(let[e,t]of Object.entries(o[2]))i[e]=t;r.pop()}if(i===void 0||e[0]===`$`&&e!==`$t`){let t,n;o=r[r.length-1],o&&o[0]===this?(t=o[1],n=o[2]):r.push([this,t=[],n={}]),e[0]===`$`&&e!==`$t`?(t.push(e),n[e.substr(1)]=i):n[e]=void 0}return i}))}}}var Pl={Blob:{test:(e,t)=>t===`Blob`,replace:(e,t)=>{let n=t.length;return t.push(e),{$t:`Blob`,mimeType:e.type,i:n}},revive:({i:e,mimeType:t},n)=>new Blob([n[e]],{type:t})}},Fl={number:{replace:e=>{switch(!0){case isNaN(e):return{$t:`number`,v:`NaN`};case e===1/0:return{$t:`number`,v:`Infinity`};case e===-1/0:return{$t:`number`,v:`-Infinity`};default:return e}},revive:({v:e})=>Number(e)}},Il={bigint:{replace:e=>({$t:`bigint`,v:``+e}),revive:e=>BigInt(e.v)}},Ll={Date:{replace:e=>({$t:`Date`,v:isNaN(e.getTime())?`NaN`:e.toISOString()}),revive:({v:e})=>new Date(e===`NaN`?NaN:Date.parse(e))}},Rl={Set:{replace:e=>({$t:`Set`,v:Array.from(e.entries())}),revive:({v:e})=>new Set(e)}},zl={Map:{replace:e=>({$t:`Map`,v:Array.from(e.entries())}),revive:({v:e})=>new Map(e)}},Bl=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof global<`u`?global:void 0,K=[`Int8Array`,`Uint8Array`,`Uint8ClampedArray`,`Int16Array`,`Uint16Array`,`Int32Array`,`Uint32Array`,`Float32Array`,`Float64Array`,`DataView`,`BigInt64Array`,`BigUint64Array`].reduce(((e,t)=>({...e,[t]:{replace:(e,n,r)=>({$t:t,v:r.ArrayBuffer.replace(e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),n,r).v}),revive:({v:e},n,r)=>{let i=Bl[t];return i&&new i(r.ArrayBuffer.revive({v:e},n,r))}}})),{});function Vl(e){return function(e){for(var t=``,n=0,r=e.length;n<r;n++)t+=Y[e[n]];return t}(el(e))}function q(e){return $c(function(e){if(typeof e!=`string`)throw Error(`invalid decoder input: `+e);for(var t=``,n=0,r=e.length;n<r;n++)t+=J[e[n]];return t}(e))}var J={"-":`=`,0:`A`,1:`B`,2:`C`,3:`D`,4:`E`,5:`F`,6:`G`,7:`H`,8:`I`,9:`J`,A:`K`,B:`L`,C:`M`,D:`N`,E:`O`,F:`P`,G:`Q`,H:`R`,I:`S`,J:`T`,K:`U`,L:`V`,M:`W`,N:`X`,O:`Y`,P:`Z`,Q:`a`,R:`b`,S:`c`,T:`d`,U:`e`,V:`f`,W:`g`,X:`h`,Y:`i`,Z:`j`,_:`k`,a:`l`,b:`m`,c:`n`,d:`o`,e:`p`,f:`q`,g:`r`,h:`s`,i:`t`,j:`u`,k:`v`,l:`w`,m:`x`,n:`y`,o:`z`,p:`0`,q:`1`,r:`2`,s:`3`,t:`4`,u:`5`,v:`6`,w:`7`,x:`8`,y:`9`,z:`+`,"|":`/`},Y={};for(let e of Object.keys(J))Y[J[e]]=e;var Hl={ArrayBuffer:{replace:e=>({$t:`ArrayBuffer`,v:Vl(e)}),revive:({v:e})=>{let t=q(e);return t.buffer.byteLength===t.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}}},Ul=class{constructor(e,t){this.buf=e,this.type=t}};function Wl(e){let t=new XMLHttpRequest;if(t.overrideMimeType(`text/plain; charset=x-user-defined`),t.open(`GET`,URL.createObjectURL(e),!1),t.send(),t.status!==200&&t.status!==0)throw Error(`Bad Blob access: `+t.status);return t.responseText}function Gl(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}var Kl={Blob:{test:(e,t)=>t===`Blob`||e instanceof Ul,replace:e=>({$t:`Blob`,v:el(e instanceof Ul?e.buf:Gl(Wl(e))),type:e.type}),revive:({type:e,v:t})=>{let n=$c(t);return new Blob([n])}}},ql={...Fl,...Il,...Ll,...Rl,...zl,...K,...Hl,...Kl};function Jl(e){return new Promise(((t,n)=>{let r=new FileReader;r.onabort=e=>n(Error(`file read aborted`)),r.onerror=e=>n(e.target.error),r.onload=e=>t(e.target.result),r.readAsArrayBuffer(e)}))}var Yl={undefined:{replace:()=>({$t:`undefined`}),revive:()=>{}}},Xl={File:{test:(e,t)=>t===`File`,replace:e=>({$t:`File`,v:el(Gl(Wl(e))),type:e.type,name:e.name,lastModified:new Date(e.lastModified).toISOString()}),revive:({type:e,v:t,name:n,lastModified:r})=>{let i=$c(t);return new File([i],n,{type:e,lastModified:new Date(r).getTime()})}}},Zl=typeof BigInt==`function`&&typeof BigInt(0)==`bigint`,Ql=class{toString(){return this.v}constructor(e){this.v=e}},$l=Zl?{}:{bigint:{test:e=>e instanceof Ql,replace:e=>Object.assign({$t:`bigint`},e),revive:({v:e})=>new Ql(e)}},eu=Object.assign(Object.assign(Object.assign(Object.assign({},Yl),$l),Xl),{PropModification:{test:e=>e instanceof re,replace:e=>Object.assign({$t:`PropModification`},e[`@@propmod`]),revive:e=>{var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,[`$t`]);return new re(t)}}}),tu=Nl(ql,eu),nu=function(...e){let t=Nl(ql,Pl,...e);return{toBinary(e){let[t,n]=this.stringify(e),r=new ArrayBuffer(4);return new DataView(r).setUint32(0,t.size),new Blob([r,t,n])},stringify(e){let n=[],r=t.stringify(e,n);return[new Blob(n.map((e=>{let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,`byteLength`in e?e.byteLength:e.size),new Blob([t,e])}))),r]},async parse(e,n){let r=0,i=[],a=await Jl(n),o=new DataView(a);for(;r<a.byteLength;){let e=o.getUint32(r);r+=4;let t=a.slice(r,r+e);r+=e,i.push(t)}return t.parse(e,i)},async fromBinary(e){let t=new DataView(await Jl(e.slice(0,4))).getUint32(0),n=e.slice(4,t+4),r=await function(e){return new Promise(((t,n)=>{let r=new FileReader;r.onabort=e=>n(Error(`file read aborted`)),r.onerror=e=>n(e.target.error),r.onload=e=>t(e.target.result),r.readAsText(e)}))}(e.slice(t+4));return await this.parse(r,n)}}}(eu);function ru(e,t,n){let r=[];for(let i of n){let{table:n,muts:a}=i,o=e.tables.find((e=>e.name===n));if(!o)throw Error(`Internal error: table ${n} not found in DBCore schema`);let{primaryKey:s}=o,c=i;a.forEach(((e,n)=>{let r=!s.outbound&&(e.type===`upsert`||e.type===`insert`);e.keys.forEach(((e,a)=>{if(Array.isArray(e)){c===i&&(c=iu(i,r));let t=c.muts[n],o=JSON.stringify(e);t.keys[a]=o}else if(e[0]===`#`){c===i&&(c=iu(i,r));let o=c.muts[n];if(!t.isLoggedIn)throw Error(`Internal error: Cannot sync private IDs before authenticated`);let l=`${e}:${t.userId}`;o.keys[a]=l,r&&w.setByKeyPath(o.values[a],s.keyPath,l)}}))})),r.push(c)}return r}function iu(e,t){return Object.assign(Object.assign({},e),{muts:t?e.muts.map((e=>e.type!==`insert`&&e.type!==`upsert`||!e.values?Object.assign(Object.assign({},e),{keys:e.keys.slice()}):Object.assign(Object.assign({},e),{keys:e.keys.slice(),values:e.values.slice()}))):e.muts.map((e=>Object.assign(Object.assign({},e),{keys:e.keys.slice()})))})}var au=new WeakMap;function ou(e){return G(this,void 0,void 0,(function*(){let t=(au.get(e)?.getTime()??0)-Date.now();t>0&&(yield new Promise((e=>setTimeout(e,t))))}))}function su(e,t,n,r,i,a,o,s,c){return G(this,void 0,void 0,(function*(){let l={Accept:`application/json, application/x-bison, application/x-bison-stream`,"Content-Type":`application/tson`},u=yield ol(i),d=u?.accessToken;d&&(l.Authorization=`Bearer ${d}`);let f={v:2,dbID:n?.remoteDbId,clientIdentity:s,schema:o||{},lastPull:n?{serverRevision:n.serverRevision,yServerRevision:n.yServerRevision,realms:n.realms,inviteRealms:n.inviteRealms}:void 0,baseRevs:r,changes:ru(i.dx.core.schema,c,e),y:t,dxcv:i.cloud.version};i.syncStateChangedEvent.next({phase:`pushing`});let p=tu.stringify(f),m=yield fetch(`${a}/sync`,{method:`post`,headers:l,credentials:`include`,body:p});if(i.syncStateChangedEvent.next({phase:`pulling`}),function(e,t){let n=t.headers.get(`Ratelimit-Limit`),r=t.headers.get(`Ratelimit-Remaining`),i=t.headers.get(`Ratelimit-Reset`);if(n&&r&&i){let t=Number(n),a=Math.max(0,Number(r)),o=Number(i);if(a<t/2){let t=Math.ceil(o/(a+1));au.set(e,new Date(Date.now()+1e3*t))}else au.delete(e)}}(i,m),!m.ok)throw new hl(m);if(m.headers.get(`content-type`)===`application/x-bison`)return nu.fromBinary(yield m.blob());{let e=yield m.text();return tu.parse(e)}}))}function cu(e){if(e?.cancelled)throw new w.AbortError(`Operation was cancelled`)}var lu=!1;function uu(e,t,n,r){return G(this,void 0,void 0,(function*(){yield e.$baseRevs.bulkPut(Object.keys(t).filter((e=>t[e].markedForSync)).map((e=>({tableName:e,clientRev:(n[e]||0)+1,serverRev:r})))),yield e.$baseRevs.where(`tableName`).noneOf(Object.keys(t).filter((e=>t[e].markedForSync))).delete()}))}function du(e,t={}){for(let{table:n,muts:r}of e)t[n]=(r.length>0?r[r.length-1].rev:null)||t[n]||0;return t}function fu(e,t,n){return G(this,void 0,void 0,(function*(){let r=yield e.bulkGet(t),i=[],a=[];t.forEach(((t,o)=>{let s=r[o];if(s){for(let[r,i]of Object.entries(n[o]))if(r===e.schema.primKey.keyPath){if(te(i,t)!==0)throw Error(`Cannot change primary key`)}else w.setByKeyPath(s,r,i);i.push(t),a.push(s)}})),yield e.schema.primKey.keyPath==null?e.bulkPut(a,i):e.bulkPut(a)}))}function pu(e,t){return G(this,void 0,void 0,(function*(){for(let{table:n,muts:r}of e){if(!t.dx._allTables[n])continue;let e=t.table(n),{primaryKey:i}=e.core.schema,a=e=>{switch(e[0]){case`[`:if(e.endsWith(`]`))try{return JSON.parse(e)}catch{}return e;case`#`:return e.endsWith(`:`+t.cloud.currentUserId)?e.substr(0,e.length-t.cloud.currentUserId.length-1):e;default:return e}};for(let t of r){let n=t.keys.map(a);switch(t.type){case`insert`:i.outbound?yield e.bulkAdd(t.values,n):(n.forEach(((e,n)=>{w.setByKeyPath(t.values[n],i.keyPath,e)})),yield e.bulkAdd(t.values));break;case`upsert`:i.outbound?yield e.bulkPut(t.values,n):(n.forEach(((e,n)=>{w.setByKeyPath(t.values[n],i.keyPath,e)})),yield e.bulkPut(t.values));break;case`modify`:n.length===1?yield e.update(n[0],t.changeSpec):yield e.where(`:id`).anyOf(n).modify(t.changeSpec);break;case`update`:yield fu(e,n,t.changeSpecs);break;case`delete`:yield e.bulkDelete(n)}}}}))}typeof self<`u`&&typeof navigator<`u`&&(lu=navigator.onLine,self.addEventListener(`online`,(()=>lu=!0)),self.addEventListener(`offline`,(()=>lu=!1)));var mu=`dexie-cloud-syncer`;function hu(e,t){return e.where(`i`).between(t,1/0,!0).toArray()}function gu(e,t,n){if(!e.dx._allTables[t])return;let r=(e.table(t)?.schema.yProps)?.find((e=>e.prop===n))?.updatesTable;return r&&e.dx._allTables[r]?e.table(r):void 0}function _u(e,t){return G(this,void 0,void 0,(function*(){let n={},r,i=!1;for(let a of e)try{switch(a.type){case`u-s`:{let e=gu(t,a.table,a.prop);if(e){let t={k:a.k,u:a.u};a.r&&(t.r=a.r,r=a.r),n[e.name]=yield e.add(t)}break}case`u-ack`:{let e=gu(t,a.table,a.prop);e&&(yield t.transaction(`rw`,e,(t=>G(this,void 0,void 0,(function*(){let n=yield t.table(e.name).get(mu);yield t.table(e.name).put(Object.assign(Object.assign({},n||{i:mu}),{unsentFrom:Math.max(n?.unsentFrom||1,a.i+1)}))})))));break}case`u-reject`:{let e=gu(t,a.table,a.prop);if(!e)break;let n=(yield e.get(a.i))?.k;if(n!=null){yield t.transaction(`rw`,e,(t=>(t.idbtrans._rejecting_y_ypdate=!0,e.where(`i`).aboveOrEqual(a.i).filter((e=>te(e.k,n)===0&&(1&(e.f||0))==1)).delete())));let r=Ac.getDocCache(t.dx).find(a.table,n,a.prop);r&&r.destroy()}break}case`in-sync`:{let e=Ac.getDocCache(t.dx).find(a.table,a.k,a.prop);e&&!e.isSynced&&e.emit(`sync`,[!0,e]);break}case`y-complete-sync-done`:r=a.yServerRev;break;case`outdated-server-rev`:i=!0}}catch{}return{receivedUntils:n,resyncNeeded:i,yServerRevision:r}}))}var vu=1,yu=2,bu=3;function xu(e,t,n){return G(this,arguments,void 0,(function*(e,t,{yDownloadedRealms:n,realms:r}){if(n&&r&&r.every((e=>n[e]===`*`)))return;let i=yield ol(e),a={"Content-Type":`application/json`,Accept:`application/octet-stream`};i&&(a.Authorization=`Bearer ${i.accessToken}`);let o=yield fetch(`${t}/y/download`,{body:tu.stringify({downloadedRealms:n||{}}),method:`POST`,headers:a,credentials:`include`});if(!o.ok)throw Error(`Failed to download Yjs documents from server. Status: ${o.status}`);yield async function(e,...t){var n,r,i;let a=e();for(let e=0;e<t.length;e++)a=t[e](a);try{for(var o,s=!0,c=Rc(a);!(n=(o=await c.next()).done);s=!0)o.value,s=!1}catch(e){r={error:e}}finally{try{s||n||!(i=c.return)||await i.call(c)}finally{if(r)throw r.error}}}(function(e){return function(){return Lc(this,arguments,(function*(){if(!e.body)throw Error(`Response body is not readable`);let t=e.body.getReader();try{for(;;){let{done:e,value:n}=yield Ic(t.read());if(e)return yield Ic(void 0);yield yield Ic(n)}}finally{t.releaseLock()}}))}}(o),qc,(function(n){return Lc(this,arguments,(function*(){var r,i,a,o;let s=null,c=null,l=null,u=[];function d(n){return G(this,void 0,void 0,(function*(){let r=u[u.length-1];if(u.length>0){if(!s||!c||!l)throw Error(`Protocol error from ${t}/y/download`);let n=gu(e,c,l);n&&(yield n.bulkAdd(u)),u=[]}s&&(c&&l&&r||n)&&(yield e.$syncState.update(`syncState`,(e=>{let t=e.yDownloadedRealms||{};t[s]=n?`*`:{tbl:c,prop:l,key:r.k},e.yDownloadedRealms=t})))}))}try{try{for(var f,p=!0,m=Rc(n);!(r=(f=yield Ic(m.next())).done);p=!0){o=f.value,p=!1;let e=new tt(o);for(;rt(e);)switch(ot(e)){case vu:yield Ic(d(!0)),s=ct(e);break;case yu:yield Ic(d(!1)),c=ct(e),l=ct(e);break;case bu:{let t=F(e),n=at(e);u.push({k:t,u:n});break}}yield Ic(d(!1))}}catch(e){i={error:e}}finally{try{p||r||!(a=m.return)||(yield Ic(a.call(m)))}finally{if(i)throw i.error}}yield Ic(d(!0))}catch(e){throw e instanceof w.DexieError||(yield Ic(d(!1))),e}}))}))}))}var Su=`currentSyncWorker`;function Cu(e,t,n,r){return wu(e,t,n,r).then((t=>(r!=null&&r.justCheckIfNeeded||e.syncStateChangedEvent.next({phase:`in-sync`}),t))).catch((i=>G(this,void 0,void 0,(function*(){return r?.justCheckIfNeeded?Promise.reject(i):lu&&r?.retryImmediatelyOnFetchError&&i?.name===`TypeError`&&/fetch/.test(i?.message)?(e.syncStateChangedEvent.next({phase:`error`,error:i}),yield new Promise((e=>setTimeout(e,500))),yield Cu(e,t,n,Object.assign(Object.assign({},r),{retryImmediatelyOnFetchError:!1}))):(yield e.$syncState.update(`syncState`,{timestamp:new Date,error:``+i}),e.syncStateChangedEvent.next({phase:lu?`error`:`offline`,error:Error(``+i?.message||i)}),Promise.reject(i))}))))}function wu(e,t,n){return G(this,arguments,void 0,(function*(e,t,n,{isInitialSync:r,cancelToken:i,justCheckIfNeeded:a,purpose:o}={isInitialSync:!1}){if(!e.cloud.options?.databaseUrl)throw Error(`Internal error: sync must not be called when no databaseUrl is configured`);let{databaseUrl:s}=t,c=yield e.getCurrentUser(),l=c.isLoggedIn?wl(e):[],u=l.map((t=>e.table(Tl(t.name)))),d=yield e.getPersistedSyncState(),f=c.isLoggedIn,p=f?function(e,t){let n=t?.syncedTables||[];return wl(e).filter((e=>!n.includes(e.name)))}(e,d):[];cu(i);let m=p.length>0;if(m){if(a)return!0;yield e.transaction(`rw`,p,(e=>G(this,void 0,void 0,(function*(){e.idbtrans.disableChangeTracking=!0,e.idbtrans.disableAccessControl=!0,yield function(e,t,n){return G(this,void 0,void 0,(function*(){let r=new Set(n||[]);for(let n of e)n.name===`members`?yield n.toCollection().modify((e=>{r.has(e.realmId)||e.userId&&e.userId!==dl.userId||(e.userId=t.userId)})):n.name===`roles`||(n.name===`realms`?yield n.toCollection().modify((e=>{r.has(e.realmId)||e.owner!==void 0&&e.owner!==dl.userId||(e.owner=t.userId)})):yield n.toCollection().modify((e=>{e.realmId&&r.has(e.realmId)||(e.owner&&e.owner!==dl.userId||(e.owner=t.userId),e.realmId&&e.realmId!==dl.userId||(e.realmId=t.userId))})))}))}(p,c,d?.realms)})))),cu(i)}let[h,g,_,{yMessages:v,lastUpdateIds:y}]=yield e.transaction(`r`,e.tables,(()=>G(this,void 0,void 0,(function*(){let t=yield e.getPersistedSyncState(),r=yield e.$baseRevs.toArray();r=r.filter((e=>l.some((t=>t.name===e.tableName))));let a=yield kl(u,e),o=yield function(e,t){return G(this,void 0,void 0,(function*(){let n=[],r={};for(let i of t)if(i.schema.yProps)for(let t of i.schema.yProps){let a=e.table(t.updatesTable),o=yield a.get(mu),s=o?.unsentFrom||1,c=o?.receivedUntil||0,l=Math.min(s,c+1),u=yield hu(a,l);u.length>0&&(r[a.name]=u[u.length-1].i);let d={};for(let e of u){let t=(1&(e.f||0))==1;if(t&&e.i<s)continue;let n=JSON.stringify(e.k)+`/`+t,r=d[n];r?(r.u.push(e.u),r.i=Math.max(e.i,r.i)):(d[n]=r={i:e.i,k:e.k,isLocal:t,u:[]},r.u.push(e.u))}for(let{k:e,isLocal:r,u:a,i:o}of Object.values(d)){let s=a.length===1?a[0]:fo(a);if(r)n.push({type:`u-c`,table:i.name,prop:t.prop,k:e,u:s,i:o});else{let r=lo(s);n.push({type:`sv`,table:i.name,prop:t.prop,k:e,sv:r})}}}return{yMessages:n,lastUpdateIds:r}}))}(e,l);if(cu(i),m){let e=[...d?.realms||[],...d?.inviteRealms||[]],s=yield function(e,t,n,r){return G(this,void 0,void 0,(function*(){let i=`upload-${Al(8)}`;if(t.isLoggedIn&&e.length>0){let a=new Set(r||[]);return(yield Promise.all(e.map((e=>G(this,void 0,void 0,(function*(){let{extractKey:r}=e.core.schema.primaryKey;if(!r)return{table:e.name,muts:[]};let o=n[e.name],s=o?.generatedGlobalId?e.filter((e=>{return r(e),!a.has(e.realmId||``)&&(t=r(e),!(n=o?.idPrefix)||typeof t==`string`&&t.startsWith(n));var t,n})):e.filter((e=>{let t=r(e);return!a.has(e.realmId||``)&&Uc(t)})),c=yield s.toArray();if(c.length>0){let n={type:`upsert`,values:c,keys:c.map(r),userId:t.userId,txid:i};return{table:e.name,muts:[n]}}return{table:e.name,muts:[]}})))))).filter((e=>e.muts.length>0))}return[]}))}(p,c,n,e);return cu(i),a=a.concat(s),[a,t,r,o]}return[a,t,r,o]})))),b=h.some((e=>e.muts.some((e=>e.keys.length>0))))||v.some((e=>e.type===`u-c`));if(a)return b;if(o===`push`&&!b)return!1;let x=du(h,g?.latestRevisions),S=g?.clientIdentity||Vc(16);cu(i);let C=yield su(h,v,g,_,e,s,n,S,c),{done:ee,newSyncState:te}=yield e.transaction(`rw`,e.tables,(t=>G(this,void 0,void 0,(function*(){t.idbtrans.disableChangeTracking=!0,t.idbtrans.disableAccessControl=!0;for(let e of Object.keys(n))C.schema[e]&&(n[e]=C.schema[e]);yield e.$syncState.put(n,`schema`);let r=yield kl(u,e,{since:x});for(let t of u){let n=El(t.name);if(r.some((e=>e.table===n&&e.muts.length>0))){if(x[n]){let r=x[n]||0;yield Promise.all([t.where(`rev`).belowOrEqual(r).delete(),e.$baseRevs.where(`:id`).between([n,-1/0],[n,r+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([t.clear(),e.$baseRevs.where({tableName:n}).delete()])}du(r,x),yield uu(e,n,x,C.serverRevision);let i=yield e.getPersistedSyncState();yield function(e,t,n){return G(this,void 0,void 0,(function*(){let r=new Set,i=new Set,a=n?n.realms:[],o=n?n.inviteRealms:[],s=new Set(t.realms),c=new Set(t.realms.concat(t.inviteRealms));for(let e of a)s.has(e)||(i.add(e),c.has(e)||r.add(e));for(let e of o.concat(a))c.has(e)||r.add(e);if(r.size>0||i.size>0){let t=wl(e);for(let e of t){let t=[`realms`,`members`,`roles`].includes(e.name)?r:i;t.size!==0&&(e.schema.indexes.some((e=>e.keyPath===`realmId`||Array.isArray(e.keyPath)&&e.keyPath[0]===`realmId`))?yield e.where(`realmId`).anyOf([...t]).delete():yield e.filter((e=>!!e?.realmId&&t.has(e.realmId))).delete())}}if(i.size>0&&n?.yDownloadedRealms)for(let e of i)delete n.yDownloadedRealms[e]}))}(e,C,i);let a=i||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:S};f&&(a.syncedTables=l.map((e=>e.name)).concat(p.map((e=>e.name)))),a.latestRevisions=x,a.remoteDbId=C.dbId,a.initiallySynced=!0,a.realms=C.realms,a.inviteRealms=C.inviteRealms,a.serverRevision=C.serverRevision,a.yServerRevision=C.serverRevision,a.timestamp=new Date,delete a.error;let o=Tu(C.changes,r);if(yield pu(o,e),C.yMessages){let{receivedUntils:t,resyncNeeded:n,yServerRevision:r}=yield _u(C.yMessages,e);r&&(a.yServerRevision=r),yield function(e,t,n){return G(this,void 0,void 0,(function*(){let r={};for(let[t,n]of Object.entries(e))r[t]??(r[t]={}),r[t].unsentFrom=n+1;for(let[e,n]of Object.entries(t))r[e]??(r[e]={}),r[e].receivedUntil=n;let i=Object.values(n.dx._dbSchema).filter((e=>e.yProps)).map((e=>e.yProps.map((e=>e.updatesTable)))).flat();for(let e of i){let t=r[e],i=t?.unsentFrom??1,a=t?.receivedUntil??(yield n.table(e).where(`i`).between(1,1/0).reverse().limit(1).primaryKeys())[0]??0;yield n.transaction(`rw`,e,(()=>G(this,void 0,void 0,(function*(){let t=yield n.table(e).get(mu);t?(t.unsentFrom=Math.max(i,t.unsentFrom||1),t.receivedUntil=Math.max(a,t.receivedUntil||0),yield n.table(e).put(t)):yield n.table(e).add({i:mu,unsentFrom:i,receivedUntil:a})}))))}}))}(y,t,e),n&&(a.yDownloadedRealms={})}return e.$syncState.put(a,`syncState`),{done:r.length===0,newSyncState:a}}))));if(!ee)return yield ou(e),yield wu(e,t,n,{isInitialSync:r,cancelToken:i});let ne=Object.values(n).some((e=>e.yProps?.length)),re=!!C.yMessages;if(ne&&re)try{yield xu(e,s,te)}catch{}return e.syncCompleteEvent.next(),!1}))}function Tu(e,t){let n={};Kc(n,e);let r={};return Kc(r,t),function(e,t){var n;for(let[r,i]of Object.entries(t))for(let[t,a]of Object.entries(i))switch(a.type){case`ups`:{let n=e[r]?.[t];if(n)switch(n.type){case`ups`:case`upd`:delete e[r][t]}}break;case`del`:(n=e[r])==null||delete n[t];break;case`upd`:{let n=e[r]?.[t];if(n)switch(n.type){case`ups`:for(let[e,t]of Object.entries(a.mod))Bc(n.val,e,t);break;case`del`:break;case`upd`:for(let e of Object.keys(a.mod))delete n.mod[e]}break}}}(n,r),function(e,t=``){t||=Vc(16);let n={};for(let[t,r]of Object.entries(e))for(let[e,i]of Object.entries(r)){let r=n[t]||(n[t]={});(r[i.type]||(r[i.type]=[])).push(Object.assign({key:e},i))}let r=[];for(let[e,i]of Object.entries(n)){let n={table:e,muts:[]};for(let[e,r]of Object.entries(i))switch(e){case`ups`:{let e={type:`upsert`,keys:r.map((e=>e.key)),values:r.map((e=>e.val)),txid:t};n.muts.push(e);break}case`upd`:{let e={type:`update`,keys:r.map((e=>e.key)),changeSpecs:r.map((e=>e.mod)),txid:t};n.muts.push(e);break}case`del`:{let e={type:`delete`,keys:r.map((e=>e.key)),txid:t};n.muts.push(e);break}}r.push(n)}return r}(n)}var Eu=10,Du=1e4,Ou=1e3;function ku(e){let t=[],n=new hn(!0),r=new hn(null),i=!1,a=Array(Eu).fill(0);return r.subscribe((()=>G(this,void 0,void 0,(function*(){if(!i&&t.length>0){i=!0,a.shift(),a.push(Date.now()),n.next(!1);try{yield function(){return G(this,void 0,void 0,(function*(){for(var n,r,i,a,o;t.length>0;){let s=t.shift();try{yield sr(e.cloud.syncState.pipe(Rr((({phase:e})=>e===`in-sync`||e===`error`))));let t=e.cloud.persistedSyncState.value;if(!s)continue;switch(s.type){case`token-expired`:let c=e.cloud.currentUser.value,l=yield cl(e.cloud.options.databaseUrl,c);yield e.table(`$logins`).update(c.userId,{accessToken:l.accessToken,accessTokenExpiration:l.accessTokenExpiration,claims:l.claims,license:l.license,data:l.data});break;case`realm-added`:(n=t?.realms)!=null&&n.includes(s.realm)||(r=t?.inviteRealms)!=null&&r.includes(s.realm)||(yield e.cloud.sync({purpose:`pull`,wait:!0}));break;case`realm-accepted`:(i=t?.realms)!=null&&i.includes(s.realm)||(yield e.cloud.sync({purpose:`pull`,wait:!0}));break;case`realm-removed`:((a=t?.realms)!=null&&a.includes(s.realm)||(o=t?.inviteRealms)!=null&&o.includes(s.realm))&&(yield e.cloud.sync({purpose:`pull`,wait:!0}));break;case`realms-changed`:yield e.cloud.sync({purpose:`pull`,wait:!0});break;case`changes`:if(e.cloud.syncState.value?.phase===`error`){Xc(e,`pull`);break}yield e.transaction(`rw`,e.dx.tables,(t=>G(this,void 0,void 0,(function*(){t.idbtrans.disableChangeTracking=!0,t.idbtrans.disableAccessControl=!0;let[n,r,i]=yield Promise.all([e.getSchema(),e.getPersistedSyncState(),e.getCurrentUser()]);if(!r||!n||!i)return;if(s.baseRev!==r.serverRevision)return void(typeof s.baseRev!=`string`||typeof r.serverRevision!=`bigint`&&typeof r.serverRevision!=`object`||Xc(e,`pull`));if((yield w.waitFor(Cl(r)))!==s.realmSetHash)return void Xc(e,`pull`);let a=[];if(i.isLoggedIn){let t=wl(e).map((t=>e.table(Tl(t.name))));a=yield kl(t,e)}if(s.changes.length>0){let t=Tu(s.changes,a);yield pu(t,e)}r.latestRevisions=du(a,r.latestRevisions),r.serverRevision=s.newRev,yield uu(e,n,r.latestRevisions,s.newRev),yield e.$syncState.put(r,`syncState`)}))))}}catch{}}}))}()}finally{a[a.length-1]-a[0]<Du&&(yield new Promise((e=>setTimeout(e,Ou)))),i=!1,n.next(!0)}}})))),{enqueue:function(e){t.push(e),r.next(null)},readyToServe:n}}var Au=new WeakMap,ju={members:`@id, [userId+realmId], [email+realmId], realmId`,roles:`[realmId+name]`,realms:`@realmId`,$jobs:``,$syncState:``,$baseRevs:`[tableName+clientRev]`,$logins:`claims.sub, lastLogin`},Mu=0;function Nu(e){`vip`in e&&(e=e.vip);let t=Au.get(e.cloud);if(!t){let n=new pn,r=new Sl(`syncstatechanged-${e.name}`),i=new Sl(`synccomplete-${e.name}`);n.id=++Mu;let a=!1;t={get name(){return e.name},close:()=>e.close(),transaction:e.transaction.bind(e),table:e.table.bind(e),get tables(){return e.tables},cloud:e.cloud,get $jobs(){return e.table(`$jobs`)},get $syncState(){return e.table(`$syncState`)},get $baseRevs(){return e.table(`$baseRevs`)},get $logins(){return e.table(`$logins`)},get realms(){return e.realms},get members(){return e.members},get roles(){return e.roles},get initiallySynced(){return a},localSyncEvent:n,get syncStateChangedEvent(){return r},get syncCompleteEvent(){return i},dx:e},Object.assign(t,{getCurrentUser:()=>t.$logins.toArray().then((e=>e.find((e=>e.isLoggedIn))||dl)),getPersistedSyncState:()=>t.$syncState.get(`syncState`),getSchema:()=>t.$syncState.get(`schema`).then((e=>{if(e)for(let r of t.tables)r.schema.primKey&&r.schema.primKey.keyPath&&e[r.name]&&(e[r.name].primaryKey=typeof(n=r.schema.primKey.keyPath)==`string`?n:n?`[`+[].join.call(n,`+`)+`]`:``);var n;return e})),getOptions:()=>t.$syncState.get(`options`),setInitiallySynced(e){a=e},reconfigure(){r=new Sl(`syncstatechanged-${e.name}`),i=new Sl(`synccomplete-${e.name}`)}}),t.messageConsumer=ku(t),t.messageProducer=new pn,Au.set(e.cloud,t)}return t}var Pu=typeof InstallTrigger<`u`,Fu=typeof navigator<`u`&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),Iu=Fu?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,Lu=Fu&&Iu<=605||Pu,Ru=typeof self<`u`&&`clients`in self&&!self.document,{toString:zu}={};function Bu(e){return zu.call(e).slice(8,-1)}function Vu(e,t){return t.type===`delete`?t.keys:t.keys?.slice()||t.values.map(e.extractKey)}var Hu=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i,Uu=0;function Wu(e,t){let n=new Uint8Array(18),r=new Uint8Array(n.buffer,0,6),i=Date.now();Uu>=i?++Uu:Uu=i,r[0]=Uu/1099511627776,r[1]=Uu/4294967296,r[2]=Uu/16777216,r[3]=Uu/65536,r[4]=Uu/256,r[5]=Uu;let a=new Uint8Array(n.buffer,6);return crypto.getRandomValues(a),e+Vl(new Uint8Array(n.buffer))+(t||``)}function Gu(e){return{stack:`dbcore`,name:`idGenerationMiddleware`,level:1,create:t=>Object.assign(Object.assign({},t),{table:n=>{let r=t.table(n);return Object.assign(Object.assign({},r),{mutate:t=>{let i=t.trans;if(i.mode===`versionchange`&&(i.disableChangeTracking=!0,i.disableAccessControl=!0),i.disableChangeTracking)return r.mutate(t);if(t.type===`add`||t.type===`put`){let i=e.cloud.schema?.[n];if(i?.generatedGlobalId){if(e.cloud.options?.databaseUrl&&!e.initiallySynced){let e=Vu(r.schema.primaryKey,t);return r.getMany({keys:e,trans:t.trans,cache:`immutable`}).then((n=>{if(n.length<e.length)throw Error(`Unable to create new objects without an initial sync having been performed.`);return r.mutate(t)}))}return function(t,i){let a=null,o=Vu(r.schema.primaryKey,t);return o.forEach(((s,c)=>{if(s===void 0){let n=t.values[c].realmId||e.cloud.currentUserId,s=n.substr(n.length-3);o[c]=Wu(i,s),r.schema.primaryKey.outbound||(a||=t.values.slice(),a[c]=w.deepClone(a[c]),w.setByKeyPath(a[c],r.schema.primaryKey.keyPath,o[c]))}else if(typeof s!=`string`||!s.startsWith(i)&&!s.startsWith(`#`+i))throw new w.ConstraintError(`The ID "${s}" is not valid for table "${n}". Primary '@' keys requires the key to be prefixed with "${i}" (or "#${i}).\nIf you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)})),r.mutate(Object.assign(Object.assign({},t),{keys:o,values:a||t.values}))}(t,i.idPrefix)}i?.markedForSync&&Vu(r.schema.primaryKey,t).forEach(((e,t)=>{if(!Uc(e)){let t=Array.isArray(e)?e.map(Bu).join(`,`):Bu(e);throw new w.ConstraintError(`Invalid primary key type ${t} for table ${n}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}}))}return r.mutate(t)}})}})}}var Ku=0;function qu(e,t){return function(n){let{readers:r,writers:i}=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),a=i.length,o=(a>0?i[a-1].then((()=>e(n)),(()=>e(n))):e(n)).finally((()=>{r.splice(r.indexOf(o))}));return r.push(o),o}}function Ju(e,t){return function(n){let{readers:r,writers:i}=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),a=(i.length>0?i[i.length-1].then((()=>e(n)),(()=>e(n))):r.length>0?(o=r,new Promise((e=>{o.length===0&&e([]);let t=o.length,n=Array(t);o.forEach(((r,i)=>Promise.resolve(r).then((e=>n[i]={status:`fulfilled`,value:e}),(e=>n[i]={status:`rejected`,reason:e})).then((()=>--t||e(n)))))}))).then((()=>e(n))):e(n)).finally((()=>{i.shift()}));var o;return i.push(a),a}}var Yu=new hn(new Set);function Xu(e){return e.cloud.options?.disableEagerSync||e.cloud.currentUser.value?.license?.status!==`ok`||!e.cloud.options?.databaseUrl}function Zu({currentUserObservable:e,db:t}){return{stack:`dbcore`,name:`MutationTrackingMiddleware`,level:1,create:n=>{let r=new Set(n.schema.tables.map((e=>e.name))),i=n.schema.tables.filter((e=>!/^\$/.test(e.name))),a=new Map;for(let e of i){let t=`$${e.name}_mutations`;r.has(t)&&a.set(e.name,n.table(t))}return Object.assign(Object.assign({},n),{transaction:(r,i)=>{let a;if(i===`readwrite`){let e=r.filter((e=>t.cloud.schema?.[e]?.markedForSync)).map((e=>Tl(e)));a=n.transaction([...r,...e],i)}else a=n.transaction(r,i);if(i===`readwrite`){a.txid=Al(16),a.opCount=0,a.currentUser=e.value,Yu.value.add(a),Yu.next(Yu.value);let n=()=>{a.removeEventListener(`complete`,r),a.removeEventListener(`error`,n),a.removeEventListener(`abort`,n),Yu.value.delete(a),Yu.next(Yu.value)},r=()=>{a.mutationsAdded&&!Xu(t)&&Xc(t,`push`),n()};a.addEventListener(`complete`,r),a.addEventListener(`error`,n),a.addEventListener(`abort`,n)}return a},table:e=>{let r=n.table(e);if(/^\$/.test(e))return e.endsWith(`_mutations`)?Object.assign(Object.assign({},r),{mutate:e=>(e.type!==`add`&&e.type!==`put`||(e.trans.mutationsAdded=!0),r.mutate(e))}):e===`$logins`?Object.assign(Object.assign({},r),{mutate:e=>r.mutate(e).then((t=>(e.trans.mutationsAdded=!0,t))).catch((e=>Promise.reject(e)))}):r;let{schema:i}=r,o=a.get(e);return o?function(e){let t=`$lock`+ ++Ku;return Object.assign(Object.assign({},e),{count:qu(e.count,t),get:qu(e.get,t),getMany:qu(e.getMany,t),openCursor:qu(e.openCursor,t),query:qu(e.query,t),mutate:Ju(e.mutate,t)})}(Object.assign(Object.assign({},r),{mutate:n=>{let a=n.trans;return a.txid?a.disableChangeTracking?r.mutate(n):t.cloud.schema?.[e]?.markedForSync&&a.currentUser?.isLoggedIn?n.type===`deleteRange`?r.query({query:{range:n.range,index:i.primaryKey},trans:n.trans,values:!1}).then((e=>s({type:`delete`,keys:e.result,trans:n.trans,criteria:{index:null,range:n.range}}))):s(n):r.mutate(n):r.mutate(n)}})):r;function s(n){let a=n.trans,s=t.cloud.options?.unsyncedProperties?.[e],{txid:c,currentUser:{userId:l}}=a,{type:u}=n,d=++a.opCount;function f(e){if(!s)return e;let t=e;for(let n of Object.keys(e))s.some((e=>n===e||n.startsWith(e+`.`)))&&(t===e&&(t=Object.assign({},e)),delete t[n]);return t}return r.mutate(n).then((e=>{let{numFailures:t,failures:r}=e,p=u===`delete`?n.keys:e.results,m=`values`in n?n.values:[],h=`changeSpec`in n?n.changeSpec:void 0,g=`updates`in n?n.updates:void 0;if(t&&(p=p.filter(((e,t)=>!r[t])),m=m.filter(((e,t)=>!r[t]))),s){if(m=m.map((e=>{let t=Object.assign({},e);for(let e of s)delete t[e];return t})),h&&(h=f(h),Object.keys(h).length===0))return e;if(g){let e=g.changeSpecs.map(f),t={keys:[],changeSpecs:[]},n=new ee,r=!1;for(let i=0,a=e.length;i<a;++i)Object.keys(e[i]).length>0?(t.keys.push(g.keys[i]),t.changeSpecs.push(e[i]),n.addKey(g.keys[i])):r=!0;if(g=t,r){let e=[],t=[];for(let r=0,i=p.length;r<i;++r)n.hasKey(p[r])&&(e.push(p[r]),t.push(m[r]));p=e,m=t}}}let _=Date.now(),v=`criteria`in n&&n.criteria?Object.assign(Object.assign({},n.criteria),{index:n.criteria.index===i.primaryKey.keyPath?null:n.criteria.index}):void 0;if(s&&v?.index){let e=i.indexes.find((e=>e.name===v.index))?.keyPath;(e?typeof e==`string`?[e]:e:[]).some((e=>s?.includes(e)))&&(v=void 0)}let y=n.type===`delete`?{type:`delete`,ts:_,opNo:d,keys:p,criteria:v,txid:c,userId:l}:n.type===`add`?{type:`insert`,ts:_,opNo:d,keys:p,txid:c,userId:l,values:m}:v&&h?{type:`modify`,ts:_,opNo:d,keys:p,criteria:v,changeSpec:h,txid:c,userId:l}:h?{type:`update`,ts:_,opNo:d,keys:p,changeSpecs:p.map((()=>h)),txid:c,userId:l}:g?{type:`update`,ts:_,opNo:d,keys:g.keys,changeSpecs:g.changeSpecs,txid:c,userId:l}:{type:`upsert`,ts:_,opNo:d,keys:p,values:m,txid:c,userId:l};return`isAdditionalChunk`in n&&n.isAdditionalChunk&&(y.isAdditionalChunk=!0),p.length>0||v?o.mutate({type:`add`,trans:a,values:[y]}).then((()=>(a.mutationsAdded=!0,e))):e}))}}})}}}function Qu(e,t){return function(n,r){let i=Object.assign(Object.assign({},ju),n);Object.keys(ju).forEach((e=>{let t=i[e];if(t==null)throw Error(`Cannot delete table ${e} as it is needed for access control of Dexie Cloud`);if(!n[e])return;let r=t.split(`,`).map((e=>e.trim())),a=ju[e].split(`,`).map((e=>e.trim())),o=new Set(r.map((e=>e.replace(/([&*]|\+\+)/g,``))));if(r[0]!==a[0])throw Error(`Cannot override primary key of table ${e}. Please declare it as {${e}: ${JSON.stringify(ju[e])}`);for(let t=1;t<a.length;++t){let n=a[t];o.has(n.replace(/([&*]|\+\+)/g,``))||(i[e]+=`,${n}`)}}));let a=t.cloud.schema||(t.cloud.schema={}),o=new Set;Object.keys(i).forEach((e=>{let t=i[e],n=a[e]||(a[e]={});t==null?(n.deleted=!0,n.markedForSync=!1,i[`$${e}_mutations`]=null):(/^\@/.test(t)&&(i[e]=i[e].substr(1),n.generatedGlobalId=!0,n.idPrefix=function(e,t){let n=e[0].toLocaleLowerCase();for(let t=1,i=e.length;t<i&&n.length<3;++t)(Hu.test(e[t])||(r=e[t])>=`A`&&r<=`Z`)&&(n+=e[t].toLowerCase());for(var r,i,a;t.has(n);){if(/\d/g.test(n)){if(n=n.substr(0,n.length-1)+(n[n.length-1]+1),!(n.length>3))continue;n=n.substr(0,3)}else if(n.length<3){n+=`2`;continue}let e=1,r=n;for(;t.has(r)&&e<8;)i=n,r=(1&(a=e)?i[0].toUpperCase():i[0].toLowerCase())+(2&a?i[1].toUpperCase():i[1].toLowerCase())+(4&a?i[2].toUpperCase():i[2].toLowerCase()),++e;if(e<8)n=r;else{let e=n.charCodeAt(2)+1&127;n=n.substr(0,2)+String.fromCharCode(e)}}return n}(e,o),o.add(n.idPrefix)),/^\$/.test(e)||(i[`$${e}_mutations`]=`++rev`,n.markedForSync=!0),n.deleted&&=!1)}));let s=e.call(this,i,r);for(let[e,t]of Object.entries(r))if(t.yProps?.length){let n=a[e];n&&(n.yProps=t.yProps.map((e=>e.prop)))}return s}}function $u(e,t,n){return typeof navigator<`u`&&navigator.locks?navigator.locks.request(e.name+`|`+t,(()=>n())):n()}var ed=new hn(!0),td=new hn(!0);ed.pipe(Qr((e=>e?ir(!0):ir(!1).pipe(Gr(2e4)))),Kr()).subscribe(td);var nd=typeof document<`u`?jr(document,`visibilitychange`):ir({}),rd=nd.pipe(Rr((()=>document.visibilityState===`hidden`))),id=nd.pipe(Rr((()=>document.visibilityState===`visible`))),ad=typeof window<`u`?Lr(id,jr(window,`mousedown`),jr(window,`mousemove`),jr(window,`keydown`),jr(window,`wheel`),jr(window,`touchmove`)):ir({});typeof document<`u`&&Lr(ir(!0),rd,ad).pipe(lr((()=>document.visibilityState===`visible`)),$r((e=>{ed.value!==e&&ed.next(e)})),Qr((e=>e?ir(0).pipe(Gr(16e4),$r((()=>ed.next(!1)))):ir(0)))).subscribe((()=>{}));var od=class extends Error{constructor(){super(...arguments),this.name=`TokenExpiredError`}},sd=new WeakMap,cd=new WeakMap;function ld(e){let t=cd.get(e);return t||(t=new pn,cd.set(e,t)),t}var ud=class extends rn{constructor(e,t,n,r,i,a,o,s){super((c=>new fd(e,t,n,r,i,s,c,a,o)))}},dd=0,fd=class extends jt{constructor(e,t,n,r,i,a,o,s,c){super((()=>this.teardown())),this.id=++dd,this.subscriptions=new Set,this.reconnecting=!1,this.db=e,this.databaseUrl=e.cloud.options.databaseUrl,this.rev=t,this.yrev=n,this.realmSetHash=r,this.clientIdentity=i,this.user=a,this.subscriber=o,this.lastUserActivity=new Date,this.messageProducer=s,this.webSocketStatus=c,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next(`disconnected`),this.pinger&&=(clearInterval(this.pinger),null),this.ws)try{this.ws.close()}catch{}this.ws=null;for(let e of this.subscriptions)e.unsubscribe();this.subscriptions.clear()}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch((()=>{})).then((()=>this.reconnecting=!1))}}connect(){return G(this,void 0,void 0,(function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw Error(`Called connect() when a connection is already open`);if(!this.databaseUrl)throw Error(`Cannot connect without a database URL`);if(this.closed)return;let e=this.user.accessTokenExpiration;if(e&&e<new Date)return void this.subscriber.error(new od);this.webSocketStatus.next(`connecting`),this.pinger=setInterval((()=>G(this,void 0,void 0,(function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:`ping`})),setTimeout((()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())}),2e4)}catch{this.reconnect()}else this.reconnect()}))),3e4);let t=new URL(this.databaseUrl);t.protocol=t.protocol===`http:`?`ws`:`wss`;let n=new URLSearchParams;if(this.subscriber.closed)return;n.set(`v`,`2`),this.rev&&n.set(`rev`,this.rev),this.yrev&&n.set(`yrev`,this.yrev),n.set(`realmsHash`,this.realmSetHash),n.set(`clientId`,this.clientIdentity),n.set(`dxcv`,this.db.cloud.version),this.user.accessToken&&n.set(`token`,this.user.accessToken);let r=this.ws=new WebSocket(`${t}/changes?${n}`);r.binaryType=`arraybuffer`,r.onclose=e=>{this.pinger&&this.reconnect()},r.onmessage=e=>{if(this.pinger){this.lastServerActivity=new Date;try{let t=typeof e.data==`string`?tu.parse(e.data):function(e){let t=new tt(e),n=ct(t);if(n===`outdated-server-rev`)return{type:n};if(n===`y-complete-sync-done`)return{type:n,yServerRev:ct(t)};let r=ct(t),i=ct(t);switch(n){case`u-ack`:case`u-reject`:return{type:n,table:r,prop:i,i:Number(pt(t))};default:{let e=F(t);switch(n){case`in-sync`:case`doc-close`:return{type:n,table:r,prop:i,k:e};case`aware`:return{type:n,table:r,prop:i,k:e,u:at(t)};case`doc-open`:return{type:n,table:r,prop:i,k:e,serverRev:F(t),sv:F(t)};case`sv`:return{type:n,table:r,prop:i,k:e,sv:at(t)};case`u-c`:return{type:n,table:r,prop:i,k:e,u:at(t),i:Number(pt(t))};case`u-s`:return{type:n,table:r,prop:i,k:e,u:at(t),r:t.pos<t.arr.length&&ct(t)||void 0};default:throw TypeError(`Unknown message type: ${n}`)}}}}(new Uint8Array(e.data));if(t.type===`error`)throw Error(`Error message from dexie-cloud: ${t.error}`);if(t.type===`aware`){let e=Ac.getDocCache(this.db.dx).find(t.table,t.k,t.prop);if(e){let n=(e=>sd.get(e))(e);n&&Pc(n,t.u,`server`)}}else if(t.type!==`pong`)if(t.type===`doc-open`){let e=Ac.getDocCache(this.db.dx).find(t.table,t.k,t.prop);e&&ld(e).next()}else t.type===`u-ack`||t.type===`u-reject`||t.type===`u-s`||t.type===`in-sync`||t.type===`outdated-server-rev`||t.type===`y-complete-sync-done`?_u([t],this.db).then((e=>G(this,[e],void 0,(function*({resyncNeeded:e,yServerRevision:n,receivedUntils:r}){if(n&&(yield this.db.$syncState.update(`syncState`,{yServerRevision:n})),t.type===`u-s`&&r){let e=gu(this.db,t.table,t.prop);if(e){let t=r[e.name];t&&(yield e.update(mu,{receivedUntil:t}))}}e&&(yield this.db.cloud.sync({purpose:`pull`,wait:!0}))})))):this.subscriber.next(t)}catch(e){this.subscriber.error(e)}}};try{let e=!1;yield new Promise(((t,n)=>{r.onopen=n=>{e=!0,t(null)},r.onerror=t=>{if(e)this.reconnect();else{let e=t.error||Error(`WebSocket Error`);this.subscriber.error(e),this.webSocketStatus.next(`error`),n(e)}}})),this.subscriptions.add(this.messageProducer.subscribe((e=>{var t,n;this.closed||(e.type===`ready`&&this.webSocketStatus.value!==`connected`&&this.webSocketStatus.next(`connected`),e.type===`ready`?(this.rev=e.rev,(t=this.ws)==null||t.send(tu.stringify(e))):(n=this.ws)==null||n.send(function(e){let t=new Te;switch(Fe(t,e.type),`table`in e&&Fe(t,e.table),`prop`in e&&Fe(t,e.prop),e.type){case`u-ack`:case`u-reject`:Ve(t,BigInt(e.i));break;case`outdated-server-rev`:break;case`y-complete-sync-done`:Fe(t,e.yServerRev);break;default:switch(Ue(t,e.k),e.type){case`aware`:j(t,e.u);break;case`doc-open`:Ue(t,e.serverRev),Ue(t,e.sv);break;case`doc-close`:break;case`sv`:j(t,e.sv);break;case`u-c`:j(t,e.u),Ve(t,BigInt(e.i));break;case`u-s`:j(t,e.u),Fe(t,e.r||``)}}return Oe(t)}(e)))}))),this.user.isLoggedIn&&!Xu(this.db)&&this.subscriptions.add(function(e){let t=Ol(e.tables.filter((t=>e.cloud.schema?.[t.name]?.markedForSync&&t.schema.yProps)).map((e=>e.schema.yProps.map((t=>({table:e.name,ydocProp:t.prop,updatesTable:t.updatesTable}))))));return Lr(...t.map((({table:t,ydocProp:n,updatesTable:r})=>{let i=e.table(r);return rr(i.get(mu)).pipe(Qr((e=>{let r=e?.unsentFrom||1;return rr(x((()=>G(this,void 0,void 0,(function*(){return(yield hu(i,r)).filter((e=>e.f&&1&e.f)).map((e=>({type:`u-c`,table:t,prop:n,k:e.k,u:e.u,i:e.i})))}))))).pipe($r((e=>{e.length>0&&(r=e.at(-1).i+1)})))})))}))).pipe(wr((e=>e)))}(this.db).subscribe(this.db.messageProducer))}catch{this.pauseUntil=new Date(Date.now()+6e4)}}))}},pd=class extends Error{constructor(e){super(e===`expired`?`License expired`:e===`deactivated`?`User deactivated`:`Invalid license`),this.name=`InvalidLicenseError`,e&&(this.license=e)}};function md(e){return G(this,void 0,void 0,(function*(){var e;yield(e=3e3,new Promise((t=>setTimeout(t,e)))),yield sr(ad)}))}function hd(e){return G(this,void 0,void 0,(function*(){return!(!e.cloud.options?.databaseUrl||!e.cloud.schema)&&(yield Cu(e,e.cloud.options,e.cloud.schema,{justCheckIfNeeded:!0}))}))}var gd=new WeakMap;function _d(e,t,n,r){let i=gd.get(e);if(i){if(i.pull||r?.purpose===`push`)return i.promise;{let a=!1,o=e.cloud.syncState.subscribe((e=>{e.phase===`pulling`&&(a=!0)}));return i.promise.then((()=>{o.unsubscribe()})).catch((e=>(o.unsubscribe(),Promise.reject(e)))).then((()=>{if(!a)return _d(e,t,n,r)}))}}let a=function(){return G(this,void 0,void 0,(function*(){try{yield ou(e),yield $u(e,Su,(()=>Cu(e,t,n,r))),gd.delete(e)}catch(t){throw gd.delete(e),t}}))}();return gd.set(e,{promise:a,pull:r?.purpose!==`push`}),a}var vd=1e3;function yd(e,t,n){let r=null,i={cancelled:!1};function a(r=1){setTimeout((()=>{_d(e,t,n,{cancelToken:i,retryImmediatelyOnFetchError:!0,purpose:o?`pull`:`push`}).then((()=>{if(i.cancelled)l();else if(o||s)return o=!1,s=!1,a();c=!1})).catch((e=>{if(i.cancelled)l(),c=!1;else if(r<5){let e=[0,20,40,300,900][r]*vd;Date.now()+e,setTimeout((()=>a(r+1)),e)}else c=!1}))}),0)}let o=!1,s=!1,c=!1,l=()=>{i.cancelled=!0,r&&r.unsubscribe()};return{start:()=>{r=e.localSyncEvent.subscribe((({purpose:e})=>{(e=>{i.cancelled||(e===`pull`&&(o=!0),e===`push`&&(s=!0),c||(c=!0,a()))})(e||`pull`)}))},stop:l}}function bd(e,t){if(e&&t&&t.unsyncedTables)for(let n of t.unsyncedTables)e[n]&&(e[n].markedForSync=!1)}var xd,X,Sd,Z,Cd,wd={},Td=[],Ed=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Dd(e,t){for(var n in t)e[n]=t[n];return e}function Od(e){var t=e.parentNode;t&&t.removeChild(e)}function kd(e,t,n){var r,i,a,o={};for(a in t)a==`key`?r=t[a]:a==`ref`?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?xd.call(arguments,2):n),typeof e==`function`&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Ad(e,o,r,i,null)}function Ad(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Sd};return i==null&&X.vnode!=null&&X.vnode(a),a}function jd(e){return e.children}function Md(e,t){this.props=e,this.context=t}function Nd(e,t){if(t==null)return e.__?Nd(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type==`function`?Nd(e):null}function Pd(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Pd(e)}}function Fd(e){(!e.__d&&(e.__d=!0)&&Z.push(e)&&!Id.__r++||Cd!==X.debounceRendering)&&((Cd=X.debounceRendering)||setTimeout)(Id)}function Id(){for(var e;Id.__r=Z.length;)e=Z.sort((function(e,t){return e.__v.__b-t.__v.__b})),Z=[],e.some((function(e){var t,n,r,i,a,o;e.__d&&(a=(i=(t=e).__v).__e,(o=t.__P)&&(n=[],(r=Dd({},i)).__v=i.__v+1,Ud(o,i,r,t.__n,o.ownerSVGElement!==void 0,i.__h==null?null:[a],n,a??Nd(i),i.__h),Wd(n,i),i.__e!=a&&Pd(i)))}))}function Q(e,t,n,r,i,a,o,s,c,l){var u,d,f,p,m,h,g,_=r&&r.__k||Td,v=_.length;for(n.__k=[],u=0;u<t.length;u++)if((p=n.__k[u]=(p=t[u])==null||typeof p==`boolean`?null:typeof p==`string`||typeof p==`number`||typeof p==`bigint`?Ad(null,p,null,null,p):Array.isArray(p)?Ad(jd,{children:p},null,null,null):p.__b>0?Ad(p.type,p.props,p.key,null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(f=_[u])===null||f&&p.key==f.key&&p.type===f.type)_[u]=void 0;else for(d=0;d<v;d++){if((f=_[d])&&p.key==f.key&&p.type===f.type){_[d]=void 0;break}f=null}Ud(e,p,f||=wd,i,a,o,s,c,l),m=p.__e,(d=p.ref)&&f.ref!=d&&(g||=[],f.ref&&g.push(f.ref,null,p),g.push(d,p.__c||m,p)),m==null?c&&f.__e==c&&c.parentNode!=e&&(c=Nd(f)):(h??=m,typeof p.type==`function`&&p.__k===f.__k?p.__d=c=Ld(p,c,e):c=Rd(e,p,f,_,m,c),typeof n.type==`function`&&(n.__d=c))}for(n.__e=h,u=v;u--;)_[u]!=null&&(typeof n.type==`function`&&_[u].__e!=null&&_[u].__e==n.__d&&(n.__d=Nd(r,u+1)),qd(_[u],_[u]));if(g)for(u=0;u<g.length;u++)Kd(g[u],g[++u],g[++u])}function Ld(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type==`function`?Ld(r,t,n):Rd(n,r,r,i,r.__e,t));return t}function Rd(e,t,n,r,i,a){var o,s,c;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,c=0;(s=s.nextSibling)&&c<r.length;c+=2)if(s==i)break e;e.insertBefore(i,a),o=a}return o===void 0?i.nextSibling:o}function zd(e,t,n){t[0]===`-`?e.setProperty(t,n):e[t]=n==null?``:typeof n!=`number`||Ed.test(t)?n:n+`px`}function Bd(e,t,n,r,i){var a;e:if(t===`style`)if(typeof n==`string`)e.style.cssText=n;else{if(typeof r==`string`&&(e.style.cssText=r=``),r)for(t in r)n&&t in n||zd(e.style,t,``);if(n)for(t in n)r&&n[t]===r[t]||zd(e.style,t,n[t])}else if(t[0]===`o`&&t[1]===`n`)a=t!==(t=t.replace(/Capture$/,``)),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||={},e.l[t+a]=n,n?r||e.addEventListener(t,a?Hd:Vd,a):e.removeEventListener(t,a?Hd:Vd,a);else if(t!==`dangerouslySetInnerHTML`){if(i)t=t.replace(/xlink(H|:h)/,`h`).replace(/sName$/,`s`);else if(t!==`href`&&t!==`list`&&t!==`form`&&t!==`tabIndex`&&t!==`download`&&t in e)try{e[t]=n??``;break e}catch{}typeof n==`function`||(n!=null&&(!1!==n||t[0]===`a`&&t[1]===`r`)?e.setAttribute(t,n):e.removeAttribute(t))}}function Vd(e){this.l[e.type+!1](X.event?X.event(e):e)}function Hd(e){this.l[e.type+!0](X.event?X.event(e):e)}function Ud(e,t,n,r,i,a,o,s,c){var l,u,d,f,p,m,h,g,_,v,y,b,x,S=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(l=X.__b)&&l(t);try{e:if(typeof S==`function`){if(g=t.props,_=(l=S.contextType)&&r[l.__c],v=l?_?_.props.value:l.__:r,n.__c?h=(u=t.__c=n.__c).__=u.__E:(`prototype`in S&&S.prototype.render?t.__c=u=new S(g,v):(t.__c=u=new Md(g,v),u.constructor=S,u.render=Jd),_&&_.sub(u),u.props=g,u.state||={},u.context=v,u.__n=r,d=u.__d=!0,u.__h=[]),u.__s??=u.state,S.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Dd({},u.__s)),Dd(u.__s,S.getDerivedStateFromProps(g,u.__s))),f=u.props,p=u.state,d)S.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(S.getDerivedStateFromProps==null&&g!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,v),!u.__e&&u.shouldComponentUpdate!=null&&!1===u.shouldComponentUpdate(g,u.__s,v)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,v),u.componentDidUpdate!=null&&u.__h.push((function(){u.componentDidUpdate(f,p,m)}))}if(u.context=v,u.props=g,u.__v=t,u.__P=e,y=X.__r,b=0,`prototype`in S&&S.prototype.render)u.state=u.__s,u.__d=!1,y&&y(t),l=u.render(u.props,u.state,u.context);else do u.__d=!1,y&&y(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++b<25);u.state=u.__s,u.getChildContext!=null&&(r=Dd(Dd({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(m=u.getSnapshotBeforeUpdate(f,p)),x=l!=null&&l.type===jd&&l.key==null?l.props.children:l,Q(e,Array.isArray(x)?x:[x],t,n,r,i,a,o,s,c),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),h&&(u.__E=u.__=null),u.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Gd(n.__e,t,n,r,i,a,o,c);(l=X.diffed)&&l(t)}catch(e){t.__v=null,(c||a!=null)&&(t.__e=s,t.__h=!!c,a[a.indexOf(s)]=null),X.__e(e,t,n)}}function Wd(e,t){X.__c&&X.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){X.__e(e,t.__v)}}))}function Gd(e,t,n,r,i,a,o,s){var c,l,u,d=n.props,f=t.props,p=t.type,m=0;if(p===`svg`&&(i=!0),a!=null){for(;m<a.length;m++)if((c=a[m])&&`setAttribute`in c==!!p&&(p?c.localName===p:c.nodeType===3)){e=c,a[m]=null;break}}if(e==null){if(p===null)return document.createTextNode(f);e=i?document.createElementNS(`http://www.w3.org/2000/svg`,p):document.createElement(p,f.is&&f),a=null,s=!1}if(p===null)d===f||s&&e.data===f||(e.data=f);else{if(a&&=xd.call(e.childNodes),l=(d=n.props||wd).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||``))}if(function(e,t,n,r,i){for(var a in n)a===`children`||a===`key`||a in t||Bd(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!=`function`||a===`children`||a===`key`||a===`value`||a===`checked`||n[a]===t[a]||Bd(e,a,t[a],n[a],r)}(e,f,d,i,s),u)t.__k=[];else if(m=t.props.children,Q(e,Array.isArray(m)?m:[m],t,n,r,i&&p!==`foreignObject`,a,o,a?a[0]:n.__k&&Nd(n,0),s),a!=null)for(m=a.length;m--;)a[m]!=null&&Od(a[m]);s||(`value`in f&&(m=f.value)!==void 0&&(m!==e.value||p===`progress`&&!m||p===`option`&&m!==d.value)&&Bd(e,`value`,m,d.value,!1),`checked`in f&&(m=f.checked)!==void 0&&m!==e.checked&&Bd(e,`checked`,m,d.checked,!1))}return e}function Kd(e,t,n){try{typeof e==`function`?e(t):e.current=t}catch(e){X.__e(e,n)}}function qd(e,t,n){var r,i;if(X.unmount&&X.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Kd(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){X.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&qd(r[i],t,typeof e.type!=`function`);n||e.__e==null||Od(e.__e),e.__e=e.__d=void 0}function Jd(e,t,n){return this.constructor(e,n)}function Yd(e,t,n){var r,i,a;X.__&&X.__(e,t),i=(r=typeof n==`function`)?null:n&&n.__k||t.__k,a=[],Ud(t,e=(!r&&n||t).__k=kd(jd,null,[e]),i||wd,wd,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?xd.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),Wd(a,e)}xd=Td.slice,X={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},Sd=0,Md.prototype.setState=function(e,t){var n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dd({},this.state);typeof e==`function`&&(e=e(Dd({},n),this.props)),e&&Dd(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),Fd(this))},Md.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Fd(this))},Md.prototype.render=jd,Z=[],Id.__r=0;var Xd={Error:{color:`red`},Alert:{error:{color:`red`,fontWeight:`bold`},warning:{color:`#f80`,fontWeight:`bold`},info:{color:`black`}},Darken:{position:`fixed`,top:0,left:0,opacity:.5,backgroundColor:`#000`,width:`100vw`,height:`100vh`,zIndex:150,webkitBackdropFilter:`blur(2px)`,backdropFilter:`blur(2px)`},DialogOuter:{position:`fixed`,top:0,left:0,width:`100vw`,height:`100vh`,zIndex:150,alignItems:`center`,display:`flex`,justifyContent:`center`},DialogInner:{position:`relative`,color:`#222`,backgroundColor:`#fff`,padding:`30px`,marginBottom:`2em`,maxWidth:`90%`,maxHeight:`90%`,overflowY:`auto`,border:`3px solid #3d3d5d`,borderRadius:`8px`,boxShadow:`0 0 80px 10px #666`,width:`auto`,fontFamily:`sans-serif`},Input:{height:`35px`,width:`17em`,borderColor:`#ccf4`,outline:`none`,fontSize:`17pt`,padding:`8px`}};function Zd({children:e,className:t}){return kd(`div`,{className:t},kd(`div`,{style:Xd.Darken}),kd(`div`,{style:Xd.DialogOuter},kd(`div`,{style:Xd.DialogInner},e)))}var Qd,$d,ef,tf,nf=0,rf=[],af=[],sf=X.__b,cf=X.__r,lf=X.diffed,uf=X.__c,df=X.unmount;function ff(e,t){X.__h&&X.__h($d,e,nf||t),nf=0;var n=$d.__H||={__:[],__h:[]};return e>=n.__.length&&n.__.push({__V:af}),n.__[e]}function pf(e){return nf=1,function(e,t,n){var r=ff(Qd++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):bf(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=$d,!$d.u)){$d.u=!0;var i=$d.shouldComponentUpdate;$d.shouldComponentUpdate=function(e,t,n){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter((function(e){return e.__c}));if(a.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var o=!1;return a.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!!o&&(!i||i.call(this,e,t,n))}}return r.__N||r.__}(bf,e)}function mf(e){return nf=5,function(e,t){var n=ff(Qd++,7);return yf(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}((function(){return{current:e}}),[])}function hf(){for(var e;e=rf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(_f),e.__H.__h.forEach(vf),e.__H.__h=[]}catch(t){e.__H.__h=[],X.__e(t,e.__v)}}X.__b=function(e){$d=null,sf&&sf(e)},X.__r=function(e){cf&&cf(e),Qd=0;var t=($d=e.__c).__H;t&&(ef===$d?(t.__h=[],$d.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=af,e.__N=e.i=void 0}))):(t.__h.forEach(_f),t.__h.forEach(vf),t.__h=[])),ef=$d},X.diffed=function(e){lf&&lf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(rf.push(t)!==1&&tf===X.requestAnimationFrame||((tf=X.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),gf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);gf&&(t=requestAnimationFrame(n))})(hf)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==af&&(e.__=e.__V),e.i=void 0,e.__V=af}))),ef=$d=null},X.__c=function(e,t){t.some((function(e){try{e.__h.forEach(_f),e.__h=e.__h.filter((function(e){return!e.__||vf(e)}))}catch(n){t.some((function(e){e.__h&&=[]})),t=[],X.__e(n,e.__v)}})),uf&&uf(e,t)},X.unmount=function(e){df&&df(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{_f(e)}catch(e){t=e}})),t&&X.__e(t,n.__v))};var gf=typeof requestAnimationFrame==`function`;function _f(e){var t=$d,n=e.__c;typeof n==`function`&&(e.__c=void 0,n()),$d=t}function vf(e){var t=$d;e.__c=e.__(),$d=t}function yf(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function bf(e,t){return typeof t==`function`?t(e):t}function xf({message:e,messageCode:t,messageParams:n}){return e.replace(/\{\w+\}/gi,(e=>n[e.substring(1,e.length-1)]))}function Sf({title:e,type:t,alerts:n,fields:r,submitLabel:i,cancelLabel:a,onCancel:o,onSubmit:s}){let[c,l]=pf({}),u=mf(null);return function(e,t){var n=ff(Qd++,4);!X.__s&&yf(n.__H,t)&&(n.__=e,n.i=t,$d.__h.push(n))}((()=>u.current?.focus()),[]),kd(Zd,{className:`dxc-login-dlg`},kd(jd,null,kd(`h3`,{style:Xd.WindowHeader},e),n.map((e=>kd(`p`,{style:Xd.Alert[e.type]},xf(e)))),kd(`form`,{onSubmit:e=>{e.preventDefault(),s(c)}},Object.entries(r).map((([e,{type:t,label:n,placeholder:r}],i)=>kd(`label`,{style:Xd.Label,key:i},n?`${n}: `:``,kd(`input`,{ref:i===0?u:void 0,type:t,name:e,autoComplete:`on`,style:Xd.Input,autoFocus:!0,placeholder:r,value:c[e]||``,onInput:n=>{let r=function(e,t){switch(e){case`email`:return t.toLowerCase();case`otp`:return t.toUpperCase();default:return t}}(t,n.target?.value),i=Object.assign(Object.assign({},c),{[e]:r});l(i),t===`otp`&&r?.trim().length===8&&s(i)}})))))),kd(`div`,{style:Xd.ButtonsDiv},kd(jd,null,kd(`button`,{type:`submit`,style:Xd.Button,onClick:()=>s(c)},i),a&&kd(`button`,{style:Xd.Button,onClick:o},a))))}var Cf=class extends Md{constructor(e){super(e),this.observer=e=>this.setState({userInteraction:e}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=rr(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(e,{userInteraction:t}){return t?kd(Sf,Object.assign({},t)):null}};function wf(e){let t=new WeakMap;return n=>{let r=t.get(n);return r||(r=e(n),t.set(n,r)),r}}var Tf=wf((e=>new hn(dl)));function Ef(e,t){let n=t,r=rr(e).pipe(lr((e=>n=e)),Jr({resetOnRefCountZero:()=>Ir(1e3)})),i=new rn((e=>{let t=!1,i=r.subscribe({next(n){t=!0,e.next(n)},error(t){e.error(t)},complete(){e.complete()}});return t||i.closed||e.next(n),i}));return i.getValue=()=>n,i}var Df=wf((e=>Ef(x((()=>e.roles.where({realmId:`rlm-public`}).toArray().then((e=>{let t={};for(let n of e.slice().sort(((e,t)=>(e.sortOrder||0)-(t.sortOrder||0))))t[n.name]=n;return t})))),{}))),Of=wf((e=>Ef(Tf(e._novip).pipe(Qr((t=>x((()=>e.transaction(`r`,`realms`,`members`,(()=>Promise.all([e.members.where({userId:t.userId}).toArray(),e.realms.toArray(),t.userId]).then((([e,t,n])=>({selfMembers:e,realms:t,userId:n})))))))))),{selfMembers:[],realms:[],get userId(){return e.cloud.currentUserId}})));function kf(...e){return e.length===0?{}:e.reduce(((e,t)=>{let n=Object.assign({},e);for(let[e,r]of Object.entries(t))if(e in n&&n[e]){if(n[e]===`*`)continue;if(r===`*`)n[e]=`*`;else if(Array.isArray(r)&&Array.isArray(n[e])){let t=n,i=t[e];t[e]=[...new Set([...i,...r])]}else if(typeof r==`object`&&r&&typeof n[e]==`object`){let t=n[e];for(let[e,n]of Object.entries(r))t[e]!==`*`&&(n===`*`?t[e]=`*`:Array.isArray(t[e])&&Array.isArray(n)&&(t[e]=[...new Set([...t[e],...n])]))}}else n[e]=t[e];return n}))}var Af=wf((e=>function(e,t){let n,r=e.pipe(lr((e=>n=t(e))));return r.getValue=()=>n===void 0?n=t(e.getValue()):n,r}(Ef(br([Of(e._novip),Df(e._novip)]).pipe(lr((([{selfMembers:e,realms:t,userId:n},r])=>({selfMembers:e,realms:t,userId:n,globalRoles:r})))),{selfMembers:[],realms:[],userId:dl.userId,globalRoles:{}}),(({selfMembers:e,realms:t,userId:n,globalRoles:r})=>t.map((t=>{let i=e.filter((e=>e.realmId===t.realmId)),a=i.map((e=>e.permissions)).filter((e=>e)),o=Ol(i.map((e=>e.roles)).filter((e=>e))).map((e=>r[e])).filter((e=>e)).map((e=>e.permissions));return Object.assign(Object.assign({},t),{permissions:t.owner===n?{manage:`*`}:kf(...a,...o)})})).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.realmId]:t})),{[n]:{realmId:n,owner:n,name:n,permissions:{manage:`*`}}}))))),jf=class{constructor(e,t,n){this.permissions=e||{},this.tableName=t,this.isOwner=n}add(...e){return this.permissions.manage===`*`||!!this.permissions.manage?.includes(this.tableName)||this.permissions.add===`*`||!!e.every((e=>this.permissions.add?.includes(e)))}update(...e){if(this.isOwner||this.permissions.manage===`*`||this.permissions.manage?.includes(this.tableName))return!0;if(this.permissions.update===`*`)return e.every((e=>e!==`owner`));let t=this.permissions.update?.[this.tableName];return t===`*`?e.every((e=>e!==`owner`)):e.every((e=>t?.some((t=>t===e||t===`*`&&e!==`owner`))))}delete(){return!(!this.isOwner&&this.permissions.manage!==`*`)||!!this.permissions.manage?.includes(this.tableName)}},Mf=wf((e=>{let t=Tf(e._novip).pipe(Qr((t=>x((()=>e.members.where({email:t.email||``}).toArray()))))),n=Af(e._novip),r=Of(e._novip);return Ef(br([t,r,n]).pipe(lr((([t,n,r])=>{let i=(e,t)=>Object.assign(Object.assign({},e),{[t.id]:Object.assign(Object.assign({},t),{realm:r[t.realmId]})}),a=t.reduce(i,{}),o=n.selfMembers.reduce(i,a);return Object.values(o).filter((e=>!e.accepted)).map((t=>Object.assign(Object.assign({},t),{accept(){return G(this,void 0,void 0,(function*(){yield e.members.update(t.id,{accepted:new Date})}))},reject(){return G(this,void 0,void 0,(function*(){yield e.members.update(t.id,{rejected:new Date})}))}})))}))),[])}));function Nf(e){return t=>{let n=t.doc;if(!n)throw Error(`Internal error: DexieYProvider.createYHandler called without a doc. This is unexpected.`);let{parentTable:r}=n.meta||{};if(!e.cloud.schema?.[r].markedForSync)return;let i;Object.defineProperty(t,`awareness`,{get:()=>i||(i=function(e,t,n){let{parentTable:r,parentId:i,parentProp:a,updatesTable:o}=t.meta,s=new jc(t),c=ld(t);return s.on(`update`,(({added:i,updated:o,removed:c},l)=>{let u=i.concat(o).concat(c),d=e.cloud.currentUser.value;if(l!==`server`&&d.isLoggedIn&&!Xu(e)){let i=Nc(s,u);e.messageProducer.next({type:`aware`,table:r,prop:a,k:t.meta.parentId,u:i}),n.destroyed&&e.messageProducer.next({type:`doc-close`,table:r,prop:a,k:t.meta.parentId})}})),s.on(`destroy`,(()=>{Mc(s,[t.clientID],`provider destroyed`)})),G(this,void 0,void 0,(function*(){if(n.destroyed)return;let t=!1,s=1,l=br([e.cloud.webSocketStatus,c.pipe(Zr(null))]).subscribe((([r])=>{if(n.destroyed)return;t=r===`connected`;let i=e.cloud.currentUser.value;r===`connected`&&i.isLoggedIn&&!Xu(e)&&(++s,u().catch((e=>{})))}));function u(){return G(this,void 0,void 0,(function*(){let c=s,l=e.table(o),u=e.$syncState,[d,f]=yield e.transaction(`r`,u,l,(()=>G(this,void 0,void 0,(function*(){let e=yield l.get(mu),t=yield u.get(`syncState`);return[e?.receivedUntil||0,t?.yServerRevision||t?.serverRevision]}))));if(n.destroyed||s!==c||!t)return;let p={type:`doc-open`,table:r,prop:a,k:i,serverRev:f},m=yield l.where(`i`).between(d,1/0,!1).filter((e=>te(e.k,i)===0&&(1&(e.f||0))==0)).toArray();if(!n.destroyed&&s===c&&t){if(m.length>0){let e=fo(m.map((e=>e.u)));p.sv=lo(e)}e.messageProducer.next(p)}}))}n.addCleanupHandler(l)})),s}(e,n,t),sd.set(n,i),i)})}}var Pf={nameSuffix:!0};function Ff(e){let t=e.name,n=Tf(e),r=[],i=!1,a=null;e.on(`ready`,(e=>G(this,void 0,void 0,(function*(){try{yield function(e){return G(this,void 0,void 0,(function*(){var t,l,u;o=!1;let d=Nu(e);typeof window<`u`&&typeof document<`u`&&((t=d.cloud.options)!=null&&t.customLoginGui||r.push(function(e){let t=!1,n=document.createElement(`div`);return document.body?(document.body.appendChild(n),Yd(kd(Cf,{db:e.vip}),n)):addEventListener(`DOMContentLoaded`,(()=>{t||(document.body.appendChild(n),Yd(kd(Cf,{db:e.vip}),n))})),{unsubscribe(){try{n.remove()}catch{}t=!0},get closed(){return t}}}(e))),d.cloud.isServiceWorkerDB||r.push(function(e){let t=e.cloud.webSocketStatus.value,n=e.cloud.webSocketStatus.pipe(Qr((e=>{let n=t;t=e;let r=ir(e);switch(e){case`disconnected`:return ed.value?r.pipe(Br(500)):r;case`connecting`:return n===`not-started`||n===`error`?r:r.pipe(Br(4e3));default:return r}})));return br([n,e.syncStateChangedEvent.pipe(Zr({phase:`initial`})),Tf(e.dx._novip),td]).pipe(lr((([t,n,r,i])=>{if(r.license?.status&&r.license.status!==`ok`)return{phase:`offline`,status:`offline`,license:r.license.status};let{phase:a,error:o,progress:s}=n,c=t;return a===`error`&&(c=`error`),t===`not-started`&&(a!==`pushing`&&a!==`pulling`||(c=`connecting`)),e.cloud.syncState.value.phase!==`error`||n.phase!==`pushing`&&n.phase!==`pulling`||(c=`connecting`),i||(c=`disconnected`),{phase:a,error:o,progress:s,status:lu?c:`offline`,license:`ok`}})))}(d).subscribe(e.cloud.syncState)),r.push(d.syncCompleteEvent.subscribe(c)),d.tables.every((e=>e.core))||function(){throw new w.SchemaError(`Version increment needed to allow dexie-cloud change tracking`)}();let f=`serviceWorker`in navigator?yield navigator.serviceWorker.getRegistrations():[],[p,m]=yield d.transaction(`rw`,d.$syncState,(()=>G(this,void 0,void 0,(function*(){var e;let{options:t,schema:n}=d.cloud,[r,a,o]=yield Promise.all([d.getOptions(),d.getSchema(),d.getPersistedSyncState()]);if(i){if(!r||JSON.stringify(r)!==JSON.stringify(t)){if(!t)throw Error(`Internal error`);let e=Object.assign({},t);delete e.fetchTokens,delete e.awarenessProtocol,yield d.$syncState.put(e,`options`)}}else d.cloud.options=r||null;if(d.cloud.options?.tryUseServiceWorker&&`serviceWorker`in navigator&&f.length>0&&!Lu?d.cloud.usingServiceWorker=!0:((e=d.cloud.options)!=null&&e.tryUseServiceWorker&&d.cloud.isServiceWorkerDB,d.cloud.usingServiceWorker=!1),bd(n,d.cloud.options),bd(a,d.cloud.options),n){if(!a||JSON.stringify(a)!==JSON.stringify(n)){let e=a||{};for(let[t,r]of Object.entries(n)){let n=e[t];n?(n.markedForSync=r.markedForSync,r.deleted=n.deleted,n.generatedGlobalId=r.generatedGlobalId):e[t]=Object.assign({},r)}yield d.$syncState.put(e,`schema`),Object.assign(n,e)}}else d.cloud.schema=a||null;return[o?.initiallySynced,o?.realms]}))));if(p&&d.setInitiallySynced(!0),function(e){for(let t of e.tables)if(e.cloud.schema?.[t.name]?.markedForSync){if(t.schema.primKey.auto)throw new w.SchemaError(`Table ${t.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(t.name)}]}) to blacklist it from sync`);if(!t.schema.primKey.keyPath)throw new w.SchemaError(`Table ${t.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(t.name)}]}) to blacklist it from sync`)}}(d),s(),!d.cloud.isServiceWorkerDB){r.push(x((()=>d.getCurrentUser())).subscribe(n)),r.push(x((()=>d.getPersistedSyncState())).subscribe(d.cloud.persistedSyncState)),yield sr(br([n.pipe(Xr(1),Vr(1)),d.cloud.persistedSyncState.pipe(Xr(1),Vr(1))]));let e=Nf(d);Ac.on.new.subscribe(e),d.dx.once(`close`,(()=>{Ac.on.new.unsubscribe(e)}))}let h=!1,g=yield d.getCurrentUser(),_=d.cloud.options?.requireAuth;_&&(d.cloud.isServiceWorkerDB?yield sr(n.pipe(Rr((e=>!!e.isLoggedIn)),Vr(1))):typeof _==`object`?(!g.isLoggedIn||_.userId&&g.userId!==_.userId||_.email&&g.email!==_.email)&&(h=yield _l(d,_)):g.isLoggedIn||(h=yield _l(d))),!g.isLoggedIn||m&&m.includes(g.userId)||(h=!0),a&&a.stop(),a=null,s();let v=d.cloud.options?.databaseUrl&&(!p||h);v&&(yield function(e,t,n){return G(this,void 0,void 0,(function*(){yield $u(e,Su,(()=>Cu(e,t,n,{isInitialSync:!0})))}))}(d,d.cloud.options,d.cloud.schema),d.setInitiallySynced(!0)),s(),d.cloud.usingServiceWorker&&d.cloud.options?.databaseUrl?(v||Yc(d,`push`).catch((()=>{})),function(e){return G(this,void 0,void 0,(function*(){try{let{periodicSync:t}=yield navigator.serviceWorker.ready;if(t)try{yield t.register(`dexie-cloud:${e.name}`,e.cloud.options?.periodicSync)}catch{}}catch{}}))}(d).catch((()=>{}))):(l=d.cloud.options)!=null&&l.databaseUrl&&d.cloud.schema&&!d.cloud.isServiceWorkerDB&&(a=yd(d,d.cloud.options,d.cloud.schema),a.start(),v||Xc(d,`push`)),s(),d.cloud.isServiceWorkerDB||r.push(jr(self,`online`).subscribe((()=>{d.syncStateChangedEvent.next({phase:`not-in-sync`}),Xu(d)||Xc(d,`push`)})),jr(self,`offline`).subscribe((()=>{d.syncStateChangedEvent.next({phase:`offline`})}))),!d.cloud.options?.databaseUrl||(u=d.cloud.options)!=null&&u.disableWebSocket||Ru||r.push(function(e){if(!e.cloud.options?.databaseUrl)throw Error(`No database URL to connect WebSocket to`);let t=e.messageConsumer.readyToServe.pipe(Rr((e=>e)),Qr((()=>e.getPersistedSyncState())),Rr((e=>e&&e.serverRevision)),Qr((e=>G(this,void 0,void 0,(function*(){return{type:`ready`,rev:e.serverRevision,realmSetHash:yield Cl(e)}}))))),n=Lr(t,e.messageProducer);return function t(){return e.cloud.persistedSyncState.pipe(Rr((e=>e?.serverRevision)),Vr(1),Qr((t=>e.cloud.currentUser.pipe(lr((e=>[e,t]))))),Qr((([e,t])=>td.pipe(lr((n=>[n?e:null,t]))))),Qr((([t,n])=>t?.isLoggedIn&&!n?.realms.includes(t.userId)?e.cloud.persistedSyncState.pipe(Rr((e=>e?.realms.includes(t.userId)||!1)),Vr(1),lr((e=>[t,e]))):new hn([t,n]))),Qr((e=>G(this,[e],void 0,(function*([e,t]){return[e,yield Cl(t)]})))),Kr((([e,t],[n,r])=>e===n&&t===r)),Qr((([r,i])=>e.cloud.persistedSyncState?.value?r?new ud(e,e.cloud.persistedSyncState.value.serverRevision,e.cloud.persistedSyncState.value.yServerRevision,i,e.cloud.persistedSyncState.value.clientIdentity,n,e.cloud.webSocketStatus,r):rr([]):t())),zr((n=>n?.name===`TokenExpiredError`?ir(!0).pipe(Qr((()=>G(this,void 0,void 0,(function*(){let t=yield e.getCurrentUser(),n=yield cl(e.cloud.options.databaseUrl,t);yield e.table(`$logins`).update(t.userId,{accessToken:n.accessToken,accessTokenExpiration:n.accessTokenExpiration,claims:n.claims,license:n.license,data:n.data})})))),Qr((()=>t()))):ar((()=>n)))),zr((n=>(e.cloud.webSocketStatus.next(`error`),n instanceof pd?ar((()=>n)):rr(md()).pipe(Qr((()=>t())))))))}().subscribe({next:t=>{t&&e.messageConsumer.enqueue(t)},error:e=>{},complete:()=>{}})}(d))}))}(e)}catch{}}))),!0);let o=!1;function s(){if(o)throw new w.DatabaseClosedError}e.once(`close`,(()=>{r.forEach((e=>e.unsubscribe())),r.splice(0,r.length),o=!0,a&&a.stop(),a=null,n.next(dl)}));let c=new pn;var l;e.cloud={version:`4.2.0`,options:Object.assign({},Pf),schema:null,get currentUserId(){return n.value.userId||dl.userId},currentUser:n,syncState:new hn({phase:`initial`,status:`not-started`}),events:{syncComplete:c},persistedSyncState:new hn(void 0),userInteraction:new hn(void 0),webSocketStatus:new hn(`not-started`),login(t){return G(this,void 0,void 0,(function*(){let n=Nu(e);yield n.cloud.sync(),yield _l(n,t)}))},invites:Mf(e),roles:Df(e),configure(n){n=e.cloud.options=Object.assign(Object.assign({},e.cloud.options),n),i=!0,n.databaseUrl&&n.nameSuffix&&(e.name=`${t}-${function(e){let t=new URL(e);return t.pathname===`/`?t.hostname.split(`.`)[0]:t.pathname.split(`/`)[1]}(n.databaseUrl)}`,Nu(e).reconfigure()),bd(e.cloud.schema,e.cloud.options)},logout(){return G(this,arguments,void 0,(function*({force:t}={}){t?yield ml(Nu(e),{deleteUnsyncedData:!0}):yield pl(Nu(e))}))},sync(){return G(this,arguments,void 0,(function*({wait:t,purpose:n}={wait:!0,purpose:`push`}){t===void 0&&(t=!0);let r=Nu(e);if((r.cloud.currentUser.value.license?.status||`ok`)!==`ok`&&(yield ol(r)),n===`pull`){let e=r.cloud.persistedSyncState.value;if(Xc(r,n),t){let t=yield sr(r.cloud.persistedSyncState.pipe(Rr((t=>t?.timestamp!=null&&(!e||t.timestamp>e.timestamp)))));if(t?.error)throw Error(`Sync error: `+t.error)}}else if(yield hd(r)){let e=r.cloud.persistedSyncState.value;Xc(r,n),t&&(yield sr(rr(x((()=>G(this,void 0,void 0,(function*(){let t=yield hd(r),n=yield r.getPersistedSyncState();if(n?.timestamp!==e?.timestamp&&n?.error)throw Error(`Sync error: `+n.error);return t}))))).pipe(Rr((e=>!e)))))}}))},permissions:(t,n)=>function(e,t,n){if(!t)throw TypeError(`Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.`);let{owner:r,realmId:i}=t;if(!n){if(typeof t.table!=`function`)throw TypeError(`Missing 'table' argument to permissions and table could not be extracted from entity`);n=t.table()}let a=Af(e),o=t=>{let a=t[i||e.cloud.currentUserId];return a?new jf(a.permissions,n,i===void 0||i===e.cloud.currentUserId||r===e.cloud.currentUserId):new jf({},n,!r||r===e.cloud.currentUserId)},s=a.pipe(lr(o));return s.getValue=()=>o(a.getValue()),s}(e._novip,t,n)},e.Version.prototype._parseStoresSpec=w.override(e.Version.prototype._parseStoresSpec,(t=>Qu(t,e))),e.Table.prototype.newId=function({colocateWith:t}={}){let n=t&&t.substr(t.length-3);return Wu(e.cloud.schema[this.name].idPrefix||``,n)},e.Table.prototype.idPrefix=function(){return this.db.cloud.schema?.[this.name]?.idPrefix||``},e.use(Zu({currentUserObservable:e.cloud.currentUser,db:Nu(e)})),e.use((l=Nu(e),{stack:`dbcore`,name:`implicitPropSetterMiddleware`,level:1,create:e=>Object.assign(Object.assign({},e),{table:t=>{let n=e.table(t);return Object.assign(Object.assign({},n),{mutate:e=>{var r;let i=e.trans;if(i.disableChangeTracking)return n.mutate(e);let a=i.currentUser?.userId??dl.userId;if(l.cloud.schema?.[t]?.markedForSync&&(e.type===`add`||e.type===`put`)){if(t===`members`)for(let t of e.values)typeof t.email==`string`&&(t.email=t.email.trim().toLowerCase());for(let t of e.values){t.owner||=a,t.realmId||=a;let i=(r=n.schema.primaryKey).extractKey?.call(r,t);typeof i==`string`&&i[0]===`#`&&e.type===`put`&&(delete e.criteria,delete e.changeSpec,delete e.updates,t.$ts=Date.now())}}return n.mutate(e)}})}})})),e.use(Gu(Nu(e)))}Ff.version=`4.2.0`,w.Cloud=Ff;var If={quotes:`@id, text, author, tag`},Lf={serviceUrl:`https://dexie.cloud`,databaseUrl:`https://zlorat9py.dexie.cloud`,dbUrl:`https://zlorat9py.dexie.cloud`},Rf=new w(`manthra`,{addons:[Ff]});Rf.version(1).stores(If),Rf.cloud.configure({databaseUrl:Lf.databaseUrl,serviceUrl:Lf.serviceUrl}),window.db=Rf;function zf(){return Rf.cloud.login()}function Bf(){return Rf.cloud.logout()}var Vf=Rf;function Hf(e,t,n){var r,i;typeof e==`function`?(r=t||[],i=n):(r=[],i=t);var a=_.useRef({hasResult:!1,result:i,error:null}),o=_.useReducer(function(e){return e+1},0);o[0];var s=o[1],c=_.useMemo(function(){var t=typeof e==`function`?e():e;if(!t||typeof t.subscribe!=`function`)throw e===t?TypeError(`Given argument to useObservable() was neither a valid observable nor a function.`):TypeError(`Observable factory given to useObservable() did not return a valid observable.`);if(!a.current.hasResult&&typeof window<`u`&&(typeof t.hasValue!=`function`||t.hasValue()))if(typeof t.getValue==`function`)a.current.result=t.getValue(),a.current.hasResult=!0;else{var n=t.subscribe(function(e){a.current.result=e,a.current.hasResult=!0});typeof n==`function`?n():n.unsubscribe()}return t},r);if(_.useDebugValue(a.current.result),_.useEffect(function(){var e=c.subscribe(function(e){var t=a.current;(t.error!==null||t.result!==e)&&(t.error=null,t.result=e,t.hasResult=!0,s())},function(e){var t=a.current;t.error!==e&&(t.error=e,s())});return typeof e==`function`?e:e.unsubscribe.bind(e)},r),a.current.error)throw a.current.error;return a.current.result}function Uf(e,t,n){return Hf(function(){return b.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<`u`&&new FinalizationRegistry(function(e){var t=b.DexieYProvider;t&&t.release(e)});var Wf=o((exports=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}exports.Fragment=n,exports.jsx=r,exports.jsxs=r})),$=c(o(((exports,t)=>{t.exports=Wf()}))());function Gf(){let e=Hf(Vf.cloud.currentUser),[t,n]=(0,_.useState)(!0);return(0,$.jsxs)(`header`,{children:[(0,$.jsx)(`h1`,{onClick:()=>n(!t),children:`Manthra`}),!t&&(0,$.jsx)($.Fragment,{children:e?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(`div`,{children:e?.name}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`button`,{type:`button`,onClick:zf,children:`Login`}),(0,$.jsx)(`button`,{type:`button`,onClick:Bf,children:`Logout`})]}),(0,$.jsx)(`div`,{children:(0,$.jsx)(`button`,{type:`button`,onClick:async()=>{await Vf.quotes.add({text:`A new quote`,author:`unk`,realmId:`rlm-public`})},children:`Add Quote`})})]}):(0,$.jsx)($.Fragment,{})})]})}function Kf({data:e}){let[t,n]=(0,_.useState)(!1),[r,i]=(0,_.useState)(e.text),[a,o]=(0,_.useState)(e.author),[s,c]=(0,_.useState)(e.tags||[]);return(0,$.jsx)($.Fragment,{children:t?(0,$.jsxs)(`div`,{className:`quote editor`,children:[`quote #`,e.id,` | `,e.realmId,(0,$.jsx)(`textarea`,{className:`text`,value:r,onChange:e=>i(e.target.value)}),(0,$.jsx)(`input`,{className:`author`,value:a,onChange:e=>o(e.target.value)}),(0,$.jsx)(`input`,{className:`tags`,value:s.join(`, `),onChange:e=>c(e.target.value.split(`,`).map(e=>e.trim()))}),(0,$.jsx)(`button`,{type:`button`,onClick:async()=>{if(!e?.id){console.warn(`No data.id, cannot update quote`,e);return}await Vf.quotes.update(e.id,{text:r,author:a,tags:s}),n(!1)},children:`Save`}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`button`,{type:`button`,onClick:()=>n(!t),children:`Cancel`}),(0,$.jsx)(`button`,{type:`button`,onClick:async()=>{if(!e?.id){console.warn(`No data.id, cannot make quote public`,e);return}await Vf.quotes.update(e.id,{...e,realmId:`rlm-public`})},children:`Make Public`}),(0,$.jsx)(`button`,{type:`button`,onClick:async()=>{window.confirm(`Are you sure you want to delete this quote?`)&&await Vf.quotes.delete(e.id)},children:`Delete`})]})]}):(0,$.jsxs)(`div`,{className:`quote`,children:[(0,$.jsx)(`p`,{className:`text`,children:e.text}),(0,$.jsxs)(`p`,{className:`author`,children:[e.author,(0,$.jsx)(`button`,{type:`button`,onClick:()=>n(!t),children:`.`})]})]})})}function qf(){let e=Uf(()=>Vf.quotes.toArray(),[]),t=(0,_.useMemo)(()=>{if(!e)return[];let t=e.filter(e=>e.text===`A new quote`),n=e.filter(e=>e.text!==`A new quote`).slice().sort(()=>Math.random()-.5);return[...t,...n]},[e]);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Gf,{}),(0,$.jsx)(`main`,{children:(0,$.jsx)(`ul`,{children:t.map(e=>(0,$.jsx)(Kf,{data:e},e.id))})})]})}(0,g.createRoot)(document.getElementById(`root`)).render((0,$.jsx)(_.StrictMode,{children:(0,$.jsx)(qf,{})}));